import {
  __commonJS
} from "./chunk-QOVRSCHT.js";

// node_modules/firebase/firebase.js
var require_firebase = __commonJS({
  "node_modules/firebase/firebase.js"(exports, module) {
    !function(t, e) {
      "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : (t = "undefined" != typeof globalThis ? globalThis : t || self).firebase = e();
    }(exports, function() {
      "use strict";
      !function(t3) {
        var e3, n3, s3, r3, i3, o3, a3, u3, c3, h3;
        function l3(t4) {
          if ("string" != typeof t4 && (t4 = String(t4)), /[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t4))
            throw new TypeError("Invalid character in header field name");
          return t4.toLowerCase();
        }
        function f3(t4) {
          return t4 = "string" != typeof t4 ? String(t4) : t4;
        }
        function p3(e4) {
          var t4 = { next: function() {
            var t5 = e4.shift();
            return { done: void 0 === t5, value: t5 };
          } };
          return n3 && (t4[Symbol.iterator] = function() {
            return t4;
          }), t4;
        }
        function d3(e4) {
          this.map = {}, e4 instanceof d3 ? e4.forEach(function(t4, e5) {
            this.append(e5, t4);
          }, this) : Array.isArray(e4) ? e4.forEach(function(t4) {
            this.append(t4[0], t4[1]);
          }, this) : e4 && Object.getOwnPropertyNames(e4).forEach(function(t4) {
            this.append(t4, e4[t4]);
          }, this);
        }
        function g3(t4) {
          if (t4.bodyUsed)
            return Promise.reject(new TypeError("Already read"));
          t4.bodyUsed = true;
        }
        function v3(n4) {
          return new Promise(function(t4, e4) {
            n4.onload = function() {
              t4(n4.result);
            }, n4.onerror = function() {
              e4(n4.error);
            };
          });
        }
        function y3(t4) {
          var e4 = new FileReader(), n4 = v3(e4);
          return e4.readAsArrayBuffer(t4), n4;
        }
        function m3(t4) {
          if (t4.slice)
            return t4.slice(0);
          var e4 = new Uint8Array(t4.byteLength);
          return e4.set(new Uint8Array(t4)), e4.buffer;
        }
        function b3() {
          return this.bodyUsed = false, this._initBody = function(t4) {
            if (this._bodyInit = t4)
              if ("string" == typeof t4)
                this._bodyText = t4;
              else if (s3 && Blob.prototype.isPrototypeOf(t4))
                this._bodyBlob = t4;
              else if (r3 && FormData.prototype.isPrototypeOf(t4))
                this._bodyFormData = t4;
              else if (e3 && URLSearchParams.prototype.isPrototypeOf(t4))
                this._bodyText = t4.toString();
              else if (i3 && s3 && a3(t4))
                this._bodyArrayBuffer = m3(t4.buffer), this._bodyInit = new Blob([this._bodyArrayBuffer]);
              else {
                if (!i3 || !ArrayBuffer.prototype.isPrototypeOf(t4) && !u3(t4))
                  throw new Error("unsupported BodyInit type");
                this._bodyArrayBuffer = m3(t4);
              }
            else
              this._bodyText = "";
            this.headers.get("content-type") || ("string" == typeof t4 ? this.headers.set("content-type", "text/plain;charset=UTF-8") : this._bodyBlob && this._bodyBlob.type ? this.headers.set("content-type", this._bodyBlob.type) : e3 && URLSearchParams.prototype.isPrototypeOf(t4) && this.headers.set("content-type", "application/x-www-form-urlencoded;charset=UTF-8"));
          }, s3 && (this.blob = function() {
            var t4 = g3(this);
            if (t4)
              return t4;
            if (this._bodyBlob)
              return Promise.resolve(this._bodyBlob);
            if (this._bodyArrayBuffer)
              return Promise.resolve(new Blob([this._bodyArrayBuffer]));
            if (this._bodyFormData)
              throw new Error("could not read FormData body as blob");
            return Promise.resolve(new Blob([this._bodyText]));
          }, this.arrayBuffer = function() {
            return this._bodyArrayBuffer ? g3(this) || Promise.resolve(this._bodyArrayBuffer) : this.blob().then(y3);
          }), this.text = function() {
            var t4, e4, n4 = g3(this);
            if (n4)
              return n4;
            if (this._bodyBlob)
              return t4 = this._bodyBlob, e4 = new FileReader(), n4 = v3(e4), e4.readAsText(t4), n4;
            if (this._bodyArrayBuffer)
              return Promise.resolve(function(t5) {
                for (var e5 = new Uint8Array(t5), n5 = new Array(e5.length), r4 = 0; r4 < e5.length; r4++)
                  n5[r4] = String.fromCharCode(e5[r4]);
                return n5.join("");
              }(this._bodyArrayBuffer));
            if (this._bodyFormData)
              throw new Error("could not read FormData body as text");
            return Promise.resolve(this._bodyText);
          }, r3 && (this.formData = function() {
            return this.text().then(w3);
          }), this.json = function() {
            return this.text().then(JSON.parse);
          }, this;
        }
        function _3(t4, e4) {
          var n4, r4 = (e4 = e4 || {}).body;
          if (t4 instanceof _3) {
            if (t4.bodyUsed)
              throw new TypeError("Already read");
            this.url = t4.url, this.credentials = t4.credentials, e4.headers || (this.headers = new d3(t4.headers)), this.method = t4.method, this.mode = t4.mode, r4 || null == t4._bodyInit || (r4 = t4._bodyInit, t4.bodyUsed = true);
          } else
            this.url = String(t4);
          if (this.credentials = e4.credentials || this.credentials || "omit", !e4.headers && this.headers || (this.headers = new d3(e4.headers)), this.method = (n4 = e4.method || this.method || "GET", t4 = n4.toUpperCase(), -1 < c3.indexOf(t4) ? t4 : n4), this.mode = e4.mode || this.mode || null, this.referrer = null, ("GET" === this.method || "HEAD" === this.method) && r4)
            throw new TypeError("Body not allowed for GET or HEAD requests");
          this._initBody(r4);
        }
        function w3(t4) {
          var n4 = new FormData();
          return t4.trim().split("&").forEach(function(t5) {
            var e4;
            t5 && (t5 = (e4 = t5.split("=")).shift().replace(/\+/g, " "), e4 = e4.join("=").replace(/\+/g, " "), n4.append(decodeURIComponent(t5), decodeURIComponent(e4)));
          }), n4;
        }
        function T3(t4, e4) {
          e4 = e4 || {}, this.type = "default", this.status = void 0 === e4.status ? 200 : e4.status, this.ok = 200 <= this.status && this.status < 300, this.statusText = "statusText" in e4 ? e4.statusText : "OK", this.headers = new d3(e4.headers), this.url = e4.url || "", this._initBody(t4);
        }
        t3.fetch || (e3 = "URLSearchParams" in t3, n3 = "Symbol" in t3 && "iterator" in Symbol, s3 = "FileReader" in t3 && "Blob" in t3 && function() {
          try {
            return new Blob(), true;
          } catch (t4) {
            return false;
          }
        }(), r3 = "FormData" in t3, (i3 = "ArrayBuffer" in t3) && (o3 = ["[object Int8Array]", "[object Uint8Array]", "[object Uint8ClampedArray]", "[object Int16Array]", "[object Uint16Array]", "[object Int32Array]", "[object Uint32Array]", "[object Float32Array]", "[object Float64Array]"], a3 = function(t4) {
          return t4 && DataView.prototype.isPrototypeOf(t4);
        }, u3 = ArrayBuffer.isView || function(t4) {
          return t4 && -1 < o3.indexOf(Object.prototype.toString.call(t4));
        }), d3.prototype.append = function(t4, e4) {
          t4 = l3(t4), e4 = f3(e4);
          var n4 = this.map[t4];
          this.map[t4] = n4 ? n4 + "," + e4 : e4;
        }, d3.prototype.delete = function(t4) {
          delete this.map[l3(t4)];
        }, d3.prototype.get = function(t4) {
          return t4 = l3(t4), this.has(t4) ? this.map[t4] : null;
        }, d3.prototype.has = function(t4) {
          return this.map.hasOwnProperty(l3(t4));
        }, d3.prototype.set = function(t4, e4) {
          this.map[l3(t4)] = f3(e4);
        }, d3.prototype.forEach = function(t4, e4) {
          for (var n4 in this.map)
            this.map.hasOwnProperty(n4) && t4.call(e4, this.map[n4], n4, this);
        }, d3.prototype.keys = function() {
          var n4 = [];
          return this.forEach(function(t4, e4) {
            n4.push(e4);
          }), p3(n4);
        }, d3.prototype.values = function() {
          var e4 = [];
          return this.forEach(function(t4) {
            e4.push(t4);
          }), p3(e4);
        }, d3.prototype.entries = function() {
          var n4 = [];
          return this.forEach(function(t4, e4) {
            n4.push([e4, t4]);
          }), p3(n4);
        }, n3 && (d3.prototype[Symbol.iterator] = d3.prototype.entries), c3 = ["DELETE", "GET", "HEAD", "OPTIONS", "POST", "PUT"], _3.prototype.clone = function() {
          return new _3(this, { body: this._bodyInit });
        }, b3.call(_3.prototype), b3.call(T3.prototype), T3.prototype.clone = function() {
          return new T3(this._bodyInit, { status: this.status, statusText: this.statusText, headers: new d3(this.headers), url: this.url });
        }, T3.error = function() {
          var t4 = new T3(null, { status: 0, statusText: "" });
          return t4.type = "error", t4;
        }, h3 = [301, 302, 303, 307, 308], T3.redirect = function(t4, e4) {
          if (-1 === h3.indexOf(e4))
            throw new RangeError("Invalid status code");
          return new T3(null, { status: e4, headers: { location: t4 } });
        }, t3.Headers = d3, t3.Request = _3, t3.Response = T3, t3.fetch = function(n4, o4) {
          return new Promise(function(r4, t4) {
            var e4 = new _3(n4, o4), i4 = new XMLHttpRequest();
            i4.onload = function() {
              var n5, t5 = { status: i4.status, statusText: i4.statusText, headers: (e5 = i4.getAllResponseHeaders() || "", n5 = new d3(), e5.replace(/\r?\n[\t ]+/g, " ").split(/\r?\n/).forEach(function(t6) {
                var e6 = t6.split(":"), t6 = e6.shift().trim();
                t6 && (e6 = e6.join(":").trim(), n5.append(t6, e6));
              }), n5) };
              t5.url = "responseURL" in i4 ? i4.responseURL : t5.headers.get("X-Request-URL");
              var e5 = "response" in i4 ? i4.response : i4.responseText;
              r4(new T3(e5, t5));
            }, i4.onerror = function() {
              t4(new TypeError("Network request failed"));
            }, i4.ontimeout = function() {
              t4(new TypeError("Network request failed"));
            }, i4.open(e4.method, e4.url, true), "include" === e4.credentials ? i4.withCredentials = true : "omit" === e4.credentials && (i4.withCredentials = false), "responseType" in i4 && s3 && (i4.responseType = "blob"), e4.headers.forEach(function(t5, e5) {
              i4.setRequestHeader(e5, t5);
            }), i4.send(void 0 === e4._bodyInit ? null : e4._bodyInit);
          });
        }, t3.fetch.polyfill = true);
      }("undefined" != typeof self ? self : void 0);
      var t = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
      function e(t3) {
        var e3 = { exports: {} };
        return t3(e3, e3.exports), e3.exports;
      }
      function v(t3) {
        try {
          return !!t3();
        } catch (t4) {
          return true;
        }
      }
      function g(t3, e3) {
        return { enumerable: !(1 & t3), configurable: !(2 & t3), writable: !(4 & t3), value: e3 };
      }
      function r(t3) {
        return l.call(t3).slice(8, -1);
      }
      function s(t3) {
        if (null == t3)
          throw TypeError("Can't call method on " + t3);
        return t3;
      }
      function u(t3) {
        return w(s(t3));
      }
      function y(t3) {
        return "object" == typeof t3 ? null !== t3 : "function" == typeof t3;
      }
      function i(t3, e3) {
        if (!y(t3))
          return t3;
        var n3, r3;
        if (e3 && "function" == typeof (n3 = t3.toString) && !y(r3 = n3.call(t3)))
          return r3;
        if ("function" == typeof (n3 = t3.valueOf) && !y(r3 = n3.call(t3)))
          return r3;
        if (!e3 && "function" == typeof (n3 = t3.toString) && !y(r3 = n3.call(t3)))
          return r3;
        throw TypeError("Can't convert object to primitive value");
      }
      function _(t3) {
        return Object(s(t3));
      }
      function n(t3) {
        return S ? E.createElement(t3) : {};
      }
      function m(t3) {
        if (!y(t3))
          throw TypeError(String(t3) + " is not an object");
        return t3;
      }
      function c(e3, n3) {
        try {
          P(b, e3, n3);
        } catch (t3) {
          b[e3] = n3;
        }
        return n3;
      }
      var o = function(t3) {
        return t3 && t3.Math == Math && t3;
      }, b = o("object" == typeof globalThis && globalThis) || o("object" == typeof window && window) || o("object" == typeof self && self) || o("object" == typeof t && t) || function() {
        return this;
      }() || Function("return this")(), f = !v(function() {
        return 7 != Object.defineProperty({}, 1, { get: function() {
          return 7;
        } })[1];
      }), a = {}.propertyIsEnumerable, h = Object.getOwnPropertyDescriptor, p = { f: h && !a.call({ 1: 2 }, 1) ? function(t3) {
        t3 = h(this, t3);
        return !!t3 && t3.enumerable;
      } : a }, l = {}.toString, d = "".split, w = v(function() {
        return !Object("z").propertyIsEnumerable(0);
      }) ? function(t3) {
        return "String" == r(t3) ? d.call(t3, "") : Object(t3);
      } : Object, T = {}.hasOwnProperty, I = Object.hasOwn || function(t3, e3) {
        return T.call(_(t3), e3);
      }, E = b.document, S = y(E) && y(E.createElement), k = !f && !v(function() {
        return 7 != Object.defineProperty(n("div"), "a", { get: function() {
          return 7;
        } }).a;
      }), C = Object.getOwnPropertyDescriptor, A = { f: f ? C : function(t3, e3) {
        if (t3 = u(t3), e3 = i(e3, true), k)
          try {
            return C(t3, e3);
          } catch (t4) {
          }
        if (I(t3, e3))
          return g(!p.f.call(t3, e3), t3[e3]);
      } }, N = Object.defineProperty, R = { f: f ? N : function(t3, e3, n3) {
        if (m(t3), e3 = i(e3, true), m(n3), k)
          try {
            return N(t3, e3, n3);
          } catch (t4) {
          }
        if ("get" in n3 || "set" in n3)
          throw TypeError("Accessors not supported");
        return "value" in n3 && (t3[e3] = n3.value), t3;
      } }, P = f ? function(t3, e3, n3) {
        return R.f(t3, e3, g(1, n3));
      } : function(t3, e3, n3) {
        return t3[e3] = n3, t3;
      }, O = "__core-js_shared__", D = b[O] || c(O, {}), x = Function.toString;
      "function" != typeof D.inspectSource && (D.inspectSource = function(t3) {
        return x.call(t3);
      });
      function L(t3) {
        return "Symbol(" + String(void 0 === t3 ? "" : t3) + ")_" + (++Y + X).toString(36);
      }
      var M, F, j, U, q, V, B, K, W = D.inspectSource, H = b.WeakMap, z = "function" == typeof H && /native code/.test(W(H)), G = false, Q = e(function(t3) {
        (t3.exports = function(t4, e3) {
          return D[t4] || (D[t4] = void 0 !== e3 ? e3 : {});
        })("versions", []).push({ version: "3.15.1", mode: "global", copyright: "\xA9 2021 Denis Pushkarev (zloirock.ru)" });
      }), Y = 0, X = Math.random(), $ = Q("keys"), o = function(t3) {
        return $[t3] || ($[t3] = L(t3));
      }, J = {}, Z = "Object already initialized", t = b.WeakMap;
      B = z || D.state ? (M = D.state || (D.state = new t()), F = M.get, j = M.has, U = M.set, q = function(t3, e3) {
        if (j.call(M, t3))
          throw new TypeError(Z);
        return e3.facade = t3, U.call(M, t3, e3), e3;
      }, V = function(t3) {
        return F.call(M, t3) || {};
      }, function(t3) {
        return j.call(M, t3);
      }) : (K = o("state"), J[K] = true, q = function(t3, e3) {
        if (I(t3, K))
          throw new TypeError(Z);
        return e3.facade = t3, P(t3, K, e3), e3;
      }, V = function(t3) {
        return I(t3, K) ? t3[K] : {};
      }, function(t3) {
        return I(t3, K);
      });
      function tt(t3) {
        return "function" == typeof t3 ? t3 : void 0;
      }
      function et(t3, e3) {
        return arguments.length < 2 ? tt(ft[t3]) || tt(b[t3]) : ft[t3] && ft[t3][e3] || b[t3] && b[t3][e3];
      }
      function nt(t3) {
        return isNaN(t3 = +t3) ? 0 : (0 < t3 ? dt : pt)(t3);
      }
      function rt(t3) {
        return 0 < t3 ? gt(nt(t3), 9007199254740991) : 0;
      }
      function it(t3, e3) {
        var n3, r3 = u(t3), i3 = 0, o3 = [];
        for (n3 in r3)
          !I(J, n3) && I(r3, n3) && o3.push(n3);
        for (; e3.length > i3; )
          I(r3, n3 = e3[i3++]) && (~mt(o3, n3) || o3.push(n3));
        return o3;
      }
      function ot(t3, e3) {
        for (var n3 = It(e3), r3 = R.f, i3 = A.f, o3 = 0; o3 < n3.length; o3++) {
          var s3 = n3[o3];
          I(t3, s3) || r3(t3, s3, i3(e3, s3));
        }
      }
      function st(t3, e3) {
        var n3, r3, i3, o3 = t3.target, s3 = t3.global, a3 = t3.stat, u3 = s3 ? b : a3 ? b[o3] || c(o3, {}) : (b[o3] || {}).prototype;
        if (u3)
          for (n3 in e3) {
            if (r3 = e3[n3], i3 = t3.noTargetGet ? (i3 = Rt(u3, n3)) && i3.value : u3[n3], !Nt(s3 ? n3 : o3 + (a3 ? "." : "#") + n3, t3.forced) && void 0 !== i3) {
              if (typeof r3 == typeof i3)
                continue;
              ot(r3, i3);
            }
            (t3.sham || i3 && i3.sham) && P(r3, "sham", true), lt(u3, n3, r3, t3);
          }
      }
      function at() {
      }
      function ut(t3) {
        return "<script>" + t3 + "</" + Ut + ">";
      }
      var ct, ht = { set: q, get: V, has: B, enforce: function(t3) {
        return B(t3) ? V(t3) : q(t3, {});
      }, getterFor: function(n3) {
        return function(t3) {
          var e3;
          if (!y(t3) || (e3 = V(t3)).type !== n3)
            throw TypeError("Incompatible receiver, " + n3 + " required");
          return e3;
        };
      } }, lt = e(function(t3) {
        var e3 = ht.get, a3 = ht.enforce, u3 = String(String).split("String");
        (t3.exports = function(t4, e4, n3, r3) {
          var i3 = !!r3 && !!r3.unsafe, o3 = !!r3 && !!r3.enumerable, s3 = !!r3 && !!r3.noTargetGet;
          "function" == typeof n3 && ("string" != typeof e4 || I(n3, "name") || P(n3, "name", e4), (r3 = a3(n3)).source || (r3.source = u3.join("string" == typeof e4 ? e4 : ""))), t4 !== b ? (i3 ? !s3 && t4[e4] && (o3 = true) : delete t4[e4], o3 ? t4[e4] = n3 : P(t4, e4, n3)) : o3 ? t4[e4] = n3 : c(e4, n3);
        })(Function.prototype, "toString", function() {
          return "function" == typeof this && e3(this).source || W(this);
        });
      }), ft = b, pt = Math.ceil, dt = Math.floor, gt = Math.min, vt = Math.max, yt = Math.min, a = function(a3) {
        return function(t3, e3, n3) {
          var r3, i3 = u(t3), o3 = rt(i3.length), s3 = function(t4, e4) {
            t4 = nt(t4);
            return t4 < 0 ? vt(t4 + e4, 0) : yt(t4, e4);
          }(n3, o3);
          if (a3 && e3 != e3) {
            for (; s3 < o3; )
              if ((r3 = i3[s3++]) != r3)
                return true;
          } else
            for (; s3 < o3; s3++)
              if ((a3 || s3 in i3) && i3[s3] === e3)
                return a3 || s3 || 0;
          return !a3 && -1;
        };
      }, mt = { includes: a(true), indexOf: a(false) }.indexOf, bt = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"], _t = bt.concat("length", "prototype"), wt = { f: Object.getOwnPropertyNames || function(t3) {
        return it(t3, _t);
      } }, Tt = { f: Object.getOwnPropertySymbols }, It = et("Reflect", "ownKeys") || function(t3) {
        var e3 = wt.f(m(t3)), n3 = Tt.f;
        return n3 ? e3.concat(n3(t3)) : e3;
      }, Et = /#|\.prototype\./, O = function(t3, e3) {
        t3 = kt[St(t3)];
        return t3 == At || t3 != Ct && ("function" == typeof e3 ? v(e3) : !!e3);
      }, St = O.normalize = function(t3) {
        return String(t3).replace(Et, ".").toLowerCase();
      }, kt = O.data = {}, Ct = O.NATIVE = "N", At = O.POLYFILL = "P", Nt = O, Rt = A.f, H = !v(function() {
        function t3() {
        }
        return t3.prototype.constructor = null, Object.getPrototypeOf(new t3()) !== t3.prototype;
      }), Pt = o("IE_PROTO"), Ot = Object.prototype, Dt = H ? Object.getPrototypeOf : function(t3) {
        return t3 = _(t3), I(t3, Pt) ? t3[Pt] : "function" == typeof t3.constructor && t3 instanceof t3.constructor ? t3.constructor.prototype : t3 instanceof Object ? Ot : null;
      }, xt = Object.setPrototypeOf || ("__proto__" in {} ? function() {
        var n3, r3 = false, t3 = {};
        try {
          (n3 = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set).call(t3, []), r3 = t3 instanceof Array;
        } catch (t4) {
        }
        return function(t4, e3) {
          return m(t4), function(t5) {
            if (!y(t5) && null !== t5)
              throw TypeError("Can't set " + String(t5) + " as a prototype");
          }(e3), r3 ? n3.call(t4, e3) : t4.__proto__ = e3, t4;
        };
      }() : void 0), Lt = Object.keys || function(t3) {
        return it(t3, bt);
      }, Mt = f ? Object.defineProperties : function(t3, e3) {
        m(t3);
        for (var n3, r3 = Lt(e3), i3 = r3.length, o3 = 0; o3 < i3; )
          R.f(t3, n3 = r3[o3++], e3[n3]);
        return t3;
      }, Ft = et("document", "documentElement"), jt = "prototype", Ut = "script", qt = o("IE_PROTO"), Vt = function() {
        try {
          ct = document.domain && new ActiveXObject("htmlfile");
        } catch (t4) {
        }
        var t3;
        Vt = ct ? function(t4) {
          t4.write(ut("")), t4.close();
          var e4 = t4.parentWindow.Object;
          return t4 = null, e4;
        }(ct) : ((t3 = n("iframe")).style.display = "none", Ft.appendChild(t3), t3.src = String("javascript:"), (t3 = t3.contentWindow.document).open(), t3.write(ut("document.F=Object")), t3.close(), t3.F);
        for (var e3 = bt.length; e3--; )
          delete Vt[jt][bt[e3]];
        return Vt();
      };
      J[qt] = true;
      var Bt = Object.create || function(t3, e3) {
        var n3;
        return null !== t3 ? (at[jt] = m(t3), n3 = new at(), at[jt] = null, n3[qt] = t3) : n3 = Vt(), void 0 === e3 ? n3 : Mt(n3, e3);
      }, z = et("navigator", "userAgent") || "", t = b.process, a = t && t.versions, O = a && a.v8;
      O ? Pe = (Re = O.split("."))[0] < 4 ? 1 : Re[0] + Re[1] : z && (!(Re = z.match(/Edge\/(\d+)/)) || 74 <= Re[1]) && (Re = z.match(/Chrome\/(\d+)/)) && (Pe = Re[1]);
      function Kt(t3) {
        return I(Yt, t3) && (Qt || "string" == typeof Yt[t3]) || (Qt && I(Xt, t3) ? Yt[t3] = Xt[t3] : Yt[t3] = $t("Symbol." + t3)), Yt[t3];
      }
      function Wt(t3) {
        return void 0 !== t3 && (Jt.Array === t3 || te[Zt] === t3);
      }
      function Ht(t3) {
        if ("function" != typeof t3)
          throw TypeError(String(t3) + " is not a function");
        return t3;
      }
      function zt(r3, i3, t3) {
        if (Ht(r3), void 0 === i3)
          return r3;
        switch (t3) {
          case 0:
            return function() {
              return r3.call(i3);
            };
          case 1:
            return function(t4) {
              return r3.call(i3, t4);
            };
          case 2:
            return function(t4, e3) {
              return r3.call(i3, t4, e3);
            };
          case 3:
            return function(t4, e3, n3) {
              return r3.call(i3, t4, e3, n3);
            };
        }
        return function() {
          return r3.apply(i3, arguments);
        };
      }
      var Gt = Pe && +Pe, Qt = !!Object.getOwnPropertySymbols && !v(function() {
        var t3 = Symbol();
        return !String(t3) || !(Object(t3) instanceof Symbol) || !Symbol.sham && Gt && Gt < 41;
      }), H = Qt && !Symbol.sham && "symbol" == typeof Symbol.iterator, Yt = Q("wks"), Xt = b.Symbol, $t = H ? Xt : Xt && Xt.withoutSetter || L, Jt = {}, Zt = Kt("iterator"), te = Array.prototype, t = {};
      t[Kt("toStringTag")] = "z";
      function ee(t3) {
        if (null != t3)
          return t3[ue] || t3["@@iterator"] || Jt[ae(t3)];
      }
      function ne(t3) {
        var e3 = t3.return;
        return void 0 !== e3 && m(e3.call(t3)).value;
      }
      function re(t3, e3) {
        this.stopped = t3, this.result = e3;
      }
      function ie(t3, e3, n3) {
        function r3(t4) {
          return o3 && ne(o3), new re(true, t4);
        }
        function i3(t4) {
          return f3 ? (m(t4), d3 ? g3(t4[0], t4[1], r3) : g3(t4[0], t4[1])) : d3 ? g3(t4, r3) : g3(t4);
        }
        var o3, s3, a3, u3, c3, h3, l3 = n3 && n3.that, f3 = !(!n3 || !n3.AS_ENTRIES), p3 = !(!n3 || !n3.IS_ITERATOR), d3 = !(!n3 || !n3.INTERRUPTED), g3 = zt(e3, l3, 1 + f3 + d3);
        if (p3)
          o3 = t3;
        else {
          if ("function" != typeof (p3 = ee(t3)))
            throw TypeError("Target is not iterable");
          if (Wt(p3)) {
            for (s3 = 0, a3 = rt(t3.length); s3 < a3; s3++)
              if ((u3 = i3(t3[s3])) && u3 instanceof re)
                return u3;
            return new re(false);
          }
          o3 = p3.call(t3);
        }
        for (c3 = o3.next; !(h3 = c3.call(o3)).done; ) {
          try {
            u3 = i3(h3.value);
          } catch (t4) {
            throw ne(o3), t4;
          }
          if ("object" == typeof u3 && u3 && u3 instanceof re)
            return u3;
        }
        return new re(false);
      }
      var a = "[object z]" === String(t), oe = Kt("toStringTag"), se = "Arguments" == r(function() {
        return arguments;
      }()), ae = a ? r : function(t3) {
        var e3;
        return void 0 === t3 ? "Undefined" : null === t3 ? "Null" : "string" == typeof (t3 = function(t4, e4) {
          try {
            return t4[e4];
          } catch (t5) {
          }
        }(e3 = Object(t3), oe)) ? t3 : se ? r(e3) : "Object" == (t3 = r(e3)) && "function" == typeof e3.callee ? "Arguments" : t3;
      }, ue = Kt("iterator"), ce = function(t3, e3) {
        var n3 = this;
        if (!(n3 instanceof ce))
          return new ce(t3, e3);
        xt && (n3 = xt(new Error(void 0), Dt(n3))), void 0 !== e3 && P(n3, "message", String(e3));
        e3 = [];
        return ie(t3, e3.push, { that: e3 }), P(n3, "errors", e3), n3;
      };
      ce.prototype = Bt(Error.prototype, { constructor: g(5, ce), message: g(5, ""), name: g(5, "AggregateError") }), st({ global: true }, { AggregateError: ce }), a || lt(Object.prototype, "toString", a ? {}.toString : function() {
        return "[object " + ae(this) + "]";
      }, { unsafe: true });
      function he(t3, e3, n3) {
        for (var r3 in e3)
          lt(t3, r3, e3[r3], n3);
        return t3;
      }
      function le(t3, e3, n3) {
        t3 && !I(t3 = n3 ? t3 : t3.prototype, ve) && ge(t3, ve, { configurable: true, value: e3 });
      }
      function fe(t3) {
        var e3 = et(t3), t3 = R.f;
        f && e3 && !e3[ye] && t3(e3, ye, { configurable: true, get: function() {
          return this;
        } });
      }
      function pe(t3, e3, n3) {
        if (!(t3 instanceof e3))
          throw TypeError("Incorrect " + (n3 ? n3 + " " : "") + "invocation");
        return t3;
      }
      var de = b.Promise, ge = R.f, ve = Kt("toStringTag"), ye = Kt("species"), me = Kt("iterator"), be = false;
      try {
        var _e = 0, we = { next: function() {
          return { done: !!_e++ };
        }, return: function() {
          be = true;
        } };
        we[me] = function() {
          return this;
        }, Array.from(we, function() {
          throw 2;
        });
      } catch (qs2) {
      }
      function Te(t3, e3) {
        if (!e3 && !be)
          return false;
        var n3 = false;
        try {
          var r3 = {};
          r3[me] = function() {
            return { next: function() {
              return { done: n3 = true };
            } };
          }, t3(r3);
        } catch (t4) {
        }
        return n3;
      }
      function Ie(t3, e3) {
        var n3;
        return void 0 === (t3 = m(t3).constructor) || null == (n3 = m(t3)[Ce]) ? e3 : Ht(n3);
      }
      function Ee(t3) {
        var e3;
        Le.hasOwnProperty(t3) && (e3 = Le[t3], delete Le[t3], e3());
      }
      function Se(t3) {
        return function() {
          Ee(t3);
        };
      }
      var ke, Ce = Kt("species"), O = /(?:iphone|ipod|ipad).*applewebkit/i.test(z), Ae = "process" == r(b.process), Ne = b.location, Re = b.setImmediate, Pe = b.clearImmediate, Oe = b.process, t = b.MessageChannel, De = b.Dispatch, xe = 0, Le = {}, Me = "onreadystatechange", a = function(t3) {
        Ee(t3.data);
      }, we = function(t3) {
        b.postMessage(t3 + "", Ne.protocol + "//" + Ne.host);
      };
      Re && Pe || (Re = function(t3) {
        for (var e3 = [], n3 = 1; n3 < arguments.length; )
          e3.push(arguments[n3++]);
        return Le[++xe] = function() {
          ("function" == typeof t3 ? t3 : Function(t3)).apply(void 0, e3);
        }, ke(xe), xe;
      }, Pe = function(t3) {
        delete Le[t3];
      }, Ae ? ke = function(t3) {
        Oe.nextTick(Se(t3));
      } : De && De.now ? ke = function(t3) {
        De.now(Se(t3));
      } : t && !O ? (He = (t = new t()).port2, t.port1.onmessage = a, ke = zt(He.postMessage, He, 1)) : b.addEventListener && "function" == typeof postMessage && !b.importScripts && Ne && "file:" !== Ne.protocol && !v(we) ? (ke = we, b.addEventListener("message", a, false)) : ke = Me in n("script") ? function(t3) {
        Ft.appendChild(n("script"))[Me] = function() {
          Ft.removeChild(this), Ee(t3);
        };
      } : function(t3) {
        setTimeout(Se(t3), 0);
      });
      var Fe, je, Ue, qe, Ve, Be, Ke, We, He = { set: Re, clear: Pe }, we = /web0s(?!.*chrome)/i.test(z), a = A.f, ze = He.set, Re = b.MutationObserver || b.WebKitMutationObserver, Pe = b.document, Ge = b.process, z = b.Promise, a = a(b, "queueMicrotask"), a = a && a.value;
      a || (Fe = function() {
        var t3, e3;
        for (Ae && (t3 = Ge.domain) && t3.exit(); je; ) {
          e3 = je.fn, je = je.next;
          try {
            e3();
          } catch (t4) {
            throw je ? qe() : Ue = void 0, t4;
          }
        }
        Ue = void 0, t3 && t3.enter();
      }, qe = O || Ae || we || !Re || !Pe ? z && z.resolve ? ((Ke = z.resolve(void 0)).constructor = z, We = Ke.then, function() {
        We.call(Ke, Fe);
      }) : Ae ? function() {
        Ge.nextTick(Fe);
      } : function() {
        ze.call(b, Fe);
      } : (Ve = true, Be = Pe.createTextNode(""), new Re(Fe).observe(Be, { characterData: true }), function() {
        Be.data = Ve = !Ve;
      }));
      function Qe(t3) {
        var n3, r3;
        this.promise = new t3(function(t4, e3) {
          if (void 0 !== n3 || void 0 !== r3)
            throw TypeError("Bad Promise constructor");
          n3 = t4, r3 = e3;
        }), this.resolve = Ht(n3), this.reject = Ht(r3);
      }
      function Ye(t3, e3) {
        return m(t3), y(e3) && e3.constructor === t3 ? e3 : ((0, (t3 = un.f(t3)).resolve)(e3), t3.promise);
      }
      function Xe(t3) {
        try {
          return { error: false, value: t3() };
        } catch (t4) {
          return { error: true, value: t4 };
        }
      }
      function $e(t3) {
        var e3;
        return !(!y(t3) || "function" != typeof (e3 = t3.then)) && e3;
      }
      function Je(l3, f3) {
        var p3;
        l3.notified || (l3.notified = true, p3 = l3.reactions, an(function() {
          for (var t3 = l3.value, e3 = 1 == l3.state, n3 = 0; p3.length > n3; ) {
            var r3, i3, o3, s3 = p3[n3++], a3 = e3 ? s3.ok : s3.fail, u3 = s3.resolve, c3 = s3.reject, h3 = s3.domain;
            try {
              a3 ? (e3 || (2 === l3.rejection && An(l3), l3.rejection = 1), true === a3 ? r3 = t3 : (h3 && h3.enter(), r3 = a3(t3), h3 && (h3.exit(), o3 = true)), r3 === s3.promise ? c3(yn("Promise-chain cycle")) : (i3 = $e(r3)) ? i3.call(r3, u3, c3) : u3(r3)) : c3(t3);
            } catch (t4) {
              h3 && !o3 && h3.exit(), c3(t4);
            }
          }
          l3.reactions = [], l3.notified = false, f3 && !l3.rejection && kn(l3);
        }));
      }
      function Ze(t3, e3, n3) {
        var r3, i3;
        Tn ? ((r3 = mn.createEvent("Event")).promise = e3, r3.reason = n3, r3.initEvent(t3, false, true), b.dispatchEvent(r3)) : r3 = { promise: e3, reason: n3 }, !In && (i3 = b["on" + t3]) ? i3(r3) : t3 === En && function(t4, e4) {
          var n4 = b.console;
          n4 && n4.error && (1 === arguments.length ? n4.error(t4) : n4.error(t4, e4));
        }("Unhandled promise rejection", n3);
      }
      function tn(e3, n3, r3) {
        return function(t3) {
          e3(n3, t3, r3);
        };
      }
      function en(t3, e3, n3) {
        t3.done || (t3.done = true, (t3 = n3 ? n3 : t3).value = e3, t3.state = 2, Je(t3, true));
      }
      var nn, rn, on, sn, an = a || function(t3) {
        t3 = { fn: t3, next: void 0 };
        Ue && (Ue.next = t3), je || (je = t3, qe()), Ue = t3;
      }, un = { f: function(t3) {
        return new Qe(t3);
      } }, cn = "object" == typeof window, hn = He.set, ln = Kt("species"), fn = "Promise", pn = ht.get, dn = ht.set, gn = ht.getterFor(fn), Pe = de && de.prototype, vn = de, Re = Pe, yn = b.TypeError, mn = b.document, bn = b.process, _n = un.f, wn = _n, Tn = !!(mn && mn.createEvent && b.dispatchEvent), In = "function" == typeof PromiseRejectionEvent, En = "unhandledrejection", Sn = false, a = Nt(fn, function() {
        var t3 = W(vn) !== String(vn);
        if (!t3 && 66 === Gt)
          return true;
        if (51 <= Gt && /native code/.test(vn))
          return false;
        function e3(t4) {
          t4(function() {
          }, function() {
          });
        }
        var n3 = new vn(function(t4) {
          t4(1);
        });
        return (n3.constructor = {})[ln] = e3, !(Sn = n3.then(function() {
        }) instanceof e3) || !t3 && cn && !In;
      }), He = a || !Te(function(t3) {
        vn.all(t3).catch(function() {
        });
      }), kn = function(i3) {
        hn.call(b, function() {
          var t3, e3 = i3.facade, n3 = i3.value, r3 = Cn(i3);
          if (r3 && (t3 = Xe(function() {
            Ae ? bn.emit("unhandledRejection", n3, e3) : Ze(En, e3, n3);
          }), i3.rejection = Ae || Cn(i3) ? 2 : 1, t3.error))
            throw t3.value;
        });
      }, Cn = function(t3) {
        return 1 !== t3.rejection && !t3.parent;
      }, An = function(e3) {
        hn.call(b, function() {
          var t3 = e3.facade;
          Ae ? bn.emit("rejectionHandled", t3) : Ze("rejectionhandled", t3, e3.value);
        });
      }, Nn = function(n3, t3, e3) {
        if (!n3.done) {
          n3.done = true, e3 && (n3 = e3);
          try {
            if (n3.facade === t3)
              throw yn("Promise can't be resolved itself");
            var r3 = $e(t3);
            r3 ? an(function() {
              var e4 = { done: false };
              try {
                r3.call(t3, tn(Nn, e4, n3), tn(en, e4, n3));
              } catch (t4) {
                en(e4, t4, n3);
              }
            }) : (n3.value = t3, n3.state = 1, Je(n3, false));
          } catch (t4) {
            en({ done: false }, t4, n3);
          }
        }
      };
      if (a && (Re = (vn = function(t3) {
        pe(this, vn, fn), Ht(t3), nn.call(this);
        var e3 = pn(this);
        try {
          t3(tn(Nn, e3), tn(en, e3));
        } catch (t4) {
          en(e3, t4);
        }
      }).prototype, (nn = function(t3) {
        dn(this, { type: fn, done: false, notified: false, parent: false, reactions: [], rejection: false, state: 0, value: void 0 });
      }).prototype = he(Re, { then: function(t3, e3) {
        var n3 = gn(this), r3 = _n(Ie(this, vn));
        return r3.ok = "function" != typeof t3 || t3, r3.fail = "function" == typeof e3 && e3, r3.domain = Ae ? bn.domain : void 0, n3.parent = true, n3.reactions.push(r3), 0 != n3.state && Je(n3, false), r3.promise;
      }, catch: function(t3) {
        return this.then(void 0, t3);
      } }), rn = function() {
        var t3 = new nn(), e3 = pn(t3);
        this.promise = t3, this.resolve = tn(Nn, e3), this.reject = tn(en, e3);
      }, un.f = _n = function(t3) {
        return t3 === vn || t3 === on ? new rn() : wn(t3);
      }, "function" == typeof de && Pe !== Object.prototype)) {
        sn = Pe.then, Sn || (lt(Pe, "then", function(t3, e3) {
          var n3 = this;
          return new vn(function(t4, e4) {
            sn.call(n3, t4, e4);
          }).then(t3, e3);
        }, { unsafe: true }), lt(Pe, "catch", Re.catch, { unsafe: true }));
        try {
          delete Pe.constructor;
        } catch (qs2) {
        }
        xt && xt(Pe, Re);
      }
      st({ global: true, wrap: true, forced: a }, { Promise: vn }), le(vn, fn, false), fe(fn), on = et(fn), st({ target: fn, stat: true, forced: a }, { reject: function(t3) {
        var e3 = _n(this);
        return e3.reject.call(void 0, t3), e3.promise;
      } }), st({ target: fn, stat: true, forced: a }, { resolve: function(t3) {
        return Ye(this, t3);
      } }), st({ target: fn, stat: true, forced: He }, { all: function(t3) {
        var a3 = this, e3 = _n(a3), u3 = e3.resolve, c3 = e3.reject, n3 = Xe(function() {
          var r3 = Ht(a3.resolve), i3 = [], o3 = 0, s3 = 1;
          ie(t3, function(t4) {
            var e4 = o3++, n4 = false;
            i3.push(void 0), s3++, r3.call(a3, t4).then(function(t5) {
              n4 || (n4 = true, i3[e4] = t5, --s3 || u3(i3));
            }, c3);
          }), --s3 || u3(i3);
        });
        return n3.error && c3(n3.value), e3.promise;
      }, race: function(t3) {
        var n3 = this, r3 = _n(n3), i3 = r3.reject, e3 = Xe(function() {
          var e4 = Ht(n3.resolve);
          ie(t3, function(t4) {
            e4.call(n3, t4).then(r3.resolve, i3);
          });
        });
        return e3.error && i3(e3.value), r3.promise;
      } }), st({ target: "Promise", stat: true }, { allSettled: function(t3) {
        var a3 = this, e3 = un.f(a3), u3 = e3.resolve, n3 = e3.reject, r3 = Xe(function() {
          var r4 = Ht(a3.resolve), i3 = [], o3 = 0, s3 = 1;
          ie(t3, function(t4) {
            var e4 = o3++, n4 = false;
            i3.push(void 0), s3++, r4.call(a3, t4).then(function(t5) {
              n4 || (n4 = true, i3[e4] = { status: "fulfilled", value: t5 }, --s3 || u3(i3));
            }, function(t5) {
              n4 || (n4 = true, i3[e4] = { status: "rejected", reason: t5 }, --s3 || u3(i3));
            });
          }), --s3 || u3(i3);
        });
        return r3.error && n3(r3.value), e3.promise;
      } });
      var Rn = "No one promise resolved";
      st({ target: "Promise", stat: true }, { any: function(t3) {
        var u3 = this, e3 = un.f(u3), c3 = e3.resolve, h3 = e3.reject, n3 = Xe(function() {
          var r3 = Ht(u3.resolve), i3 = [], o3 = 0, s3 = 1, a3 = false;
          ie(t3, function(t4) {
            var e4 = o3++, n4 = false;
            i3.push(void 0), s3++, r3.call(u3, t4).then(function(t5) {
              n4 || a3 || (a3 = true, c3(t5));
            }, function(t5) {
              n4 || a3 || (n4 = true, i3[e4] = t5, --s3 || h3(new (et("AggregateError"))(i3, Rn)));
            });
          }), --s3 || h3(new (et("AggregateError"))(i3, Rn));
        });
        return n3.error && h3(n3.value), e3.promise;
      } });
      Pe = !!de && v(function() {
        de.prototype.finally.call({ then: function() {
        } }, function() {
        });
      });
      st({ target: "Promise", proto: true, real: true, forced: Pe }, { finally: function(e3) {
        var n3 = Ie(this, et("Promise")), t3 = "function" == typeof e3;
        return this.then(t3 ? function(t4) {
          return Ye(n3, e3()).then(function() {
            return t4;
          });
        } : e3, t3 ? function(t4) {
          return Ye(n3, e3()).then(function() {
            throw t4;
          });
        } : e3);
      } }), "function" == typeof de && (Mn = et("Promise").prototype.finally, de.prototype.finally !== Mn && lt(de.prototype, "finally", Mn, { unsafe: true }));
      var Pn, Re = function(o3) {
        return function(t3, e3) {
          var n3, r3 = String(s(t3)), i3 = nt(e3), t3 = r3.length;
          return i3 < 0 || t3 <= i3 ? o3 ? "" : void 0 : (e3 = r3.charCodeAt(i3)) < 55296 || 56319 < e3 || i3 + 1 === t3 || (n3 = r3.charCodeAt(i3 + 1)) < 56320 || 57343 < n3 ? o3 ? r3.charAt(i3) : e3 : o3 ? r3.slice(i3, i3 + 2) : n3 - 56320 + (e3 - 55296 << 10) + 65536;
        };
      }, a = { codeAt: Re(false), charAt: Re(true) }, On = Kt("iterator"), He = false;
      [].keys && ("next" in (lr = [].keys()) ? (fr = Dt(Dt(lr))) !== Object.prototype && (Pn = fr) : He = true);
      Pe = null == Pn || v(function() {
        var t3 = {};
        return Pn[On].call(t3) !== t3;
      });
      I(Pn = Pe ? {} : Pn, On) || P(Pn, On, function() {
        return this;
      });
      function Dn() {
        return this;
      }
      function xn() {
        return this;
      }
      function Ln(t3, e3, n3, r3, i3, o3, s3) {
        function a3(t4) {
          if (t4 === i3 && d3)
            return d3;
          if (!Un && t4 in f3)
            return f3[t4];
          switch (t4) {
            case "keys":
            case Vn:
            case Bn:
              return function() {
                return new n3(this, t4);
              };
          }
          return function() {
            return new n3(this);
          };
        }
        !function(t4, e4, n4) {
          e4 += " Iterator";
          t4.prototype = Bt(Fn, { next: g(1, n4) }), le(t4, e4, false), Jt[e4] = Dn;
        }(n3, e3, r3);
        var u3, c3, h3 = e3 + " Iterator", l3 = false, f3 = t3.prototype, p3 = f3[qn] || f3["@@iterator"] || i3 && f3[i3], d3 = !Un && p3 || a3(i3);
        if ((r3 = "Array" == e3 && f3.entries || p3) && (t3 = Dt(r3.call(new t3())), jn !== Object.prototype && t3.next && (Dt(t3) !== jn && (xt ? xt(t3, jn) : "function" != typeof t3[qn] && P(t3, qn, xn)), le(t3, h3, true))), i3 == Vn && p3 && p3.name !== Vn && (l3 = true, d3 = function() {
          return p3.call(this);
        }), f3[qn] !== d3 && P(f3, qn, d3), Jt[e3] = d3, i3)
          if (u3 = { values: a3(Vn), keys: o3 ? d3 : a3("keys"), entries: a3(Bn) }, s3)
            for (c3 in u3)
              !Un && !l3 && c3 in f3 || lt(f3, c3, u3[c3]);
          else
            st({ target: e3, proto: true, forced: Un || l3 }, u3);
        return u3;
      }
      var Mn = { IteratorPrototype: Pn, BUGGY_SAFARI_ITERATORS: He }, Fn = Mn.IteratorPrototype, jn = Mn.IteratorPrototype, Un = Mn.BUGGY_SAFARI_ITERATORS, qn = Kt("iterator"), Vn = "values", Bn = "entries", Kn = a.charAt, Wn = "String Iterator", Hn = ht.set, zn = ht.getterFor(Wn);
      Ln(String, "String", function(t3) {
        Hn(this, { type: Wn, string: String(t3), index: 0 });
      }, function() {
        var t3 = zn(this), e3 = t3.string, n3 = t3.index;
        return n3 >= e3.length ? { value: void 0, done: true } : (n3 = Kn(e3, n3), t3.index += n3.length, { value: n3, done: false });
      });
      var Gn = { CSSRuleList: 0, CSSStyleDeclaration: 0, CSSValueList: 0, ClientRectList: 0, DOMRectList: 0, DOMStringList: 0, DOMTokenList: 1, DataTransferItemList: 0, FileList: 0, HTMLAllCollection: 0, HTMLCollection: 0, HTMLFormElement: 0, HTMLSelectElement: 0, MediaList: 0, MimeTypeArray: 0, NamedNodeMap: 0, NodeList: 1, PaintRequestList: 0, Plugin: 0, PluginArray: 0, SVGLengthList: 0, SVGNumberList: 0, SVGPathSegList: 0, SVGPointList: 0, SVGStringList: 0, SVGTransformList: 0, SourceBufferList: 0, StyleSheetList: 0, TextTrackCueList: 0, TextTrackList: 0, TouchList: 0 }, Qn = Kt("unscopables"), Yn = Array.prototype;
      null == Yn[Qn] && R.f(Yn, Qn, { configurable: true, value: Bt(null) });
      var Re = function(t3) {
        Yn[Qn][t3] = true;
      }, Xn = "Array Iterator", $n = ht.set, Jn = ht.getterFor(Xn), Zn = Ln(Array, "Array", function(t3, e3) {
        $n(this, { type: Xn, target: u(t3), index: 0, kind: e3 });
      }, function() {
        var t3 = Jn(this), e3 = t3.target, n3 = t3.kind, r3 = t3.index++;
        return !e3 || r3 >= e3.length ? { value: t3.target = void 0, done: true } : "keys" == n3 ? { value: r3, done: false } : "values" == n3 ? { value: e3[r3], done: false } : { value: [r3, e3[r3]], done: false };
      }, "values");
      Jt.Arguments = Jt.Array, Re("keys"), Re("values"), Re("entries");
      var tr, er = Kt("iterator"), nr = Kt("toStringTag"), rr = Zn.values;
      for (tr in Gn) {
        var ir = b[tr], or = ir && ir.prototype;
        if (or) {
          if (or[er] !== rr)
            try {
              P(or, er, rr);
            } catch (qs2) {
              or[er] = rr;
            }
          if (or[nr] || P(or, nr, tr), Gn[tr]) {
            for (var sr in Zn)
              if (or[sr] !== Zn[sr])
                try {
                  P(or, sr, Zn[sr]);
                } catch (qs2) {
                  or[sr] = Zn[sr];
                }
          }
        }
      }
      ft.Promise, st({ target: "Promise", stat: true }, { try: function(t3) {
        var e3 = un.f(this), t3 = Xe(t3);
        return (t3.error ? e3.reject : e3.resolve)(t3.value), e3.promise;
      } });
      function ar(t3, e3) {
        var n3;
        return new (void 0 === (n3 = ur(t3) && ("function" == typeof (n3 = t3.constructor) && (n3 === Array || ur(n3.prototype)) || y(n3) && null === (n3 = n3[cr])) ? void 0 : n3) ? Array : n3)(0 === e3 ? 0 : e3);
      }
      var ur = Array.isArray || function(t3) {
        return "Array" == r(t3);
      }, cr = Kt("species"), hr = [].push, lr = function(f3) {
        var p3 = 1 == f3, d3 = 2 == f3, g3 = 3 == f3, v3 = 4 == f3, y3 = 6 == f3, m3 = 7 == f3, b3 = 5 == f3 || y3;
        return function(t3, e3, n3, r3) {
          for (var i3, o3, s3 = _(t3), a3 = w(s3), u3 = zt(e3, n3, 3), c3 = rt(a3.length), h3 = 0, r3 = r3 || ar, l3 = p3 ? r3(t3, c3) : d3 || m3 ? r3(t3, 0) : void 0; h3 < c3; h3++)
            if ((b3 || h3 in a3) && (o3 = u3(i3 = a3[h3], h3, s3), f3))
              if (p3)
                l3[h3] = o3;
              else if (o3)
                switch (f3) {
                  case 3:
                    return true;
                  case 5:
                    return i3;
                  case 6:
                    return h3;
                  case 2:
                    hr.call(l3, i3);
                }
              else
                switch (f3) {
                  case 4:
                    return false;
                  case 7:
                    hr.call(l3, i3);
                }
          return y3 ? -1 : g3 || v3 ? v3 : l3;
        };
      }, fr = { forEach: lr(0), map: lr(1), filter: lr(2), some: lr(3), every: lr(4), find: lr(5), findIndex: lr(6), filterOut: lr(7) }, pr = fr.find, Pe = "find", dr = true;
      Pe in [] && Array(1)[Pe](function() {
        dr = false;
      }), st({ target: "Array", proto: true, forced: dr }, { find: function(t3) {
        return pr(this, t3, 1 < arguments.length ? arguments[1] : void 0);
      } }), Re(Pe);
      var gr = Function.call, He = function(t3, e3, n3) {
        return zt(gr, b[t3].prototype[e3], n3);
      };
      He("Array", "find");
      var vr = fr.findIndex, Mn = "findIndex", yr = true;
      Mn in [] && Array(1)[Mn](function() {
        yr = false;
      }), st({ target: "Array", proto: true, forced: yr }, { findIndex: function(t3) {
        return vr(this, t3, 1 < arguments.length ? arguments[1] : void 0);
      } }), Re(Mn), He("Array", "findIndex");
      function mr(t3, e3, n3) {
        (e3 = i(e3)) in t3 ? R.f(t3, e3, g(0, n3)) : t3[e3] = n3;
      }
      a = !Te(function(t3) {
        Array.from(t3);
      });
      st({ target: "Array", stat: true, forced: a }, { from: function(t3) {
        var e3, n3, r3, i3, o3, s3, a3 = _(t3), u3 = "function" == typeof this ? this : Array, c3 = arguments.length, h3 = 1 < c3 ? arguments[1] : void 0, l3 = void 0 !== h3, t3 = ee(a3), f3 = 0;
        if (l3 && (h3 = zt(h3, 2 < c3 ? arguments[2] : void 0, 2)), null == t3 || u3 == Array && Wt(t3))
          for (n3 = new u3(e3 = rt(a3.length)); f3 < e3; f3++)
            s3 = l3 ? h3(a3[f3], f3) : a3[f3], mr(n3, f3, s3);
        else
          for (o3 = (i3 = t3.call(a3)).next, n3 = new u3(); !(r3 = o3.call(i3)).done; f3++)
            s3 = l3 ? function(e4, t4, n4, r4) {
              try {
                return r4 ? t4(m(n4)[0], n4[1]) : t4(n4);
              } catch (t5) {
                throw ne(e4), t5;
              }
            }(i3, h3, [r3.value, f3], true) : r3.value, mr(n3, f3, s3);
        return n3.length = f3, n3;
      } }), ft.Array.from;
      var br, _r, wr = fr.some, lr = !!(_r = []["some"]) && v(function() {
        _r.call(null, br || function() {
          throw 1;
        }, 1);
      });
      st({ target: "Array", proto: true, forced: !lr }, { some: function(t3) {
        return wr(this, t3, 1 < arguments.length ? arguments[1] : void 0);
      } }), He("Array", "some");
      function Tr(t3) {
        return !!y(t3) && (t3 = ae(t3), I(Nr, t3) || I(Rr, t3));
      }
      var Ir, Pe = "undefined" != typeof ArrayBuffer && "undefined" != typeof DataView, Re = R.f, Mn = b.Int8Array, Er = Mn && Mn.prototype, a = b.Uint8ClampedArray, lr = a && a.prototype, Sr = Mn && Dt(Mn), kr = Er && Dt(Er), a = Object.prototype, Mn = (a.isPrototypeOf, Kt("toStringTag")), Cr = L("TYPED_ARRAY_TAG"), Ar = Pe && !!xt && "Opera" !== ae(b.opera), Pe = false, Nr = { Int8Array: 1, Uint8Array: 1, Uint8ClampedArray: 1, Int16Array: 2, Uint16Array: 2, Int32Array: 4, Uint32Array: 4, Float32Array: 4, Float64Array: 8 }, Rr = { BigInt64Array: 8, BigUint64Array: 8 };
      for (Ir in Nr)
        b[Ir] || (Ar = false);
      if ((!Ar || "function" != typeof Sr || Sr === Function.prototype) && (Sr = function() {
        throw TypeError("Incorrect invocation");
      }, Ar))
        for (Ir in Nr)
          b[Ir] && xt(b[Ir], Sr);
      if ((!Ar || !kr || kr === a) && (kr = Sr.prototype, Ar))
        for (Ir in Nr)
          b[Ir] && xt(b[Ir].prototype, kr);
      if (Ar && Dt(lr) !== kr && xt(lr, kr), f && !I(kr, Mn))
        for (Ir in Pe = true, Re(kr, Mn, { get: function() {
          return y(this) ? this[Cr] : void 0;
        } }), Nr)
          b[Ir] && P(b[Ir], Cr, Ir);
      var lr = function(t3) {
        if (Tr(t3))
          return t3;
        throw TypeError("Target is not a typed array");
      }, Re = function(t3, e3, n3) {
        if (f) {
          if (n3)
            for (var r3 in Nr) {
              r3 = b[r3];
              if (r3 && I(r3.prototype, t3))
                try {
                  delete r3.prototype[t3];
                } catch (t4) {
                }
            }
          kr[t3] && !n3 || lt(kr, t3, !n3 && Ar && Er[t3] || e3);
        }
      }, Mn = Kt("iterator"), Pe = b.Uint8Array, Pr = Zn.values, Or = Zn.keys, Dr = Zn.entries, xr = lr, lr = Re, Re = Pe && Pe.prototype[Mn], Pe = !!Re && ("values" == Re.name || null == Re.name), Re = function() {
        return Pr.call(xr(this));
      };
      lr("entries", function() {
        return Dr.call(xr(this));
      }), lr("keys", function() {
        return Or.call(xr(this));
      }), lr("values", Re, !Pe), lr(Mn, Re, !Pe);
      var Lr = Object.assign, Mr = Object.defineProperty, Re = !Lr || v(function() {
        if (f && 1 !== Lr({ b: 1 }, Lr(Mr({}, "a", { enumerable: true, get: function() {
          Mr(this, "b", { value: 3, enumerable: false });
        } }), { b: 2 })).b)
          return 1;
        var t3 = {}, e3 = {}, n3 = Symbol(), r3 = "abcdefghijklmnopqrst";
        return t3[n3] = 7, r3.split("").forEach(function(t4) {
          e3[t4] = t4;
        }), 7 != Lr({}, t3)[n3] || Lt(Lr({}, e3)).join("") != r3;
      }) ? function(t3, e3) {
        for (var n3 = _(t3), r3 = arguments.length, i3 = 1, o3 = Tt.f, s3 = p.f; i3 < r3; )
          for (var a3, u3 = w(arguments[i3++]), c3 = o3 ? Lt(u3).concat(o3(u3)) : Lt(u3), h3 = c3.length, l3 = 0; l3 < h3; )
            a3 = c3[l3++], f && !s3.call(u3, a3) || (n3[a3] = u3[a3]);
        return n3;
      } : Lr;
      st({ target: "Object", stat: true, forced: Object.assign !== Re }, { assign: Re }), ft.Object.assign;
      var Fr = p.f, Pe = function(a3) {
        return function(t3) {
          for (var e3, n3 = u(t3), r3 = Lt(n3), i3 = r3.length, o3 = 0, s3 = []; o3 < i3; )
            e3 = r3[o3++], f && !Fr.call(n3, e3) || s3.push(a3 ? [e3, n3[e3]] : n3[e3]);
          return s3;
        };
      }, Re = { entries: Pe(true), values: Pe(false) }, jr = Re.entries;
      st({ target: "Object", stat: true }, { entries: function(t3) {
        return jr(t3);
      } }), ft.Object.entries;
      var Ur = Re.values;
      st({ target: "Object", stat: true }, { values: function(t3) {
        return Ur(t3);
      } }), ft.Object.values;
      function qr(t3) {
        if (y(e3 = t3) && (void 0 !== (n3 = e3[Vr]) ? !!n3 : "RegExp" == r(e3)))
          throw TypeError("The method doesn't accept regular expressions");
        var e3, n3;
        return t3;
      }
      var Vr = Kt("match"), Br = Kt("match"), Pe = function(e3) {
        var n3 = /./;
        try {
          "/./"[e3](n3);
        } catch (t3) {
          try {
            return n3[Br] = false, "/./"[e3](n3);
          } catch (t4) {
          }
        }
        return false;
      };
      st({ target: "String", proto: true, forced: !Pe("includes") }, { includes: function(t3) {
        return !!~String(s(this)).indexOf(qr(t3), 1 < arguments.length ? arguments[1] : void 0);
      } }), He("String", "includes");
      var Kr, Re = A.f, Wr = "".startsWith, Hr = Math.min, Pe = Pe("startsWith"), Kr = !(Pe || (!(Kr = Re(String.prototype, "startsWith")) || Kr.writable));
      st({ target: "String", proto: true, forced: !Kr && !Pe }, { startsWith: function(t3) {
        var e3 = String(s(this));
        qr(t3);
        var n3 = rt(Hr(1 < arguments.length ? arguments[1] : void 0, e3.length)), t3 = String(t3);
        return Wr ? Wr.call(e3, t3, n3) : e3.slice(n3, n3 + t3.length) === t3;
      } }), He("String", "startsWith");
      st({ target: "String", proto: true }, { repeat: function(t3) {
        var e3 = String(s(this)), n3 = "", r3 = nt(t3);
        if (r3 < 0 || r3 == 1 / 0)
          throw RangeError("Wrong number of repetitions");
        for (; 0 < r3; (r3 >>>= 1) && (e3 += e3))
          1 & r3 && (n3 += e3);
        return n3;
      } }), He("String", "repeat");
      var zr, Gr = Kt("species"), Qr = Kt("isConcatSpreadable"), Yr = 9007199254740991, Xr = "Maximum allowed index exceeded", Pe = 51 <= Gt || !v(function() {
        var t3 = [];
        return t3[Qr] = false, t3.concat()[0] !== t3;
      }), He = (zr = "concat", 51 <= Gt || !v(function() {
        var t3 = [];
        return (t3.constructor = {})[Gr] = function() {
          return { foo: 1 };
        }, 1 !== t3[zr](Boolean).foo;
      }));
      st({ target: "Array", proto: true, forced: !Pe || !He }, { concat: function(t3) {
        for (var e3, n3, r3, i3 = _(this), o3 = ar(i3, 0), s3 = 0, a3 = -1, u3 = arguments.length; a3 < u3; a3++)
          if (function(t4) {
            if (!y(t4))
              return false;
            var e4 = t4[Qr];
            return void 0 !== e4 ? !!e4 : ur(t4);
          }(r3 = -1 === a3 ? i3 : arguments[a3])) {
            if (n3 = rt(r3.length), Yr < s3 + n3)
              throw TypeError(Xr);
            for (e3 = 0; e3 < n3; e3++, s3++)
              e3 in r3 && mr(o3, s3, r3[e3]);
          } else {
            if (Yr <= s3)
              throw TypeError(Xr);
            mr(o3, s3++, r3);
          }
        return o3.length = s3, o3;
      } });
      function $r(t3) {
        var e3 = ft.Symbol || (ft.Symbol = {});
        I(e3, t3) || ii(e3, t3, { value: ri.f(t3) });
      }
      function Jr(t3, e3) {
        var n3 = mi[t3] = Bt(fi[ui]);
        return ci(n3, { type: ai, tag: t3, description: e3 }), f || (n3.description = e3), n3;
      }
      function Zr(e3, t3) {
        m(e3);
        var n3 = u(t3), t3 = Lt(n3).concat(Ci(n3));
        return oi(t3, function(t4) {
          f && !ki.call(n3, t4) || Si(e3, t4, n3[t4]);
        }), e3;
      }
      var ti = wt.f, ei = {}.toString, ni = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [], He = { f: function(t3) {
        return ni && "[object Window]" == ei.call(t3) ? function(t4) {
          try {
            return ti(t4);
          } catch (t5) {
            return ni.slice();
          }
        }(t3) : ti(u(t3));
      } }, ri = { f: Kt }, ii = R.f, oi = fr.forEach, si = o("hidden"), ai = "Symbol", ui = "prototype", fr = Kt("toPrimitive"), ci = ht.set, hi = ht.getterFor(ai), li = Object[ui], fi = b.Symbol, pi = et("JSON", "stringify"), di = A.f, gi = R.f, vi = He.f, yi = p.f, mi = Q("symbols"), bi = Q("op-symbols"), _i = Q("string-to-symbol-registry"), wi = Q("symbol-to-string-registry"), o = Q("wks"), Q = b.QObject, Ti = !Q || !Q[ui] || !Q[ui].findChild, Ii = f && v(function() {
        return 7 != Bt(gi({}, "a", { get: function() {
          return gi(this, "a", { value: 7 }).a;
        } })).a;
      }) ? function(t3, e3, n3) {
        var r3 = di(li, e3);
        r3 && delete li[e3], gi(t3, e3, n3), r3 && t3 !== li && gi(li, e3, r3);
      } : gi, Ei = H ? function(t3) {
        return "symbol" == typeof t3;
      } : function(t3) {
        return Object(t3) instanceof fi;
      }, Si = function(t3, e3, n3) {
        t3 === li && Si(bi, e3, n3), m(t3);
        e3 = i(e3, true);
        return m(n3), I(mi, e3) ? (n3.enumerable ? (I(t3, si) && t3[si][e3] && (t3[si][e3] = false), n3 = Bt(n3, { enumerable: g(0, false) })) : (I(t3, si) || gi(t3, si, g(1, {})), t3[si][e3] = true), Ii(t3, e3, n3)) : gi(t3, e3, n3);
      }, ki = function(t3) {
        var e3 = i(t3, true), t3 = yi.call(this, e3);
        return !(this === li && I(mi, e3) && !I(bi, e3)) && (!(t3 || !I(this, e3) || !I(mi, e3) || I(this, si) && this[si][e3]) || t3);
      }, Q = function(t3, e3) {
        var n3 = u(t3), t3 = i(e3, true);
        if (n3 !== li || !I(mi, t3) || I(bi, t3)) {
          e3 = di(n3, t3);
          return !e3 || !I(mi, t3) || I(n3, si) && n3[si][t3] || (e3.enumerable = true), e3;
        }
      }, H = function(t3) {
        var t3 = vi(u(t3)), e3 = [];
        return oi(t3, function(t4) {
          I(mi, t4) || I(J, t4) || e3.push(t4);
        }), e3;
      }, Ci = function(t3) {
        var e3 = t3 === li, t3 = vi(e3 ? bi : u(t3)), n3 = [];
        return oi(t3, function(t4) {
          !I(mi, t4) || e3 && !I(li, t4) || n3.push(mi[t4]);
        }), n3;
      };
      Qt || (lt((fi = function() {
        if (this instanceof fi)
          throw TypeError("Symbol is not a constructor");
        var t3 = arguments.length && void 0 !== arguments[0] ? String(arguments[0]) : void 0, e3 = L(t3), n3 = function(t4) {
          this === li && n3.call(bi, t4), I(this, si) && I(this[si], e3) && (this[si][e3] = false), Ii(this, e3, g(1, t4));
        };
        return f && Ti && Ii(li, e3, { configurable: true, set: n3 }), Jr(e3, t3);
      })[ui], "toString", function() {
        return hi(this).tag;
      }), lt(fi, "withoutSetter", function(t3) {
        return Jr(L(t3), t3);
      }), p.f = ki, R.f = Si, A.f = Q, wt.f = He.f = H, Tt.f = Ci, ri.f = function(t3) {
        return Jr(Kt(t3), t3);
      }, f && (gi(fi[ui], "description", { configurable: true, get: function() {
        return hi(this).description;
      } }), lt(li, "propertyIsEnumerable", ki, { unsafe: true }))), st({ global: true, wrap: true, forced: !Qt, sham: !Qt }, { Symbol: fi }), oi(Lt(o), function(t3) {
        $r(t3);
      }), st({ target: ai, stat: true, forced: !Qt }, { for: function(t3) {
        var e3 = String(t3);
        if (I(_i, e3))
          return _i[e3];
        t3 = fi(e3);
        return _i[e3] = t3, wi[t3] = e3, t3;
      }, keyFor: function(t3) {
        if (!Ei(t3))
          throw TypeError(t3 + " is not a symbol");
        if (I(wi, t3))
          return wi[t3];
      }, useSetter: function() {
        Ti = true;
      }, useSimple: function() {
        Ti = false;
      } }), st({ target: "Object", stat: true, forced: !Qt, sham: !f }, { create: function(t3, e3) {
        return void 0 === e3 ? Bt(t3) : Zr(Bt(t3), e3);
      }, defineProperty: Si, defineProperties: Zr, getOwnPropertyDescriptor: Q }), st({ target: "Object", stat: true, forced: !Qt }, { getOwnPropertyNames: H, getOwnPropertySymbols: Ci }), st({ target: "Object", stat: true, forced: v(function() {
        Tt.f(1);
      }) }, { getOwnPropertySymbols: function(t3) {
        return Tt.f(_(t3));
      } }), pi && (qi = !Qt || v(function() {
        var t3 = fi();
        return "[null]" != pi([t3]) || "{}" != pi({ a: t3 }) || "{}" != pi(Object(t3));
      }), st({ target: "JSON", stat: true, forced: qi }, { stringify: function(t3, e3, n3) {
        for (var r3, i3 = [t3], o3 = 1; o3 < arguments.length; )
          i3.push(arguments[o3++]);
        if ((y(r3 = e3) || void 0 !== t3) && !Ei(t3))
          return ur(e3) || (e3 = function(t4, e4) {
            if ("function" == typeof r3 && (e4 = r3.call(this, t4, e4)), !Ei(e4))
              return e4;
          }), i3[1] = e3, pi.apply(null, i3);
      } })), fi[ui][fr] || P(fi[ui], fr, fi[ui].valueOf), le(fi, ai), J[si] = true, $r("asyncIterator");
      var Ai, Ni, Ri, Pi, Oi, Q = R.f, Di = b.Symbol;
      !f || "function" != typeof Di || "description" in Di.prototype && void 0 === Di().description || (Ai = {}, ot(Ni = function() {
        var t3 = arguments.length < 1 || void 0 === arguments[0] ? void 0 : String(arguments[0]), e3 = this instanceof Ni ? new Di(t3) : void 0 === t3 ? Di() : Di(t3);
        return "" === t3 && (Ai[e3] = true), e3;
      }, Di), (Ki = Ni.prototype = Di.prototype).constructor = Ni, Ri = Ki.toString, Pi = "Symbol(test)" == String(Di("test")), Oi = /^Symbol\((.*)\)[^)]+$/, Q(Ki, "description", { configurable: true, get: function() {
        var t3 = y(this) ? this.valueOf() : this, e3 = Ri.call(t3);
        if (I(Ai, t3))
          return "";
        e3 = Pi ? e3.slice(7, -1) : e3.replace(Oi, "$1");
        return "" === e3 ? void 0 : e3;
      } }), st({ global: true, forced: true }, { Symbol: Ni })), $r("hasInstance"), $r("isConcatSpreadable"), $r("iterator"), $r("match"), $r("matchAll"), $r("replace"), $r("search"), $r("species"), $r("split"), $r("toPrimitive"), $r("toStringTag"), $r("unscopables"), le(b.JSON, "JSON", true), le(Math, "Math", true), st({ global: true }, { Reflect: {} }), le(b.Reflect, "Reflect", true), ft.Symbol, $r("asyncDispose"), $r("dispose"), $r("matcher"), $r("metadata"), $r("observable"), $r("patternMatch"), $r("replaceAll"), ri.f("iterator");
      var xi = !v(function() {
        return Object.isExtensible(Object.preventExtensions({}));
      }), Li = e(function(t3) {
        function n3(t4) {
          e3(t4, r3, { value: { objectID: "O" + ++i3, weakData: {} } });
        }
        var e3 = R.f, r3 = L("meta"), i3 = 0, o3 = Object.isExtensible || function() {
          return true;
        }, s3 = t3.exports = { REQUIRED: false, fastKey: function(t4, e4) {
          if (!y(t4))
            return "symbol" == typeof t4 ? t4 : ("string" == typeof t4 ? "S" : "P") + t4;
          if (!I(t4, r3)) {
            if (!o3(t4))
              return "F";
            if (!e4)
              return "E";
            n3(t4);
          }
          return t4[r3].objectID;
        }, getWeakData: function(t4, e4) {
          if (!I(t4, r3)) {
            if (!o3(t4))
              return true;
            if (!e4)
              return false;
            n3(t4);
          }
          return t4[r3].weakData;
        }, onFreeze: function(t4) {
          return xi && s3.REQUIRED && o3(t4) && !I(t4, r3) && n3(t4), t4;
        } };
        J[r3] = true;
      }), H = function(s3, t3, e3) {
        function n3(t4) {
          var n4 = p3[t4];
          lt(p3, t4, "add" == t4 ? function(t5) {
            return n4.call(this, 0 === t5 ? 0 : t5), this;
          } : "delete" == t4 ? function(t5) {
            return !(h3 && !y(t5)) && n4.call(this, 0 === t5 ? 0 : t5);
          } : "get" == t4 ? function(t5) {
            return h3 && !y(t5) ? void 0 : n4.call(this, 0 === t5 ? 0 : t5);
          } : "has" == t4 ? function(t5) {
            return !(h3 && !y(t5)) && n4.call(this, 0 === t5 ? 0 : t5);
          } : function(t5, e4) {
            return n4.call(this, 0 === t5 ? 0 : t5, e4), this;
          });
        }
        var r3, i3, o3, a3, u3, c3 = -1 !== s3.indexOf("Map"), h3 = -1 !== s3.indexOf("Weak"), l3 = c3 ? "set" : "add", f3 = b[s3], p3 = f3 && f3.prototype, d3 = f3, g3 = {};
        return Nt(s3, "function" != typeof f3 || !(h3 || p3.forEach && !v(function() {
          new f3().entries().next();
        }))) ? (d3 = e3.getConstructor(t3, s3, c3, l3), Li.REQUIRED = true) : Nt(s3, true) && (i3 = (r3 = new d3())[l3](h3 ? {} : -0, 1) != r3, o3 = v(function() {
          r3.has(1);
        }), a3 = Te(function(t4) {
          new f3(t4);
        }), u3 = !h3 && v(function() {
          for (var t4 = new f3(), e4 = 5; e4--; )
            t4[l3](e4, e4);
          return !t4.has(-0);
        }), a3 || (((d3 = t3(function(t4, e4) {
          pe(t4, d3, s3);
          var n4, r4, i4, o4, n4 = (n4 = new f3(), r4 = t4, t4 = d3, xt && "function" == typeof (i4 = r4.constructor) && i4 !== t4 && y(o4 = i4.prototype) && o4 !== t4.prototype && xt(n4, o4), n4);
          return null != e4 && ie(e4, n4[l3], { that: n4, AS_ENTRIES: c3 }), n4;
        })).prototype = p3).constructor = d3), (o3 || u3) && (n3("delete"), n3("has"), c3 && n3("get")), (u3 || i3) && n3(l3), h3 && p3.clear && delete p3.clear), g3[s3] = d3, st({ global: true, forced: d3 != f3 }, g3), le(d3, s3), h3 || e3.setStrong(d3, s3, c3), d3;
      }, Mi = R.f, Fi = Li.fastKey, ji = ht.set, Ui = ht.getterFor, qi = { getConstructor: function(t3, n3, r3, i3) {
        function o3(t4, e3, n4) {
          var r4, i4 = a3(t4), o4 = u3(t4, e3);
          return o4 ? o4.value = n4 : (i4.last = o4 = { index: r4 = Fi(e3, true), key: e3, value: n4, previous: n4 = i4.last, next: void 0, removed: false }, i4.first || (i4.first = o4), n4 && (n4.next = o4), f ? i4.size++ : t4.size++, "F" !== r4 && (i4.index[r4] = o4)), t4;
        }
        var s3 = t3(function(t4, e3) {
          pe(t4, s3, n3), ji(t4, { type: n3, index: Bt(null), first: void 0, last: void 0, size: 0 }), f || (t4.size = 0), null != e3 && ie(e3, t4[i3], { that: t4, AS_ENTRIES: r3 });
        }), a3 = Ui(n3), u3 = function(t4, e3) {
          var n4, r4 = a3(t4), t4 = Fi(e3);
          if ("F" !== t4)
            return r4.index[t4];
          for (n4 = r4.first; n4; n4 = n4.next)
            if (n4.key == e3)
              return n4;
        };
        return he(s3.prototype, { clear: function() {
          for (var t4 = a3(this), e3 = t4.index, n4 = t4.first; n4; )
            n4.removed = true, n4.previous && (n4.previous = n4.previous.next = void 0), delete e3[n4.index], n4 = n4.next;
          t4.first = t4.last = void 0, f ? t4.size = 0 : this.size = 0;
        }, delete: function(t4) {
          var e3, n4 = a3(this), r4 = u3(this, t4);
          return r4 && (e3 = r4.next, t4 = r4.previous, delete n4.index[r4.index], r4.removed = true, t4 && (t4.next = e3), e3 && (e3.previous = t4), n4.first == r4 && (n4.first = e3), n4.last == r4 && (n4.last = t4), f ? n4.size-- : this.size--), !!r4;
        }, forEach: function(t4) {
          for (var e3, n4 = a3(this), r4 = zt(t4, 1 < arguments.length ? arguments[1] : void 0, 3); e3 = e3 ? e3.next : n4.first; )
            for (r4(e3.value, e3.key, this); e3 && e3.removed; )
              e3 = e3.previous;
        }, has: function(t4) {
          return !!u3(this, t4);
        } }), he(s3.prototype, r3 ? { get: function(t4) {
          t4 = u3(this, t4);
          return t4 && t4.value;
        }, set: function(t4, e3) {
          return o3(this, 0 === t4 ? 0 : t4, e3);
        } } : { add: function(t4) {
          return o3(this, t4 = 0 === t4 ? 0 : t4, t4);
        } }), f && Mi(s3.prototype, "size", { get: function() {
          return a3(this).size;
        } }), s3;
      }, setStrong: function(t3, e3, n3) {
        var r3 = e3 + " Iterator", i3 = Ui(e3), o3 = Ui(r3);
        Ln(t3, e3, function(t4, e4) {
          ji(this, { type: r3, target: t4, state: i3(t4), kind: e4, last: void 0 });
        }, function() {
          for (var t4 = o3(this), e4 = t4.kind, n4 = t4.last; n4 && n4.removed; )
            n4 = n4.previous;
          return t4.target && (t4.last = n4 = n4 ? n4.next : t4.state.first) ? "keys" == e4 ? { value: n4.key, done: false } : "values" == e4 ? { value: n4.value, done: false } : { value: [n4.key, n4.value], done: false } : { value: t4.target = void 0, done: true };
        }, n3 ? "entries" : "values", !n3, true), fe(e3);
      } };
      H("Map", function(t3) {
        return function() {
          return t3(this, arguments.length ? arguments[0] : void 0);
        };
      }, qi), ft.Map;
      fr = function(t3) {
        var e3, n3, r3, i3, o3 = arguments.length, s3 = 1 < o3 ? arguments[1] : void 0;
        return Ht(this), (e3 = void 0 !== s3) && Ht(s3), null == t3 ? new this() : (n3 = [], e3 ? (r3 = 0, i3 = zt(s3, 2 < o3 ? arguments[2] : void 0, 2), ie(t3, function(t4) {
          n3.push(i3(t4, r3++));
        })) : ie(t3, n3.push, { that: n3 }), new this(n3));
      };
      st({ target: "Map", stat: true }, { from: fr });
      Q = function() {
        for (var t3 = arguments.length, e3 = new Array(t3); t3--; )
          e3[t3] = arguments[t3];
        return new this(e3);
      };
      st({ target: "Map", stat: true }, { of: Q });
      function Vi() {
        for (var t3, e3 = m(this), n3 = Ht(e3.delete), r3 = true, i3 = 0, o3 = arguments.length; i3 < o3; i3++)
          t3 = n3.call(e3, arguments[i3]), r3 = r3 && t3;
        return !!r3;
      }
      st({ target: "Map", proto: true, real: true, forced: G }, { deleteAll: function() {
        return Vi.apply(this, arguments);
      } });
      st({ target: "Map", proto: true, real: true, forced: G }, { emplace: function(t3, e3) {
        var n3 = m(this), e3 = n3.has(t3) && "update" in e3 ? e3.update(n3.get(t3), t3, n3) : e3.insert(t3, n3);
        return n3.set(t3, e3), e3;
      } });
      function Bi(t3) {
        return Map.prototype.entries.call(t3);
      }
      st({ target: "Map", proto: true, real: true, forced: G }, { every: function(t3) {
        var r3 = m(this), e3 = Bi(r3), i3 = zt(t3, 1 < arguments.length ? arguments[1] : void 0, 3);
        return !ie(e3, function(t4, e4, n3) {
          if (!i3(e4, t4, r3))
            return n3();
        }, { AS_ENTRIES: true, IS_ITERATOR: true, INTERRUPTED: true }).stopped;
      } }), st({ target: "Map", proto: true, real: true, forced: G }, { filter: function(t3) {
        var n3 = m(this), e3 = Bi(n3), r3 = zt(t3, 1 < arguments.length ? arguments[1] : void 0, 3), i3 = new (Ie(n3, et("Map")))(), o3 = Ht(i3.set);
        return ie(e3, function(t4, e4) {
          r3(e4, t4, n3) && o3.call(i3, t4, e4);
        }, { AS_ENTRIES: true, IS_ITERATOR: true }), i3;
      } }), st({ target: "Map", proto: true, real: true, forced: G }, { find: function(t3) {
        var r3 = m(this), e3 = Bi(r3), i3 = zt(t3, 1 < arguments.length ? arguments[1] : void 0, 3);
        return ie(e3, function(t4, e4, n3) {
          if (i3(e4, t4, r3))
            return n3(e4);
        }, { AS_ENTRIES: true, IS_ITERATOR: true, INTERRUPTED: true }).result;
      } }), st({ target: "Map", proto: true, real: true, forced: G }, { findKey: function(t3) {
        var r3 = m(this), e3 = Bi(r3), i3 = zt(t3, 1 < arguments.length ? arguments[1] : void 0, 3);
        return ie(e3, function(t4, e4, n3) {
          if (i3(e4, t4, r3))
            return n3(t4);
        }, { AS_ENTRIES: true, IS_ITERATOR: true, INTERRUPTED: true }).result;
      } }), st({ target: "Map", stat: true }, { groupBy: function(t3, n3) {
        var r3 = new this();
        Ht(n3);
        var i3 = Ht(r3.has), o3 = Ht(r3.get), s3 = Ht(r3.set);
        return ie(t3, function(t4) {
          var e3 = n3(t4);
          i3.call(r3, e3) ? o3.call(r3, e3).push(t4) : s3.call(r3, e3, [t4]);
        }), r3;
      } });
      st({ target: "Map", proto: true, real: true, forced: G }, { includes: function(i3) {
        return ie(Bi(m(this)), function(t3, e3, n3) {
          if ((r3 = e3) === (e3 = i3) || r3 != r3 && e3 != e3)
            return n3();
          var r3;
        }, { AS_ENTRIES: true, IS_ITERATOR: true, INTERRUPTED: true }).stopped;
      } }), st({ target: "Map", stat: true }, { keyBy: function(t3, e3) {
        var n3 = new this();
        Ht(e3);
        var r3 = Ht(n3.set);
        return ie(t3, function(t4) {
          r3.call(n3, e3(t4), t4);
        }), n3;
      } }), st({ target: "Map", proto: true, real: true, forced: G }, { keyOf: function(r3) {
        return ie(Bi(m(this)), function(t3, e3, n3) {
          if (e3 === r3)
            return n3(t3);
        }, { AS_ENTRIES: true, IS_ITERATOR: true, INTERRUPTED: true }).result;
      } }), st({ target: "Map", proto: true, real: true, forced: G }, { mapKeys: function(t3) {
        var n3 = m(this), e3 = Bi(n3), r3 = zt(t3, 1 < arguments.length ? arguments[1] : void 0, 3), i3 = new (Ie(n3, et("Map")))(), o3 = Ht(i3.set);
        return ie(e3, function(t4, e4) {
          o3.call(i3, r3(e4, t4, n3), e4);
        }, { AS_ENTRIES: true, IS_ITERATOR: true }), i3;
      } }), st({ target: "Map", proto: true, real: true, forced: G }, { mapValues: function(t3) {
        var n3 = m(this), e3 = Bi(n3), r3 = zt(t3, 1 < arguments.length ? arguments[1] : void 0, 3), i3 = new (Ie(n3, et("Map")))(), o3 = Ht(i3.set);
        return ie(e3, function(t4, e4) {
          o3.call(i3, t4, r3(e4, t4, n3));
        }, { AS_ENTRIES: true, IS_ITERATOR: true }), i3;
      } }), st({ target: "Map", proto: true, real: true, forced: G }, { merge: function(t3) {
        for (var e3 = m(this), n3 = Ht(e3.set), r3 = 0; r3 < arguments.length; )
          ie(arguments[r3++], n3, { that: e3, AS_ENTRIES: true });
        return e3;
      } }), st({ target: "Map", proto: true, real: true, forced: G }, { reduce: function(n3) {
        var r3 = m(this), t3 = Bi(r3), i3 = arguments.length < 2, o3 = i3 ? void 0 : arguments[1];
        if (Ht(n3), ie(t3, function(t4, e3) {
          o3 = i3 ? (i3 = false, e3) : n3(o3, e3, t4, r3);
        }, { AS_ENTRIES: true, IS_ITERATOR: true }), i3)
          throw TypeError("Reduce of empty map with no initial value");
        return o3;
      } }), st({ target: "Map", proto: true, real: true, forced: G }, { some: function(t3) {
        var r3 = m(this), e3 = Bi(r3), i3 = zt(t3, 1 < arguments.length ? arguments[1] : void 0, 3);
        return ie(e3, function(t4, e4, n3) {
          if (i3(e4, t4, r3))
            return n3();
        }, { AS_ENTRIES: true, IS_ITERATOR: true, INTERRUPTED: true }).stopped;
      } }), st({ target: "Map", proto: true, real: true, forced: G }, { update: function(t3, e3) {
        var n3 = m(this), r3 = arguments.length;
        Ht(e3);
        var i3 = n3.has(t3);
        if (!i3 && r3 < 3)
          throw TypeError("Updating absent value");
        r3 = i3 ? n3.get(t3) : Ht(2 < r3 ? arguments[2] : void 0)(t3, n3);
        return n3.set(t3, e3(r3, t3, n3)), n3;
      } });
      var Ki = function(t3, e3) {
        var n3, r3 = m(this), i3 = 2 < arguments.length ? arguments[2] : void 0;
        if ("function" != typeof e3 && "function" != typeof i3)
          throw TypeError("At least one callback required");
        return r3.has(t3) ? (n3 = r3.get(t3), "function" == typeof e3 && (n3 = e3(n3), r3.set(t3, n3))) : "function" == typeof i3 && (n3 = i3(), r3.set(t3, n3)), n3;
      };
      st({ target: "Map", proto: true, real: true, forced: G }, { upsert: Ki }), st({ target: "Map", proto: true, real: true, forced: G }, { updateOrInsert: Ki }), H("Set", function(t3) {
        return function() {
          return t3(this, arguments.length ? arguments[0] : void 0);
        };
      }, qi), ft.Set, st({ target: "Set", stat: true }, { from: fr }), st({ target: "Set", stat: true }, { of: Q });
      st({ target: "Set", proto: true, real: true, forced: G }, { addAll: function() {
        return function() {
          for (var t3 = m(this), e3 = Ht(t3.add), n3 = 0, r3 = arguments.length; n3 < r3; n3++)
            e3.call(t3, arguments[n3]);
          return t3;
        }.apply(this, arguments);
      } }), st({ target: "Set", proto: true, real: true, forced: G }, { deleteAll: function() {
        return Vi.apply(this, arguments);
      } });
      function Wi(t3) {
        return Set.prototype.values.call(t3);
      }
      st({ target: "Set", proto: true, real: true, forced: G }, { every: function(t3) {
        var n3 = m(this), e3 = Wi(n3), r3 = zt(t3, 1 < arguments.length ? arguments[1] : void 0, 3);
        return !ie(e3, function(t4, e4) {
          if (!r3(t4, t4, n3))
            return e4();
        }, { IS_ITERATOR: true, INTERRUPTED: true }).stopped;
      } }), st({ target: "Set", proto: true, real: true, forced: G }, { difference: function(t3) {
        var e3 = m(this), n3 = new (Ie(e3, et("Set")))(e3), r3 = Ht(n3.delete);
        return ie(t3, function(t4) {
          r3.call(n3, t4);
        }), n3;
      } }), st({ target: "Set", proto: true, real: true, forced: G }, { filter: function(t3) {
        var e3 = m(this), n3 = Wi(e3), r3 = zt(t3, 1 < arguments.length ? arguments[1] : void 0, 3), i3 = new (Ie(e3, et("Set")))(), o3 = Ht(i3.add);
        return ie(n3, function(t4) {
          r3(t4, t4, e3) && o3.call(i3, t4);
        }, { IS_ITERATOR: true }), i3;
      } }), st({ target: "Set", proto: true, real: true, forced: G }, { find: function(t3) {
        var n3 = m(this), e3 = Wi(n3), r3 = zt(t3, 1 < arguments.length ? arguments[1] : void 0, 3);
        return ie(e3, function(t4, e4) {
          if (r3(t4, t4, n3))
            return e4(t4);
        }, { IS_ITERATOR: true, INTERRUPTED: true }).result;
      } }), st({ target: "Set", proto: true, real: true, forced: G }, { intersection: function(t3) {
        var e3 = m(this), n3 = new (Ie(e3, et("Set")))(), r3 = Ht(e3.has), i3 = Ht(n3.add);
        return ie(t3, function(t4) {
          r3.call(e3, t4) && i3.call(n3, t4);
        }), n3;
      } }), st({ target: "Set", proto: true, real: true, forced: G }, { isDisjointFrom: function(t3) {
        var n3 = m(this), r3 = Ht(n3.has);
        return !ie(t3, function(t4, e3) {
          if (true === r3.call(n3, t4))
            return e3();
        }, { INTERRUPTED: true }).stopped;
      } }), st({ target: "Set", proto: true, real: true, forced: G }, { isSubsetOf: function(t3) {
        var e3 = function(t4) {
          var e4 = ee(t4);
          if ("function" != typeof e4)
            throw TypeError(String(t4) + " is not iterable");
          return m(e4.call(t4));
        }(this), n3 = m(t3), r3 = n3.has;
        return "function" != typeof r3 && (n3 = new (et("Set"))(t3), r3 = Ht(n3.has)), !ie(e3, function(t4, e4) {
          if (false === r3.call(n3, t4))
            return e4();
        }, { IS_ITERATOR: true, INTERRUPTED: true }).stopped;
      } }), st({ target: "Set", proto: true, real: true, forced: G }, { isSupersetOf: function(t3) {
        var n3 = m(this), r3 = Ht(n3.has);
        return !ie(t3, function(t4, e3) {
          if (false === r3.call(n3, t4))
            return e3();
        }, { INTERRUPTED: true }).stopped;
      } }), st({ target: "Set", proto: true, real: true, forced: G }, { join: function(t3) {
        var e3 = m(this), n3 = Wi(e3), e3 = void 0 === t3 ? "," : String(t3), t3 = [];
        return ie(n3, t3.push, { that: t3, IS_ITERATOR: true }), t3.join(e3);
      } }), st({ target: "Set", proto: true, real: true, forced: G }, { map: function(t3) {
        var e3 = m(this), n3 = Wi(e3), r3 = zt(t3, 1 < arguments.length ? arguments[1] : void 0, 3), i3 = new (Ie(e3, et("Set")))(), o3 = Ht(i3.add);
        return ie(n3, function(t4) {
          o3.call(i3, r3(t4, t4, e3));
        }, { IS_ITERATOR: true }), i3;
      } }), st({ target: "Set", proto: true, real: true, forced: G }, { reduce: function(e3) {
        var n3 = m(this), t3 = Wi(n3), r3 = arguments.length < 2, i3 = r3 ? void 0 : arguments[1];
        if (Ht(e3), ie(t3, function(t4) {
          i3 = r3 ? (r3 = false, t4) : e3(i3, t4, t4, n3);
        }, { IS_ITERATOR: true }), r3)
          throw TypeError("Reduce of empty set with no initial value");
        return i3;
      } }), st({ target: "Set", proto: true, real: true, forced: G }, { some: function(t3) {
        var n3 = m(this), e3 = Wi(n3), r3 = zt(t3, 1 < arguments.length ? arguments[1] : void 0, 3);
        return ie(e3, function(t4, e4) {
          if (r3(t4, t4, n3))
            return e4();
        }, { IS_ITERATOR: true, INTERRUPTED: true }).stopped;
      } }), st({ target: "Set", proto: true, real: true, forced: G }, { symmetricDifference: function(t3) {
        var e3 = m(this), n3 = new (Ie(e3, et("Set")))(e3), r3 = Ht(n3.delete), i3 = Ht(n3.add);
        return ie(t3, function(t4) {
          r3.call(n3, t4) || i3.call(n3, t4);
        }), n3;
      } }), st({ target: "Set", proto: true, real: true, forced: G }, { union: function(t3) {
        var e3 = m(this), e3 = new (Ie(e3, et("Set")))(e3);
        return ie(t3, Ht(e3.add), { that: e3 }), e3;
      } });
      var Hi = Math.floor;
      st({ target: "Number", stat: true }, { isInteger: function(t3) {
        return !y(t3) && isFinite(t3) && Hi(t3) === t3;
      } }), ft.Number.isInteger, st({ target: "Number", stat: true }, { isNaN: function(t3) {
        return t3 != t3;
      } }), ft.Number.isNaN;
      var zi = function(t3, e3) {
        return (zi = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
          t4.__proto__ = e4;
        } || function(t4, e4) {
          for (var n3 in e4)
            Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
        })(t3, e3);
      };
      function Gi(t3, e3) {
        if ("function" != typeof e3 && null !== e3)
          throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
        function n3() {
          this.constructor = t3;
        }
        zi(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
      }
      var Qi = function() {
        return (Qi = Object.assign || function(t3) {
          for (var e3, n3 = 1, r3 = arguments.length; n3 < r3; n3++)
            for (var i3 in e3 = arguments[n3])
              Object.prototype.hasOwnProperty.call(e3, i3) && (t3[i3] = e3[i3]);
          return t3;
        }).apply(this, arguments);
      };
      function Yi(t3, s3, a3, u3) {
        return new (a3 = a3 || Promise)(function(n3, e3) {
          function r3(t4) {
            try {
              o3(u3.next(t4));
            } catch (t5) {
              e3(t5);
            }
          }
          function i3(t4) {
            try {
              o3(u3.throw(t4));
            } catch (t5) {
              e3(t5);
            }
          }
          function o3(t4) {
            var e4;
            t4.done ? n3(t4.value) : ((e4 = t4.value) instanceof a3 ? e4 : new a3(function(t5) {
              t5(e4);
            })).then(r3, i3);
          }
          o3((u3 = u3.apply(t3, s3 || [])).next());
        });
      }
      function Xi(n3, r3) {
        var i3, o3, s3, a3 = { label: 0, sent: function() {
          if (1 & s3[0])
            throw s3[1];
          return s3[1];
        }, trys: [], ops: [] }, t3 = { next: e3(0), throw: e3(1), return: e3(2) };
        return "function" == typeof Symbol && (t3[Symbol.iterator] = function() {
          return this;
        }), t3;
        function e3(e4) {
          return function(t4) {
            return function(e5) {
              if (i3)
                throw new TypeError("Generator is already executing.");
              for (; a3; )
                try {
                  if (i3 = 1, o3 && (s3 = 2 & e5[0] ? o3.return : e5[0] ? o3.throw || ((s3 = o3.return) && s3.call(o3), 0) : o3.next) && !(s3 = s3.call(o3, e5[1])).done)
                    return s3;
                  switch (o3 = 0, (e5 = s3 ? [2 & e5[0], s3.value] : e5)[0]) {
                    case 0:
                    case 1:
                      s3 = e5;
                      break;
                    case 4:
                      return a3.label++, { value: e5[1], done: false };
                    case 5:
                      a3.label++, o3 = e5[1], e5 = [0];
                      continue;
                    case 7:
                      e5 = a3.ops.pop(), a3.trys.pop();
                      continue;
                    default:
                      if (!(s3 = 0 < (s3 = a3.trys).length && s3[s3.length - 1]) && (6 === e5[0] || 2 === e5[0])) {
                        a3 = 0;
                        continue;
                      }
                      if (3 === e5[0] && (!s3 || e5[1] > s3[0] && e5[1] < s3[3])) {
                        a3.label = e5[1];
                        break;
                      }
                      if (6 === e5[0] && a3.label < s3[1]) {
                        a3.label = s3[1], s3 = e5;
                        break;
                      }
                      if (s3 && a3.label < s3[2]) {
                        a3.label = s3[2], a3.ops.push(e5);
                        break;
                      }
                      s3[2] && a3.ops.pop(), a3.trys.pop();
                      continue;
                  }
                  e5 = r3.call(n3, a3);
                } catch (t5) {
                  e5 = [6, t5], o3 = 0;
                } finally {
                  i3 = s3 = 0;
                }
              if (5 & e5[0])
                throw e5[1];
              return { value: e5[0] ? e5[1] : void 0, done: true };
            }([e4, t4]);
          };
        }
      }
      function $i(t3) {
        var e3 = "function" == typeof Symbol && Symbol.iterator, n3 = e3 && t3[e3], r3 = 0;
        if (n3)
          return n3.call(t3);
        if (t3 && "number" == typeof t3.length)
          return { next: function() {
            return { value: (t3 = t3 && r3 >= t3.length ? void 0 : t3) && t3[r3++], done: !t3 };
          } };
        throw new TypeError(e3 ? "Object is not iterable." : "Symbol.iterator is not defined.");
      }
      function Ji(t3, e3) {
        var n3 = "function" == typeof Symbol && t3[Symbol.iterator];
        if (!n3)
          return t3;
        var r3, i3, o3 = n3.call(t3), s3 = [];
        try {
          for (; (void 0 === e3 || 0 < e3--) && !(r3 = o3.next()).done; )
            s3.push(r3.value);
        } catch (t4) {
          i3 = { error: t4 };
        } finally {
          try {
            r3 && !r3.done && (n3 = o3.return) && n3.call(o3);
          } finally {
            if (i3)
              throw i3.error;
          }
        }
        return s3;
      }
      function Zi(t3, e3) {
        for (var n3 = 0, r3 = e3.length, i3 = t3.length; n3 < r3; n3++, i3++)
          t3[i3] = e3[n3];
        return t3;
      }
      function to(t3) {
        for (var e3 = [], n3 = 0, r3 = 0; r3 < t3.length; r3++) {
          var i3 = t3.charCodeAt(r3);
          i3 < 128 ? e3[n3++] = i3 : (i3 < 2048 ? e3[n3++] = i3 >> 6 | 192 : (55296 == (64512 & i3) && r3 + 1 < t3.length && 56320 == (64512 & t3.charCodeAt(r3 + 1)) ? (i3 = 65536 + ((1023 & i3) << 10) + (1023 & t3.charCodeAt(++r3)), e3[n3++] = i3 >> 18 | 240, e3[n3++] = i3 >> 12 & 63 | 128) : e3[n3++] = i3 >> 12 | 224, e3[n3++] = i3 >> 6 & 63 | 128), e3[n3++] = 63 & i3 | 128);
        }
        return e3;
      }
      function eo(t3) {
        return t3 = to(t3), so.encodeByteArray(t3, true);
      }
      function no(t3) {
        try {
          return so.decodeString(t3, true);
        } catch (t4) {
          console.error("base64Decode failed: ", t4);
        }
        return null;
      }
      var ro = { NODE_CLIENT: false, NODE_ADMIN: false, SDK_VERSION: "${JSCORE_VERSION}" }, io = function(t3, e3) {
        if (!t3)
          throw oo(e3);
      }, oo = function(t3) {
        return new Error("Firebase Database (" + ro.SDK_VERSION + ") INTERNAL ASSERT FAILED: " + t3);
      }, so = { byteToCharMap_: null, charToByteMap_: null, byteToCharMapWebSafe_: null, charToByteMapWebSafe_: null, ENCODED_VALS_BASE: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", get ENCODED_VALS() {
        return this.ENCODED_VALS_BASE + "+/=";
      }, get ENCODED_VALS_WEBSAFE() {
        return this.ENCODED_VALS_BASE + "-_.";
      }, HAS_NATIVE_SUPPORT: "function" == typeof atob, encodeByteArray: function(t3, e3) {
        if (!Array.isArray(t3))
          throw Error("encodeByteArray takes an array as a parameter");
        this.init_();
        for (var n3 = e3 ? this.byteToCharMapWebSafe_ : this.byteToCharMap_, r3 = [], i3 = 0; i3 < t3.length; i3 += 3) {
          var o3 = t3[i3], s3 = i3 + 1 < t3.length, a3 = s3 ? t3[i3 + 1] : 0, u3 = i3 + 2 < t3.length, c3 = u3 ? t3[i3 + 2] : 0, h3 = (15 & a3) << 2 | c3 >> 6, c3 = 63 & c3;
          u3 || (c3 = 64, s3 || (h3 = 64)), r3.push(n3[o3 >> 2], n3[(3 & o3) << 4 | a3 >> 4], n3[h3], n3[c3]);
        }
        return r3.join("");
      }, encodeString: function(t3, e3) {
        return this.HAS_NATIVE_SUPPORT && !e3 ? btoa(t3) : this.encodeByteArray(to(t3), e3);
      }, decodeString: function(t3, e3) {
        return this.HAS_NATIVE_SUPPORT && !e3 ? atob(t3) : function(t4) {
          for (var e4 = [], n3 = 0, r3 = 0; n3 < t4.length; ) {
            var i3, o3, s3, a3 = t4[n3++];
            a3 < 128 ? e4[r3++] = String.fromCharCode(a3) : 191 < a3 && a3 < 224 ? (o3 = t4[n3++], e4[r3++] = String.fromCharCode((31 & a3) << 6 | 63 & o3)) : 239 < a3 && a3 < 365 ? (i3 = ((7 & a3) << 18 | (63 & (o3 = t4[n3++])) << 12 | (63 & (s3 = t4[n3++])) << 6 | 63 & t4[n3++]) - 65536, e4[r3++] = String.fromCharCode(55296 + (i3 >> 10)), e4[r3++] = String.fromCharCode(56320 + (1023 & i3))) : (o3 = t4[n3++], s3 = t4[n3++], e4[r3++] = String.fromCharCode((15 & a3) << 12 | (63 & o3) << 6 | 63 & s3));
          }
          return e4.join("");
        }(this.decodeStringToByteArray(t3, e3));
      }, decodeStringToByteArray: function(t3, e3) {
        this.init_();
        for (var n3 = e3 ? this.charToByteMapWebSafe_ : this.charToByteMap_, r3 = [], i3 = 0; i3 < t3.length; ) {
          var o3 = n3[t3.charAt(i3++)], s3 = i3 < t3.length ? n3[t3.charAt(i3)] : 0, a3 = ++i3 < t3.length ? n3[t3.charAt(i3)] : 64, u3 = ++i3 < t3.length ? n3[t3.charAt(i3)] : 64;
          if (++i3, null == o3 || null == s3 || null == a3 || null == u3)
            throw Error();
          r3.push(o3 << 2 | s3 >> 4), 64 !== a3 && (r3.push(s3 << 4 & 240 | a3 >> 2), 64 !== u3 && r3.push(a3 << 6 & 192 | u3));
        }
        return r3;
      }, init_: function() {
        if (!this.byteToCharMap_) {
          this.byteToCharMap_ = {}, this.charToByteMap_ = {}, this.byteToCharMapWebSafe_ = {}, this.charToByteMapWebSafe_ = {};
          for (var t3 = 0; t3 < this.ENCODED_VALS.length; t3++)
            this.byteToCharMap_[t3] = this.ENCODED_VALS.charAt(t3), this.charToByteMap_[this.byteToCharMap_[t3]] = t3, this.byteToCharMapWebSafe_[t3] = this.ENCODED_VALS_WEBSAFE.charAt(t3), (this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t3]] = t3) >= this.ENCODED_VALS_BASE.length && (this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t3)] = t3, this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t3)] = t3);
        }
      } }, ao = function(t3) {
        return eo(t3).replace(/\./g, "");
      };
      function uo(t3) {
        return co(void 0, t3);
      }
      function co(t3, e3) {
        if (!(e3 instanceof Object))
          return e3;
        switch (e3.constructor) {
          case Date:
            return new Date(e3.getTime());
          case Object:
            void 0 === t3 && (t3 = {});
            break;
          case Array:
            t3 = [];
            break;
          default:
            return e3;
        }
        for (var n3 in e3)
          e3.hasOwnProperty(n3) && "__proto__" !== n3 && (t3[n3] = co(t3[n3], e3[n3]));
        return t3;
      }
      var ho = (lo.prototype.wrapCallback = function(n3) {
        var r3 = this;
        return function(t3, e3) {
          t3 ? r3.reject(t3) : r3.resolve(e3), "function" == typeof n3 && (r3.promise.catch(function() {
          }), 1 === n3.length ? n3(t3) : n3(t3, e3));
        };
      }, lo);
      function lo() {
        var n3 = this;
        this.reject = function() {
        }, this.resolve = function() {
        }, this.promise = new Promise(function(t3, e3) {
          n3.resolve = t3, n3.reject = e3;
        });
      }
      function fo(t3, e3) {
        if (t3.uid)
          throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');
        var n3 = e3 || "demo-project", r3 = t3.iat || 0, e3 = t3.sub || t3.user_id;
        if (!e3)
          throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");
        t3 = Qi({ iss: "https://securetoken.google.com/" + n3, aud: n3, iat: r3, exp: r3 + 3600, auth_time: r3, sub: e3, user_id: e3, firebase: { sign_in_provider: "custom", identities: {} } }, t3);
        return [ao(JSON.stringify({ alg: "none", type: "JWT" })), ao(JSON.stringify(t3)), ""].join(".");
      }
      function po() {
        return "undefined" != typeof navigator && "string" == typeof navigator.userAgent ? navigator.userAgent : "";
      }
      function go() {
        return "undefined" != typeof window && (window.cordova || window.phonegap || window.PhoneGap) && /ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(po());
      }
      function vo() {
        try {
          return "[object process]" === Object.prototype.toString.call(global.process);
        } catch (t3) {
          return;
        }
      }
      function yo() {
        var t3 = "object" == typeof chrome ? chrome.runtime : "object" == typeof browser ? browser.runtime : void 0;
        return "object" == typeof t3 && void 0 !== t3.id;
      }
      function mo() {
        return "object" == typeof navigator && "ReactNative" === navigator.product;
      }
      function bo() {
        return true === ro.NODE_ADMIN;
      }
      function _o() {
        return "indexedDB" in self && null != indexedDB;
      }
      function wo() {
        return new Promise(function(t3, e3) {
          try {
            var n3 = true, r3 = "validate-browser-context-for-indexeddb-analytics-module", i3 = self.indexedDB.open(r3);
            i3.onsuccess = function() {
              i3.result.close(), n3 || self.indexedDB.deleteDatabase(r3), t3(true);
            }, i3.onupgradeneeded = function() {
              n3 = false;
            }, i3.onerror = function() {
              var t4;
              e3((null === (t4 = i3.error) || void 0 === t4 ? void 0 : t4.message) || "");
            };
          } catch (t4) {
            e3(t4);
          }
        });
      }
      function To() {
        return !(!navigator || !navigator.cookieEnabled);
      }
      var Io, Eo = "FirebaseError", So = (Gi(ko, Io = Error), ko);
      function ko(t3, e3, n3) {
        e3 = Io.call(this, e3) || this;
        return e3.code = t3, e3.customData = n3, e3.name = Eo, Object.setPrototypeOf(e3, ko.prototype), Error.captureStackTrace && Error.captureStackTrace(e3, Co.prototype.create), e3;
      }
      var Co = (Ao.prototype.create = function(t3) {
        for (var e3 = [], n3 = 1; n3 < arguments.length; n3++)
          e3[n3 - 1] = arguments[n3];
        var r3, i3 = e3[0] || {}, o3 = this.service + "/" + t3, t3 = this.errors[t3], t3 = t3 ? (r3 = i3, t3.replace(No, function(t4, e4) {
          var n4 = r3[e4];
          return null != n4 ? String(n4) : "<" + e4 + "?>";
        })) : "Error", t3 = this.serviceName + ": " + t3 + " (" + o3 + ").";
        return new So(o3, t3, i3);
      }, Ao);
      function Ao(t3, e3, n3) {
        this.service = t3, this.serviceName = e3, this.errors = n3;
      }
      var No = /\{\$([^}]+)}/g;
      function Ro(t3) {
        return JSON.parse(t3);
      }
      function Po(t3) {
        return JSON.stringify(t3);
      }
      function Oo(t3) {
        var e3 = {}, n3 = {}, r3 = {}, i3 = "";
        try {
          var o3 = t3.split("."), e3 = Ro(no(o3[0]) || ""), n3 = Ro(no(o3[1]) || ""), i3 = o3[2], r3 = n3.d || {};
          delete n3.d;
        } catch (t4) {
        }
        return { header: e3, claims: n3, data: r3, signature: i3 };
      }
      function Do(t3, e3) {
        return Object.prototype.hasOwnProperty.call(t3, e3);
      }
      function xo(t3, e3) {
        if (Object.prototype.hasOwnProperty.call(t3, e3))
          return t3[e3];
      }
      function Lo(t3) {
        for (var e3 in t3)
          if (Object.prototype.hasOwnProperty.call(t3, e3))
            return false;
        return true;
      }
      function Mo(t3, e3, n3) {
        var r3, i3 = {};
        for (r3 in t3)
          Object.prototype.hasOwnProperty.call(t3, r3) && (i3[r3] = e3.call(n3, t3[r3], r3, t3));
        return i3;
      }
      function Fo(t3) {
        for (var n3 = [], e3 = 0, r3 = Object.entries(t3); e3 < r3.length; e3++) {
          var i3 = r3[e3];
          !function(e4, t4) {
            Array.isArray(t4) ? t4.forEach(function(t5) {
              n3.push(encodeURIComponent(e4) + "=" + encodeURIComponent(t5));
            }) : n3.push(encodeURIComponent(e4) + "=" + encodeURIComponent(t4));
          }(i3[0], i3[1]);
        }
        return n3.length ? "&" + n3.join("&") : "";
      }
      var jo = (Uo.prototype.reset = function() {
        this.chain_[0] = 1732584193, this.chain_[1] = 4023233417, this.chain_[2] = 2562383102, this.chain_[3] = 271733878, this.chain_[4] = 3285377520, this.inbuf_ = 0, this.total_ = 0;
      }, Uo.prototype.compress_ = function(t3, e3) {
        e3 = e3 || 0;
        var n3 = this.W_;
        if ("string" == typeof t3)
          for (var r3 = 0; r3 < 16; r3++)
            n3[r3] = t3.charCodeAt(e3) << 24 | t3.charCodeAt(e3 + 1) << 16 | t3.charCodeAt(e3 + 2) << 8 | t3.charCodeAt(e3 + 3), e3 += 4;
        else
          for (r3 = 0; r3 < 16; r3++)
            n3[r3] = t3[e3] << 24 | t3[e3 + 1] << 16 | t3[e3 + 2] << 8 | t3[e3 + 3], e3 += 4;
        for (r3 = 16; r3 < 80; r3++) {
          var i3 = n3[r3 - 3] ^ n3[r3 - 8] ^ n3[r3 - 14] ^ n3[r3 - 16];
          n3[r3] = 4294967295 & (i3 << 1 | i3 >>> 31);
        }
        for (var o3, s3 = this.chain_[0], a3 = this.chain_[1], u3 = this.chain_[2], c3 = this.chain_[3], h3 = this.chain_[4], r3 = 0; r3 < 80; r3++)
          var l3 = r3 < 40 ? r3 < 20 ? (o3 = c3 ^ a3 & (u3 ^ c3), 1518500249) : (o3 = a3 ^ u3 ^ c3, 1859775393) : r3 < 60 ? (o3 = a3 & u3 | c3 & (a3 | u3), 2400959708) : (o3 = a3 ^ u3 ^ c3, 3395469782), i3 = (s3 << 5 | s3 >>> 27) + o3 + h3 + l3 + n3[r3] & 4294967295, h3 = c3, c3 = u3, u3 = 4294967295 & (a3 << 30 | a3 >>> 2), a3 = s3, s3 = i3;
        this.chain_[0] = this.chain_[0] + s3 & 4294967295, this.chain_[1] = this.chain_[1] + a3 & 4294967295, this.chain_[2] = this.chain_[2] + u3 & 4294967295, this.chain_[3] = this.chain_[3] + c3 & 4294967295, this.chain_[4] = this.chain_[4] + h3 & 4294967295;
      }, Uo.prototype.update = function(t3, e3) {
        if (null != t3) {
          for (var n3 = (e3 = void 0 === e3 ? t3.length : e3) - this.blockSize, r3 = 0, i3 = this.buf_, o3 = this.inbuf_; r3 < e3; ) {
            if (0 === o3)
              for (; r3 <= n3; )
                this.compress_(t3, r3), r3 += this.blockSize;
            if ("string" == typeof t3) {
              for (; r3 < e3; )
                if (i3[o3] = t3.charCodeAt(r3), ++r3, ++o3 === this.blockSize) {
                  this.compress_(i3), o3 = 0;
                  break;
                }
            } else
              for (; r3 < e3; )
                if (i3[o3] = t3[r3], ++r3, ++o3 === this.blockSize) {
                  this.compress_(i3), o3 = 0;
                  break;
                }
          }
          this.inbuf_ = o3, this.total_ += e3;
        }
      }, Uo.prototype.digest = function() {
        var t3 = [], e3 = 8 * this.total_;
        this.inbuf_ < 56 ? this.update(this.pad_, 56 - this.inbuf_) : this.update(this.pad_, this.blockSize - (this.inbuf_ - 56));
        for (var n3 = this.blockSize - 1; 56 <= n3; n3--)
          this.buf_[n3] = 255 & e3, e3 /= 256;
        this.compress_(this.buf_);
        for (var r3 = 0, n3 = 0; n3 < 5; n3++)
          for (var i3 = 24; 0 <= i3; i3 -= 8)
            t3[r3] = this.chain_[n3] >> i3 & 255, ++r3;
        return t3;
      }, Uo);
      function Uo() {
        this.chain_ = [], this.buf_ = [], this.W_ = [], this.pad_ = [], this.inbuf_ = 0, this.total_ = 0, this.blockSize = 64, this.pad_[0] = 128;
        for (var t3 = 1; t3 < this.blockSize; ++t3)
          this.pad_[t3] = 0;
        this.reset();
      }
      function qo(t3, e3) {
        e3 = new Vo(t3, e3);
        return e3.subscribe.bind(e3);
      }
      var Vo = (Bo.prototype.next = function(e3) {
        this.forEachObserver(function(t3) {
          t3.next(e3);
        });
      }, Bo.prototype.error = function(e3) {
        this.forEachObserver(function(t3) {
          t3.error(e3);
        }), this.close(e3);
      }, Bo.prototype.complete = function() {
        this.forEachObserver(function(t3) {
          t3.complete();
        }), this.close();
      }, Bo.prototype.subscribe = function(t3, e3, n3) {
        var r3, i3 = this;
        if (void 0 === t3 && void 0 === e3 && void 0 === n3)
          throw new Error("Missing Observer.");
        void 0 === (r3 = function(t4, e4) {
          if ("object" != typeof t4 || null === t4)
            return false;
          for (var n4 = 0, r4 = e4; n4 < r4.length; n4++) {
            var i4 = r4[n4];
            if (i4 in t4 && "function" == typeof t4[i4])
              return true;
          }
          return false;
        }(t3, ["next", "error", "complete"]) ? t3 : { next: t3, error: e3, complete: n3 }).next && (r3.next = Ko), void 0 === r3.error && (r3.error = Ko), void 0 === r3.complete && (r3.complete = Ko);
        n3 = this.unsubscribeOne.bind(this, this.observers.length);
        return this.finalized && this.task.then(function() {
          try {
            i3.finalError ? r3.error(i3.finalError) : r3.complete();
          } catch (t4) {
          }
        }), this.observers.push(r3), n3;
      }, Bo.prototype.unsubscribeOne = function(t3) {
        void 0 !== this.observers && void 0 !== this.observers[t3] && (delete this.observers[t3], --this.observerCount, 0 === this.observerCount && void 0 !== this.onNoObservers && this.onNoObservers(this));
      }, Bo.prototype.forEachObserver = function(t3) {
        if (!this.finalized)
          for (var e3 = 0; e3 < this.observers.length; e3++)
            this.sendOne(e3, t3);
      }, Bo.prototype.sendOne = function(t3, e3) {
        var n3 = this;
        this.task.then(function() {
          if (void 0 !== n3.observers && void 0 !== n3.observers[t3])
            try {
              e3(n3.observers[t3]);
            } catch (t4) {
              "undefined" != typeof console && console.error && console.error(t4);
            }
        });
      }, Bo.prototype.close = function(t3) {
        var e3 = this;
        this.finalized || (this.finalized = true, void 0 !== t3 && (this.finalError = t3), this.task.then(function() {
          e3.observers = void 0, e3.onNoObservers = void 0;
        }));
      }, Bo);
      function Bo(t3, e3) {
        var n3 = this;
        this.observers = [], this.unsubscribes = [], this.observerCount = 0, this.task = Promise.resolve(), this.finalized = false, this.onNoObservers = e3, this.task.then(function() {
          t3(n3);
        }).catch(function(t4) {
          n3.error(t4);
        });
      }
      function Ko() {
      }
      function Wo(t3, e3, n3, r3) {
        var i3;
        if (r3 < e3 ? i3 = "at least " + e3 : n3 < r3 && (i3 = 0 === n3 ? "none" : "no more than " + n3), i3)
          throw new Error(t3 + " failed: Was called with " + r3 + (1 === r3 ? " argument." : " arguments.") + " Expects " + i3 + ".");
      }
      function Ho(t3, e3) {
        return t3 + " failed: " + e3 + " argument ";
      }
      function zo(t3, e3, n3, r3) {
        if ((!r3 || n3) && "function" != typeof n3)
          throw new Error(Ho(t3, e3) + "must be a valid function.");
      }
      function Go(t3, e3, n3, r3) {
        if ((!r3 || n3) && ("object" != typeof n3 || null === n3))
          throw new Error(Ho(t3, e3) + "must be a valid context object.");
      }
      function Qo(t3) {
        for (var e3 = 0, n3 = 0; n3 < t3.length; n3++) {
          var r3 = t3.charCodeAt(n3);
          r3 < 128 ? e3++ : r3 < 2048 ? e3 += 2 : 55296 <= r3 && r3 <= 56319 ? (e3 += 4, n3++) : e3 += 3;
        }
        return e3;
      }
      var Yo = 1e3, Xo = 2, $o = 144e5, Jo = 0.5;
      function Zo(t3, e3, n3) {
        void 0 === n3 && (n3 = Xo);
        n3 = (e3 = void 0 === e3 ? Yo : e3) * Math.pow(n3, t3), t3 = Math.round(Jo * n3 * (Math.random() - 0.5) * 2);
        return Math.min($o, n3 + t3);
      }
      function ts(t3) {
        return t3 && t3._delegate ? t3._delegate : t3;
      }
      var es = (ns.prototype.setInstantiationMode = function(t3) {
        return this.instantiationMode = t3, this;
      }, ns.prototype.setMultipleInstances = function(t3) {
        return this.multipleInstances = t3, this;
      }, ns.prototype.setServiceProps = function(t3) {
        return this.serviceProps = t3, this;
      }, ns.prototype.setInstanceCreatedCallback = function(t3) {
        return this.onInstanceCreated = t3, this;
      }, ns);
      function ns(t3, e3, n3) {
        this.name = t3, this.instanceFactory = e3, this.type = n3, this.multipleInstances = false, this.serviceProps = {}, this.instantiationMode = "LAZY", this.onInstanceCreated = null;
      }
      var rs = "[DEFAULT]", is = (os.prototype.get = function(t3) {
        var e3 = this.normalizeInstanceIdentifier(t3);
        if (!this.instancesDeferred.has(e3)) {
          t3 = new ho();
          if (this.instancesDeferred.set(e3, t3), this.isInitialized(e3) || this.shouldAutoInitialize())
            try {
              var n3 = this.getOrInitializeService({ instanceIdentifier: e3 });
              n3 && t3.resolve(n3);
            } catch (t4) {
            }
        }
        return this.instancesDeferred.get(e3).promise;
      }, os.prototype.getImmediate = function(e3) {
        var t3 = this.normalizeInstanceIdentifier(null == e3 ? void 0 : e3.identifier), e3 = null !== (e3 = null == e3 ? void 0 : e3.optional) && void 0 !== e3 && e3;
        if (!this.isInitialized(t3) && !this.shouldAutoInitialize()) {
          if (e3)
            return null;
          throw Error("Service " + this.name + " is not available");
        }
        try {
          return this.getOrInitializeService({ instanceIdentifier: t3 });
        } catch (t4) {
          if (e3)
            return null;
          throw t4;
        }
      }, os.prototype.getComponent = function() {
        return this.component;
      }, os.prototype.setComponent = function(t3) {
        var e3, n3;
        if (t3.name !== this.name)
          throw Error("Mismatching Component " + t3.name + " for Provider " + this.name + ".");
        if (this.component)
          throw Error("Component for " + this.name + " has already been provided");
        if (this.component = t3, this.shouldAutoInitialize()) {
          if ("EAGER" === t3.instantiationMode)
            try {
              this.getOrInitializeService({ instanceIdentifier: rs });
            } catch (t4) {
            }
          try {
            for (var r3 = $i(this.instancesDeferred.entries()), i3 = r3.next(); !i3.done; i3 = r3.next()) {
              var o3 = Ji(i3.value, 2), s3 = o3[0], a3 = o3[1], u3 = this.normalizeInstanceIdentifier(s3);
              try {
                var c3 = this.getOrInitializeService({ instanceIdentifier: u3 });
                a3.resolve(c3);
              } catch (t4) {
              }
            }
          } catch (t4) {
            e3 = { error: t4 };
          } finally {
            try {
              i3 && !i3.done && (n3 = r3.return) && n3.call(r3);
            } finally {
              if (e3)
                throw e3.error;
            }
          }
        }
      }, os.prototype.clearInstance = function(t3) {
        this.instancesDeferred.delete(t3 = void 0 === t3 ? rs : t3), this.instancesOptions.delete(t3), this.instances.delete(t3);
      }, os.prototype.delete = function() {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e3 = Array.from(this.instances.values()), [4, Promise.all(Zi(Zi([], Ji(e3.filter(function(t4) {
                  return "INTERNAL" in t4;
                }).map(function(t4) {
                  return t4.INTERNAL.delete();
                }))), Ji(e3.filter(function(t4) {
                  return "_delete" in t4;
                }).map(function(t4) {
                  return t4._delete();
                }))))];
              case 1:
                return t3.sent(), [2];
            }
          });
        });
      }, os.prototype.isComponentSet = function() {
        return null != this.component;
      }, os.prototype.isInitialized = function(t3) {
        return this.instances.has(t3 = void 0 === t3 ? rs : t3);
      }, os.prototype.getOptions = function(t3) {
        return this.instancesOptions.get(t3 = void 0 === t3 ? rs : t3) || {};
      }, os.prototype.initialize = function(t3) {
        var e3, n3, r3 = (t3 = void 0 === t3 ? {} : t3).options, r3 = void 0 === r3 ? {} : r3, i3 = this.normalizeInstanceIdentifier(t3.instanceIdentifier);
        if (this.isInitialized(i3))
          throw Error(this.name + "(" + i3 + ") has already been initialized");
        if (!this.isComponentSet())
          throw Error("Component " + this.name + " has not been registered yet");
        var o3 = this.getOrInitializeService({ instanceIdentifier: i3, options: r3 });
        try {
          for (var s3 = $i(this.instancesDeferred.entries()), a3 = s3.next(); !a3.done; a3 = s3.next()) {
            var u3 = Ji(a3.value, 2), c3 = u3[0], h3 = u3[1];
            i3 === this.normalizeInstanceIdentifier(c3) && h3.resolve(o3);
          }
        } catch (t4) {
          e3 = { error: t4 };
        } finally {
          try {
            a3 && !a3.done && (n3 = s3.return) && n3.call(s3);
          } finally {
            if (e3)
              throw e3.error;
          }
        }
        return o3;
      }, os.prototype.onInit = function(t3, e3) {
        var n3 = this.normalizeInstanceIdentifier(e3), r3 = null !== (e3 = this.onInitCallbacks.get(n3)) && void 0 !== e3 ? e3 : /* @__PURE__ */ new Set();
        r3.add(t3), this.onInitCallbacks.set(n3, r3);
        e3 = this.instances.get(n3);
        return e3 && t3(e3, n3), function() {
          r3.delete(t3);
        };
      }, os.prototype.invokeOnInitCallbacks = function(t3, e3) {
        var n3, r3, i3 = this.onInitCallbacks.get(e3);
        if (i3)
          try {
            for (var o3 = $i(i3), s3 = o3.next(); !s3.done; s3 = o3.next()) {
              var a3 = s3.value;
              try {
                a3(t3, e3);
              } catch (t4) {
              }
            }
          } catch (t4) {
            n3 = { error: t4 };
          } finally {
            try {
              s3 && !s3.done && (r3 = o3.return) && r3.call(o3);
            } finally {
              if (n3)
                throw n3.error;
            }
          }
      }, os.prototype.getOrInitializeService = function(t3) {
        var e3 = t3.instanceIdentifier, n3 = t3.options, r3 = void 0 === n3 ? {} : n3, t3 = this.instances.get(e3);
        if (!t3 && this.component && (t3 = this.component.instanceFactory(this.container, { instanceIdentifier: (n3 = e3) === rs ? void 0 : n3, options: r3 }), this.instances.set(e3, t3), this.instancesOptions.set(e3, r3), this.invokeOnInitCallbacks(t3, e3), this.component.onInstanceCreated))
          try {
            this.component.onInstanceCreated(this.container, e3, t3);
          } catch (t4) {
          }
        return t3 || null;
      }, os.prototype.normalizeInstanceIdentifier = function(t3) {
        return void 0 === t3 && (t3 = rs), !this.component || this.component.multipleInstances ? t3 : rs;
      }, os.prototype.shouldAutoInitialize = function() {
        return !!this.component && "EXPLICIT" !== this.component.instantiationMode;
      }, os);
      function os(t3, e3) {
        this.name = t3, this.container = e3, this.component = null, this.instances = /* @__PURE__ */ new Map(), this.instancesDeferred = /* @__PURE__ */ new Map(), this.instancesOptions = /* @__PURE__ */ new Map(), this.onInitCallbacks = /* @__PURE__ */ new Map();
      }
      var ss = (as.prototype.addComponent = function(t3) {
        var e3 = this.getProvider(t3.name);
        if (e3.isComponentSet())
          throw new Error("Component " + t3.name + " has already been registered with " + this.name);
        e3.setComponent(t3);
      }, as.prototype.addOrOverwriteComponent = function(t3) {
        this.getProvider(t3.name).isComponentSet() && this.providers.delete(t3.name), this.addComponent(t3);
      }, as.prototype.getProvider = function(t3) {
        if (this.providers.has(t3))
          return this.providers.get(t3);
        var e3 = new is(t3, this);
        return this.providers.set(t3, e3), e3;
      }, as.prototype.getProviders = function() {
        return Array.from(this.providers.values());
      }, as);
      function as(t3) {
        this.name = t3, this.providers = /* @__PURE__ */ new Map();
      }
      var us, cs = [];
      (fr = us = us || {})[fr.DEBUG = 0] = "DEBUG", fr[fr.VERBOSE = 1] = "VERBOSE", fr[fr.INFO = 2] = "INFO", fr[fr.WARN = 3] = "WARN", fr[fr.ERROR = 4] = "ERROR", fr[fr.SILENT = 5] = "SILENT";
      function hs(t3, e3) {
        for (var n3 = [], r3 = 2; r3 < arguments.length; r3++)
          n3[r3 - 2] = arguments[r3];
        if (!(e3 < t3.logLevel)) {
          var i3 = new Date().toISOString(), o3 = ps[e3];
          if (!o3)
            throw new Error("Attempted to log a message with an invalid logType (value: " + e3 + ")");
          console[o3].apply(console, Zi(["[" + i3 + "]  " + t3.name + ":"], n3));
        }
      }
      var ls = { debug: us.DEBUG, verbose: us.VERBOSE, info: us.INFO, warn: us.WARN, error: us.ERROR, silent: us.SILENT }, fs = us.INFO, ps = ((Q = {})[us.DEBUG] = "log", Q[us.VERBOSE] = "log", Q[us.INFO] = "info", Q[us.WARN] = "warn", Q[us.ERROR] = "error", Q), ds = (Object.defineProperty(gs.prototype, "logLevel", { get: function() {
        return this._logLevel;
      }, set: function(t3) {
        if (!(t3 in us))
          throw new TypeError('Invalid value "' + t3 + '" assigned to `logLevel`');
        this._logLevel = t3;
      }, enumerable: false, configurable: true }), gs.prototype.setLogLevel = function(t3) {
        this._logLevel = "string" == typeof t3 ? ls[t3] : t3;
      }, Object.defineProperty(gs.prototype, "logHandler", { get: function() {
        return this._logHandler;
      }, set: function(t3) {
        if ("function" != typeof t3)
          throw new TypeError("Value assigned to `logHandler` must be a function");
        this._logHandler = t3;
      }, enumerable: false, configurable: true }), Object.defineProperty(gs.prototype, "userLogHandler", { get: function() {
        return this._userLogHandler;
      }, set: function(t3) {
        this._userLogHandler = t3;
      }, enumerable: false, configurable: true }), gs.prototype.debug = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        this._userLogHandler && this._userLogHandler.apply(this, Zi([this, us.DEBUG], t3)), this._logHandler.apply(this, Zi([this, us.DEBUG], t3));
      }, gs.prototype.log = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        this._userLogHandler && this._userLogHandler.apply(this, Zi([this, us.VERBOSE], t3)), this._logHandler.apply(this, Zi([this, us.VERBOSE], t3));
      }, gs.prototype.info = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        this._userLogHandler && this._userLogHandler.apply(this, Zi([this, us.INFO], t3)), this._logHandler.apply(this, Zi([this, us.INFO], t3));
      }, gs.prototype.warn = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        this._userLogHandler && this._userLogHandler.apply(this, Zi([this, us.WARN], t3)), this._logHandler.apply(this, Zi([this, us.WARN], t3));
      }, gs.prototype.error = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        this._userLogHandler && this._userLogHandler.apply(this, Zi([this, us.ERROR], t3)), this._logHandler.apply(this, Zi([this, us.ERROR], t3));
      }, gs);
      function gs(t3) {
        this.name = t3, this._logLevel = fs, this._logHandler = hs, this._userLogHandler = null, cs.push(this);
      }
      function vs(e3) {
        cs.forEach(function(t3) {
          t3.setLogLevel(e3);
        });
      }
      function ys(s3, e3) {
        for (var t3 = 0, n3 = cs; t3 < n3.length; t3++)
          !function(t4) {
            var o3 = null;
            e3 && e3.level && (o3 = ls[e3.level]), t4.userLogHandler = null === s3 ? null : function(t5, e4) {
              for (var n4 = [], r3 = 2; r3 < arguments.length; r3++)
                n4[r3 - 2] = arguments[r3];
              var i3 = n4.map(function(t6) {
                if (null == t6)
                  return null;
                if ("string" == typeof t6)
                  return t6;
                if ("number" == typeof t6 || "boolean" == typeof t6)
                  return t6.toString();
                if (t6 instanceof Error)
                  return t6.message;
                try {
                  return JSON.stringify(t6);
                } catch (t7) {
                  return null;
                }
              }).filter(function(t6) {
                return t6;
              }).join(" ");
              e4 >= (null != o3 ? o3 : t5.logLevel) && s3({ level: us[e4].toLowerCase(), message: i3, args: n4, type: t5.name });
            };
          }(n3[t3]);
      }
      var fr = ((G = {})["no-app"] = "No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()", G["bad-app-name"] = "Illegal App name: '{$appName}", G["duplicate-app"] = "Firebase App named '{$appName}' already exists", G["app-deleted"] = "Firebase App named '{$appName}' already deleted", G["invalid-app-argument"] = "firebase.{$appName}() takes either no argument or a Firebase App instance.", G["invalid-log-argument"] = "First argument to `onLog` must be null or a function.", G), ms = new Co("app", "Firebase", fr), bs = "@firebase/app", _s = "[DEFAULT]", ws = ((Q = {})[bs] = "fire-core", Q["@firebase/analytics"] = "fire-analytics", Q["@firebase/app-check"] = "fire-app-check", Q["@firebase/auth"] = "fire-auth", Q["@firebase/database"] = "fire-rtdb", Q["@firebase/functions"] = "fire-fn", Q["@firebase/installations"] = "fire-iid", Q["@firebase/messaging"] = "fire-fcm", Q["@firebase/performance"] = "fire-perf", Q["@firebase/remote-config"] = "fire-rc", Q["@firebase/storage"] = "fire-gcs", Q["@firebase/firestore"] = "fire-fst", Q["fire-js"] = "fire-js", Q["firebase-wrapper"] = "fire-js-all", Q), Ts = new ds("@firebase/app"), Is = (Object.defineProperty(Es.prototype, "automaticDataCollectionEnabled", { get: function() {
        return this.checkDestroyed_(), this.automaticDataCollectionEnabled_;
      }, set: function(t3) {
        this.checkDestroyed_(), this.automaticDataCollectionEnabled_ = t3;
      }, enumerable: false, configurable: true }), Object.defineProperty(Es.prototype, "name", { get: function() {
        return this.checkDestroyed_(), this.name_;
      }, enumerable: false, configurable: true }), Object.defineProperty(Es.prototype, "options", { get: function() {
        return this.checkDestroyed_(), this.options_;
      }, enumerable: false, configurable: true }), Es.prototype.delete = function() {
        var e3 = this;
        return new Promise(function(t3) {
          e3.checkDestroyed_(), t3();
        }).then(function() {
          return e3.firebase_.INTERNAL.removeApp(e3.name_), Promise.all(e3.container.getProviders().map(function(t3) {
            return t3.delete();
          }));
        }).then(function() {
          e3.isDeleted_ = true;
        });
      }, Es.prototype._getService = function(t3, e3) {
        void 0 === e3 && (e3 = _s), this.checkDestroyed_();
        var n3 = this.container.getProvider(t3);
        return n3.isInitialized() || "EXPLICIT" !== (null === (t3 = n3.getComponent()) || void 0 === t3 ? void 0 : t3.instantiationMode) || n3.initialize(), n3.getImmediate({ identifier: e3 });
      }, Es.prototype._removeServiceInstance = function(t3, e3) {
        void 0 === e3 && (e3 = _s), this.container.getProvider(t3).clearInstance(e3);
      }, Es.prototype._addComponent = function(e3) {
        try {
          this.container.addComponent(e3);
        } catch (t3) {
          Ts.debug("Component " + e3.name + " failed to register with FirebaseApp " + this.name, t3);
        }
      }, Es.prototype._addOrOverwriteComponent = function(t3) {
        this.container.addOrOverwriteComponent(t3);
      }, Es.prototype.toJSON = function() {
        return { name: this.name, automaticDataCollectionEnabled: this.automaticDataCollectionEnabled, options: this.options };
      }, Es.prototype.checkDestroyed_ = function() {
        if (this.isDeleted_)
          throw ms.create("app-deleted", { appName: this.name_ });
      }, Es);
      function Es(t3, e3, n3) {
        var r3 = this;
        this.firebase_ = n3, this.isDeleted_ = false, this.name_ = e3.name, this.automaticDataCollectionEnabled_ = e3.automaticDataCollectionEnabled || false, this.options_ = uo(t3), this.container = new ss(e3.name), this._addComponent(new es("app", function() {
          return r3;
        }, "PUBLIC")), this.firebase_.INTERNAL.components.forEach(function(t4) {
          return r3._addComponent(t4);
        });
      }
      Is.prototype.name && Is.prototype.options || Is.prototype.delete || console.log("dc");
      var Ss = "8.10.1";
      function ks(s3) {
        var a3 = {}, u3 = /* @__PURE__ */ new Map(), c3 = { __esModule: true, initializeApp: function(t3, e3) {
          void 0 === e3 && (e3 = {});
          "object" == typeof e3 && null !== e3 || (e3 = { name: e3 });
          var n3 = e3;
          void 0 === n3.name && (n3.name = _s);
          e3 = n3.name;
          if ("string" != typeof e3 || !e3)
            throw ms.create("bad-app-name", { appName: String(e3) });
          if (Do(a3, e3))
            throw ms.create("duplicate-app", { appName: e3 });
          n3 = new s3(t3, n3, c3);
          return a3[e3] = n3;
        }, app: h3, registerVersion: function(t3, e3, n3) {
          var r3 = null !== (i3 = ws[t3]) && void 0 !== i3 ? i3 : t3;
          n3 && (r3 += "-" + n3);
          var i3 = r3.match(/\s|\//), t3 = e3.match(/\s|\//);
          i3 || t3 ? (n3 = ['Unable to register library "' + r3 + '" with version "' + e3 + '":'], i3 && n3.push('library name "' + r3 + '" contains illegal characters (whitespace or "/")'), i3 && t3 && n3.push("and"), t3 && n3.push('version name "' + e3 + '" contains illegal characters (whitespace or "/")'), Ts.warn(n3.join(" "))) : o3(new es(r3 + "-version", function() {
            return { library: r3, version: e3 };
          }, "VERSION"));
        }, setLogLevel: vs, onLog: function(t3, e3) {
          if (null !== t3 && "function" != typeof t3)
            throw ms.create("invalid-log-argument");
          ys(t3, e3);
        }, apps: null, SDK_VERSION: Ss, INTERNAL: { registerComponent: o3, removeApp: function(t3) {
          delete a3[t3];
        }, components: u3, useAsService: function(t3, e3) {
          return "serverAuth" !== e3 ? e3 : null;
        } } };
        function h3(t3) {
          if (!Do(a3, t3 = t3 || _s))
            throw ms.create("no-app", { appName: t3 });
          return a3[t3];
        }
        function o3(n3) {
          var t3, r3 = n3.name;
          if (u3.has(r3))
            return Ts.debug("There were multiple attempts to register component " + r3 + "."), "PUBLIC" === n3.type ? c3[r3] : null;
          u3.set(r3, n3), "PUBLIC" === n3.type && (t3 = function(t4) {
            if ("function" != typeof (t4 = void 0 === t4 ? h3() : t4)[r3])
              throw ms.create("invalid-app-argument", { appName: r3 });
            return t4[r3]();
          }, void 0 !== n3.serviceProps && co(t3, n3.serviceProps), c3[r3] = t3, s3.prototype[r3] = function() {
            for (var t4 = [], e4 = 0; e4 < arguments.length; e4++)
              t4[e4] = arguments[e4];
            return this._getService.bind(this, r3).apply(this, n3.multipleInstances ? t4 : []);
          });
          for (var e3 = 0, i3 = Object.keys(a3); e3 < i3.length; e3++) {
            var o4 = i3[e3];
            a3[o4]._addComponent(n3);
          }
          return "PUBLIC" === n3.type ? c3[r3] : null;
        }
        return c3.default = c3, Object.defineProperty(c3, "apps", { get: function() {
          return Object.keys(a3).map(function(t3) {
            return a3[t3];
          });
        } }), h3.App = s3, c3;
      }
      var G = function t3() {
        var e3 = ks(Is);
        return e3.INTERNAL = Qi(Qi({}, e3.INTERNAL), { createFirebaseNamespace: t3, extendNamespace: function(t4) {
          co(e3, t4);
        }, createSubscribe: qo, ErrorFactory: Co, deepExtend: co }), e3;
      }(), Cs = (As.prototype.getPlatformInfoString = function() {
        return this.container.getProviders().map(function(t3) {
          if (function(t4) {
            t4 = t4.getComponent();
            return "VERSION" === (null == t4 ? void 0 : t4.type);
          }(t3)) {
            t3 = t3.getImmediate();
            return t3.library + "/" + t3.version;
          }
          return null;
        }).filter(function(t3) {
          return t3;
        }).join(" ");
      }, As);
      function As(t3) {
        this.container = t3;
      }
      "object" == typeof self && self.self === self && void 0 !== self.firebase && (Ts.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  "), (Qa = self.firebase.SDK_VERSION) && 0 <= Qa.indexOf("LITE") && Ts.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    "));
      var Ns = G.initializeApp;
      G.initializeApp = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        return vo() && Ts.warn(`
      Warning: This is a browser-targeted Firebase bundle but it appears it is being
      run in a Node environment.  If running in a Node environment, make sure you
      are using the bundle specified by the "main" field in package.json.
      
      If you are using Webpack, you can specify "main" as the first item in
      "resolve.mainFields":
      https://webpack.js.org/configuration/resolve/#resolvemainfields
      
      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"
      as the first item in "mainFields", e.g. ['main', 'module'].
      https://github.com/rollup/@rollup/plugin-node-resolve
      `), Ns.apply(void 0, t3);
      };
      var Rs, Ps, Jl = G;
      (Rs = Jl).INTERNAL.registerComponent(new es("platform-logger", function(t3) {
        return new Cs(t3);
      }, "PRIVATE")), Rs.registerVersion(bs, "0.6.30", Ps), Rs.registerVersion("fire-js", "");
      Jl.registerVersion("firebase", "8.10.1", "app"), Jl.SDK_VERSION = "8.10.1";
      !function() {
        var t3, o3 = "function" == typeof Object.defineProperties ? Object.defineProperty : function(t4, e4, n4) {
          t4 != Array.prototype && t4 != Object.prototype && (t4[e4] = n4.value);
        };
        var u3 = function(t4) {
          t4 = ["object" == typeof window && window, "object" == typeof self && self, "object" == typeof global && global, t4];
          for (var e4 = 0; e4 < t4.length; ++e4) {
            var n4 = t4[e4];
            if (n4 && n4.Math == Math)
              return n4;
          }
          return globalThis;
        }(this);
        function c3(t4) {
          var e4, n4, r4 = "undefined" != typeof Symbol && Symbol.iterator && t4[Symbol.iterator];
          return r4 ? r4.call(t4) : { next: (e4 = t4, n4 = 0, function() {
            return n4 < e4.length ? { done: false, value: e4[n4++] } : { done: true };
          }) };
        }
        !function(t4, e4) {
          if (e4) {
            var n4 = u3;
            t4 = t4.split(".");
            for (var r4 = 0; r4 < t4.length - 1; r4++) {
              var i4 = t4[r4];
              i4 in n4 || (n4[i4] = {}), n4 = n4[i4];
            }
            (e4 = e4(r4 = n4[t4 = t4[t4.length - 1]])) != r4 && null != e4 && o3(n4, t4, { configurable: true, writable: true, value: e4 });
          }
        }("Promise", function(t4) {
          function s4(t5) {
            this.b = 0, this.c = void 0, this.a = [];
            var e5 = this.f();
            try {
              t5(e5.resolve, e5.reject);
            } catch (t6) {
              e5.reject(t6);
            }
          }
          function e4() {
            this.a = null;
          }
          function a4(e5) {
            return e5 instanceof s4 ? e5 : new s4(function(t5) {
              t5(e5);
            });
          }
          if (t4)
            return t4;
          e4.prototype.b = function(t5) {
            var e5;
            null == this.a && (this.a = [], (e5 = this).c(function() {
              e5.g();
            })), this.a.push(t5);
          };
          var n4 = u3.setTimeout;
          e4.prototype.c = function(t5) {
            n4(t5, 0);
          }, e4.prototype.g = function() {
            for (; this.a && this.a.length; ) {
              var t5 = this.a;
              this.a = [];
              for (var e5 = 0; e5 < t5.length; ++e5) {
                var n5 = t5[e5];
                t5[e5] = null;
                try {
                  n5();
                } catch (t6) {
                  this.f(t6);
                }
              }
            }
            this.a = null;
          }, e4.prototype.f = function(t5) {
            this.c(function() {
              throw t5;
            });
          }, s4.prototype.f = function() {
            function t5(e5) {
              return function(t6) {
                r4 || (r4 = true, e5.call(n5, t6));
              };
            }
            var n5 = this, r4 = false;
            return { resolve: t5(this.m), reject: t5(this.g) };
          }, s4.prototype.m = function(t5) {
            if (t5 === this)
              this.g(new TypeError("A Promise cannot resolve to itself"));
            else if (t5 instanceof s4)
              this.s(t5);
            else {
              t:
                switch (typeof t5) {
                  case "object":
                    var e5 = null != t5;
                    break t;
                  case "function":
                    e5 = true;
                    break t;
                  default:
                    e5 = false;
                }
              e5 ? this.v(t5) : this.h(t5);
            }
          }, s4.prototype.v = function(t5) {
            var e5 = void 0;
            try {
              e5 = t5.then;
            } catch (t6) {
              return void this.g(t6);
            }
            "function" == typeof e5 ? this.u(e5, t5) : this.h(t5);
          }, s4.prototype.g = function(t5) {
            this.i(2, t5);
          }, s4.prototype.h = function(t5) {
            this.i(1, t5);
          }, s4.prototype.i = function(t5, e5) {
            if (0 != this.b)
              throw Error("Cannot settle(" + t5 + ", " + e5 + "): Promise already settled in state" + this.b);
            this.b = t5, this.c = e5, this.l();
          }, s4.prototype.l = function() {
            if (null != this.a) {
              for (var t5 = 0; t5 < this.a.length; ++t5)
                i4.b(this.a[t5]);
              this.a = null;
            }
          };
          var i4 = new e4();
          return s4.prototype.s = function(t5) {
            var e5 = this.f();
            t5.Ra(e5.resolve, e5.reject);
          }, s4.prototype.u = function(t5, e5) {
            var n5 = this.f();
            try {
              t5.call(e5, n5.resolve, n5.reject);
            } catch (t6) {
              n5.reject(t6);
            }
          }, s4.prototype.then = function(t5, e5) {
            function n5(e6, t6) {
              return "function" == typeof e6 ? function(t7) {
                try {
                  r4(e6(t7));
                } catch (t8) {
                  i5(t8);
                }
              } : t6;
            }
            var r4, i5, o4 = new s4(function(t6, e6) {
              r4 = t6, i5 = e6;
            });
            return this.Ra(n5(t5, r4), n5(e5, i5)), o4;
          }, s4.prototype.catch = function(t5) {
            return this.then(void 0, t5);
          }, s4.prototype.Ra = function(t5, e5) {
            function n5() {
              switch (r4.b) {
                case 1:
                  t5(r4.c);
                  break;
                case 2:
                  e5(r4.c);
                  break;
                default:
                  throw Error("Unexpected state: " + r4.b);
              }
            }
            var r4 = this;
            null == this.a ? i4.b(n5) : this.a.push(n5);
          }, s4.resolve = a4, s4.reject = function(n5) {
            return new s4(function(t5, e5) {
              e5(n5);
            });
          }, s4.race = function(i5) {
            return new s4(function(t5, e5) {
              for (var n5 = c3(i5), r4 = n5.next(); !r4.done; r4 = n5.next())
                a4(r4.value).Ra(t5, e5);
            });
          }, s4.all = function(t5) {
            var e5 = c3(t5), o4 = e5.next();
            return o4.done ? a4([]) : new s4(function(n5, t6) {
              for (var r4 = [], i5 = 0; r4.push(void 0), i5++, a4(o4.value).Ra(function(e6) {
                return function(t7) {
                  r4[e6] = t7, 0 == --i5 && n5(r4);
                };
              }(r4.length - 1), t6), !(o4 = e5.next()).done; )
                ;
            });
          }, s4;
        });
        var h3 = h3 || {}, l3 = this || self, e3 = /^[\w+/_-]+[=]{0,2}$/, a3 = null;
        function f3(t4) {
          return (t4 = t4.querySelector && t4.querySelector("script[nonce]")) && (t4 = t4.nonce || t4.getAttribute("nonce")) && e3.test(t4) ? t4 : "";
        }
        function s3() {
        }
        function p3(t4) {
          var e4 = typeof t4;
          return "object" != e4 ? e4 : t4 ? Array.isArray(t4) ? "array" : e4 : "null";
        }
        function d3(t4) {
          var e4 = p3(t4);
          return "array" == e4 || "object" == e4 && "number" == typeof t4.length;
        }
        function g3(t4) {
          return "function" == p3(t4);
        }
        function v3(t4) {
          var e4 = typeof t4;
          return "object" == e4 && null != t4 || "function" == e4;
        }
        var n3 = "closure_uid_" + (1e9 * Math.random() >>> 0), r3 = 0;
        function i3(t4, e4, n4) {
          return t4.call.apply(t4.bind, arguments);
        }
        function y3(e4, n4, t4) {
          if (!e4)
            throw Error();
          if (2 < arguments.length) {
            var r4 = Array.prototype.slice.call(arguments, 2);
            return function() {
              var t5 = Array.prototype.slice.call(arguments);
              return Array.prototype.unshift.apply(t5, r4), e4.apply(n4, t5);
            };
          }
          return function() {
            return e4.apply(n4, arguments);
          };
        }
        function m3(t4, e4, n4) {
          return (m3 = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? i3 : y3).apply(null, arguments);
        }
        function b3(e4) {
          var n4 = Array.prototype.slice.call(arguments, 1);
          return function() {
            var t4 = n4.slice();
            return t4.push.apply(t4, arguments), e4.apply(this, t4);
          };
        }
        function _3(t4, e4) {
          function n4() {
          }
          n4.prototype = e4.prototype, t4.bb = e4.prototype, t4.prototype = new n4(), t4.prototype.constructor = t4;
        }
        function w3(t4) {
          return t4;
        }
        function T3(t4, e4, n4) {
          this.code = S3 + t4, this.message = e4 || k3[t4] || "", this.a = n4 || null;
        }
        function I3(t4) {
          var e4 = t4 && t4.code;
          return e4 ? new T3(e4.substring(S3.length), t4.message, t4.serverResponse) : null;
        }
        _3(T3, Error), T3.prototype.w = function() {
          var t4 = { code: this.code, message: this.message };
          return this.a && (t4.serverResponse = this.a), t4;
        }, T3.prototype.toJSON = function() {
          return this.w();
        };
        var E3, S3 = "auth/", k3 = { "admin-restricted-operation": "This operation is restricted to administrators only.", "argument-error": "", "app-not-authorized": "This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.", "app-not-installed": "The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.", "captcha-check-failed": "The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.", "code-expired": "The SMS code has expired. Please re-send the verification code to try again.", "cordova-not-ready": "Cordova framework is not ready.", "cors-unsupported": "This browser is not supported.", "credential-already-in-use": "This credential is already associated with a different user account.", "custom-token-mismatch": "The custom token corresponds to a different audience.", "requires-recent-login": "This operation is sensitive and requires recent authentication. Log in again before retrying this request.", "dynamic-link-not-activated": "Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.", "email-change-needs-verification": "Multi-factor users must always have a verified email.", "email-already-in-use": "The email address is already in use by another account.", "expired-action-code": "The action code has expired. ", "cancelled-popup-request": "This operation has been cancelled due to another conflicting popup being opened.", "internal-error": "An internal error has occurred.", "invalid-app-credential": "The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.", "invalid-app-id": "The mobile app identifier is not registed for the current project.", "invalid-user-token": "This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.", "invalid-auth-event": "An internal error has occurred.", "invalid-verification-code": "The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.", "invalid-continue-uri": "The continue URL provided in the request is invalid.", "invalid-cordova-configuration": "The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.", "invalid-custom-token": "The custom token format is incorrect. Please check the documentation.", "invalid-dynamic-link-domain": "The provided dynamic link domain is not configured or authorized for the current project.", "invalid-email": "The email address is badly formatted.", "invalid-api-key": "Your API key is invalid, please check you have copied it correctly.", "invalid-cert-hash": "The SHA-1 certificate hash provided is invalid.", "invalid-credential": "The supplied auth credential is malformed or has expired.", "invalid-message-payload": "The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.", "invalid-multi-factor-session": "The request does not contain a valid proof of first factor successful sign-in.", "invalid-oauth-provider": "EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.", "invalid-oauth-client-id": "The OAuth client ID provided is either invalid or does not match the specified API key.", "unauthorized-domain": "This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.", "invalid-action-code": "The action code is invalid. This can happen if the code is malformed, expired, or has already been used.", "wrong-password": "The password is invalid or the user does not have a password.", "invalid-persistence-type": "The specified persistence type is invalid. It can only be local, session or none.", "invalid-phone-number": "The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].", "invalid-provider-id": "The specified provider ID is invalid.", "invalid-recipient-email": "The email corresponding to this action failed to send as the provided recipient email address is invalid.", "invalid-sender": "The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.", "invalid-verification-id": "The verification ID used to create the phone auth credential is invalid.", "invalid-tenant-id": "The Auth instance's tenant ID is invalid.", "multi-factor-info-not-found": "The user does not have a second factor matching the identifier provided.", "multi-factor-auth-required": "Proof of ownership of a second factor is required to complete sign-in.", "missing-android-pkg-name": "An Android Package Name must be provided if the Android App is required to be installed.", "auth-domain-config-required": "Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.", "missing-app-credential": "The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.", "missing-verification-code": "The phone auth credential was created with an empty SMS verification code.", "missing-continue-uri": "A continue URL must be provided in the request.", "missing-iframe-start": "An internal error has occurred.", "missing-ios-bundle-id": "An iOS Bundle ID must be provided if an App Store ID is provided.", "missing-multi-factor-info": "No second factor identifier is provided.", "missing-multi-factor-session": "The request is missing proof of first factor successful sign-in.", "missing-or-invalid-nonce": "The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.", "missing-phone-number": "To send verification codes, provide a phone number for the recipient.", "missing-verification-id": "The phone auth credential was created with an empty verification ID.", "app-deleted": "This instance of FirebaseApp has been deleted.", "account-exists-with-different-credential": "An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.", "network-request-failed": "A network error (such as timeout, interrupted connection or unreachable host) has occurred.", "no-auth-event": "An internal error has occurred.", "no-such-provider": "User was not linked to an account with the given provider.", "null-user": "A null user object was provided as the argument for an operation which requires a non-null user object.", "operation-not-allowed": "The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.", "operation-not-supported-in-this-environment": 'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.', "popup-blocked": "Unable to establish a connection with the popup. It may have been blocked by the browser.", "popup-closed-by-user": "The popup has been closed by the user before finalizing the operation.", "provider-already-linked": "User can only be linked to one identity for the given provider.", "quota-exceeded": "The project's quota for this operation has been exceeded.", "redirect-cancelled-by-user": "The redirect operation has been cancelled by the user before finalizing.", "redirect-operation-pending": "A redirect sign-in operation is already pending.", "rejected-credential": "The request contains malformed or mismatching credentials.", "second-factor-already-in-use": "The second factor is already enrolled on this account.", "maximum-second-factor-count-exceeded": "The maximum allowed number of second factors on a user has been exceeded.", "tenant-id-mismatch": "The provided tenant ID does not match the Auth instance's tenant ID", timeout: "The operation has timed out.", "user-token-expired": "The user's credential is no longer valid. The user must sign in again.", "too-many-requests": "We have blocked all requests from this device due to unusual activity. Try again later.", "unauthorized-continue-uri": "The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.", "unsupported-first-factor": "Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.", "unsupported-persistence-type": "The current environment does not support the specified persistence type.", "unsupported-tenant-operation": "This operation is not supported in a multi-tenant context.", "unverified-email": "The operation requires a verified email.", "user-cancelled": "The user did not grant your application the permissions it requested.", "user-not-found": "There is no user record corresponding to this identifier. The user may have been deleted.", "user-disabled": "The user account has been disabled by an administrator.", "user-mismatch": "The supplied credentials do not correspond to the previously signed in user.", "user-signed-out": "", "weak-password": "The password must be 6 characters long or more.", "web-storage-unsupported": "This browser is not supported or 3rd party cookies and data may be disabled." }, C3 = { ld: { Ua: "https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/", $a: "https://staging-securetoken.sandbox.googleapis.com/v1/token", Xa: "https://staging-identitytoolkit.sandbox.googleapis.com/v2/", id: "b" }, sd: { Ua: "https://www.googleapis.com/identitytoolkit/v3/relyingparty/", $a: "https://securetoken.googleapis.com/v1/token", Xa: "https://identitytoolkit.googleapis.com/v2/", id: "p" }, ud: { Ua: "https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/", $a: "https://staging-securetoken.sandbox.googleapis.com/v1/token", Xa: "https://staging-identitytoolkit.sandbox.googleapis.com/v2/", id: "s" }, vd: { Ua: "https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/", $a: "https://test-securetoken.sandbox.googleapis.com/v1/token", Xa: "https://test-identitytoolkit.sandbox.googleapis.com/v2/", id: "t" } };
        function A3(t4) {
          for (var e4 in C3)
            if (C3[e4].id === t4)
              return t4 = C3[e4], { firebaseEndpoint: t4.Ua, secureTokenEndpoint: t4.$a, identityPlatformEndpoint: t4.Xa };
          return null;
        }
        function N3(t4) {
          if (t4)
            try {
              return t4.$goog_Thenable;
            } catch (t5) {
              return;
            }
        }
        function R3(t4) {
          var e4;
          Error.captureStackTrace ? Error.captureStackTrace(this, R3) : (e4 = Error().stack) && (this.stack = e4), t4 && (this.message = String(t4));
        }
        function P3(t4, e4) {
          for (var n4 = "", r4 = (t4 = t4.split("%s")).length - 1, i4 = 0; i4 < r4; i4++)
            n4 += t4[i4] + (i4 < e4.length ? e4[i4] : "%s");
          R3.call(this, n4 + t4[r4]);
        }
        function O3(t4) {
          throw new P3("Failure" + (t4 ? ": " + t4 : ""), Array.prototype.slice.call(arguments, 1));
        }
        function D3(t4, e4) {
          this.c = t4, this.f = e4, this.b = 0, this.a = null;
        }
        function x3(t4, e4) {
          t4.f(e4), t4.b < 100 && (t4.b++, e4.next = t4.a, t4.a = e4);
        }
        function L3() {
          this.b = this.a = null;
        }
        E3 = A3("__EID__") ? "__EID__" : void 0, _3(R3, Error), R3.prototype.name = "CustomError", _3(P3, R3), P3.prototype.name = "AssertionError", D3.prototype.get = function() {
          var t4;
          return 0 < this.b ? (this.b--, t4 = this.a, this.a = t4.next, t4.next = null) : t4 = this.c(), t4;
        };
        var M2 = new D3(function() {
          return new F2();
        }, function(t4) {
          t4.reset();
        });
        function F2() {
          this.next = this.b = this.a = null;
        }
        L3.prototype.add = function(t4, e4) {
          var n4 = M2.get();
          n4.set(t4, e4), this.b ? this.b.next = n4 : this.a = n4, this.b = n4;
        }, F2.prototype.set = function(t4, e4) {
          this.a = t4, this.b = e4, this.next = null;
        }, F2.prototype.reset = function() {
          this.next = this.b = this.a = null;
        };
        var j2 = Array.prototype.indexOf ? function(t4, e4) {
          return Array.prototype.indexOf.call(t4, e4, void 0);
        } : function(t4, e4) {
          if ("string" == typeof t4)
            return "string" != typeof e4 || 1 != e4.length ? -1 : t4.indexOf(e4, 0);
          for (var n4 = 0; n4 < t4.length; n4++)
            if (n4 in t4 && t4[n4] === e4)
              return n4;
          return -1;
        }, U2 = Array.prototype.forEach ? function(t4, e4, n4) {
          Array.prototype.forEach.call(t4, e4, n4);
        } : function(t4, e4, n4) {
          for (var r4 = t4.length, i4 = "string" == typeof t4 ? t4.split("") : t4, o4 = 0; o4 < r4; o4++)
            o4 in i4 && e4.call(n4, i4[o4], o4, t4);
        };
        var q2 = Array.prototype.filter ? function(t4, e4) {
          return Array.prototype.filter.call(t4, e4, void 0);
        } : function(t4, e4) {
          for (var n4, r4 = t4.length, i4 = [], o4 = 0, s4 = "string" == typeof t4 ? t4.split("") : t4, a4 = 0; a4 < r4; a4++)
            a4 in s4 && (n4 = s4[a4], e4.call(void 0, n4, a4, t4) && (i4[o4++] = n4));
          return i4;
        }, V2 = Array.prototype.map ? function(t4, e4) {
          return Array.prototype.map.call(t4, e4, void 0);
        } : function(t4, e4) {
          for (var n4 = t4.length, r4 = Array(n4), i4 = "string" == typeof t4 ? t4.split("") : t4, o4 = 0; o4 < n4; o4++)
            o4 in i4 && (r4[o4] = e4.call(void 0, i4[o4], o4, t4));
          return r4;
        }, B2 = Array.prototype.some ? function(t4, e4) {
          return Array.prototype.some.call(t4, e4, void 0);
        } : function(t4, e4) {
          for (var n4 = t4.length, r4 = "string" == typeof t4 ? t4.split("") : t4, i4 = 0; i4 < n4; i4++)
            if (i4 in r4 && e4.call(void 0, r4[i4], i4, t4))
              return true;
          return false;
        };
        function K2(t4, e4) {
          return 0 <= j2(t4, e4);
        }
        function W2(t4, e4) {
          var n4;
          return (n4 = 0 <= (e4 = j2(t4, e4))) && Array.prototype.splice.call(t4, e4, 1), n4;
        }
        function H2(n4, r4) {
          !function(t4, e4) {
            for (var n5 = "string" == typeof t4 ? t4.split("") : t4, r5 = t4.length - 1; 0 <= r5; --r5)
              r5 in n5 && e4.call(void 0, n5[r5], r5, t4);
          }(n4, function(t4, e4) {
            r4.call(void 0, t4, e4, n4) && 1 == Array.prototype.splice.call(n4, e4, 1).length && 0;
          });
        }
        function z2() {
          return Array.prototype.concat.apply([], arguments);
        }
        function G2(t4) {
          var e4 = t4.length;
          if (0 < e4) {
            for (var n4 = Array(e4), r4 = 0; r4 < e4; r4++)
              n4[r4] = t4[r4];
            return n4;
          }
          return [];
        }
        var Q2, Y2 = String.prototype.trim ? function(t4) {
          return t4.trim();
        } : function(t4) {
          return /^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t4)[1];
        }, X2 = /&/g, $2 = /</g, J2 = />/g, Z2 = /"/g, tt2 = /'/g, et2 = /\x00/g, nt2 = /[\x00&<>"']/;
        function rt2(t4, e4) {
          return -1 != t4.indexOf(e4);
        }
        function it2(t4, e4) {
          return t4 < e4 ? -1 : e4 < t4 ? 1 : 0;
        }
        t: {
          var ot2 = l3.navigator;
          if (ot2) {
            ot2 = ot2.userAgent;
            if (ot2) {
              Q2 = ot2;
              break t;
            }
          }
          Q2 = "";
        }
        function st2(t4) {
          return rt2(Q2, t4);
        }
        function at2(t4, e4) {
          for (var n4 in t4)
            e4.call(void 0, t4[n4], n4, t4);
        }
        function ut2(t4) {
          for (var e4 in t4)
            return;
          return 1;
        }
        function ct2(t4) {
          var e4, n4 = {};
          for (e4 in t4)
            n4[e4] = t4[e4];
          return n4;
        }
        var ht2 = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
        function lt2(t4) {
          for (var e4, n4, r4 = 1; r4 < arguments.length; r4++) {
            for (e4 in n4 = arguments[r4])
              t4[e4] = n4[e4];
            for (var i4 = 0; i4 < ht2.length; i4++)
              e4 = ht2[i4], Object.prototype.hasOwnProperty.call(n4, e4) && (t4[e4] = n4[e4]);
          }
        }
        function ft2(t4, e4) {
          t: {
            try {
              var n4, r4 = t4 && t4.ownerDocument;
              if ((n4 = (n4 = r4 && (r4.defaultView || r4.parentWindow)) || l3).Element && n4.Location) {
                var i4 = n4;
                break t;
              }
            } catch (t5) {
            }
            i4 = null;
          }
          if (i4 && void 0 !== i4[e4] && (!t4 || !(t4 instanceof i4[e4]) && (t4 instanceof i4.Location || t4 instanceof i4.Element))) {
            if (v3(t4))
              try {
                var o4 = t4.constructor.displayName || t4.constructor.name || Object.prototype.toString.call(t4);
              } catch (t5) {
                o4 = "<object could not be stringified>";
              }
            else
              o4 = void 0 === t4 ? "undefined" : null === t4 ? "null" : typeof t4;
            O3("Argument is not a %s (or a non-Element, non-Location mock); got: %s", e4, o4);
          }
        }
        function pt2(t4, e4) {
          this.a = t4 === yt2 && e4 || "", this.b = vt2;
        }
        function dt2(t4) {
          return t4 instanceof pt2 && t4.constructor === pt2 && t4.b === vt2 ? t4.a : (O3("expected object of type Const, got '" + t4 + "'"), "type_error:Const");
        }
        pt2.prototype.ta = true, pt2.prototype.sa = function() {
          return this.a;
        }, pt2.prototype.toString = function() {
          return "Const{" + this.a + "}";
        };
        var gt2, vt2 = {}, yt2 = {};
        function mt2() {
          if (void 0 === gt2) {
            var t4 = null, e4 = l3.trustedTypes;
            if (e4 && e4.createPolicy) {
              try {
                t4 = e4.createPolicy("goog#html", { createHTML: w3, createScript: w3, createScriptURL: w3 });
              } catch (t5) {
                l3.console && l3.console.error(t5.message);
              }
              gt2 = t4;
            } else
              gt2 = t4;
          }
          return gt2;
        }
        function bt2(t4, e4) {
          this.a = e4 === Et2 ? t4 : "";
        }
        function _t2(t4) {
          return t4 instanceof bt2 && t4.constructor === bt2 ? t4.a : (O3("expected object of type TrustedResourceUrl, got '" + t4 + "' of type " + p3(t4)), "type_error:TrustedResourceUrl");
        }
        function wt2(t4, n4) {
          var e4, r4 = dt2(t4);
          if (!It2.test(r4))
            throw Error("Invalid TrustedResourceUrl format: " + r4);
          return t4 = r4.replace(Tt2, function(t5, e5) {
            if (!Object.prototype.hasOwnProperty.call(n4, e5))
              throw Error('Found marker, "' + e5 + '", in format string, "' + r4 + '", but no valid label mapping found in args: ' + JSON.stringify(n4));
            return (t5 = n4[e5]) instanceof pt2 ? dt2(t5) : encodeURIComponent(String(t5));
          }), e4 = t4, t4 = mt2(), new bt2(e4 = t4 ? t4.createScriptURL(e4) : e4, Et2);
        }
        bt2.prototype.ta = true, bt2.prototype.sa = function() {
          return this.a.toString();
        }, bt2.prototype.toString = function() {
          return "TrustedResourceUrl{" + this.a + "}";
        };
        var Tt2 = /%{(\w+)}/g, It2 = /^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i, Et2 = {};
        function St2(t4, e4) {
          this.a = e4 === Ot2 ? t4 : "";
        }
        function kt2(t4) {
          return t4 instanceof St2 && t4.constructor === St2 ? t4.a : (O3("expected object of type SafeUrl, got '" + t4 + "' of type " + p3(t4)), "type_error:SafeUrl");
        }
        St2.prototype.ta = true, St2.prototype.sa = function() {
          return this.a.toString();
        }, St2.prototype.toString = function() {
          return "SafeUrl{" + this.a + "}";
        };
        var Ct2 = /^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i, At2 = /^data:(.*);base64,[a-z0-9+\/]+=*$/i, Nt2 = /^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;
        function Rt2(t4) {
          return t4 instanceof St2 ? t4 : (t4 = "object" == typeof t4 && t4.ta ? t4.sa() : String(t4), t4 = Nt2.test(t4) || (e4 = (t4 = (t4 = String(t4)).replace(/(%0A|%0D)/g, "")).match(At2)) && Ct2.test(e4[1]) ? new St2(t4, Ot2) : null);
          var e4;
        }
        function Pt2(t4) {
          return t4 instanceof St2 ? t4 : (t4 = "object" == typeof t4 && t4.ta ? t4.sa() : String(t4), new St2(t4 = !Nt2.test(t4) ? "about:invalid#zClosurez" : t4, Ot2));
        }
        var Ot2 = {}, Dt2 = new St2("about:invalid#zClosurez", Ot2);
        function xt2(t4, e4, n4) {
          this.a = n4 === Lt2 ? t4 : "";
        }
        xt2.prototype.ta = true, xt2.prototype.sa = function() {
          return this.a.toString();
        }, xt2.prototype.toString = function() {
          return "SafeHtml{" + this.a + "}";
        };
        var Lt2 = {};
        function Mt2(t4, e4, n4, r4) {
          return t4 = t4 instanceof St2 ? t4 : Pt2(t4), e4 = e4 || l3, n4 = n4 instanceof pt2 ? dt2(n4) : n4 || "", e4.open(kt2(t4), n4, r4, void 0);
        }
        function Ft2(t4) {
          for (var e4 = t4.split("%s"), n4 = "", r4 = Array.prototype.slice.call(arguments, 1); r4.length && 1 < e4.length; )
            n4 += e4.shift() + r4.shift();
          return n4 + e4.join("%s");
        }
        function jt2(t4) {
          return nt2.test(t4) && (-1 != (t4 = -1 != (t4 = -1 != (t4 = -1 != (t4 = -1 != (t4 = -1 != t4.indexOf("&") ? t4.replace(X2, "&amp;") : t4).indexOf("<") ? t4.replace($2, "&lt;") : t4).indexOf(">") ? t4.replace(J2, "&gt;") : t4).indexOf('"') ? t4.replace(Z2, "&quot;") : t4).indexOf("'") ? t4.replace(tt2, "&#39;") : t4).indexOf("\0") && (t4 = t4.replace(et2, "&#0;"))), t4;
        }
        function Ut2(t4) {
          return Ut2[" "](t4), t4;
        }
        Ut2[" "] = s3;
        var qt2, Vt2 = st2("Opera"), Bt2 = st2("Trident") || st2("MSIE"), Kt2 = st2("Edge"), Wt2 = Kt2 || Bt2, Ht2 = st2("Gecko") && !(rt2(Q2.toLowerCase(), "webkit") && !st2("Edge")) && !(st2("Trident") || st2("MSIE")) && !st2("Edge"), zt2 = rt2(Q2.toLowerCase(), "webkit") && !st2("Edge");
        function Gt2() {
          var t4 = l3.document;
          return t4 ? t4.documentMode : void 0;
        }
        t: {
          var Qt2 = "", Yt2 = (Yt2 = Q2, Ht2 ? /rv:([^\);]+)(\)|;)/.exec(Yt2) : Kt2 ? /Edge\/([\d\.]+)/.exec(Yt2) : Bt2 ? /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Yt2) : zt2 ? /WebKit\/(\S+)/.exec(Yt2) : Vt2 ? /(?:Version)[ \/]?(\S+)/.exec(Yt2) : void 0);
          if (Yt2 && (Qt2 = Yt2 ? Yt2[1] : ""), Bt2) {
            Yt2 = Gt2();
            if (null != Yt2 && Yt2 > parseFloat(Qt2)) {
              qt2 = String(Yt2);
              break t;
            }
          }
          qt2 = Qt2;
        }
        var Xt2 = {};
        function $t2(a4) {
          return t4 = a4, e4 = function() {
            for (var t5 = 0, e5 = Y2(String(qt2)).split("."), n5 = Y2(String(a4)).split("."), r4 = Math.max(e5.length, n5.length), i4 = 0; 0 == t5 && i4 < r4; i4++)
              for (var o4 = e5[i4] || "", s4 = n5[i4] || ""; o4 = /(\d*)(\D*)(.*)/.exec(o4) || ["", "", "", ""], s4 = /(\d*)(\D*)(.*)/.exec(s4) || ["", "", "", ""], (0 != o4[0].length || 0 != s4[0].length) && (t5 = it2(0 == o4[1].length ? 0 : parseInt(o4[1], 10), 0 == s4[1].length ? 0 : parseInt(s4[1], 10)) || it2(0 == o4[2].length, 0 == s4[2].length) || it2(o4[2], s4[2]), o4 = o4[3], s4 = s4[3], 0 == t5); )
                ;
            return 0 <= t5;
          }, n4 = Xt2, Object.prototype.hasOwnProperty.call(n4, t4) ? n4[t4] : n4[t4] = e4(t4);
          var t4, e4, n4;
        }
        var Jt2 = l3.document && Bt2 && (Gt2() || parseInt(qt2, 10)) || void 0;
        try {
          new self.OffscreenCanvas(0, 0).getContext("2d");
        } catch (t4) {
        }
        var Zt2 = !Bt2 || 9 <= Number(Jt2);
        function te2(t4) {
          var e4 = document;
          return "string" == typeof t4 ? e4.getElementById(t4) : t4;
        }
        function ee2(n4, t4) {
          at2(t4, function(t5, e4) {
            t5 && "object" == typeof t5 && t5.ta && (t5 = t5.sa()), "style" == e4 ? n4.style.cssText = t5 : "class" == e4 ? n4.className = t5 : "for" == e4 ? n4.htmlFor = t5 : ie2.hasOwnProperty(e4) ? n4.setAttribute(ie2[e4], t5) : 0 == e4.lastIndexOf("aria-", 0) || 0 == e4.lastIndexOf("data-", 0) ? n4.setAttribute(e4, t5) : n4[e4] = t5;
          });
        }
        var ne2, re2, ie2 = { cellpadding: "cellPadding", cellspacing: "cellSpacing", colspan: "colSpan", frameborder: "frameBorder", height: "height", maxlength: "maxLength", nonce: "nonce", role: "role", rowspan: "rowSpan", type: "type", usemap: "useMap", valign: "vAlign", width: "width" };
        function oe2() {
          var t4, e4 = arguments, n4 = document, r4 = String(e4[0]), i4 = e4[1];
          return !Zt2 && i4 && (i4.name || i4.type) && (r4 = ["<", r4], i4.name && r4.push(' name="', jt2(i4.name), '"'), i4.type && (r4.push(' type="', jt2(i4.type), '"'), lt2(t4 = {}, i4), delete t4.type, i4 = t4), r4.push(">"), r4 = r4.join("")), r4 = se2(n4, r4), i4 && ("string" == typeof i4 ? r4.className = i4 : Array.isArray(i4) ? r4.className = i4.join(" ") : ee2(r4, i4)), 2 < e4.length && function(e5, n5, t5) {
            function r5(t6) {
              t6 && n5.appendChild("string" == typeof t6 ? e5.createTextNode(t6) : t6);
            }
            for (var i5 = 2; i5 < t5.length; i5++) {
              var o4 = t5[i5];
              if (!d3(o4) || v3(o4) && 0 < o4.nodeType)
                r5(o4);
              else {
                t: {
                  if (o4 && "number" == typeof o4.length) {
                    if (v3(o4)) {
                      var s4 = "function" == typeof o4.item || "string" == typeof o4.item;
                      break t;
                    }
                    if (g3(o4)) {
                      s4 = "function" == typeof o4.item;
                      break t;
                    }
                  }
                  s4 = false;
                }
                U2(s4 ? G2(o4) : o4, r5);
              }
            }
          }(n4, r4, e4), r4;
        }
        function se2(t4, e4) {
          return e4 = String(e4), "application/xhtml+xml" === t4.contentType && (e4 = e4.toLowerCase()), t4.createElement(e4);
        }
        function ae2(t4) {
          l3.setTimeout(function() {
            throw t4;
          }, 0);
        }
        function ue2(t4, e4) {
          re2 || function() {
            {
              var t5;
              re2 = l3.Promise && l3.Promise.resolve ? (t5 = l3.Promise.resolve(void 0), function() {
                t5.then(le2);
              }) : function() {
                var t6 = le2;
                !g3(l3.setImmediate) || l3.Window && l3.Window.prototype && !st2("Edge") && l3.Window.prototype.setImmediate == l3.setImmediate ? (ne2 = ne2 || function() {
                  var t7 = l3.MessageChannel;
                  if (void 0 === (t7 = void 0 === t7 && "undefined" != typeof window && window.postMessage && window.addEventListener && !st2("Presto") ? function() {
                    var t8 = se2(document, "IFRAME");
                    t8.style.display = "none", document.documentElement.appendChild(t8);
                    var e6 = t8.contentWindow;
                    (t8 = e6.document).open(), t8.close();
                    var n5 = "callImmediate" + Math.random(), r5 = "file:" == e6.location.protocol ? "*" : e6.location.protocol + "//" + e6.location.host;
                    t8 = m3(function(t9) {
                      "*" != r5 && t9.origin != r5 || t9.data != n5 || this.port1.onmessage();
                    }, this), e6.addEventListener("message", t8, false), this.port1 = {}, this.port2 = { postMessage: function() {
                      e6.postMessage(n5, r5);
                    } };
                  } : t7) || st2("Trident") || st2("MSIE"))
                    return function(t8) {
                      l3.setTimeout(t8, 0);
                    };
                  var e5 = new t7(), n4 = {}, r4 = n4;
                  return e5.port1.onmessage = function() {
                    var t8;
                    void 0 !== n4.next && (t8 = (n4 = n4.next).Hb, n4.Hb = null, t8());
                  }, function(t8) {
                    r4.next = { Hb: t8 }, r4 = r4.next, e5.port2.postMessage(0);
                  };
                }())(t6) : l3.setImmediate(t6);
              };
            }
          }(), ce2 || (re2(), ce2 = true), he2.add(t4, e4);
        }
        var ce2 = false, he2 = new L3();
        function le2() {
          for (var t4, e4; e4 = t4 = void 0, e4 = null, (t4 = he2).a && (e4 = t4.a, t4.a = t4.a.next, t4.a || (t4.b = null), e4.next = null), e4 = e4; ) {
            try {
              e4.a.call(e4.b);
            } catch (t5) {
              ae2(t5);
            }
            x3(M2, e4);
          }
          ce2 = false;
        }
        function fe2(t4, e4) {
          if (this.a = pe2, this.i = void 0, this.f = this.b = this.c = null, this.g = this.h = false, t4 != s3)
            try {
              var n4 = this;
              t4.call(e4, function(t5) {
                Se2(n4, de2, t5);
              }, function(t5) {
                if (!(t5 instanceof Oe2))
                  try {
                    if (t5 instanceof Error)
                      throw t5;
                    throw Error("Promise rejected.");
                  } catch (t6) {
                  }
                Se2(n4, ge2, t5);
              });
            } catch (t5) {
              Se2(this, ge2, t5);
            }
        }
        var pe2 = 0, de2 = 2, ge2 = 3;
        function ve2() {
          this.next = this.f = this.b = this.g = this.a = null, this.c = false;
        }
        ve2.prototype.reset = function() {
          this.f = this.b = this.g = this.a = null, this.c = false;
        };
        var ye2 = new D3(function() {
          return new ve2();
        }, function(t4) {
          t4.reset();
        });
        function me2(t4, e4, n4) {
          var r4 = ye2.get();
          return r4.g = t4, r4.b = e4, r4.f = n4, r4;
        }
        function be2(t4) {
          if (t4 instanceof fe2)
            return t4;
          var e4 = new fe2(s3);
          return Se2(e4, de2, t4), e4;
        }
        function _e2(n4) {
          return new fe2(function(t4, e4) {
            e4(n4);
          });
        }
        function we2(t4, e4, n4) {
          ke2(t4, e4, n4, null) || ue2(b3(e4, t4));
        }
        function Te2(n4) {
          return new fe2(function(r4) {
            var i4 = n4.length, o4 = [];
            if (i4)
              for (var t4 = function(t5, e5, n5) {
                i4--, o4[t5] = e5 ? { Qb: true, value: n5 } : { Qb: false, reason: n5 }, 0 == i4 && r4(o4);
              }, e4 = 0; e4 < n4.length; e4++)
                we2(n4[e4], b3(t4, e4, true), b3(t4, e4, false));
            else
              r4(o4);
          });
        }
        function Ie2(t4, e4) {
          t4.b || t4.a != de2 && t4.a != ge2 || Ce2(t4), t4.f ? t4.f.next = e4 : t4.b = e4, t4.f = e4;
        }
        function Ee2(t4, i4, o4, s4) {
          var e4 = me2(null, null, null);
          return e4.a = new fe2(function(n4, r4) {
            e4.g = i4 ? function(t5) {
              try {
                var e5 = i4.call(s4, t5);
                n4(e5);
              } catch (t6) {
                r4(t6);
              }
            } : n4, e4.b = o4 ? function(t5) {
              try {
                var e5 = o4.call(s4, t5);
                void 0 === e5 && t5 instanceof Oe2 ? r4(t5) : n4(e5);
              } catch (t6) {
                r4(t6);
              }
            } : r4;
          }), Ie2(e4.a.c = t4, e4), e4.a;
        }
        function Se2(t4, e4, n4) {
          var r4, i4;
          t4.a == pe2 && (t4 === n4 && (e4 = ge2, n4 = new TypeError("Promise cannot resolve to itself")), t4.a = 1, ke2(n4, t4.$c, t4.ad, t4) || (t4.i = n4, t4.a = e4, t4.c = null, Ce2(t4), e4 != ge2 || n4 instanceof Oe2 || (i4 = n4, (r4 = t4).g = true, ue2(function() {
            r4.g && Pe2.call(null, i4);
          }))));
        }
        function ke2(t4, e4, n4, r4) {
          if (t4 instanceof fe2)
            return Ie2(t4, me2(e4 || s3, n4 || null, r4)), 1;
          if (N3(t4))
            return t4.then(e4, n4, r4), 1;
          if (v3(t4))
            try {
              var i4 = t4.then;
              if (g3(i4))
                return function(t5, e5, n5, r5, i5) {
                  function o4(t6) {
                    s4 || (s4 = true, r5.call(i5, t6));
                  }
                  var s4 = false;
                  try {
                    e5.call(t5, function(t6) {
                      s4 || (s4 = true, n5.call(i5, t6));
                    }, o4);
                  } catch (t6) {
                    o4(t6);
                  }
                }(t4, i4, e4, n4, r4), 1;
            } catch (t5) {
              return n4.call(r4, t5), 1;
            }
        }
        function Ce2(t4) {
          t4.h || (t4.h = true, ue2(t4.gc, t4));
        }
        function Ae2(t4) {
          var e4 = null;
          return t4.b && (e4 = t4.b, t4.b = e4.next, e4.next = null), t4.b || (t4.f = null), e4;
        }
        function Ne2(t4, e4, n4, r4) {
          if (n4 == ge2 && e4.b && !e4.c)
            for (; t4 && t4.g; t4 = t4.c)
              t4.g = false;
          if (e4.a)
            e4.a.c = null, Re2(e4, n4, r4);
          else
            try {
              e4.c ? e4.g.call(e4.f) : Re2(e4, n4, r4);
            } catch (t5) {
              Pe2.call(null, t5);
            }
          x3(ye2, e4);
        }
        function Re2(t4, e4, n4) {
          e4 == de2 ? t4.g.call(t4.f, n4) : t4.b && t4.b.call(t4.f, n4);
        }
        fe2.prototype.then = function(t4, e4, n4) {
          return Ee2(this, g3(t4) ? t4 : null, g3(e4) ? e4 : null, n4);
        }, fe2.prototype.$goog_Thenable = true, (t3 = fe2.prototype).oa = function(t4, e4) {
          return (t4 = me2(t4, t4, e4)).c = true, Ie2(this, t4), this;
        }, t3.o = function(t4, e4) {
          return Ee2(this, null, t4, e4);
        }, t3.cancel = function(t4) {
          var e4;
          this.a == pe2 && (e4 = new Oe2(t4), ue2(function() {
            !function t5(e5, n4) {
              if (e5.a == pe2)
                if (e5.c) {
                  var r4 = e5.c;
                  if (r4.b) {
                    for (var i4 = 0, o4 = null, s4 = null, a4 = r4.b; a4 && (a4.c || (i4++, !((o4 = a4.a == e5 ? a4 : o4) && 1 < i4))); a4 = a4.next)
                      o4 || (s4 = a4);
                    o4 && (r4.a == pe2 && 1 == i4 ? t5(r4, n4) : (s4 ? ((i4 = s4).next == r4.f && (r4.f = i4), i4.next = i4.next.next) : Ae2(r4), Ne2(r4, o4, ge2, n4)));
                  }
                  e5.c = null;
                } else
                  Se2(e5, ge2, n4);
            }(this, e4);
          }, this));
        }, t3.$c = function(t4) {
          this.a = pe2, Se2(this, de2, t4);
        }, t3.ad = function(t4) {
          this.a = pe2, Se2(this, ge2, t4);
        }, t3.gc = function() {
          for (var t4; t4 = Ae2(this); )
            Ne2(this, t4, this.a, this.i);
          this.h = false;
        };
        var Pe2 = ae2;
        function Oe2(t4) {
          R3.call(this, t4);
        }
        function De2() {
          this.ya = this.ya, this.pa = this.pa;
        }
        _3(Oe2, R3);
        var xe2 = 0, Le2 = {};
        function Me2(t4) {
          t4.ya || (t4.ya = true, t4.Da(), 0 == xe2) || (t4 = t4, t4 = Object.prototype.hasOwnProperty.call(t4, n3) && t4[n3] || (t4[n3] = ++r3), delete Le2[t4]);
        }
        De2.prototype.ya = !(Oe2.prototype.name = "cancel"), De2.prototype.Da = function() {
          if (this.pa)
            for (; this.pa.length; )
              this.pa.shift()();
        };
        var Fe2 = Object.freeze || function(t4) {
          return t4;
        }, je2 = !Bt2 || 9 <= Number(Jt2), Ue2 = Bt2 && !$t2("9"), qe2 = function() {
          if (!l3.addEventListener || !Object.defineProperty)
            return false;
          var t4 = false, e4 = Object.defineProperty({}, "passive", { get: function() {
            t4 = true;
          } });
          try {
            l3.addEventListener("test", s3, e4), l3.removeEventListener("test", s3, e4);
          } catch (t5) {
          }
          return t4;
        }();
        function Ve2(t4, e4) {
          this.type = t4, this.b = this.target = e4, this.defaultPrevented = false;
        }
        function Be2(t4, e4) {
          if (Ve2.call(this, t4 ? t4.type : ""), this.relatedTarget = this.b = this.target = null, this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0, this.key = "", this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = false, this.pointerId = 0, this.pointerType = "", this.a = null, t4) {
            var n4 = this.type = t4.type, r4 = t4.changedTouches && t4.changedTouches.length ? t4.changedTouches[0] : null;
            if (this.target = t4.target || t4.srcElement, this.b = e4, e4 = t4.relatedTarget) {
              if (Ht2) {
                t: {
                  try {
                    Ut2(e4.nodeName);
                    var i4 = true;
                    break t;
                  } catch (t5) {
                  }
                  i4 = false;
                }
                i4 || (e4 = null);
              }
            } else
              "mouseover" == n4 ? e4 = t4.fromElement : "mouseout" == n4 && (e4 = t4.toElement);
            this.relatedTarget = e4, r4 ? (this.clientX = void 0 !== r4.clientX ? r4.clientX : r4.pageX, this.clientY = void 0 !== r4.clientY ? r4.clientY : r4.pageY, this.screenX = r4.screenX || 0, this.screenY = r4.screenY || 0) : (this.clientX = void 0 !== t4.clientX ? t4.clientX : t4.pageX, this.clientY = void 0 !== t4.clientY ? t4.clientY : t4.pageY, this.screenX = t4.screenX || 0, this.screenY = t4.screenY || 0), this.button = t4.button, this.key = t4.key || "", this.ctrlKey = t4.ctrlKey, this.altKey = t4.altKey, this.shiftKey = t4.shiftKey, this.metaKey = t4.metaKey, this.pointerId = t4.pointerId || 0, this.pointerType = "string" == typeof t4.pointerType ? t4.pointerType : Ke2[t4.pointerType] || "", (this.a = t4).defaultPrevented && this.preventDefault();
          }
        }
        Ve2.prototype.preventDefault = function() {
          this.defaultPrevented = true;
        }, _3(Be2, Ve2);
        var Ke2 = Fe2({ 2: "touch", 3: "pen", 4: "mouse" });
        Be2.prototype.preventDefault = function() {
          Be2.bb.preventDefault.call(this);
          var t4 = this.a;
          if (t4.preventDefault)
            t4.preventDefault();
          else if (t4.returnValue = false, Ue2)
            try {
              (t4.ctrlKey || 112 <= t4.keyCode && t4.keyCode <= 123) && (t4.keyCode = -1);
            } catch (t5) {
            }
        }, Be2.prototype.g = function() {
          return this.a;
        };
        var We2 = "closure_listenable_" + (1e6 * Math.random() | 0), He2 = 0;
        function ze2(t4, e4, n4, r4, i4) {
          this.listener = t4, this.proxy = null, this.src = e4, this.type = n4, this.capture = !!r4, this.Wa = i4, this.key = ++He2, this.wa = this.Qa = false;
        }
        function Ge2(t4) {
          t4.wa = true, t4.listener = null, t4.proxy = null, t4.src = null, t4.Wa = null;
        }
        function Qe2(t4) {
          this.src = t4, this.a = {}, this.b = 0;
        }
        function Ye2(t4, e4) {
          var n4 = e4.type;
          n4 in t4.a && W2(t4.a[n4], e4) && (Ge2(e4), 0 == t4.a[n4].length && (delete t4.a[n4], t4.b--));
        }
        function Xe2(t4, e4, n4, r4) {
          for (var i4 = 0; i4 < t4.length; ++i4) {
            var o4 = t4[i4];
            if (!o4.wa && o4.listener == e4 && o4.capture == !!n4 && o4.Wa == r4)
              return i4;
          }
          return -1;
        }
        Qe2.prototype.add = function(t4, e4, n4, r4, i4) {
          var o4 = t4.toString();
          (t4 = this.a[o4]) || (t4 = this.a[o4] = [], this.b++);
          var s4 = Xe2(t4, e4, r4, i4);
          return -1 < s4 ? (e4 = t4[s4], n4 || (e4.Qa = false)) : ((e4 = new ze2(e4, this.src, o4, !!r4, i4)).Qa = n4, t4.push(e4)), e4;
        };
        var $e2 = "closure_lm_" + (1e6 * Math.random() | 0), Je2 = {};
        function Ze2(t4, e4, n4, r4, i4) {
          if (r4 && r4.once)
            en2(t4, e4, n4, r4, i4);
          else if (Array.isArray(e4))
            for (var o4 = 0; o4 < e4.length; o4++)
              Ze2(t4, e4[o4], n4, r4, i4);
          else
            n4 = ln2(n4), t4 && t4[We2] ? pn2(t4, e4, n4, v3(r4) ? !!r4.capture : !!r4, i4) : tn2(t4, e4, n4, false, r4, i4);
        }
        function tn2(t4, e4, n4, r4, i4, o4) {
          if (!e4)
            throw Error("Invalid event type");
          var s4, a4, u4 = v3(i4) ? !!i4.capture : !!i4, c4 = cn2(t4);
          if (c4 || (t4[$e2] = c4 = new Qe2(t4)), !(n4 = c4.add(e4, n4, r4, u4, o4)).proxy)
            if (s4 = un2, a4 = je2 ? function(t5) {
              return s4.call(a4.src, a4.listener, t5);
            } : function(t5) {
              if (!(t5 = s4.call(a4.src, a4.listener, t5)))
                return t5;
            }, (n4.proxy = r4 = a4).src = t4, r4.listener = n4, t4.addEventListener)
              void 0 === (i4 = !qe2 ? u4 : i4) && (i4 = false), t4.addEventListener(e4.toString(), r4, i4);
            else if (t4.attachEvent)
              t4.attachEvent(on2(e4.toString()), r4);
            else {
              if (!t4.addListener || !t4.removeListener)
                throw Error("addEventListener and attachEvent are unavailable.");
              t4.addListener(r4);
            }
        }
        function en2(t4, e4, n4, r4, i4) {
          if (Array.isArray(e4))
            for (var o4 = 0; o4 < e4.length; o4++)
              en2(t4, e4[o4], n4, r4, i4);
          else
            n4 = ln2(n4), t4 && t4[We2] ? dn2(t4, e4, n4, v3(r4) ? !!r4.capture : !!r4, i4) : tn2(t4, e4, n4, true, r4, i4);
        }
        function nn2(t4, e4, n4, r4, i4) {
          if (Array.isArray(e4))
            for (var o4 = 0; o4 < e4.length; o4++)
              nn2(t4, e4[o4], n4, r4, i4);
          else
            r4 = v3(r4) ? !!r4.capture : !!r4, n4 = ln2(n4), t4 && t4[We2] ? (t4 = t4.v, (e4 = String(e4).toString()) in t4.a && (-1 < (n4 = Xe2(o4 = t4.a[e4], n4, r4, i4)) && (Ge2(o4[n4]), Array.prototype.splice.call(o4, n4, 1), 0 == o4.length && (delete t4.a[e4], t4.b--)))) : (t4 = t4 && cn2(t4)) && (e4 = t4.a[e4.toString()], (n4 = (t4 = -1) < (t4 = e4 ? Xe2(e4, n4, r4, i4) : t4) ? e4[t4] : null) && rn2(n4));
        }
        function rn2(t4) {
          var e4, n4, r4;
          "number" != typeof t4 && t4 && !t4.wa && ((e4 = t4.src) && e4[We2] ? Ye2(e4.v, t4) : (n4 = t4.type, r4 = t4.proxy, e4.removeEventListener ? e4.removeEventListener(n4, r4, t4.capture) : e4.detachEvent ? e4.detachEvent(on2(n4), r4) : e4.addListener && e4.removeListener && e4.removeListener(r4), (n4 = cn2(e4)) ? (Ye2(n4, t4), 0 == n4.b && (n4.src = null, e4[$e2] = null)) : Ge2(t4)));
        }
        function on2(t4) {
          return t4 in Je2 ? Je2[t4] : Je2[t4] = "on" + t4;
        }
        function sn2(t4, e4, n4, r4) {
          var i4 = true;
          if ((t4 = cn2(t4)) && (e4 = t4.a[e4.toString()]))
            for (e4 = e4.concat(), t4 = 0; t4 < e4.length; t4++) {
              var o4 = e4[t4];
              o4 && o4.capture == n4 && !o4.wa && (o4 = an2(o4, r4), i4 = i4 && false !== o4);
            }
          return i4;
        }
        function an2(t4, e4) {
          var n4 = t4.listener, r4 = t4.Wa || t4.src;
          return t4.Qa && rn2(t4), n4.call(r4, e4);
        }
        function un2(t4, e4) {
          if (t4.wa)
            return true;
          if (je2)
            return an2(t4, new Be2(e4, this));
          if (!e4)
            t: {
              e4 = ["window", "event"];
              for (var n4 = l3, r4 = 0; r4 < e4.length; r4++)
                if (null == (n4 = n4[e4[r4]])) {
                  e4 = null;
                  break t;
                }
              e4 = n4;
            }
          if (e4 = new Be2(r4 = e4, this), n4 = true, !(r4.keyCode < 0 || null != r4.returnValue)) {
            t: {
              var i4 = false;
              if (0 == r4.keyCode)
                try {
                  r4.keyCode = -1;
                  break t;
                } catch (t5) {
                  i4 = true;
                }
              !i4 && null != r4.returnValue || (r4.returnValue = true);
            }
            for (r4 = [], i4 = e4.b; i4; i4 = i4.parentNode)
              r4.push(i4);
            for (t4 = t4.type, i4 = r4.length - 1; 0 <= i4; i4--) {
              e4.b = r4[i4];
              var o4 = sn2(r4[i4], t4, true, e4), n4 = n4 && o4;
            }
            for (i4 = 0; i4 < r4.length; i4++)
              e4.b = r4[i4], o4 = sn2(r4[i4], t4, false, e4), n4 = n4 && o4;
          }
          return n4;
        }
        function cn2(t4) {
          return (t4 = t4[$e2]) instanceof Qe2 ? t4 : null;
        }
        var hn2 = "__closure_events_fn_" + (1e9 * Math.random() >>> 0);
        function ln2(e4) {
          return g3(e4) ? e4 : (e4[hn2] || (e4[hn2] = function(t4) {
            return e4.handleEvent(t4);
          }), e4[hn2]);
        }
        function fn2() {
          De2.call(this), this.v = new Qe2(this), (this.bc = this).hb = null;
        }
        function pn2(t4, e4, n4, r4, i4) {
          t4.v.add(String(e4), n4, false, r4, i4);
        }
        function dn2(t4, e4, n4, r4, i4) {
          t4.v.add(String(e4), n4, true, r4, i4);
        }
        function gn2(t4, e4, n4, r4) {
          if (!(e4 = t4.v.a[String(e4)]))
            return true;
          e4 = e4.concat();
          for (var i4 = true, o4 = 0; o4 < e4.length; ++o4) {
            var s4, a4, u4 = e4[o4];
            u4 && !u4.wa && u4.capture == n4 && (s4 = u4.listener, a4 = u4.Wa || u4.src, u4.Qa && Ye2(t4.v, u4), i4 = false !== s4.call(a4, r4) && i4);
          }
          return i4 && !r4.defaultPrevented;
        }
        function vn2(t4, e4, n4) {
          if (g3(t4))
            n4 && (t4 = m3(t4, n4));
          else {
            if (!t4 || "function" != typeof t4.handleEvent)
              throw Error("Invalid listener argument");
            t4 = m3(t4.handleEvent, t4);
          }
          return 2147483647 < Number(e4) ? -1 : l3.setTimeout(t4, e4 || 0);
        }
        function yn2(n4) {
          var r4 = null;
          return new fe2(function(t4, e4) {
            -1 == (r4 = vn2(function() {
              t4(void 0);
            }, n4)) && e4(Error("Failed to schedule timer."));
          }).o(function(t4) {
            throw l3.clearTimeout(r4), t4;
          });
        }
        function mn2(t4) {
          if (t4.X && "function" == typeof t4.X)
            return t4.X();
          if ("string" == typeof t4)
            return t4.split("");
          if (d3(t4)) {
            for (var e4 = [], n4 = t4.length, r4 = 0; r4 < n4; r4++)
              e4.push(t4[r4]);
            return e4;
          }
          for (r4 in e4 = [], n4 = 0, t4)
            e4[n4++] = t4[r4];
          return e4;
        }
        function bn2(t4) {
          if (t4.Y && "function" == typeof t4.Y)
            return t4.Y();
          if (!t4.X || "function" != typeof t4.X) {
            if (d3(t4) || "string" == typeof t4) {
              var e4 = [];
              t4 = t4.length;
              for (var n4 = 0; n4 < t4; n4++)
                e4.push(n4);
              return e4;
            }
            for (var r4 in e4 = [], n4 = 0, t4)
              e4[n4++] = r4;
            return e4;
          }
        }
        function _n2(t4, e4) {
          this.b = {}, this.a = [], this.c = 0;
          var n4 = arguments.length;
          if (1 < n4) {
            if (n4 % 2)
              throw Error("Uneven number of arguments");
            for (var r4 = 0; r4 < n4; r4 += 2)
              this.set(arguments[r4], arguments[r4 + 1]);
          } else if (t4)
            if (t4 instanceof _n2)
              for (n4 = t4.Y(), r4 = 0; r4 < n4.length; r4++)
                this.set(n4[r4], t4.get(n4[r4]));
            else
              for (r4 in t4)
                this.set(r4, t4[r4]);
        }
        function wn2(t4) {
          if (t4.c != t4.a.length) {
            for (var e4 = 0, n4 = 0; e4 < t4.a.length; ) {
              var r4 = t4.a[e4];
              Tn2(t4.b, r4) && (t4.a[n4++] = r4), e4++;
            }
            t4.a.length = n4;
          }
          if (t4.c != t4.a.length) {
            for (var i4 = {}, n4 = e4 = 0; e4 < t4.a.length; )
              Tn2(i4, r4 = t4.a[e4]) || (i4[t4.a[n4++] = r4] = 1), e4++;
            t4.a.length = n4;
          }
        }
        function Tn2(t4, e4) {
          return Object.prototype.hasOwnProperty.call(t4, e4);
        }
        _3(fn2, De2), fn2.prototype[We2] = true, fn2.prototype.addEventListener = function(t4, e4, n4, r4) {
          Ze2(this, t4, e4, n4, r4);
        }, fn2.prototype.removeEventListener = function(t4, e4, n4, r4) {
          nn2(this, t4, e4, n4, r4);
        }, fn2.prototype.dispatchEvent = function(t4) {
          var e4;
          if (n4 = this.hb)
            for (e4 = []; n4; n4 = n4.hb)
              e4.push(n4);
          var n4 = this.bc, r4 = t4.type || t4;
          if ("string" == typeof t4 ? t4 = new Ve2(t4, n4) : t4 instanceof Ve2 ? t4.target = t4.target || n4 : (s4 = t4, lt2(t4 = new Ve2(r4, n4), s4)), s4 = true, e4)
            for (var i4 = e4.length - 1; 0 <= i4; i4--)
              var o4 = t4.b = e4[i4], s4 = gn2(o4, r4, true, t4) && s4;
          if (s4 = gn2(o4 = t4.b = n4, r4, true, t4) && s4, s4 = gn2(o4, r4, false, t4) && s4, e4)
            for (i4 = 0; i4 < e4.length; i4++)
              s4 = gn2(o4 = t4.b = e4[i4], r4, false, t4) && s4;
          return s4;
        }, fn2.prototype.Da = function() {
          if (fn2.bb.Da.call(this), this.v) {
            var t4, e4 = this.v;
            for (t4 in e4.a) {
              for (var n4 = e4.a[t4], r4 = 0; r4 < n4.length; r4++)
                Ge2(n4[r4]);
              delete e4.a[t4], e4.b--;
            }
          }
          this.hb = null;
        }, (t3 = _n2.prototype).X = function() {
          wn2(this);
          for (var t4 = [], e4 = 0; e4 < this.a.length; e4++)
            t4.push(this.b[this.a[e4]]);
          return t4;
        }, t3.Y = function() {
          return wn2(this), this.a.concat();
        }, t3.clear = function() {
          this.b = {}, this.c = this.a.length = 0;
        }, t3.get = function(t4, e4) {
          return Tn2(this.b, t4) ? this.b[t4] : e4;
        }, t3.set = function(t4, e4) {
          Tn2(this.b, t4) || (this.c++, this.a.push(t4)), this.b[t4] = e4;
        }, t3.forEach = function(t4, e4) {
          for (var n4 = this.Y(), r4 = 0; r4 < n4.length; r4++) {
            var i4 = n4[r4], o4 = this.get(i4);
            t4.call(e4, o4, i4, this);
          }
        };
        var In2 = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;
        function En2(t4, e4) {
          var n4;
          this.a = this.l = this.c = "", this.g = null, this.h = this.f = "", this.i = false, t4 instanceof En2 ? (this.i = void 0 !== e4 ? e4 : t4.i, Sn2(this, t4.c), this.l = t4.l, this.a = t4.a, kn2(this, t4.g), this.f = t4.f, Cn2(this, zn2(t4.b)), this.h = t4.h) : t4 && (n4 = String(t4).match(In2)) ? (this.i = !!e4, Sn2(this, n4[1] || "", true), this.l = On2(n4[2] || ""), this.a = On2(n4[3] || "", true), kn2(this, n4[4]), this.f = On2(n4[5] || "", true), Cn2(this, n4[6] || "", true), this.h = On2(n4[7] || "")) : (this.i = !!e4, this.b = new qn2(null, this.i));
        }
        function Sn2(t4, e4, n4) {
          t4.c = n4 ? On2(e4, true) : e4, t4.c && (t4.c = t4.c.replace(/:$/, ""));
        }
        function kn2(t4, e4) {
          if (e4) {
            if (e4 = Number(e4), isNaN(e4) || e4 < 0)
              throw Error("Bad port number " + e4);
            t4.g = e4;
          } else
            t4.g = null;
        }
        function Cn2(t4, e4, n4) {
          var r4, i4;
          e4 instanceof qn2 ? (t4.b = e4, r4 = t4.b, (i4 = t4.i) && !r4.f && (Vn2(r4), r4.c = null, r4.a.forEach(function(t5, e5) {
            var n5 = e5.toLowerCase();
            e5 != n5 && (Kn2(this, e5), Hn2(this, n5, t5));
          }, r4)), r4.f = i4) : (n4 || (e4 = Dn2(e4, jn2)), t4.b = new qn2(e4, t4.i));
        }
        function An2(t4, e4, n4) {
          t4.b.set(e4, n4);
        }
        function Nn2(t4, e4) {
          return t4.b.get(e4);
        }
        function Rn2(t4) {
          return t4 instanceof En2 ? new En2(t4) : new En2(t4, void 0);
        }
        function Pn2(t4, e4, n4, r4) {
          var i4 = new En2(null, void 0);
          return t4 && Sn2(i4, t4), e4 && (i4.a = e4), n4 && kn2(i4, n4), r4 && (i4.f = r4), i4;
        }
        function On2(t4, e4) {
          return t4 ? e4 ? decodeURI(t4.replace(/%25/g, "%2525")) : decodeURIComponent(t4) : "";
        }
        function Dn2(t4, e4, n4) {
          return "string" == typeof t4 ? (t4 = encodeURI(t4).replace(e4, xn2), t4 = n4 ? t4.replace(/%25([0-9a-fA-F]{2})/g, "%$1") : t4) : null;
        }
        function xn2(t4) {
          return "%" + ((t4 = t4.charCodeAt(0)) >> 4 & 15).toString(16) + (15 & t4).toString(16);
        }
        En2.prototype.toString = function() {
          var t4 = [], e4 = this.c;
          e4 && t4.push(Dn2(e4, Ln2, true), ":");
          var n4 = this.a;
          return !n4 && "file" != e4 || (t4.push("//"), (e4 = this.l) && t4.push(Dn2(e4, Ln2, true), "@"), t4.push(encodeURIComponent(String(n4)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), null != (n4 = this.g) && t4.push(":", String(n4))), (n4 = this.f) && (this.a && "/" != n4.charAt(0) && t4.push("/"), t4.push(Dn2(n4, "/" == n4.charAt(0) ? Fn2 : Mn2, true))), (n4 = this.b.toString()) && t4.push("?", n4), (n4 = this.h) && t4.push("#", Dn2(n4, Un2)), t4.join("");
        }, En2.prototype.resolve = function(t4) {
          var e4 = new En2(this), n4 = !!t4.c;
          n4 ? Sn2(e4, t4.c) : n4 = !!t4.l, n4 ? e4.l = t4.l : n4 = !!t4.a, n4 ? e4.a = t4.a : n4 = null != t4.g;
          var r4 = t4.f;
          if (n4)
            kn2(e4, t4.g);
          else if (n4 = !!t4.f)
            if ("/" != r4.charAt(0) && (this.a && !this.f ? r4 = "/" + r4 : -1 != (i4 = e4.f.lastIndexOf("/")) && (r4 = e4.f.substr(0, i4 + 1) + r4)), ".." == (i4 = r4) || "." == i4)
              r4 = "";
            else if (rt2(i4, "./") || rt2(i4, "/.")) {
              for (var r4 = 0 == i4.lastIndexOf("/", 0), i4 = i4.split("/"), o4 = [], s4 = 0; s4 < i4.length; ) {
                var a4 = i4[s4++];
                "." == a4 ? r4 && s4 == i4.length && o4.push("") : ".." == a4 ? ((1 < o4.length || 1 == o4.length && "" != o4[0]) && o4.pop(), r4 && s4 == i4.length && o4.push("")) : (o4.push(a4), r4 = true);
              }
              r4 = o4.join("/");
            } else
              r4 = i4;
          return n4 ? e4.f = r4 : n4 = "" !== t4.b.toString(), n4 ? Cn2(e4, zn2(t4.b)) : n4 = !!t4.h, n4 && (e4.h = t4.h), e4;
        };
        var Ln2 = /[#\/\?@]/g, Mn2 = /[#\?:]/g, Fn2 = /[#\?]/g, jn2 = /[#\?@]/g, Un2 = /#/g;
        function qn2(t4, e4) {
          this.b = this.a = null, this.c = t4 || null, this.f = !!e4;
        }
        function Vn2(n4) {
          n4.a || (n4.a = new _n2(), n4.b = 0, n4.c && function(t4, e4) {
            if (t4) {
              t4 = t4.split("&");
              for (var n5 = 0; n5 < t4.length; n5++) {
                var r4, i4 = t4[n5].indexOf("="), o4 = null;
                0 <= i4 ? (r4 = t4[n5].substring(0, i4), o4 = t4[n5].substring(i4 + 1)) : r4 = t4[n5], e4(r4, o4 ? decodeURIComponent(o4.replace(/\+/g, " ")) : "");
              }
            }
          }(n4.c, function(t4, e4) {
            n4.add(decodeURIComponent(t4.replace(/\+/g, " ")), e4);
          }));
        }
        function Bn2(t4) {
          var e4 = bn2(t4);
          if (void 0 === e4)
            throw Error("Keys are undefined");
          var n4 = new qn2(null, void 0);
          t4 = mn2(t4);
          for (var r4 = 0; r4 < e4.length; r4++) {
            var i4 = e4[r4], o4 = t4[r4];
            Array.isArray(o4) ? Hn2(n4, i4, o4) : n4.add(i4, o4);
          }
          return n4;
        }
        function Kn2(t4, e4) {
          Vn2(t4), e4 = Gn2(t4, e4), Tn2(t4.a.b, e4) && (t4.c = null, t4.b -= t4.a.get(e4).length, Tn2((t4 = t4.a).b, e4) && (delete t4.b[e4], t4.c--, t4.a.length > 2 * t4.c && wn2(t4)));
        }
        function Wn2(t4, e4) {
          return Vn2(t4), e4 = Gn2(t4, e4), Tn2(t4.a.b, e4);
        }
        function Hn2(t4, e4, n4) {
          Kn2(t4, e4), 0 < n4.length && (t4.c = null, t4.a.set(Gn2(t4, e4), G2(n4)), t4.b += n4.length);
        }
        function zn2(t4) {
          var e4 = new qn2();
          return e4.c = t4.c, t4.a && (e4.a = new _n2(t4.a), e4.b = t4.b), e4;
        }
        function Gn2(t4, e4) {
          return e4 = String(e4), e4 = t4.f ? e4.toLowerCase() : e4;
        }
        function Qn2(t4) {
          var e4 = [];
          return function t5(e5, n4, r4) {
            if (null == n4)
              r4.push("null");
            else {
              if ("object" == typeof n4) {
                if (Array.isArray(n4)) {
                  var i4 = n4;
                  n4 = i4.length, r4.push("[");
                  for (var o4 = "", s4 = 0; s4 < n4; s4++)
                    r4.push(o4), t5(e5, i4[s4], r4), o4 = ",";
                  return void r4.push("]");
                }
                if (!(n4 instanceof String || n4 instanceof Number || n4 instanceof Boolean)) {
                  for (i4 in r4.push("{"), o4 = "", n4)
                    Object.prototype.hasOwnProperty.call(n4, i4) && (s4 = n4[i4], "function" != typeof s4 && (r4.push(o4), Jn2(i4, r4), r4.push(":"), t5(e5, s4, r4), o4 = ","));
                  return void r4.push("}");
                }
                n4 = n4.valueOf();
              }
              switch (typeof n4) {
                case "string":
                  Jn2(n4, r4);
                  break;
                case "number":
                  r4.push(isFinite(n4) && !isNaN(n4) ? String(n4) : "null");
                  break;
                case "boolean":
                  r4.push(String(n4));
                  break;
                case "function":
                  r4.push("null");
                  break;
                default:
                  throw Error("Unknown type: " + typeof n4);
              }
            }
          }(new Yn2(), t4, e4), e4.join("");
        }
        function Yn2() {
        }
        (t3 = qn2.prototype).add = function(t4, e4) {
          Vn2(this), this.c = null, t4 = Gn2(this, t4);
          var n4 = this.a.get(t4);
          return n4 || this.a.set(t4, n4 = []), n4.push(e4), this.b += 1, this;
        }, t3.clear = function() {
          this.a = this.c = null, this.b = 0;
        }, t3.forEach = function(n4, r4) {
          Vn2(this), this.a.forEach(function(t4, e4) {
            U2(t4, function(t5) {
              n4.call(r4, t5, e4, this);
            }, this);
          }, this);
        }, t3.Y = function() {
          Vn2(this);
          for (var t4 = this.a.X(), e4 = this.a.Y(), n4 = [], r4 = 0; r4 < e4.length; r4++)
            for (var i4 = t4[r4], o4 = 0; o4 < i4.length; o4++)
              n4.push(e4[r4]);
          return n4;
        }, t3.X = function(t4) {
          Vn2(this);
          var e4 = [];
          if ("string" == typeof t4)
            Wn2(this, t4) && (e4 = z2(e4, this.a.get(Gn2(this, t4))));
          else {
            t4 = this.a.X();
            for (var n4 = 0; n4 < t4.length; n4++)
              e4 = z2(e4, t4[n4]);
          }
          return e4;
        }, t3.set = function(t4, e4) {
          return Vn2(this), this.c = null, Wn2(this, t4 = Gn2(this, t4)) && (this.b -= this.a.get(t4).length), this.a.set(t4, [e4]), this.b += 1, this;
        }, t3.get = function(t4, e4) {
          return t4 && 0 < (t4 = this.X(t4)).length ? String(t4[0]) : e4;
        }, t3.toString = function() {
          if (this.c)
            return this.c;
          if (!this.a)
            return "";
          for (var t4 = [], e4 = this.a.Y(), n4 = 0; n4 < e4.length; n4++)
            for (var r4 = e4[n4], i4 = encodeURIComponent(String(r4)), r4 = this.X(r4), o4 = 0; o4 < r4.length; o4++) {
              var s4 = i4;
              "" !== r4[o4] && (s4 += "=" + encodeURIComponent(String(r4[o4]))), t4.push(s4);
            }
          return this.c = t4.join("&");
        };
        var Xn2 = { '"': '\\"', "\\": "\\\\", "/": "\\/", "\b": "\\b", "\f": "\\f", "\n": "\\n", "\r": "\\r", "	": "\\t", "\v": "\\u000b" }, $n2 = /\uffff/.test("\uFFFF") ? /[\\"\x00-\x1f\x7f-\uffff]/g : /[\\"\x00-\x1f\x7f-\xff]/g;
        function Jn2(t4, e4) {
          e4.push('"', t4.replace($n2, function(t5) {
            var e5 = Xn2[t5];
            return e5 || (e5 = "\\u" + (65536 | t5.charCodeAt(0)).toString(16).substr(1), Xn2[t5] = e5), e5;
          }), '"');
        }
        function Zn2() {
          var t4 = mr2();
          return Bt2 && Jt2 && 11 == Jt2 || /Edge\/\d+/.test(t4);
        }
        function tr2() {
          return l3.window && l3.window.location.href || self && self.location && self.location.href || "";
        }
        function er2(t4, e4) {
          e4 = e4 || l3.window;
          var n4 = "about:blank";
          t4 && (n4 = kt2(Rt2(t4) || Dt2)), e4.location.href = n4;
        }
        function nr2(t4) {
          return !!((t4 = (t4 || mr2()).toLowerCase()).match(/android/) || t4.match(/webos/) || t4.match(/iphone|ipad|ipod/) || t4.match(/blackberry/) || t4.match(/windows phone/) || t4.match(/iemobile/));
        }
        function rr2(t4) {
          t4 = t4 || l3.window;
          try {
            t4.close();
          } catch (t5) {
          }
        }
        function ir2(t4, e4, n4) {
          var r4 = Math.floor(1e9 * Math.random()).toString();
          e4 = e4 || 500, n4 = n4 || 600;
          var i4 = (window.screen.availHeight - n4) / 2, o4 = (window.screen.availWidth - e4) / 2;
          for (s4 in e4 = { width: e4, height: n4, top: 0 < i4 ? i4 : 0, left: 0 < o4 ? o4 : 0, location: true, resizable: true, statusbar: true, toolbar: false }, n4 = mr2().toLowerCase(), r4 && (e4.target = r4, rt2(n4, "crios/") && (e4.target = "_blank")), gr2(mr2()) == pr2 && (t4 = t4 || "http://localhost", e4.scrollbars = true), n4 = t4 || "", (t4 = e4) || (t4 = {}), r4 = window, e4 = n4 instanceof St2 ? n4 : Rt2(void 0 !== n4.href ? n4.href : String(n4)) || Dt2, n4 = t4.target || n4.target, i4 = [], t4)
            switch (s4) {
              case "width":
              case "height":
              case "top":
              case "left":
                i4.push(s4 + "=" + t4[s4]);
                break;
              case "target":
              case "noopener":
              case "noreferrer":
                break;
              default:
                i4.push(s4 + "=" + (t4[s4] ? 1 : 0));
            }
          var s4 = i4.join(",");
          if ((st2("iPhone") && !st2("iPod") && !st2("iPad") || st2("iPad") || st2("iPod")) && r4.navigator && r4.navigator.standalone && n4 && "_self" != n4 ? (ft2(s4 = se2(document, "A"), "HTMLAnchorElement"), e4 = e4 instanceof St2 ? e4 : Pt2(e4), s4.href = kt2(e4), s4.setAttribute("target", n4), t4.noreferrer && s4.setAttribute("rel", "noreferrer"), (t4 = document.createEvent("MouseEvent")).initMouseEvent("click", true, true, r4, 1), s4.dispatchEvent(t4), s4 = {}) : t4.noreferrer ? (s4 = Mt2("", r4, n4, s4), t4 = kt2(e4), s4 && (Wt2 && rt2(t4, ";") && (t4 = "'" + t4.replace(/'/g, "%27") + "'"), s4.opener = null, t4 = '<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url=' + jt2(t4) + '">', t4 = new xt2(t4 = (r4 = mt2()) ? r4.createHTML(t4) : t4, 0, Lt2), r4 = s4.document) && (r4.write((o4 = t4) instanceof xt2 && o4.constructor === xt2 ? o4.a : (O3("expected object of type SafeHtml, got '" + o4 + "' of type " + p3(o4)), "type_error:SafeHtml")), r4.close())) : (s4 = Mt2(e4, r4, n4, s4)) && t4.noopener && (s4.opener = null), s4)
            try {
              s4.focus();
            } catch (t5) {
            }
          return s4;
        }
        var or2 = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/, sr2 = /^[^@]+@[^@]+$/;
        function ar2() {
          var e4 = null;
          return new fe2(function(t4) {
            "complete" == l3.document.readyState ? t4() : (e4 = function() {
              t4();
            }, en2(window, "load", e4));
          }).o(function(t4) {
            throw nn2(window, "load", e4), t4;
          });
        }
        function ur2(t4) {
          return t4 = t4 || mr2(), !("file:" !== Ir2() && "ionic:" !== Ir2() || !t4.toLowerCase().match(/iphone|ipad|ipod|android/));
        }
        function cr2() {
          var t4 = l3.window;
          try {
            return t4 && t4 != t4.top;
          } catch (t5) {
            return;
          }
        }
        function hr2() {
          return void 0 !== l3.WorkerGlobalScope && "function" == typeof l3.importScripts;
        }
        function lr2() {
          return Jl.INTERNAL.hasOwnProperty("reactNative") ? "ReactNative" : Jl.INTERNAL.hasOwnProperty("node") ? "Node" : hr2() ? "Worker" : "Browser";
        }
        function fr2() {
          var t4 = lr2();
          return "ReactNative" === t4 || "Node" === t4;
        }
        var pr2 = "Firefox", dr2 = "Chrome";
        function gr2(t4) {
          var e4 = t4.toLowerCase();
          return rt2(e4, "opera/") || rt2(e4, "opr/") || rt2(e4, "opios/") ? "Opera" : rt2(e4, "iemobile") ? "IEMobile" : rt2(e4, "msie") || rt2(e4, "trident/") ? "IE" : rt2(e4, "edge/") ? "Edge" : rt2(e4, "firefox/") ? pr2 : rt2(e4, "silk/") ? "Silk" : rt2(e4, "blackberry") ? "Blackberry" : rt2(e4, "webos") ? "Webos" : !rt2(e4, "safari/") || rt2(e4, "chrome/") || rt2(e4, "crios/") || rt2(e4, "android") ? !rt2(e4, "chrome/") && !rt2(e4, "crios/") || rt2(e4, "edge/") ? rt2(e4, "android") ? "Android" : (t4 = t4.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/)) && 2 == t4.length ? t4[1] : "Other" : dr2 : "Safari";
        }
        var vr2 = { md: "FirebaseCore-web", od: "FirebaseUI-web" };
        function yr2(t4, e4) {
          e4 = e4 || [];
          var n4, r4 = [], i4 = {};
          for (n4 in vr2)
            i4[vr2[n4]] = true;
          for (n4 = 0; n4 < e4.length; n4++)
            void 0 !== i4[e4[n4]] && (delete i4[e4[n4]], r4.push(e4[n4]));
          return r4.sort(), (e4 = r4).length || (e4 = ["FirebaseCore-web"]), "Browser" === (r4 = lr2()) ? r4 = gr2(i4 = mr2()) : "Worker" === r4 && (r4 = gr2(i4 = mr2()) + "-" + r4), r4 + "/JsCore/" + t4 + "/" + e4.join(",");
        }
        function mr2() {
          return l3.navigator && l3.navigator.userAgent || "";
        }
        function br2(t4, e4) {
          t4 = t4.split("."), e4 = e4 || l3;
          for (var n4 = 0; n4 < t4.length && "object" == typeof e4 && null != e4; n4++)
            e4 = e4[t4[n4]];
          return e4 = n4 != t4.length ? void 0 : e4;
        }
        function _r2() {
          try {
            var t4 = l3.localStorage, e4 = Ar2();
            if (t4)
              return t4.setItem(e4, "1"), t4.removeItem(e4), !Zn2() || !!l3.indexedDB;
          } catch (t5) {
            return hr2() && !!l3.indexedDB;
          }
          return false;
        }
        function wr2() {
          return (Tr2() || "chrome-extension:" === Ir2() || ur2()) && !fr2() && _r2() && !hr2();
        }
        function Tr2() {
          return "http:" === Ir2() || "https:" === Ir2();
        }
        function Ir2() {
          return l3.location && l3.location.protocol || null;
        }
        function Er2(t4) {
          return !nr2(t4 = t4 || mr2()) && gr2(t4) != pr2;
        }
        function Sr2(t4) {
          return void 0 === t4 ? null : Qn2(t4);
        }
        function kr2(t4) {
          var e4, n4 = {};
          for (e4 in t4)
            t4.hasOwnProperty(e4) && null !== t4[e4] && void 0 !== t4[e4] && (n4[e4] = t4[e4]);
          return n4;
        }
        function Cr2(t4) {
          if (null !== t4)
            return JSON.parse(t4);
        }
        function Ar2(t4) {
          return t4 || Math.floor(1e9 * Math.random()).toString();
        }
        function Nr2(t4) {
          return "Safari" != gr2(t4 = t4 || mr2()) && !t4.toLowerCase().match(/iphone|ipad|ipod/);
        }
        function Rr2() {
          var t4 = l3.___jsl;
          if (t4 && t4.H) {
            for (var e4 in t4.H)
              if (t4.H[e4].r = t4.H[e4].r || [], t4.H[e4].L = t4.H[e4].L || [], t4.H[e4].r = t4.H[e4].L.concat(), t4.CP)
                for (var n4 = 0; n4 < t4.CP.length; n4++)
                  t4.CP[n4] = null;
          }
        }
        function Pr2(t4, e4) {
          if (e4 < t4)
            throw Error("Short delay should be less than long delay!");
          this.a = t4, this.c = e4, t4 = mr2(), e4 = lr2(), this.b = nr2(t4) || "ReactNative" === e4;
        }
        function Or2() {
          var t4 = l3.document;
          return !t4 || void 0 === t4.visibilityState || "visible" == t4.visibilityState;
        }
        function Dr2() {
          var e4 = l3.document, n4 = null;
          return Or2() || !e4 ? be2() : new fe2(function(t4) {
            n4 = function() {
              Or2() && (e4.removeEventListener("visibilitychange", n4, false), t4());
            }, e4.addEventListener("visibilitychange", n4, false);
          }).o(function(t4) {
            throw e4.removeEventListener("visibilitychange", n4, false), t4;
          });
        }
        function xr2(t4) {
          try {
            var e4 = new Date(parseInt(t4, 10));
            if (!isNaN(e4.getTime()) && !/[^0-9]/.test(t4))
              return e4.toUTCString();
          } catch (t5) {
          }
          return null;
        }
        function Lr2() {
          return br2("fireauth.oauthhelper", l3) || br2("fireauth.iframe", l3);
        }
        Pr2.prototype.get = function() {
          var t4 = l3.navigator;
          return !t4 || "boolean" != typeof t4.onLine || !Tr2() && "chrome-extension:" !== Ir2() && void 0 === t4.connection || t4.onLine ? this.b ? this.c : this.a : Math.min(5e3, this.a);
        };
        var Mr2, Fr2 = {};
        function jr2(t4) {
          Fr2[t4] || (Fr2[t4] = true, "undefined" != typeof console && "function" == typeof console.warn && console.warn(t4));
        }
        try {
          var Ur2 = {};
          Object.defineProperty(Ur2, "abcd", { configurable: true, enumerable: true, value: 1 }), Object.defineProperty(Ur2, "abcd", { configurable: true, enumerable: true, value: 2 }), Mr2 = 2 == Ur2.abcd;
        } catch (t4) {
          Mr2 = false;
        }
        function qr2(t4, e4, n4) {
          Mr2 ? Object.defineProperty(t4, e4, { configurable: true, enumerable: true, value: n4 }) : t4[e4] = n4;
        }
        function Vr2(t4, e4) {
          if (e4)
            for (var n4 in e4)
              e4.hasOwnProperty(n4) && qr2(t4, n4, e4[n4]);
        }
        function Br2(t4) {
          var e4 = {};
          return Vr2(e4, t4), e4;
        }
        function Kr2(t4) {
          var e4 = t4;
          if ("object" == typeof t4 && null != t4)
            for (var n4 in e4 = "length" in t4 ? [] : {}, t4)
              qr2(e4, n4, Kr2(t4[n4]));
          return e4;
        }
        function Wr2(t4) {
          var e4 = t4 && (t4[Yr2] ? "phone" : null);
          if (!(e4 && t4 && t4[Qr2]))
            throw new T3("internal-error", "Internal assert: invalid MultiFactorInfo object");
          qr2(this, "uid", t4[Qr2]), qr2(this, "displayName", t4[zr2] || null);
          var n4 = null;
          qr2(this, "enrollmentTime", n4 = t4[Gr2] ? new Date(t4[Gr2]).toUTCString() : n4), qr2(this, "factorId", e4);
        }
        function Hr2(t4) {
          try {
            var e4 = new Xr2(t4);
          } catch (t5) {
            e4 = null;
          }
          return e4;
        }
        Wr2.prototype.w = function() {
          return { uid: this.uid, displayName: this.displayName, factorId: this.factorId, enrollmentTime: this.enrollmentTime };
        };
        var zr2 = "displayName", Gr2 = "enrolledAt", Qr2 = "mfaEnrollmentId", Yr2 = "phoneInfo";
        function Xr2(t4) {
          Wr2.call(this, t4), qr2(this, "phoneNumber", t4[Yr2]);
        }
        function $r2(t4) {
          var e4 = {}, n4 = t4[ei2], r4 = t4[ri2], i4 = t4[ii2];
          if (t4 = Hr2(t4[ni2]), !i4 || i4 != Zr2 && i4 != ti2 && !n4 || i4 == ti2 && !r4 || i4 == Jr2 && !t4)
            throw Error("Invalid checkActionCode response!");
          i4 == ti2 ? (e4[si2] = n4 || null, e4[ui2] = n4 || null, e4[oi2] = r4) : (e4[si2] = r4 || null, e4[ui2] = r4 || null, e4[oi2] = n4 || null), e4[ai2] = t4 || null, qr2(this, hi2, i4), qr2(this, ci2, Kr2(e4));
        }
        _3(Xr2, Wr2), Xr2.prototype.w = function() {
          var t4 = Xr2.bb.w.call(this);
          return t4.phoneNumber = this.phoneNumber, t4;
        };
        var Jr2 = "REVERT_SECOND_FACTOR_ADDITION", Zr2 = "EMAIL_SIGNIN", ti2 = "VERIFY_AND_CHANGE_EMAIL", ei2 = "email", ni2 = "mfaInfo", ri2 = "newEmail", ii2 = "requestType", oi2 = "email", si2 = "fromEmail", ai2 = "multiFactorInfo", ui2 = "previousEmail", ci2 = "data", hi2 = "operation";
        function li2(t4) {
          var e4 = Nn2(t4 = Rn2(t4), fi2) || null, n4 = Nn2(t4, pi2) || null, r4 = (r4 = Nn2(t4, vi2) || null) && mi2[r4] || null;
          if (!e4 || !n4 || !r4)
            throw new T3("argument-error", fi2 + ", " + pi2 + "and " + vi2 + " are required in a valid action code URL.");
          Vr2(this, { apiKey: e4, operation: r4, code: n4, continueUrl: Nn2(t4, di2) || null, languageCode: Nn2(t4, gi2) || null, tenantId: Nn2(t4, yi2) || null });
        }
        var fi2 = "apiKey", pi2 = "oobCode", di2 = "continueUrl", gi2 = "languageCode", vi2 = "mode", yi2 = "tenantId", mi2 = { recoverEmail: "RECOVER_EMAIL", resetPassword: "PASSWORD_RESET", revertSecondFactorAddition: Jr2, signIn: Zr2, verifyAndChangeEmail: ti2, verifyEmail: "VERIFY_EMAIL" };
        function bi2(t4) {
          try {
            return new li2(t4);
          } catch (t5) {
            return null;
          }
        }
        function _i2(t4) {
          if (void 0 === (e4 = t4[Si2]))
            throw new T3("missing-continue-uri");
          if ("string" != typeof e4 || "string" == typeof e4 && !e4.length)
            throw new T3("invalid-continue-uri");
          if (this.h = e4, this.b = this.a = null, this.g = false, (r4 = t4[wi2]) && "object" == typeof r4) {
            var e4 = r4[Ai2], n4 = r4[ki2], r4 = r4[Ci2];
            if ("string" == typeof e4 && e4.length) {
              if (this.a = e4, void 0 !== n4 && "boolean" != typeof n4)
                throw new T3("argument-error", ki2 + " property must be a boolean when specified.");
              if (this.g = !!n4, void 0 !== r4 && ("string" != typeof r4 || "string" == typeof r4 && !r4.length))
                throw new T3("argument-error", Ci2 + " property must be a non empty string when specified.");
              this.b = r4 || null;
            } else {
              if (void 0 !== e4)
                throw new T3("argument-error", Ai2 + " property must be a non empty string when specified.");
              if (void 0 !== n4 || void 0 !== r4)
                throw new T3("missing-android-pkg-name");
            }
          } else if (void 0 !== r4)
            throw new T3("argument-error", wi2 + " property must be a non null object when specified.");
          if (this.f = null, (e4 = t4[Ei2]) && "object" == typeof e4) {
            if ("string" == typeof (e4 = e4[Ni2]) && e4.length)
              this.f = e4;
            else if (void 0 !== e4)
              throw new T3("argument-error", Ni2 + " property must be a non empty string when specified.");
          } else if (void 0 !== e4)
            throw new T3("argument-error", Ei2 + " property must be a non null object when specified.");
          if (void 0 !== (e4 = t4[Ii2]) && "boolean" != typeof e4)
            throw new T3("argument-error", Ii2 + " property must be a boolean when specified.");
          if (this.c = !!e4, void 0 !== (t4 = t4[Ti2]) && ("string" != typeof t4 || "string" == typeof t4 && !t4.length))
            throw new T3("argument-error", Ti2 + " property must be a non empty string when specified.");
          this.i = t4 || null;
        }
        var wi2 = "android", Ti2 = "dynamicLinkDomain", Ii2 = "handleCodeInApp", Ei2 = "iOS", Si2 = "url", ki2 = "installApp", Ci2 = "minimumVersion", Ai2 = "packageName", Ni2 = "bundleId";
        function Ri2(t4) {
          var e4, n4 = {};
          for (e4 in n4.continueUrl = t4.h, n4.canHandleCodeInApp = t4.c, (n4.androidPackageName = t4.a) && (n4.androidMinimumVersion = t4.b, n4.androidInstallApp = t4.g), n4.iOSBundleId = t4.f, n4.dynamicLinkDomain = t4.i, n4)
            null === n4[e4] && delete n4[e4];
          return n4;
        }
        var Pi2 = null;
        function Oi2(t4) {
          var e4 = [];
          return function(r4, t5) {
            function e5(t6) {
              for (; i4 < r4.length; ) {
                var e6 = r4.charAt(i4++), n5 = Pi2[e6];
                if (null != n5)
                  return n5;
                if (!/^[\s\xa0]*$/.test(e6))
                  throw Error("Unknown base64 encoding at char: " + e6);
              }
              return t6;
            }
            !function() {
              if (!Pi2) {
                Pi2 = {};
                for (var t6 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""), e6 = ["+/=", "+/", "-_=", "-_.", "-_"], n5 = 0; n5 < 5; n5++)
                  for (var r5 = t6.concat(e6[n5].split("")), i5 = 0; i5 < r5.length; i5++) {
                    var o5 = r5[i5];
                    void 0 === Pi2[o5] && (Pi2[o5] = i5);
                  }
              }
            }();
            for (var i4 = 0; ; ) {
              var n4 = e5(-1), o4 = e5(0), s4 = e5(64), a4 = e5(64);
              if (64 === a4 && -1 === n4)
                break;
              t5(n4 << 2 | o4 >> 4), 64 != s4 && (t5(o4 << 4 & 240 | s4 >> 2), 64 != a4 && t5(s4 << 6 & 192 | a4));
            }
          }(t4, function(t5) {
            e4.push(t5);
          }), e4;
        }
        function Di2(t4) {
          var e4 = Li2(t4);
          if (!(e4 && e4.sub && e4.iss && e4.aud && e4.exp))
            throw Error("Invalid JWT");
          this.h = t4, this.a = e4.exp, this.i = e4.sub, t4 = Date.now() / 1e3, this.g = e4.iat || (t4 > this.a ? this.a : t4), this.b = e4.provider_id || e4.firebase && e4.firebase.sign_in_provider || null, this.f = e4.firebase && e4.firebase.tenant || null, this.c = !!e4.is_anonymous || "anonymous" == this.b;
        }
        function xi2(t4) {
          try {
            return new Di2(t4);
          } catch (t5) {
            return null;
          }
        }
        function Li2(t4) {
          if (!t4)
            return null;
          if (3 != (t4 = t4.split(".")).length)
            return null;
          for (var e4 = (4 - (t4 = t4[1]).length % 4) % 4, n4 = 0; n4 < e4; n4++)
            t4 += ".";
          try {
            var r4 = Oi2(t4);
            for (t4 = [], n4 = e4 = 0; e4 < r4.length; ) {
              var i4, o4, s4, a4 = r4[e4++];
              a4 < 128 ? t4[n4++] = String.fromCharCode(a4) : 191 < a4 && a4 < 224 ? (i4 = r4[e4++], t4[n4++] = String.fromCharCode((31 & a4) << 6 | 63 & i4)) : 239 < a4 && a4 < 365 ? (s4 = ((7 & a4) << 18 | (63 & (i4 = r4[e4++])) << 12 | (63 & (o4 = r4[e4++])) << 6 | 63 & r4[e4++]) - 65536, t4[n4++] = String.fromCharCode(55296 + (s4 >> 10)), t4[n4++] = String.fromCharCode(56320 + (1023 & s4))) : (i4 = r4[e4++], o4 = r4[e4++], t4[n4++] = String.fromCharCode((15 & a4) << 12 | (63 & i4) << 6 | 63 & o4));
            }
            return JSON.parse(t4.join(""));
          } catch (t5) {
          }
          return null;
        }
        Di2.prototype.T = function() {
          return this.f;
        }, Di2.prototype.l = function() {
          return this.c;
        }, Di2.prototype.toString = function() {
          return this.h;
        };
        var Mi2 = "oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "), Fi2 = ["client_id", "response_type", "scope", "redirect_uri", "state"], ji2 = { nd: { Ja: "locale", va: 700, ua: 600, fa: "facebook.com", Ya: Fi2 }, pd: { Ja: null, va: 500, ua: 750, fa: "github.com", Ya: Fi2 }, qd: { Ja: "hl", va: 515, ua: 680, fa: "google.com", Ya: Fi2 }, wd: { Ja: "lang", va: 485, ua: 705, fa: "twitter.com", Ya: Mi2 }, kd: { Ja: "locale", va: 640, ua: 600, fa: "apple.com", Ya: [] } };
        function Ui2(t4) {
          for (var e4 in ji2)
            if (ji2[e4].fa == t4)
              return ji2[e4];
          return null;
        }
        function qi2(t4) {
          var e4 = {};
          e4["facebook.com"] = Hi2, e4["google.com"] = Gi2, e4["github.com"] = zi2, e4["twitter.com"] = Qi2;
          var n4 = t4 && t4[Bi2];
          try {
            if (n4)
              return new (e4[n4] || Wi2)(t4);
            if (void 0 !== t4[Vi2])
              return new Ki2(t4);
          } catch (t5) {
          }
          return null;
        }
        var Vi2 = "idToken", Bi2 = "providerId";
        function Ki2(t4) {
          var e4, n4 = t4[Bi2];
          if (n4 || !t4[Vi2] || (e4 = xi2(t4[Vi2])) && e4.b && (n4 = e4.b), !n4)
            throw Error("Invalid additional user info!");
          e4 = false, void 0 !== t4.isNewUser ? e4 = !!t4.isNewUser : "identitytoolkit#SignupNewUserResponse" === t4.kind && (e4 = true), qr2(this, "providerId", n4 = "anonymous" == n4 || "custom" == n4 ? null : n4), qr2(this, "isNewUser", e4);
        }
        function Wi2(t4) {
          Ki2.call(this, t4), qr2(this, "profile", Kr2((t4 = Cr2(t4.rawUserInfo || "{}")) || {}));
        }
        function Hi2(t4) {
          if (Wi2.call(this, t4), "facebook.com" != this.providerId)
            throw Error("Invalid provider ID!");
        }
        function zi2(t4) {
          if (Wi2.call(this, t4), "github.com" != this.providerId)
            throw Error("Invalid provider ID!");
          qr2(this, "username", this.profile && this.profile.login || null);
        }
        function Gi2(t4) {
          if (Wi2.call(this, t4), "google.com" != this.providerId)
            throw Error("Invalid provider ID!");
        }
        function Qi2(t4) {
          if (Wi2.call(this, t4), "twitter.com" != this.providerId)
            throw Error("Invalid provider ID!");
          qr2(this, "username", t4.screenName || null);
        }
        function Yi2(t4) {
          var e4 = Nn2(r4 = Rn2(t4), "link"), n4 = Nn2(Rn2(e4), "link"), r4 = Nn2(r4, "deep_link_id");
          return Nn2(Rn2(r4), "link") || r4 || n4 || e4 || t4;
        }
        function Xi2(t4, e4) {
          if (!t4 && !e4)
            throw new T3("internal-error", "Internal assert: no raw session string available");
          if (t4 && e4)
            throw new T3("internal-error", "Internal assert: unable to determine the session type");
          this.a = t4 || null, this.b = e4 || null, this.type = this.a ? $i2 : Ji2;
        }
        _3(Wi2, Ki2), _3(Hi2, Wi2), _3(zi2, Wi2), _3(Gi2, Wi2), _3(Qi2, Wi2);
        var $i2 = "enroll", Ji2 = "signin";
        function Zi2() {
        }
        function to2(t4, n4) {
          return t4.then(function(t5) {
            if (t5[Ks2]) {
              var e4 = xi2(t5[Ks2]);
              if (!e4 || n4 != e4.i)
                throw new T3("user-mismatch");
              return t5;
            }
            throw new T3("user-mismatch");
          }).o(function(t5) {
            throw t5 && t5.code && t5.code == S3 + "user-not-found" ? new T3("user-mismatch") : t5;
          });
        }
        function eo2(t4, e4) {
          if (!e4)
            throw new T3("internal-error", "failed to construct a credential");
          this.a = e4, qr2(this, "providerId", t4), qr2(this, "signInMethod", t4);
        }
        function no2(t4) {
          return { pendingToken: t4.a, requestUri: "http://localhost" };
        }
        function ro2(t4) {
          if (t4 && t4.providerId && t4.signInMethod && 0 == t4.providerId.indexOf("saml.") && t4.pendingToken)
            try {
              return new eo2(t4.providerId, t4.pendingToken);
            } catch (t5) {
            }
          return null;
        }
        function io2(t4, e4, n4) {
          if (this.a = null, e4.idToken || e4.accessToken)
            e4.idToken && qr2(this, "idToken", e4.idToken), e4.accessToken && qr2(this, "accessToken", e4.accessToken), e4.nonce && !e4.pendingToken && qr2(this, "nonce", e4.nonce), e4.pendingToken && (this.a = e4.pendingToken);
          else {
            if (!e4.oauthToken || !e4.oauthTokenSecret)
              throw new T3("internal-error", "failed to construct a credential");
            qr2(this, "accessToken", e4.oauthToken), qr2(this, "secret", e4.oauthTokenSecret);
          }
          qr2(this, "providerId", t4), qr2(this, "signInMethod", n4);
        }
        function oo2(t4) {
          var e4 = {};
          return t4.idToken && (e4.id_token = t4.idToken), t4.accessToken && (e4.access_token = t4.accessToken), t4.secret && (e4.oauth_token_secret = t4.secret), e4.providerId = t4.providerId, t4.nonce && !t4.a && (e4.nonce = t4.nonce), e4 = { postBody: Bn2(e4).toString(), requestUri: "http://localhost" }, t4.a && (delete e4.postBody, e4.pendingToken = t4.a), e4;
        }
        function so2(t4) {
          if (t4 && t4.providerId && t4.signInMethod) {
            var e4 = { idToken: t4.oauthIdToken, accessToken: t4.oauthTokenSecret ? null : t4.oauthAccessToken, oauthTokenSecret: t4.oauthTokenSecret, oauthToken: t4.oauthTokenSecret && t4.oauthAccessToken, nonce: t4.nonce, pendingToken: t4.pendingToken };
            try {
              return new io2(t4.providerId, e4, t4.signInMethod);
            } catch (t5) {
            }
          }
          return null;
        }
        function ao2(t4, e4) {
          this.Qc = e4 || [], Vr2(this, { providerId: t4, isOAuthProvider: true }), this.Jb = {}, this.qb = (Ui2(t4) || {}).Ja || null, this.pb = null;
        }
        function uo2(t4) {
          if ("string" != typeof t4 || 0 != t4.indexOf("saml."))
            throw new T3("argument-error", 'SAML provider IDs must be prefixed with "saml."');
          ao2.call(this, t4, []);
        }
        function co2(t4) {
          ao2.call(this, t4, Fi2), this.a = [];
        }
        function ho2() {
          co2.call(this, "facebook.com");
        }
        function lo2(t4) {
          if (!t4)
            throw new T3("argument-error", "credential failed: expected 1 argument (the OAuth access token).");
          var e4 = t4;
          return v3(t4) && (e4 = t4.accessToken), new ho2().credential({ accessToken: e4 });
        }
        function fo2() {
          co2.call(this, "github.com");
        }
        function po2(t4) {
          if (!t4)
            throw new T3("argument-error", "credential failed: expected 1 argument (the OAuth access token).");
          var e4 = t4;
          return v3(t4) && (e4 = t4.accessToken), new fo2().credential({ accessToken: e4 });
        }
        function go2() {
          co2.call(this, "google.com"), this.Ca("profile");
        }
        function vo2(t4, e4) {
          var n4 = t4;
          return v3(t4) && (n4 = t4.idToken, e4 = t4.accessToken), new go2().credential({ idToken: n4, accessToken: e4 });
        }
        function yo2() {
          ao2.call(this, "twitter.com", Mi2);
        }
        function mo2(t4, e4) {
          var n4 = t4;
          if (!(n4 = !v3(n4) ? { oauthToken: t4, oauthTokenSecret: e4 } : n4).oauthToken || !n4.oauthTokenSecret)
            throw new T3("argument-error", "credential failed: expected 2 arguments (the OAuth access token and secret).");
          return new io2("twitter.com", n4, "twitter.com");
        }
        function bo2(t4, e4, n4) {
          this.a = t4, this.f = e4, qr2(this, "providerId", "password"), qr2(this, "signInMethod", n4 === wo2.EMAIL_LINK_SIGN_IN_METHOD ? wo2.EMAIL_LINK_SIGN_IN_METHOD : wo2.EMAIL_PASSWORD_SIGN_IN_METHOD);
        }
        function _o2(t4) {
          return t4 && t4.email && t4.password ? new bo2(t4.email, t4.password, t4.signInMethod) : null;
        }
        function wo2() {
          Vr2(this, { providerId: "password", isOAuthProvider: false });
        }
        function To2(t4, e4) {
          if (!(e4 = Io2(e4)))
            throw new T3("argument-error", "Invalid email link!");
          return new bo2(t4, e4.code, wo2.EMAIL_LINK_SIGN_IN_METHOD);
        }
        function Io2(t4) {
          return (t4 = bi2(t4 = Yi2(t4))) && t4.operation === Zr2 ? t4 : null;
        }
        function Eo2(t4) {
          if (!(t4.fb && t4.eb || t4.La && t4.ea))
            throw new T3("internal-error");
          this.a = t4, qr2(this, "providerId", "phone"), this.fa = "phone", qr2(this, "signInMethod", "phone");
        }
        function So2(e4) {
          if (e4 && "phone" === e4.providerId && (e4.verificationId && e4.verificationCode || e4.temporaryProof && e4.phoneNumber)) {
            var n4 = {};
            return U2(["verificationId", "verificationCode", "temporaryProof", "phoneNumber"], function(t4) {
              e4[t4] && (n4[t4] = e4[t4]);
            }), new Eo2(n4);
          }
          return null;
        }
        function ko2(t4) {
          return t4.a.La && t4.a.ea ? { temporaryProof: t4.a.La, phoneNumber: t4.a.ea } : { sessionInfo: t4.a.fb, code: t4.a.eb };
        }
        function Co2(t4) {
          try {
            this.a = t4 || Jl.auth();
          } catch (t5) {
            throw new T3("argument-error", "Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().");
          }
          Vr2(this, { providerId: "phone", isOAuthProvider: false });
        }
        function Ao2(t4, e4) {
          if (!t4)
            throw new T3("missing-verification-id");
          if (!e4)
            throw new T3("missing-verification-code");
          return new Eo2({ fb: t4, eb: e4 });
        }
        function No2(t4) {
          if (t4.temporaryProof && t4.phoneNumber)
            return new Eo2({ La: t4.temporaryProof, ea: t4.phoneNumber });
          var e4 = t4 && t4.providerId;
          if (!e4 || "password" === e4)
            return null;
          var n4 = t4 && t4.oauthAccessToken, r4 = t4 && t4.oauthTokenSecret, i4 = t4 && t4.nonce, o4 = t4 && t4.oauthIdToken, s4 = t4 && t4.pendingToken;
          try {
            switch (e4) {
              case "google.com":
                return vo2(o4, n4);
              case "facebook.com":
                return lo2(n4);
              case "github.com":
                return po2(n4);
              case "twitter.com":
                return mo2(n4, r4);
              default:
                return n4 || r4 || o4 || s4 ? s4 ? 0 == e4.indexOf("saml.") ? new eo2(e4, s4) : new io2(e4, { pendingToken: s4, idToken: t4.oauthIdToken, accessToken: t4.oauthAccessToken }, e4) : new co2(e4).credential({ idToken: o4, accessToken: n4, rawNonce: i4 }) : null;
            }
          } catch (t5) {
            return null;
          }
        }
        function Ro2(t4) {
          if (!t4.isOAuthProvider)
            throw new T3("invalid-oauth-provider");
        }
        function Po2(t4, e4, n4, r4, i4, o4, s4) {
          if (this.c = t4, this.b = e4 || null, this.g = n4 || null, this.f = r4 || null, this.i = o4 || null, this.h = s4 || null, this.a = i4 || null, !this.g && !this.a)
            throw new T3("invalid-auth-event");
          if (this.g && this.a)
            throw new T3("invalid-auth-event");
          if (this.g && !this.f)
            throw new T3("invalid-auth-event");
        }
        function Oo2(t4) {
          return (t4 = t4 || {}).type ? new Po2(t4.type, t4.eventId, t4.urlResponse, t4.sessionId, t4.error && I3(t4.error), t4.postBody, t4.tenantId) : null;
        }
        function Do2() {
          this.b = null, this.a = [];
        }
        Xi2.prototype.Ha = function() {
          return this.a ? be2(this.a) : be2(this.b);
        }, Xi2.prototype.w = function() {
          return this.type == $i2 ? { multiFactorSession: { idToken: this.a } } : { multiFactorSession: { pendingCredential: this.b } };
        }, Zi2.prototype.ka = function() {
        }, Zi2.prototype.b = function() {
        }, Zi2.prototype.c = function() {
        }, Zi2.prototype.w = function() {
        }, eo2.prototype.ka = function(t4) {
          return la2(t4, no2(this));
        }, eo2.prototype.b = function(t4, e4) {
          var n4 = no2(this);
          return n4.idToken = e4, fa2(t4, n4);
        }, eo2.prototype.c = function(t4, e4) {
          return to2(pa2(t4, no2(this)), e4);
        }, eo2.prototype.w = function() {
          return { providerId: this.providerId, signInMethod: this.signInMethod, pendingToken: this.a };
        }, io2.prototype.ka = function(t4) {
          return la2(t4, oo2(this));
        }, io2.prototype.b = function(t4, e4) {
          var n4 = oo2(this);
          return n4.idToken = e4, fa2(t4, n4);
        }, io2.prototype.c = function(t4, e4) {
          return to2(pa2(t4, oo2(this)), e4);
        }, io2.prototype.w = function() {
          var t4 = { providerId: this.providerId, signInMethod: this.signInMethod };
          return this.idToken && (t4.oauthIdToken = this.idToken), this.accessToken && (t4.oauthAccessToken = this.accessToken), this.secret && (t4.oauthTokenSecret = this.secret), this.nonce && (t4.nonce = this.nonce), this.a && (t4.pendingToken = this.a), t4;
        }, ao2.prototype.Ka = function(t4) {
          return this.Jb = ct2(t4), this;
        }, _3(uo2, ao2), _3(co2, ao2), co2.prototype.Ca = function(t4) {
          return K2(this.a, t4) || this.a.push(t4), this;
        }, co2.prototype.Rb = function() {
          return G2(this.a);
        }, co2.prototype.credential = function(t4, e4) {
          e4 = v3(t4) ? { idToken: t4.idToken || null, accessToken: t4.accessToken || null, nonce: t4.rawNonce || null } : { idToken: t4 || null, accessToken: e4 || null };
          if (!e4.idToken && !e4.accessToken)
            throw new T3("argument-error", "credential failed: must provide the ID token and/or the access token.");
          return new io2(this.providerId, e4, this.providerId);
        }, _3(ho2, co2), qr2(ho2, "PROVIDER_ID", "facebook.com"), qr2(ho2, "FACEBOOK_SIGN_IN_METHOD", "facebook.com"), _3(fo2, co2), qr2(fo2, "PROVIDER_ID", "github.com"), qr2(fo2, "GITHUB_SIGN_IN_METHOD", "github.com"), _3(go2, co2), qr2(go2, "PROVIDER_ID", "google.com"), qr2(go2, "GOOGLE_SIGN_IN_METHOD", "google.com"), _3(yo2, ao2), qr2(yo2, "PROVIDER_ID", "twitter.com"), qr2(yo2, "TWITTER_SIGN_IN_METHOD", "twitter.com"), bo2.prototype.ka = function(t4) {
          return this.signInMethod == wo2.EMAIL_LINK_SIGN_IN_METHOD ? Qa2(t4, wa2, { email: this.a, oobCode: this.f }) : Qa2(t4, Ka2, { email: this.a, password: this.f });
        }, bo2.prototype.b = function(t4, e4) {
          return this.signInMethod == wo2.EMAIL_LINK_SIGN_IN_METHOD ? Qa2(t4, Ta2, { idToken: e4, email: this.a, oobCode: this.f }) : Qa2(t4, La2, { idToken: e4, email: this.a, password: this.f });
        }, bo2.prototype.c = function(t4, e4) {
          return to2(this.ka(t4), e4);
        }, bo2.prototype.w = function() {
          return { email: this.a, password: this.f, signInMethod: this.signInMethod };
        }, Vr2(wo2, { PROVIDER_ID: "password" }), Vr2(wo2, { EMAIL_LINK_SIGN_IN_METHOD: "emailLink" }), Vr2(wo2, { EMAIL_PASSWORD_SIGN_IN_METHOD: "password" }), Eo2.prototype.ka = function(t4) {
          return t4.gb(ko2(this));
        }, Eo2.prototype.b = function(t4, e4) {
          var n4 = ko2(this);
          return n4.idToken = e4, Qa2(t4, Ha2, n4);
        }, Eo2.prototype.c = function(t4, e4) {
          var n4 = ko2(this);
          return n4.operation = "REAUTH", to2(t4 = Qa2(t4, za2, n4), e4);
        }, Eo2.prototype.w = function() {
          var t4 = { providerId: "phone" };
          return this.a.fb && (t4.verificationId = this.a.fb), this.a.eb && (t4.verificationCode = this.a.eb), this.a.La && (t4.temporaryProof = this.a.La), this.a.ea && (t4.phoneNumber = this.a.ea), t4;
        }, Co2.prototype.gb = function(r4, i4) {
          var o4 = this.a.a;
          return be2(i4.verify()).then(function(e4) {
            if ("string" != typeof e4)
              throw new T3("argument-error", "An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");
            if ("recaptcha" !== i4.type)
              throw new T3("argument-error", 'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.');
            var t4 = v3(r4) ? r4.session : null, n4 = v3(r4) ? r4.phoneNumber : r4, t4 = t4 && t4.type == $i2 ? t4.Ha().then(function(t5) {
              return Qa2(o4, Fa2, { idToken: t5, phoneEnrollmentInfo: { phoneNumber: n4, recaptchaToken: e4 } }).then(function(t6) {
                return t6.phoneSessionInfo.sessionInfo;
              });
            }) : t4 && t4.type == Ji2 ? t4.Ha().then(function(t5) {
              return t5 = { mfaPendingCredential: t5, mfaEnrollmentId: r4.multiFactorHint && r4.multiFactorHint.uid || r4.multiFactorUid, phoneSignInInfo: { recaptchaToken: e4 } }, Qa2(o4, ja2, t5).then(function(t6) {
                return t6.phoneResponseInfo.sessionInfo;
              });
            }) : Qa2(o4, Da2, { phoneNumber: n4, recaptchaToken: e4 });
            return t4.then(function(t5) {
              return "function" == typeof i4.reset && i4.reset(), t5;
            }, function(t5) {
              throw "function" == typeof i4.reset && i4.reset(), t5;
            });
          });
        }, Vr2(Co2, { PROVIDER_ID: "phone" }), Vr2(Co2, { PHONE_SIGN_IN_METHOD: "phone" }), Po2.prototype.getUid = function() {
          var t4 = [];
          return t4.push(this.c), this.b && t4.push(this.b), this.f && t4.push(this.f), this.h && t4.push(this.h), t4.join("-");
        }, Po2.prototype.T = function() {
          return this.h;
        }, Po2.prototype.w = function() {
          return { type: this.c, eventId: this.b, urlResponse: this.g, sessionId: this.f, postBody: this.i, tenantId: this.h, error: this.a && this.a.w() };
        };
        var xo2, Lo2 = null;
        function Mo2(t4) {
          var e4 = "unauthorized-domain", n4 = void 0, r4 = Rn2(t4);
          t4 = r4.a, "chrome-extension" == (r4 = r4.c) ? n4 = Ft2("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.", t4) : "http" == r4 || "https" == r4 ? n4 = Ft2("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.", t4) : e4 = "operation-not-supported-in-this-environment", T3.call(this, e4, n4);
        }
        function Fo2(t4, e4, n4) {
          T3.call(this, t4, n4), (t4 = e4 || {}).Kb && qr2(this, "email", t4.Kb), t4.ea && qr2(this, "phoneNumber", t4.ea), t4.credential && qr2(this, "credential", t4.credential), t4.$b && qr2(this, "tenantId", t4.$b);
        }
        function jo2(t4) {
          if (t4.code) {
            var e4 = t4.code || "";
            0 == e4.indexOf(S3) && (e4 = e4.substring(S3.length));
            var n4 = { credential: No2(t4), $b: t4.tenantId };
            if (t4.email)
              n4.Kb = t4.email;
            else if (t4.phoneNumber)
              n4.ea = t4.phoneNumber;
            else if (!n4.credential)
              return new T3(e4, t4.message || void 0);
            return new Fo2(e4, n4, t4.message);
          }
          return null;
        }
        function Uo2() {
        }
        function qo2(t4) {
          return t4.c || (t4.c = t4.b());
        }
        function Vo2() {
        }
        function Bo2(t4) {
          if (t4.f || "undefined" != typeof XMLHttpRequest || "undefined" == typeof ActiveXObject)
            return t4.f;
          for (var e4 = ["MSXML2.XMLHTTP.6.0", "MSXML2.XMLHTTP.3.0", "MSXML2.XMLHTTP", "Microsoft.XMLHTTP"], n4 = 0; n4 < e4.length; n4++) {
            var r4 = e4[n4];
            try {
              return new ActiveXObject(r4), t4.f = r4;
            } catch (t5) {
            }
          }
          throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");
        }
        function Ko2() {
        }
        function Wo2() {
          this.a = new XDomainRequest(), this.readyState = 0, this.onreadystatechange = null, this.responseType = this.responseText = this.response = "", this.status = -1, this.statusText = "", this.a.onload = m3(this.qc, this), this.a.onerror = m3(this.Tb, this), this.a.onprogress = m3(this.rc, this), this.a.ontimeout = m3(this.vc, this);
        }
        function Ho2(t4, e4) {
          t4.readyState = e4, t4.onreadystatechange && t4.onreadystatechange();
        }
        function zo2(t4, e4, n4) {
          this.reset(t4, e4, n4, void 0, void 0);
        }
        function Go2(t4) {
          this.f = t4, this.b = this.c = this.a = null;
        }
        function Qo2(t4, e4) {
          this.name = t4, this.value = e4;
        }
        _3(Mo2, T3), _3(Fo2, T3), Fo2.prototype.w = function() {
          var t4 = { code: this.code, message: this.message };
          this.email && (t4.email = this.email), this.phoneNumber && (t4.phoneNumber = this.phoneNumber), this.tenantId && (t4.tenantId = this.tenantId);
          var e4 = this.credential && this.credential.w();
          return e4 && lt2(t4, e4), t4;
        }, Fo2.prototype.toJSON = function() {
          return this.w();
        }, Uo2.prototype.c = null, _3(Vo2, Uo2), Vo2.prototype.a = function() {
          var t4 = Bo2(this);
          return t4 ? new ActiveXObject(t4) : new XMLHttpRequest();
        }, Vo2.prototype.b = function() {
          var t4 = {};
          return Bo2(this) && (t4[0] = true, t4[1] = true), t4;
        }, xo2 = new Vo2(), _3(Ko2, Uo2), Ko2.prototype.a = function() {
          var t4 = new XMLHttpRequest();
          if ("withCredentials" in t4)
            return t4;
          if ("undefined" != typeof XDomainRequest)
            return new Wo2();
          throw Error("Unsupported browser");
        }, Ko2.prototype.b = function() {
          return {};
        }, (t3 = Wo2.prototype).open = function(t4, e4, n4) {
          if (null != n4 && !n4)
            throw Error("Only async requests are supported.");
          this.a.open(t4, e4);
        }, t3.send = function(t4) {
          if (t4) {
            if ("string" != typeof t4)
              throw Error("Only string data is supported");
            this.a.send(t4);
          } else
            this.a.send();
        }, t3.abort = function() {
          this.a.abort();
        }, t3.setRequestHeader = function() {
        }, t3.getResponseHeader = function(t4) {
          return "content-type" == t4.toLowerCase() ? this.a.contentType : "";
        }, t3.qc = function() {
          this.status = 200, this.response = this.responseText = this.a.responseText, Ho2(this, 4);
        }, t3.Tb = function() {
          this.status = 500, this.response = this.responseText = "", Ho2(this, 4);
        }, t3.vc = function() {
          this.Tb();
        }, t3.rc = function() {
          this.status = 200, Ho2(this, 1);
        }, t3.getAllResponseHeaders = function() {
          return "content-type: " + this.a.contentType;
        }, zo2.prototype.a = null, zo2.prototype.reset = function(t4, e4, n4, r4, i4) {
          delete this.a;
        }, Qo2.prototype.toString = function() {
          return this.name;
        };
        var Yo2 = new Qo2("SEVERE", 1e3), Xo2 = new Qo2("WARNING", 900), $o2 = new Qo2("CONFIG", 700), Jo2 = new Qo2("FINE", 500);
        Go2.prototype.log = function(t4, e4, n4) {
          if (t4.value >= function t5(e5) {
            return e5.c || (e5.a ? t5(e5.a) : (O3("Root logger has no level set."), null));
          }(this).value)
            for (g3(e4) && (e4 = e4()), t4 = new zo2(t4, String(e4), this.f), n4 && (t4.a = n4), n4 = this; n4; )
              n4 = n4.a;
        };
        var Zo2, ts2 = {}, es2 = null;
        function ns2(t4) {
          var e4, n4, r4;
          return es2 || (es2 = new Go2(""), (ts2[""] = es2).c = $o2), (e4 = ts2[t4]) || (e4 = new Go2(t4), r4 = t4.lastIndexOf("."), n4 = t4.substr(r4 + 1), (r4 = ns2(t4.substr(0, r4))).b || (r4.b = {}), (r4.b[n4] = e4).a = r4, ts2[t4] = e4), e4;
        }
        function rs2(t4, e4) {
          t4 && t4.log(Jo2, e4, void 0);
        }
        function is2(t4) {
          this.f = t4;
        }
        function os2(t4) {
          fn2.call(this), this.u = t4, this.h = void 0, this.readyState = ss2, this.status = 0, this.responseType = this.responseText = this.response = this.statusText = "", this.onreadystatechange = null, this.l = new Headers(), this.b = null, this.s = "GET", this.f = "", this.a = false, this.i = ns2("goog.net.FetchXmlHttp"), this.m = this.c = this.g = null;
        }
        _3(is2, Uo2), is2.prototype.a = function() {
          return new os2(this.f);
        }, is2.prototype.b = (Zo2 = {}, function() {
          return Zo2;
        }), _3(os2, fn2);
        var ss2 = 0;
        function as2(t4) {
          t4.c.read().then(t4.pc.bind(t4)).catch(t4.Va.bind(t4));
        }
        function us2(t4) {
          t4.readyState = 4, t4.g = null, t4.c = null, t4.m = null, cs2(t4);
        }
        function cs2(t4) {
          t4.onreadystatechange && t4.onreadystatechange.call(t4);
        }
        function hs2(t4) {
          fn2.call(this), this.headers = new _n2(), this.D = t4 || null, this.c = false, this.C = this.a = null, this.h = this.P = this.l = "", this.f = this.N = this.i = this.J = false, this.g = 0, this.s = null, this.m = ls2, this.u = this.S = false;
        }
        (t3 = os2.prototype).open = function(t4, e4) {
          if (this.readyState != ss2)
            throw this.abort(), Error("Error reopening a connection");
          this.s = t4, this.f = e4, this.readyState = 1, cs2(this);
        }, t3.send = function(t4) {
          if (1 != this.readyState)
            throw this.abort(), Error("need to call open() first. ");
          this.a = true;
          var e4 = { headers: this.l, method: this.s, credentials: this.h, cache: void 0 };
          t4 && (e4.body = t4), this.u.fetch(new Request(this.f, e4)).then(this.uc.bind(this), this.Va.bind(this));
        }, t3.abort = function() {
          this.response = this.responseText = "", this.l = new Headers(), this.status = 0, this.c && this.c.cancel("Request was aborted."), 1 <= this.readyState && this.a && 4 != this.readyState && (this.a = false, us2(this)), this.readyState = ss2;
        }, t3.uc = function(t4) {
          this.a && (this.g = t4, this.b || (this.status = this.g.status, this.statusText = this.g.statusText, this.b = t4.headers, this.readyState = 2, cs2(this)), this.a && (this.readyState = 3, cs2(this), this.a && ("arraybuffer" === this.responseType ? t4.arrayBuffer().then(this.sc.bind(this), this.Va.bind(this)) : void 0 !== l3.ReadableStream && "body" in t4 ? (this.response = this.responseText = "", this.c = t4.body.getReader(), this.m = new TextDecoder(), as2(this)) : t4.text().then(this.tc.bind(this), this.Va.bind(this)))));
        }, t3.pc = function(t4) {
          var e4;
          this.a && ((e4 = this.m.decode(t4.value || new Uint8Array(0), { stream: !t4.done })) && (this.response = this.responseText += e4), (t4.done ? us2 : cs2)(this), 3 == this.readyState && as2(this));
        }, t3.tc = function(t4) {
          this.a && (this.response = this.responseText = t4, us2(this));
        }, t3.sc = function(t4) {
          this.a && (this.response = t4, us2(this));
        }, t3.Va = function(t4) {
          var e4 = this.i;
          e4 && e4.log(Xo2, "Failed to fetch url " + this.f, t4 instanceof Error ? t4 : Error(t4)), this.a && us2(this);
        }, t3.setRequestHeader = function(t4, e4) {
          this.l.append(t4, e4);
        }, t3.getResponseHeader = function(t4) {
          return this.b ? this.b.get(t4.toLowerCase()) || "" : ((t4 = this.i) && t4.log(Xo2, "Attempting to get response header but no headers have been received for url: " + this.f, void 0), "");
        }, t3.getAllResponseHeaders = function() {
          if (!this.b) {
            var t4 = this.i;
            return t4 && t4.log(Xo2, "Attempting to get all response headers but no headers have been received for url: " + this.f, void 0), "";
          }
          for (var t4 = [], e4 = this.b.entries(), n4 = e4.next(); !n4.done; )
            n4 = n4.value, t4.push(n4[0] + ": " + n4[1]), n4 = e4.next();
          return t4.join("\r\n");
        }, Object.defineProperty(os2.prototype, "withCredentials", { get: function() {
          return "include" === this.h;
        }, set: function(t4) {
          this.h = t4 ? "include" : "same-origin";
        } }), _3(hs2, fn2);
        var ls2 = "";
        hs2.prototype.b = ns2("goog.net.XhrIo");
        var fs2 = /^https?$/i, ps2 = ["POST", "PUT"];
        function ds2(e4, t4, n4, r4, i4) {
          if (e4.a)
            throw Error("[goog.net.XhrIo] Object is active with another request=" + e4.l + "; newUri=" + t4);
          n4 = n4 ? n4.toUpperCase() : "GET", e4.l = t4, e4.h = "", e4.P = n4, e4.J = false, e4.c = true, e4.a = (e4.D || xo2).a(), e4.C = e4.D ? qo2(e4.D) : qo2(xo2), e4.a.onreadystatechange = m3(e4.Wb, e4);
          try {
            rs2(e4.b, Is2(e4, "Opening Xhr")), e4.N = true, e4.a.open(n4, String(t4), true), e4.N = false;
          } catch (t5) {
            return rs2(e4.b, Is2(e4, "Error opening Xhr: " + t5.message)), void vs2(e4, t5);
          }
          t4 = r4 || "";
          var o4, s4 = new _n2(e4.headers);
          i4 && function(t5, e5) {
            if (t5.forEach && "function" == typeof t5.forEach)
              t5.forEach(e5, void 0);
            else if (d3(t5) || "string" == typeof t5)
              U2(t5, e5, void 0);
            else
              for (var n5 = bn2(t5), r5 = mn2(t5), i5 = r5.length, o5 = 0; o5 < i5; o5++)
                e5.call(void 0, r5[o5], n5 && n5[o5], t5);
          }(i4, function(t5, e5) {
            s4.set(e5, t5);
          }), i4 = function(t5) {
            t: {
              for (var e5 = gs2, n5 = t5.length, r5 = "string" == typeof t5 ? t5.split("") : t5, i5 = 0; i5 < n5; i5++)
                if (i5 in r5 && e5.call(void 0, r5[i5], i5, t5)) {
                  e5 = i5;
                  break t;
                }
              e5 = -1;
            }
            return e5 < 0 ? null : "string" == typeof t5 ? t5.charAt(e5) : t5[e5];
          }(s4.Y()), r4 = l3.FormData && t4 instanceof l3.FormData, !K2(ps2, n4) || i4 || r4 || s4.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8"), s4.forEach(function(t5, e5) {
            this.a.setRequestHeader(e5, t5);
          }, e4), e4.m && (e4.a.responseType = e4.m), "withCredentials" in e4.a && e4.a.withCredentials !== e4.S && (e4.a.withCredentials = e4.S);
          try {
            _s2(e4), 0 < e4.g && (e4.u = (o4 = e4.a, Bt2 && $t2(9) && "number" == typeof o4.timeout && void 0 !== o4.ontimeout), rs2(e4.b, Is2(e4, "Will abort after " + e4.g + "ms if incomplete, xhr2 " + e4.u)), e4.u ? (e4.a.timeout = e4.g, e4.a.ontimeout = m3(e4.Ma, e4)) : e4.s = vn2(e4.Ma, e4.g, e4)), rs2(e4.b, Is2(e4, "Sending request")), e4.i = true, e4.a.send(t4), e4.i = false;
          } catch (t5) {
            rs2(e4.b, Is2(e4, "Send error: " + t5.message)), vs2(e4, t5);
          }
        }
        function gs2(t4) {
          return "content-type" == t4.toLowerCase();
        }
        function vs2(t4, e4) {
          t4.c = false, t4.a && (t4.f = true, t4.a.abort(), t4.f = false), t4.h = e4, ys2(t4), bs2(t4);
        }
        function ys2(t4) {
          t4.J || (t4.J = true, t4.dispatchEvent("complete"), t4.dispatchEvent("error"));
        }
        function ms2(e4) {
          if (e4.c && void 0 !== h3) {
            if (e4.C[1] && 4 == ws2(e4) && 2 == Ts2(e4))
              rs2(e4.b, Is2(e4, "Local request error detected and ignored"));
            else if (e4.i && 4 == ws2(e4))
              vn2(e4.Wb, 0, e4);
            else if (e4.dispatchEvent("readystatechange"), 4 == ws2(e4)) {
              rs2(e4.b, Is2(e4, "Request complete")), e4.c = false;
              try {
                var t4, n4, r4, i4, o4 = Ts2(e4);
                t:
                  switch (o4) {
                    case 200:
                    case 201:
                    case 202:
                    case 204:
                    case 206:
                    case 304:
                    case 1223:
                      var s4 = true;
                      break t;
                    default:
                      s4 = false;
                  }
                if ((t4 = s4) || ((n4 = 0 === o4) && (!(i4 = String(e4.l).match(In2)[1] || null) && l3.self && l3.self.location && (i4 = (r4 = l3.self.location.protocol).substr(0, r4.length - 1)), n4 = !fs2.test(i4 ? i4.toLowerCase() : "")), t4 = n4), t4)
                  e4.dispatchEvent("complete"), e4.dispatchEvent("success");
                else {
                  try {
                    var a4 = 2 < ws2(e4) ? e4.a.statusText : "";
                  } catch (t5) {
                    rs2(e4.b, "Can not get status: " + t5.message), a4 = "";
                  }
                  e4.h = a4 + " [" + Ts2(e4) + "]", ys2(e4);
                }
              } finally {
                bs2(e4);
              }
            }
          }
        }
        function bs2(e4, t4) {
          if (e4.a) {
            _s2(e4);
            var n4 = e4.a, r4 = e4.C[0] ? s3 : null;
            e4.a = null, e4.C = null, t4 || e4.dispatchEvent("ready");
            try {
              n4.onreadystatechange = r4;
            } catch (t5) {
              (e4 = e4.b) && e4.log(Yo2, "Problem encountered resetting onreadystatechange: " + t5.message, void 0);
            }
          }
        }
        function _s2(t4) {
          t4.a && t4.u && (t4.a.ontimeout = null), t4.s && (l3.clearTimeout(t4.s), t4.s = null);
        }
        function ws2(t4) {
          return t4.a ? t4.a.readyState : 0;
        }
        function Ts2(t4) {
          try {
            return 2 < ws2(t4) ? t4.a.status : -1;
          } catch (t5) {
            return -1;
          }
        }
        function Is2(t4, e4) {
          return e4 + " [" + t4.P + " " + t4.l + " " + Ts2(t4) + "]";
        }
        function Es2(t4) {
          var e4 = Ls2;
          this.g = [], this.u = e4, this.s = t4 || null, this.f = this.a = false, this.c = void 0, this.v = this.C = this.i = false, this.h = 0, this.b = null, this.l = 0;
        }
        function Ss2(t4, e4, n4) {
          t4.a = true, t4.c = n4, t4.f = !e4, Ns2(t4);
        }
        function ks2(t4) {
          if (t4.a) {
            if (!t4.v)
              throw new Rs2();
            t4.v = false;
          }
        }
        function Cs2(t4, e4, n4, r4) {
          t4.g.push([e4, n4, r4]), t4.a && Ns2(t4);
        }
        function As2(t4) {
          return B2(t4.g, function(t5) {
            return g3(t5[1]);
          });
        }
        function Ns2(e4) {
          var n4;
          e4.h && e4.a && As2(e4) && (r4 = e4.h, (n4 = Ds2[r4]) && (l3.clearTimeout(n4.a), delete Ds2[r4]), e4.h = 0), e4.b && (e4.b.l--, delete e4.b);
          for (var r4 = e4.c, t4 = n4 = false; e4.g.length && !e4.i; ) {
            var i4 = (s4 = e4.g.shift())[0], o4 = s4[1], s4 = s4[2];
            if (i4 = e4.f ? o4 : i4)
              try {
                var a4 = i4.call(s4 || e4.s, r4);
                void 0 !== a4 && (e4.f = e4.f && (a4 == r4 || a4 instanceof Error), e4.c = r4 = a4), (N3(r4) || "function" == typeof l3.Promise && r4 instanceof l3.Promise) && (t4 = true, e4.i = true);
              } catch (t5) {
                r4 = t5, e4.f = true, As2(e4) || (n4 = true);
              }
          }
          e4.c = r4, t4 && (a4 = m3(e4.m, e4, true), t4 = m3(e4.m, e4, false), r4 instanceof Es2 ? (Cs2(r4, a4, t4), r4.C = true) : r4.then(a4, t4)), n4 && (r4 = new Os2(r4), Ds2[r4.a] = r4, e4.h = r4.a);
        }
        function Rs2() {
          R3.call(this);
        }
        function Ps2() {
          R3.call(this);
        }
        function Os2(t4) {
          this.a = l3.setTimeout(m3(this.c, this), 0), this.b = t4;
        }
        (t3 = hs2.prototype).Ma = function() {
          void 0 !== h3 && this.a && (this.h = "Timed out after " + this.g + "ms, aborting", rs2(this.b, Is2(this, this.h)), this.dispatchEvent("timeout"), this.abort(8));
        }, t3.abort = function() {
          this.a && this.c && (rs2(this.b, Is2(this, "Aborting")), this.c = false, this.f = true, this.a.abort(), this.f = false, this.dispatchEvent("complete"), this.dispatchEvent("abort"), bs2(this));
        }, t3.Da = function() {
          this.a && (this.c && (this.c = false, this.f = true, this.a.abort(), this.f = false), bs2(this, true)), hs2.bb.Da.call(this);
        }, t3.Wb = function() {
          this.ya || (this.N || this.i || this.f ? ms2(this) : this.Jc());
        }, t3.Jc = function() {
          ms2(this);
        }, t3.getResponse = function() {
          try {
            if (!this.a)
              return null;
            if ("response" in this.a)
              return this.a.response;
            switch (this.m) {
              case ls2:
              case "text":
                return this.a.responseText;
              case "arraybuffer":
                if ("mozResponseArrayBuffer" in this.a)
                  return this.a.mozResponseArrayBuffer;
            }
            var t4 = this.b;
            return t4 && t4.log(Yo2, "Response type " + this.m + " is not supported on this browser", void 0), null;
          } catch (t5) {
            return rs2(this.b, "Can not get response: " + t5.message), null;
          }
        }, Es2.prototype.cancel = function(t4) {
          var e4;
          this.a ? this.c instanceof Es2 && this.c.cancel() : (this.b && (e4 = this.b, delete this.b, t4 ? e4.cancel(t4) : (e4.l--, e4.l <= 0 && e4.cancel())), this.u ? this.u.call(this.s, this) : this.v = true, this.a || (t4 = new Ps2(), ks2(this), Ss2(this, false, t4)));
        }, Es2.prototype.m = function(t4, e4) {
          this.i = false, Ss2(this, t4, e4);
        }, Es2.prototype.then = function(t4, e4, n4) {
          var r4, i4, o4 = new fe2(function(t5, e5) {
            r4 = t5, i4 = e5;
          });
          return Cs2(this, r4, function(t5) {
            t5 instanceof Ps2 ? o4.cancel() : i4(t5);
          }), o4.then(t4, e4, n4);
        }, Es2.prototype.$goog_Thenable = true, _3(Rs2, R3), Rs2.prototype.message = "Deferred has already fired", Rs2.prototype.name = "AlreadyCalledError", _3(Ps2, R3), Ps2.prototype.message = "Deferred was canceled", Ps2.prototype.name = "CanceledError", Os2.prototype.c = function() {
          throw delete Ds2[this.a], this.b;
        };
        var Ds2 = {};
        function xs2(t4) {
          var e4 = document, n4 = _t2(t4).toString(), r4 = se2(document, "SCRIPT"), i4 = { Xb: r4, Ma: void 0 }, o4 = new Es2(i4), s4 = window.setTimeout(function() {
            Ms2(r4, true);
            var t5 = new Us2(js2, "Timeout reached for loading script " + n4);
            ks2(o4), Ss2(o4, false, t5);
          }, 5e3);
          return i4.Ma = s4, r4.onload = r4.onreadystatechange = function() {
            r4.readyState && "loaded" != r4.readyState && "complete" != r4.readyState || (Ms2(r4, false, s4), ks2(o4), Ss2(o4, true, null));
          }, r4.onerror = function() {
            Ms2(r4, true, s4);
            var t5 = new Us2(Fs2, "Error while loading script " + n4);
            ks2(o4), Ss2(o4, false, t5);
          }, lt2(i4 = {}, { type: "text/javascript", charset: "UTF-8" }), ee2(r4, i4), i4 = t4, ft2(t4 = r4, "HTMLScriptElement"), t4.src = _t2(i4), (i4 = (i4 = t4.ownerDocument && t4.ownerDocument.defaultView) && i4 != l3 ? f3(i4.document) : a3 = null === a3 ? f3(l3.document) : a3) && t4.setAttribute("nonce", i4), ((e4 = ((i4 = e4) || document).getElementsByTagName("HEAD")) && 0 != e4.length ? e4[0] : i4.documentElement).appendChild(r4), o4;
        }
        function Ls2() {
          var t4;
          this && this.Xb && ((t4 = this.Xb) && "SCRIPT" == t4.tagName && Ms2(t4, true, this.Ma));
        }
        function Ms2(t4, e4, n4) {
          null != n4 && l3.clearTimeout(n4), t4.onload = s3, t4.onerror = s3, t4.onreadystatechange = s3, e4 && window.setTimeout(function() {
            t4 && t4.parentNode && t4.parentNode.removeChild(t4);
          }, 0);
        }
        var Fs2 = 0, js2 = 1;
        function Us2(t4, e4) {
          var n4 = "Jsloader error (code #" + t4 + ")";
          e4 && (n4 += ": " + e4), R3.call(this, n4), this.code = t4;
        }
        function qs2(t4) {
          this.f = t4;
        }
        function Vs2(t4, e4, n4) {
          if (this.c = t4, this.l = (t4 = e4 || {}).secureTokenEndpoint || "https://securetoken.googleapis.com/v1/token", this.m = t4.secureTokenTimeout || Ws2, this.g = ct2(t4.secureTokenHeaders || Hs2), this.h = t4.firebaseEndpoint || "https://www.googleapis.com/identitytoolkit/v3/relyingparty/", this.i = t4.identityPlatformEndpoint || "https://identitytoolkit.googleapis.com/v2/", this.v = t4.firebaseTimeout || zs2, this.a = ct2(t4.firebaseHeaders || Gs2), n4 && (this.a["X-Client-Version"] = n4, this.g["X-Client-Version"] = n4), n4 = "Node" == lr2(), !(n4 = l3.XMLHttpRequest || n4 && Jl.INTERNAL.node && Jl.INTERNAL.node.XMLHttpRequest) && !hr2())
            throw new T3("internal-error", "The XMLHttpRequest compatibility library was not found.");
          this.f = void 0, hr2() ? this.f = new is2(self) : fr2() ? this.f = new qs2(n4) : this.f = new Ko2(), this.b = null;
        }
        _3(Us2, R3), _3(qs2, Uo2), qs2.prototype.a = function() {
          return new this.f();
        }, qs2.prototype.b = function() {
          return {};
        };
        var Bs2, Ks2 = "idToken", Ws2 = new Pr2(3e4, 6e4), Hs2 = { "Content-Type": "application/x-www-form-urlencoded" }, zs2 = new Pr2(3e4, 6e4), Gs2 = { "Content-Type": "application/json" };
        function Qs2(t4, e4) {
          e4 ? t4.a["X-Firebase-Locale"] = e4 : delete t4.a["X-Firebase-Locale"];
        }
        function Ys2(t4, e4) {
          e4 && (t4.l = Xs2("https://securetoken.googleapis.com/v1/token", e4), t4.h = Xs2("https://www.googleapis.com/identitytoolkit/v3/relyingparty/", e4), t4.i = Xs2("https://identitytoolkit.googleapis.com/v2/", e4));
        }
        function Xs2(t4, e4) {
          return t4 = Rn2(t4), e4 = Rn2(e4.url), t4.f = t4.a + t4.f, Sn2(t4, e4.c), t4.a = e4.a, kn2(t4, e4.g), t4.toString();
        }
        function $s2(t4, e4) {
          e4 ? (t4.a["X-Client-Version"] = e4, t4.g["X-Client-Version"] = e4) : (delete t4.a["X-Client-Version"], delete t4.g["X-Client-Version"]);
        }
        function Js2(t4, e4, n4, r4, i4, o4, s4) {
          var a4;
          (t4 = ((a4 = gr2(a4 = mr2()) == dr2 && (a4 = a4.match(/\sChrome\/(\d+)/i)) && 2 == a4.length ? parseInt(a4[1], 10) : null) && a4 < 30 || Bt2 && Jt2 && !(9 < Jt2)) && !hr2() ? (Bs2 = Bs2 || new fe2(function(t5, e5) {
            var n5, r5;
            n5 = t5, r5 = e5, ((window.gapi || {}).client || {}).request ? n5() : (l3[ta2] = function() {
              ((window.gapi || {}).client || {}).request ? n5() : r5(Error("CORS_UNSUPPORTED"));
            }, function(t6, e6) {
              Cs2(t6, null, e6, void 0);
            }(xs2(wt2(Zs2, { onload: ta2 })), function() {
              r5(Error("CORS_UNSUPPORTED"));
            }));
          }), m3(t4.s, t4)) : m3(t4.u, t4))(e4, n4, r4, i4, o4, s4);
        }
        Vs2.prototype.T = function() {
          return this.b;
        }, Vs2.prototype.u = function(t4, n4, e4, r4, i4, o4) {
          if (hr2() && (void 0 === l3.fetch || void 0 === l3.Headers || void 0 === l3.Request))
            throw new T3("operation-not-supported-in-this-environment", "fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");
          var s4, a4 = new hs2(this.f);
          o4 && (a4.g = Math.max(0, o4), s4 = setTimeout(function() {
            a4.dispatchEvent("timeout");
          }, o4)), pn2(a4, "complete", function() {
            s4 && clearTimeout(s4);
            var e5 = null;
            try {
              e5 = JSON.parse(function(e6) {
                try {
                  return e6.a ? e6.a.responseText : "";
                } catch (t5) {
                  return rs2(e6.b, "Can not get responseText: " + t5.message), "";
                }
              }(this)) || null;
            } catch (t5) {
              e5 = null;
            }
            n4 && n4(e5);
          }), dn2(a4, "ready", function() {
            s4 && clearTimeout(s4), Me2(this);
          }), dn2(a4, "timeout", function() {
            s4 && clearTimeout(s4), Me2(this), n4 && n4(null);
          }), ds2(a4, t4, e4, r4, i4);
        };
        var Zs2 = new pt2(yt2, "https://apis.google.com/js/client.js?onload=%{onload}"), ta2 = "__fcb" + Math.floor(1e6 * Math.random()).toString();
        function ea2(t4, e4, n4, r4, i4, o4, s4) {
          var a4 = Rn2(e4 + n4);
          An2(a4, "key", t4.c), s4 && An2(a4, "cb", Date.now().toString());
          var u4 = "GET" == r4;
          if (u4)
            for (var c4 in i4)
              i4.hasOwnProperty(c4) && An2(a4, c4, i4[c4]);
          return new fe2(function(e5, n5) {
            Js2(t4, a4.toString(), function(t5) {
              t5 ? t5.error ? n5(Xa2(t5, o4 || {})) : e5(t5) : n5(new T3("network-request-failed"));
            }, r4, u4 ? void 0 : Qn2(kr2(i4)), t4.a, t4.v.get());
          });
        }
        function na2(t4) {
          if ("string" != typeof (t4 = t4.email) || !sr2.test(t4))
            throw new T3("invalid-email");
        }
        function ra2(t4) {
          "email" in t4 && na2(t4);
        }
        function ia2(t4) {
          if (!t4[Ks2]) {
            if (t4.mfaPendingCredential)
              throw new T3("multi-factor-auth-required", null, ct2(t4));
            throw new T3("internal-error");
          }
        }
        function oa2(t4) {
          if (t4.phoneNumber || t4.temporaryProof) {
            if (!t4.phoneNumber || !t4.temporaryProof)
              throw new T3("internal-error");
          } else {
            if (!t4.sessionInfo)
              throw new T3("missing-verification-id");
            if (!t4.code)
              throw new T3("missing-verification-code");
          }
        }
        Vs2.prototype.s = function(t4, n4, r4, i4, o4) {
          var s4 = this;
          Bs2.then(function() {
            window.gapi.client.setApiKey(s4.c);
            var e4 = window.gapi.auth.getToken();
            window.gapi.auth.setToken(null), window.gapi.client.request({ path: t4, method: r4, body: i4, headers: o4, authType: "none", callback: function(t5) {
              window.gapi.auth.setToken(e4), n4 && n4(t5);
            } });
          }).o(function(t5) {
            n4 && n4({ error: { message: t5 && t5.message || "CORS_UNSUPPORTED" } });
          });
        }, Vs2.prototype.Ab = function() {
          return Qa2(this, Ma2, {});
        }, Vs2.prototype.Cb = function(t4, e4) {
          return Qa2(this, xa2, { idToken: t4, email: e4 });
        }, Vs2.prototype.Db = function(t4, e4) {
          return Qa2(this, La2, { idToken: t4, password: e4 });
        };
        var sa2 = { displayName: "DISPLAY_NAME", photoUrl: "PHOTO_URL" };
        function aa2(t4) {
          if (!t4.phoneVerificationInfo)
            throw new T3("internal-error");
          if (!t4.phoneVerificationInfo.sessionInfo)
            throw new T3("missing-verification-id");
          if (!t4.phoneVerificationInfo.code)
            throw new T3("missing-verification-code");
        }
        function ua2(t4) {
          if (!t4.requestUri || !t4.sessionId && !t4.postBody && !t4.pendingToken)
            throw new T3("internal-error");
        }
        function ca2(t4, e4) {
          return e4.oauthIdToken && e4.providerId && 0 == e4.providerId.indexOf("oidc.") && !e4.pendingToken && (t4.sessionId ? e4.nonce = t4.sessionId : t4.postBody && (Wn2(t4 = new qn2(t4.postBody), "nonce") && (e4.nonce = t4.get("nonce")))), e4;
        }
        function ha2(t4) {
          var e4 = null;
          if (t4.needConfirmation ? (t4.code = "account-exists-with-different-credential", e4 = jo2(t4)) : "FEDERATED_USER_ID_ALREADY_LINKED" == t4.errorMessage ? (t4.code = "credential-already-in-use", e4 = jo2(t4)) : "EMAIL_EXISTS" == t4.errorMessage ? (t4.code = "email-already-in-use", e4 = jo2(t4)) : t4.errorMessage && (e4 = Ya2(t4.errorMessage)), e4)
            throw e4;
          ia2(t4);
        }
        function la2(t4, e4) {
          return e4.returnIdpCredential = true, Qa2(t4, Ua2, e4);
        }
        function fa2(t4, e4) {
          return e4.returnIdpCredential = true, Qa2(t4, Va2, e4);
        }
        function pa2(t4, e4) {
          return e4.returnIdpCredential = true, e4.autoCreate = false, Qa2(t4, qa2, e4);
        }
        function da2(t4) {
          if (!t4.oobCode)
            throw new T3("invalid-action-code");
        }
        (t3 = Vs2.prototype).Eb = function(t4, r4) {
          var i4 = { idToken: t4 }, o4 = [];
          return at2(sa2, function(t5, e4) {
            var n4 = r4[e4];
            null === n4 ? o4.push(t5) : e4 in r4 && (i4[e4] = n4);
          }), o4.length && (i4.deleteAttribute = o4), Qa2(this, xa2, i4);
        }, t3.wb = function(t4, e4) {
          return lt2(t4 = { requestType: "PASSWORD_RESET", email: t4 }, e4), Qa2(this, Na2, t4);
        }, t3.xb = function(t4, e4) {
          return lt2(t4 = { requestType: "EMAIL_SIGNIN", email: t4 }, e4), Qa2(this, ka2, t4);
        }, t3.vb = function(t4, e4) {
          return lt2(t4 = { requestType: "VERIFY_EMAIL", idToken: t4 }, e4), Qa2(this, Ca2, t4);
        }, t3.Fb = function(t4, e4, n4) {
          return lt2(t4 = { requestType: "VERIFY_AND_CHANGE_EMAIL", idToken: t4, newEmail: e4 }, n4), Qa2(this, Aa2, t4);
        }, t3.gb = function(t4) {
          return Qa2(this, Wa2, t4);
        }, t3.ob = function(t4, e4) {
          return Qa2(this, Oa2, { oobCode: t4, newPassword: e4 });
        }, t3.Sa = function(t4) {
          return Qa2(this, va2, { oobCode: t4 });
        }, t3.kb = function(t4) {
          return Qa2(this, ga2, { oobCode: t4 });
        };
        var ga2 = { endpoint: "setAccountInfo", A: da2, Z: "email", B: true }, va2 = { endpoint: "resetPassword", A: da2, G: function(t4) {
          var e4 = t4.requestType;
          if (!e4 || !t4.email && "EMAIL_SIGNIN" != e4 && "VERIFY_AND_CHANGE_EMAIL" != e4)
            throw new T3("internal-error");
        }, B: true }, ya2 = { endpoint: "signupNewUser", A: function(t4) {
          if (na2(t4), !t4.password)
            throw new T3("weak-password");
        }, G: ia2, V: true, B: true }, ma2 = { endpoint: "createAuthUri", B: true }, ba2 = { endpoint: "deleteAccount", O: ["idToken"] }, _a2 = { endpoint: "setAccountInfo", O: ["idToken", "deleteProvider"], A: function(t4) {
          if (!Array.isArray(t4.deleteProvider))
            throw new T3("internal-error");
        } }, wa2 = { endpoint: "emailLinkSignin", O: ["email", "oobCode"], A: na2, G: ia2, V: true, B: true }, Ta2 = { endpoint: "emailLinkSignin", O: ["idToken", "email", "oobCode"], A: na2, G: ia2, V: true }, Ia2 = { endpoint: "accounts/mfaEnrollment:finalize", O: ["idToken", "phoneVerificationInfo"], A: aa2, G: ia2, B: true, Na: true }, Ea2 = { endpoint: "accounts/mfaSignIn:finalize", O: ["mfaPendingCredential", "phoneVerificationInfo"], A: aa2, G: ia2, B: true, Na: true }, Sa2 = { endpoint: "getAccountInfo" }, ka2 = { endpoint: "getOobConfirmationCode", O: ["requestType"], A: function(t4) {
          if ("EMAIL_SIGNIN" != t4.requestType)
            throw new T3("internal-error");
          na2(t4);
        }, Z: "email", B: true }, Ca2 = { endpoint: "getOobConfirmationCode", O: ["idToken", "requestType"], A: function(t4) {
          if ("VERIFY_EMAIL" != t4.requestType)
            throw new T3("internal-error");
        }, Z: "email", B: true }, Aa2 = { endpoint: "getOobConfirmationCode", O: ["idToken", "newEmail", "requestType"], A: function(t4) {
          if ("VERIFY_AND_CHANGE_EMAIL" != t4.requestType)
            throw new T3("internal-error");
        }, Z: "email", B: true }, Na2 = { endpoint: "getOobConfirmationCode", O: ["requestType"], A: function(t4) {
          if ("PASSWORD_RESET" != t4.requestType)
            throw new T3("internal-error");
          na2(t4);
        }, Z: "email", B: true }, Ra2 = { mb: true, endpoint: "getProjectConfig", Vb: "GET" }, Pa2 = { mb: true, endpoint: "getRecaptchaParam", Vb: "GET", G: function(t4) {
          if (!t4.recaptchaSiteKey)
            throw new T3("internal-error");
        } }, Oa2 = { endpoint: "resetPassword", A: da2, Z: "email", B: true }, Da2 = { endpoint: "sendVerificationCode", O: ["phoneNumber", "recaptchaToken"], Z: "sessionInfo", B: true }, xa2 = { endpoint: "setAccountInfo", O: ["idToken"], A: ra2, V: true }, La2 = { endpoint: "setAccountInfo", O: ["idToken"], A: function(t4) {
          if (ra2(t4), !t4.password)
            throw new T3("weak-password");
        }, G: ia2, V: true }, Ma2 = { endpoint: "signupNewUser", G: ia2, V: true, B: true }, Fa2 = { endpoint: "accounts/mfaEnrollment:start", O: ["idToken", "phoneEnrollmentInfo"], A: function(t4) {
          if (!t4.phoneEnrollmentInfo)
            throw new T3("internal-error");
          if (!t4.phoneEnrollmentInfo.phoneNumber)
            throw new T3("missing-phone-number");
          if (!t4.phoneEnrollmentInfo.recaptchaToken)
            throw new T3("missing-app-credential");
        }, G: function(t4) {
          if (!t4.phoneSessionInfo || !t4.phoneSessionInfo.sessionInfo)
            throw new T3("internal-error");
        }, B: true, Na: true }, ja2 = { endpoint: "accounts/mfaSignIn:start", O: ["mfaPendingCredential", "mfaEnrollmentId", "phoneSignInInfo"], A: function(t4) {
          if (!t4.phoneSignInInfo || !t4.phoneSignInInfo.recaptchaToken)
            throw new T3("missing-app-credential");
        }, G: function(t4) {
          if (!t4.phoneResponseInfo || !t4.phoneResponseInfo.sessionInfo)
            throw new T3("internal-error");
        }, B: true, Na: true }, Ua2 = { endpoint: "verifyAssertion", A: ua2, Za: ca2, G: ha2, V: true, B: true }, qa2 = { endpoint: "verifyAssertion", A: ua2, Za: ca2, G: function(t4) {
          if (t4.errorMessage && "USER_NOT_FOUND" == t4.errorMessage)
            throw new T3("user-not-found");
          if (t4.errorMessage)
            throw Ya2(t4.errorMessage);
          ia2(t4);
        }, V: true, B: true }, Va2 = { endpoint: "verifyAssertion", A: function(t4) {
          if (ua2(t4), !t4.idToken)
            throw new T3("internal-error");
        }, Za: ca2, G: ha2, V: true }, Ba2 = { endpoint: "verifyCustomToken", A: function(t4) {
          if (!t4.token)
            throw new T3("invalid-custom-token");
        }, G: ia2, V: true, B: true }, Ka2 = { endpoint: "verifyPassword", A: function(t4) {
          if (na2(t4), !t4.password)
            throw new T3("wrong-password");
        }, G: ia2, V: true, B: true }, Wa2 = { endpoint: "verifyPhoneNumber", A: oa2, G: ia2, B: true }, Ha2 = { endpoint: "verifyPhoneNumber", A: function(t4) {
          if (!t4.idToken)
            throw new T3("internal-error");
          oa2(t4);
        }, G: function(t4) {
          if (t4.temporaryProof)
            throw t4.code = "credential-already-in-use", jo2(t4);
          ia2(t4);
        } }, za2 = { Ib: { USER_NOT_FOUND: "user-not-found" }, endpoint: "verifyPhoneNumber", A: oa2, G: ia2, B: true }, Ga2 = { endpoint: "accounts/mfaEnrollment:withdraw", O: ["idToken", "mfaEnrollmentId"], G: function(t4) {
          if (!!t4[Ks2] ^ !!t4.refreshToken)
            throw new T3("internal-error");
        }, B: true, Na: true };
        function Qa2(t4, e4, n4) {
          if (!function(t5, e5) {
            if (!e5 || !e5.length)
              return 1;
            if (t5) {
              for (var n5 = 0; n5 < e5.length; n5++) {
                var r5 = t5[e5[n5]];
                if (null == r5 || "" === r5)
                  return;
              }
              return 1;
            }
          }(n4, e4.O))
            return _e2(new T3("internal-error"));
          var r4, i4 = !!e4.Na, o4 = e4.Vb || "POST";
          return be2(n4).then(e4.A).then(function() {
            return e4.V && (n4.returnSecureToken = true), e4.B && t4.b && void 0 === n4.tenantId && (n4.tenantId = t4.b), ea2(t4, i4 ? t4.i : t4.h, e4.endpoint, o4, n4, e4.Ib, e4.mb || false);
          }).then(function(t5) {
            return r4 = t5, e4.Za ? e4.Za(n4, r4) : r4;
          }).then(e4.G).then(function() {
            if (!e4.Z)
              return r4;
            if (!(e4.Z in r4))
              throw new T3("internal-error");
            return r4[e4.Z];
          });
        }
        function Ya2(t4) {
          return Xa2({ error: { errors: [{ message: t4 }], code: 400, message: t4 } });
        }
        function Xa2(t4, e4) {
          var n4, r4 = (t4.error && t4.error.errors && t4.error.errors[0] || {}).reason || "", i4 = { keyInvalid: "invalid-api-key", ipRefererBlocked: "app-not-authorized" };
          if (r4 = i4[r4] ? new T3(i4[r4]) : null)
            return r4;
          for (n4 in r4 = t4.error && t4.error.message || "", lt2(i4 = { INVALID_CUSTOM_TOKEN: "invalid-custom-token", CREDENTIAL_MISMATCH: "custom-token-mismatch", MISSING_CUSTOM_TOKEN: "internal-error", INVALID_IDENTIFIER: "invalid-email", MISSING_CONTINUE_URI: "internal-error", INVALID_EMAIL: "invalid-email", INVALID_PASSWORD: "wrong-password", USER_DISABLED: "user-disabled", MISSING_PASSWORD: "internal-error", EMAIL_EXISTS: "email-already-in-use", PASSWORD_LOGIN_DISABLED: "operation-not-allowed", INVALID_IDP_RESPONSE: "invalid-credential", INVALID_PENDING_TOKEN: "invalid-credential", FEDERATED_USER_ID_ALREADY_LINKED: "credential-already-in-use", MISSING_OR_INVALID_NONCE: "missing-or-invalid-nonce", INVALID_MESSAGE_PAYLOAD: "invalid-message-payload", INVALID_RECIPIENT_EMAIL: "invalid-recipient-email", INVALID_SENDER: "invalid-sender", EMAIL_NOT_FOUND: "user-not-found", RESET_PASSWORD_EXCEED_LIMIT: "too-many-requests", EXPIRED_OOB_CODE: "expired-action-code", INVALID_OOB_CODE: "invalid-action-code", MISSING_OOB_CODE: "internal-error", INVALID_PROVIDER_ID: "invalid-provider-id", CREDENTIAL_TOO_OLD_LOGIN_AGAIN: "requires-recent-login", INVALID_ID_TOKEN: "invalid-user-token", TOKEN_EXPIRED: "user-token-expired", USER_NOT_FOUND: "user-token-expired", CORS_UNSUPPORTED: "cors-unsupported", DYNAMIC_LINK_NOT_ACTIVATED: "dynamic-link-not-activated", INVALID_APP_ID: "invalid-app-id", TOO_MANY_ATTEMPTS_TRY_LATER: "too-many-requests", WEAK_PASSWORD: "weak-password", OPERATION_NOT_ALLOWED: "operation-not-allowed", USER_CANCELLED: "user-cancelled", CAPTCHA_CHECK_FAILED: "captcha-check-failed", INVALID_APP_CREDENTIAL: "invalid-app-credential", INVALID_CODE: "invalid-verification-code", INVALID_PHONE_NUMBER: "invalid-phone-number", INVALID_SESSION_INFO: "invalid-verification-id", INVALID_TEMPORARY_PROOF: "invalid-credential", MISSING_APP_CREDENTIAL: "missing-app-credential", MISSING_CODE: "missing-verification-code", MISSING_PHONE_NUMBER: "missing-phone-number", MISSING_SESSION_INFO: "missing-verification-id", QUOTA_EXCEEDED: "quota-exceeded", SESSION_EXPIRED: "code-expired", REJECTED_CREDENTIAL: "rejected-credential", INVALID_CONTINUE_URI: "invalid-continue-uri", MISSING_ANDROID_PACKAGE_NAME: "missing-android-pkg-name", MISSING_IOS_BUNDLE_ID: "missing-ios-bundle-id", UNAUTHORIZED_DOMAIN: "unauthorized-continue-uri", INVALID_DYNAMIC_LINK_DOMAIN: "invalid-dynamic-link-domain", INVALID_OAUTH_CLIENT_ID: "invalid-oauth-client-id", INVALID_CERT_HASH: "invalid-cert-hash", UNSUPPORTED_TENANT_OPERATION: "unsupported-tenant-operation", INVALID_TENANT_ID: "invalid-tenant-id", TENANT_ID_MISMATCH: "tenant-id-mismatch", ADMIN_ONLY_OPERATION: "admin-restricted-operation", INVALID_MFA_PENDING_CREDENTIAL: "invalid-multi-factor-session", MFA_ENROLLMENT_NOT_FOUND: "multi-factor-info-not-found", MISSING_MFA_PENDING_CREDENTIAL: "missing-multi-factor-session", MISSING_MFA_ENROLLMENT_ID: "missing-multi-factor-info", EMAIL_CHANGE_NEEDS_VERIFICATION: "email-change-needs-verification", SECOND_FACTOR_EXISTS: "second-factor-already-in-use", SECOND_FACTOR_LIMIT_EXCEEDED: "maximum-second-factor-count-exceeded", UNSUPPORTED_FIRST_FACTOR: "unsupported-first-factor", UNVERIFIED_EMAIL: "unverified-email" }, e4 || {}), e4 = (e4 = r4.match(/^[^\s]+\s*:\s*([\s\S]*)$/)) && 1 < e4.length ? e4[1] : void 0, i4)
            if (0 === r4.indexOf(n4))
              return new T3(i4[n4], e4);
          return new T3("internal-error", e4 = !e4 && t4 ? Sr2(t4) : e4);
        }
        function $a2(t4) {
          var o4;
          this.b = t4, this.a = null, this.sb = (o4 = this, (eu2 = eu2 || new fe2(function(t5, e4) {
            function n4() {
              Rr2(), br2("gapi.load")("gapi.iframes", { callback: t5, ontimeout: function() {
                Rr2(), e4(Error("Network Error"));
              }, timeout: Za2.get() });
            }
            var r4;
            br2("gapi.iframes.Iframe") ? t5() : br2("gapi.load") ? n4() : (r4 = "__iframefcb" + Math.floor(1e6 * Math.random()).toString(), l3[r4] = function() {
              br2("gapi.load") ? n4() : e4(Error("Network Error"));
            }, be2(xs2(r4 = wt2(Ja2, { onload: r4 }))).o(function() {
              e4(Error("Network Error"));
            }));
          }).o(function(t5) {
            throw eu2 = null, t5;
          })).then(function() {
            return new fe2(function(r4, i4) {
              br2("gapi.iframes.getContext")().open({ where: document.body, url: o4.b, messageHandlersFilter: br2("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"), attributes: { style: { position: "absolute", top: "-100px", width: "1px", height: "1px" } }, dontclear: true }, function(t5) {
                function e4() {
                  clearTimeout(n4), r4();
                }
                o4.a = t5, o4.a.restyle({ setHideOnLeave: false });
                var n4 = setTimeout(function() {
                  i4(Error("Network Error"));
                }, tu2.get());
                t5.ping(e4).then(e4, function() {
                  i4(Error("Network Error"));
                });
              });
            });
          }));
        }
        var Ja2 = new pt2(yt2, "https://apis.google.com/js/api.js?onload=%{onload}"), Za2 = new Pr2(3e4, 6e4), tu2 = new Pr2(5e3, 15e3), eu2 = null;
        function nu2(t4, e4, n4, r4) {
          this.l = t4, this.h = e4, this.i = n4, this.g = r4, this.f = null, t4 = this.g ? Pn2((t4 = Rn2(this.g.url)).c, t4.a, t4.g, "/emulator/auth/iframe") : Pn2("https", this.l, null, "/__/auth/iframe"), this.a = t4, An2(this.a, "apiKey", this.h), An2(this.a, "appName", this.i), this.b = null, this.c = [];
        }
        function ru2(t4, e4, n4, r4, i4, o4) {
          this.u = t4, this.s = e4, this.c = n4, this.m = r4, this.v = o4, this.i = this.g = this.l = null, this.a = i4, this.h = this.f = null;
        }
        function iu2(t4) {
          try {
            return Jl.app(t4).auth().Ga();
          } catch (t5) {
            return [];
          }
        }
        function ou2(t4, e4, n4, r4, i4, o4) {
          this.s = t4, this.g = e4, this.b = n4, this.f = o4, this.c = r4 || null, this.i = i4 || null, this.l = this.u = this.C = null, this.h = [], this.m = this.a = null;
        }
        function su2(t4) {
          var a4 = tr2();
          return Qa2(t4, Ra2, {}).then(function(t5) {
            return t5.authorizedDomains || [];
          }).then(function(t5) {
            t: {
              for (var e4 = (n4 = Rn2(a4)).c, n4 = n4.a, r4 = 0; r4 < t5.length; r4++) {
                var i4 = t5[r4], o4 = n4, s4 = e4;
                if (o4 = 0 == i4.indexOf("chrome-extension://") ? Rn2(i4).a == o4 && "chrome-extension" == s4 : ("http" == s4 || "https" == s4) && (or2.test(i4) ? o4 == i4 : (i4 = i4.split(".").join("\\."), new RegExp("^(.+\\." + i4 + "|" + i4 + ")$", "i").test(o4)))) {
                  t5 = true;
                  break t;
                }
              }
              t5 = false;
            }
            if (!t5)
              throw new Mo2(tr2());
          });
        }
        function au2(i4) {
          return i4.m || (i4.m = ar2().then(function() {
            var t4, e4, n4, r4;
            i4.u || (t4 = i4.c, e4 = i4.i, n4 = iu2(i4.b), (r4 = new nu2(i4.s, i4.g, i4.b, i4.f)).f = t4, r4.b = e4, r4.c = G2(n4 || []), i4.u = r4.toString()), i4.v = new $a2(i4.u), function(r5) {
              if (!r5.v)
                throw Error("IfcHandler must be initialized!");
              !function(t5, e5) {
                t5.sb.then(function() {
                  t5.a.register("authEvent", e5, br2("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"));
                });
              }(r5.v, function(t5) {
                var e5 = {};
                if (t5 && t5.authEvent) {
                  var n5 = false;
                  for (t5 = Oo2(t5.authEvent), e5 = 0; e5 < r5.h.length; e5++)
                    n5 = r5.h[e5](t5) || n5;
                  return (e5 = {}).status = n5 ? "ACK" : "ERROR", be2(e5);
                }
                return e5.status = "ERROR", be2(e5);
              });
            }(i4);
          }), i4.m);
        }
        function uu2(t4) {
          return t4.l || (t4.C = t4.c ? yr2(t4.c, iu2(t4.b)) : null, t4.l = new Vs2(t4.g, A3(t4.i), t4.C), t4.f && Ys2(t4.l, t4.f)), t4.l;
        }
        function cu2(t4, e4, n4, r4, i4, o4, s4, a4, u4, c4, h4, l4) {
          return (t4 = new ru2(t4, e4, n4, r4, i4, l4)).l = o4, t4.g = s4, t4.i = a4, t4.b = ct2(u4 || null), t4.f = c4, t4.zb(h4).toString();
        }
        function hu2(t4) {
          if (this.a = t4 || Jl.INTERNAL.reactNative && Jl.INTERNAL.reactNative.AsyncStorage, !this.a)
            throw new T3("internal-error", "The React Native compatibility library was not found.");
          this.type = "asyncStorage";
        }
        function lu2(t4) {
          this.b = t4, this.a = {}, this.f = m3(this.c, this);
        }
        nu2.prototype.toString = function() {
          return this.f ? An2(this.a, "v", this.f) : Kn2(this.a.b, "v"), this.b ? An2(this.a, "eid", this.b) : Kn2(this.a.b, "eid"), this.c.length ? An2(this.a, "fw", this.c.join(",")) : Kn2(this.a.b, "fw"), this.a.toString();
        }, ru2.prototype.zb = function(t4) {
          return this.h = t4, this;
        }, ru2.prototype.toString = function() {
          var t4;
          if (An2(t4 = this.v ? Pn2((t4 = Rn2(this.v.url)).c, t4.a, t4.g, "/emulator/auth/handler") : Pn2("https", this.u, null, "/__/auth/handler"), "apiKey", this.s), An2(t4, "appName", this.c), An2(t4, "authType", this.m), this.a.isOAuthProvider) {
            var e4 = this.a;
            try {
              var n4 = Jl.app(this.c).auth().la();
            } catch (t5) {
              n4 = null;
            }
            for (r4 in e4.pb = n4, An2(t4, "providerId", this.a.providerId), e4 = kr2((n4 = this.a).Jb))
              e4[r4] = e4[r4].toString();
            for (var r4 = n4.Qc, e4 = ct2(e4), i4 = 0; i4 < r4.length; i4++) {
              var o4 = r4[i4];
              o4 in e4 && delete e4[o4];
            }
            n4.qb && n4.pb && !e4[n4.qb] && (e4[n4.qb] = n4.pb), ut2(e4) || An2(t4, "customParameters", Sr2(e4));
          }
          if ("function" == typeof this.a.Rb && ((n4 = this.a.Rb()).length && An2(t4, "scopes", n4.join(","))), this.l ? An2(t4, "redirectUrl", this.l) : Kn2(t4.b, "redirectUrl"), this.g ? An2(t4, "eventId", this.g) : Kn2(t4.b, "eventId"), this.i ? An2(t4, "v", this.i) : Kn2(t4.b, "v"), this.b)
            for (var s4 in this.b)
              this.b.hasOwnProperty(s4) && !Nn2(t4, s4) && An2(t4, s4, this.b[s4]);
          return this.h ? An2(t4, "tid", this.h) : Kn2(t4.b, "tid"), this.f ? An2(t4, "eid", this.f) : Kn2(t4.b, "eid"), (s4 = iu2(this.c)).length && An2(t4, "fw", s4.join(",")), t4.toString();
        }, (t3 = ou2.prototype).Pb = function(e4, n4, t4) {
          var r4 = new T3("popup-closed-by-user"), i4 = new T3("web-storage-unsupported"), o4 = this, s4 = false;
          return this.ma().then(function() {
            var t5, r5;
            r5 = { type: "webStorageSupport" }, au2(t5 = o4).then(function() {
              return e5 = t5.v, n5 = r5, e5.sb.then(function() {
                return new fe2(function(t6) {
                  e5.a.send(n5.type, n5, t6, br2("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"));
                });
              });
              var e5, n5;
            }).then(function(t6) {
              if (t6 && t6.length && void 0 !== t6[0].webStorageSupport)
                return t6[0].webStorageSupport;
              throw Error();
            }).then(function(t6) {
              t6 || (e4 && rr2(e4), n4(i4), s4 = true);
            });
          }).o(function() {
          }).then(function() {
            if (!s4)
              return n5 = e4, new fe2(function(e5) {
                return function t5() {
                  yn2(2e3).then(function() {
                    return n5 && !n5.closed ? t5() : void e5();
                  });
                }();
              });
            var n5;
          }).then(function() {
            if (!s4)
              return yn2(t4).then(function() {
                n4(r4);
              });
          });
        }, t3.Yb = function() {
          var t4 = mr2();
          return !Er2(t4) && !Nr2(t4);
        }, t3.Ub = function() {
          return false;
        }, t3.Nb = function(e4, t4, n4, r4, i4, o4, s4, a4) {
          if (!e4)
            return _e2(new T3("popup-blocked"));
          if (s4 && !Er2())
            return this.ma().o(function(t5) {
              rr2(e4), i4(t5);
            }), r4(), be2();
          this.a || (this.a = su2(uu2(this)));
          var u4 = this;
          return this.a.then(function() {
            var t5 = u4.ma().o(function(t6) {
              throw rr2(e4), i4(t6), t6;
            });
            return r4(), t5;
          }).then(function() {
            Ro2(n4), s4 || er2(cu2(u4.s, u4.g, u4.b, t4, n4, null, o4, u4.c, void 0, u4.i, a4, u4.f), e4);
          }).o(function(t5) {
            throw "auth/network-request-failed" == t5.code && (u4.a = null), t5;
          });
        }, t3.Ob = function(t4, e4, n4, r4) {
          this.a || (this.a = su2(uu2(this)));
          var i4 = this;
          return this.a.then(function() {
            Ro2(e4), er2(cu2(i4.s, i4.g, i4.b, t4, e4, tr2(), n4, i4.c, void 0, i4.i, r4, i4.f));
          }).o(function(t5) {
            throw "auth/network-request-failed" == t5.code && (i4.a = null), t5;
          });
        }, t3.ma = function() {
          var t4 = this;
          return au2(this).then(function() {
            return t4.v.sb;
          }).o(function() {
            throw t4.a = null, new T3("network-request-failed");
          });
        }, t3.ac = function() {
          return true;
        }, t3.Ea = function(t4) {
          this.h.push(t4);
        }, t3.Ta = function(e4) {
          H2(this.h, function(t4) {
            return t4 == e4;
          });
        }, (t3 = hu2.prototype).get = function(t4) {
          return be2(this.a.getItem(t4)).then(function(t5) {
            return t5 && Cr2(t5);
          });
        }, t3.set = function(t4, e4) {
          return be2(this.a.setItem(t4, Sr2(e4)));
        }, t3.U = function(t4) {
          return be2(this.a.removeItem(t4));
        }, t3.ca = function() {
        }, t3.ia = function() {
        };
        var fu2, pu2 = [];
        function du2(t4, e4, n4) {
          ut2(t4.a) && t4.b.addEventListener("message", t4.f), void 0 === t4.a[e4] && (t4.a[e4] = []), t4.a[e4].push(n4);
        }
        function gu2(t4) {
          this.a = t4;
        }
        function vu2(t4) {
          this.c = t4, this.b = false, this.a = [];
        }
        function yu2(r4, t4, e4, n4) {
          var i4, o4, s4, a4, u4 = e4 || {}, c4 = null;
          if (r4.b)
            return _e2(Error("connection_unavailable"));
          var h4 = n4 ? 800 : 50, l4 = "undefined" != typeof MessageChannel ? new MessageChannel() : null;
          return new fe2(function(e5, n5) {
            l4 ? (i4 = Math.floor(Math.random() * Math.pow(10, 20)).toString(), l4.port1.start(), s4 = setTimeout(function() {
              n5(Error("unsupported_event"));
            }, h4), c4 = { messageChannel: l4, onMessage: o4 = function(t5) {
              t5.data.eventId === i4 && ("ack" === t5.data.status ? (clearTimeout(s4), a4 = setTimeout(function() {
                n5(Error("timeout"));
              }, 3e3)) : "done" === t5.data.status ? (clearTimeout(a4), void 0 !== t5.data.response ? e5(t5.data.response) : n5(Error("unknown_error"))) : (clearTimeout(s4), clearTimeout(a4), n5(Error("invalid_response"))));
            } }, r4.a.push(c4), l4.port1.addEventListener("message", o4), r4.c.postMessage({ eventType: t4, eventId: i4, data: u4 }, [l4.port2])) : n5(Error("connection_unavailable"));
          }).then(function(t5) {
            return mu2(r4, c4), t5;
          }).o(function(t5) {
            throw mu2(r4, c4), t5;
          });
        }
        function mu2(t4, e4) {
          var n4, r4;
          e4 && (n4 = e4.messageChannel, r4 = e4.onMessage, n4 && (n4.port1.removeEventListener("message", r4), n4.port1.close()), H2(t4.a, function(t5) {
            return t5 == e4;
          }));
        }
        function bu2() {
          if (!Iu2())
            throw new T3("web-storage-unsupported");
          this.c = {}, this.a = [], this.b = 0, this.m = l3.indexedDB, this.type = "indexedDB", this.g = this.v = this.f = this.l = null, this.s = false, this.h = null;
          var t4, e4, n4, r4 = this;
          hr2() && self ? (this.v = (n4 = hr2() ? self : null, U2(pu2, function(t5) {
            t5.b == n4 && (e4 = t5);
          }), e4 || (e4 = new lu2(n4), pu2.push(e4)), e4), du2(this.v, "keyChanged", function(t5, n5) {
            return Au2(r4).then(function(e5) {
              return 0 < e5.length && U2(r4.a, function(t6) {
                t6(e5);
              }), { keyProcessed: K2(e5, n5.key) };
            });
          }), du2(this.v, "ping", function() {
            return be2(["keyChanged"]);
          })) : ((t4 = l3.navigator) && t4.serviceWorker ? be2().then(function() {
            return t4.serviceWorker.ready;
          }).then(function(t5) {
            return t5.active || null;
          }).o(function() {
            return null;
          }) : be2(null)).then(function(t5) {
            (r4.h = t5) && (r4.g = new vu2(new gu2(t5)), yu2(r4.g, "ping", null, true).then(function(t6) {
              t6[0].fulfilled && K2(t6[0].value, "keyChanged") && (r4.s = true);
            }).o(function() {
            }));
          });
        }
        function _u2(i4) {
          return new fe2(function(e4, n4) {
            var t4 = i4.m.open("firebaseLocalStorageDb", 1);
            t4.onerror = function(t5) {
              try {
                t5.preventDefault();
              } catch (t6) {
              }
              n4(Error(t5.target.error));
            }, t4.onupgradeneeded = function(t5) {
              t5 = t5.target.result;
              try {
                t5.createObjectStore("firebaseLocalStorage", { keyPath: "fbase_key" });
              } catch (t6) {
                n4(t6);
              }
            }, t4.onsuccess = function(t5) {
              var r4;
              (t5 = t5.target.result).objectStoreNames.contains("firebaseLocalStorage") ? e4(t5) : (r4 = i4, new fe2(function(t6, e5) {
                var n5 = r4.m.deleteDatabase("firebaseLocalStorageDb");
                n5.onsuccess = function() {
                  t6();
                }, n5.onerror = function(t7) {
                  e5(Error(t7.target.error));
                };
              }).then(function() {
                return _u2(i4);
              }).then(function(t6) {
                e4(t6);
              }).o(function(t6) {
                n4(t6);
              }));
            };
          });
        }
        function wu2(t4) {
          return t4.i || (t4.i = _u2(t4)), t4.i;
        }
        function Tu2(i4, t4) {
          var o4 = 0;
          return new fe2(function e4(n4, r4) {
            wu2(i4).then(t4).then(n4).o(function(t5) {
              return 3 < ++o4 ? void r4(t5) : wu2(i4).then(function(t6) {
                return t6.close(), i4.i = void 0, e4(n4, r4);
              }).o(function(t6) {
                r4(t6);
              });
            });
          });
        }
        function Iu2() {
          try {
            return l3.indexedDB;
          } catch (t4) {
            return;
          }
        }
        function Eu2(t4) {
          return t4.objectStore("firebaseLocalStorage");
        }
        function Su2(t4, e4) {
          return t4.transaction(["firebaseLocalStorage"], e4 ? "readwrite" : "readonly");
        }
        function ku2(t4) {
          return new fe2(function(e4, n4) {
            t4.onsuccess = function(t5) {
              t5 && t5.target ? e4(t5.target.result) : e4();
            }, t4.onerror = function(t5) {
              n4(t5.target.error);
            };
          });
        }
        function Cu2(t4, e4) {
          return t4.g && t4.h && ((n4 = l3.navigator) && n4.serviceWorker && n4.serviceWorker.controller || null) === t4.h ? yu2(t4.g, "keyChanged", { key: e4 }, t4.s).then(function() {
          }).o(function() {
          }) : be2();
          var n4;
        }
        function Au2(r4) {
          return wu2(r4).then(function(t4) {
            var i4 = Eu2(Su2(t4, false));
            return i4.getAll ? ku2(i4.getAll()) : new fe2(function(e4, n4) {
              var r5 = [], t5 = i4.openCursor();
              t5.onsuccess = function(t6) {
                (t6 = t6.target.result) ? (r5.push(t6.value), t6.continue()) : e4(r5);
              }, t5.onerror = function(t6) {
                n4(t6.target.error);
              };
            });
          }).then(function(t4) {
            var e4 = {}, n4 = [];
            if (0 == r4.b) {
              for (n4 = 0; n4 < t4.length; n4++)
                e4[t4[n4].fbase_key] = t4[n4].value;
              n4 = function t5(e5, n5) {
                var r5, i4 = [];
                for (r5 in e5)
                  r5 in n5 && typeof e5[r5] == typeof n5[r5] ? "object" == typeof e5[r5] && null != e5[r5] && null != n5[r5] ? 0 < t5(e5[r5], n5[r5]).length && i4.push(r5) : e5[r5] !== n5[r5] && i4.push(r5) : i4.push(r5);
                for (r5 in n5)
                  r5 in e5 || i4.push(r5);
                return i4;
              }(r4.c, e4), r4.c = e4;
            }
            return n4;
          });
        }
        function Nu2(t4) {
          t4.l && t4.l.cancel("STOP_EVENT"), t4.f && (clearTimeout(t4.f), t4.f = null);
        }
        function Ru2(t4) {
          var r4 = this, i4 = null;
          this.a = [], this.type = "indexedDB", this.c = t4, this.b = be2().then(function() {
            if (Iu2()) {
              var e4 = Ar2(), n4 = "__sak" + e4;
              return fu2 = fu2 || new bu2(), (i4 = fu2).set(n4, e4).then(function() {
                return i4.get(n4);
              }).then(function(t5) {
                if (t5 !== e4)
                  throw Error("indexedDB not supported!");
                return i4.U(n4);
              }).then(function() {
                return i4;
              }).o(function() {
                return r4.c;
              });
            }
            return r4.c;
          }).then(function(t5) {
            return r4.type = t5.type, t5.ca(function(e4) {
              U2(r4.a, function(t6) {
                t6(e4);
              });
            }), t5;
          });
        }
        function Pu2() {
          this.a = {}, this.type = "inMemory";
        }
        function Ou2() {
          if (!function() {
            var t4 = "Node" == lr2();
            if (!(t4 = Du2() || t4 && Jl.INTERNAL.node && Jl.INTERNAL.node.localStorage))
              return false;
            try {
              return t4.setItem("__sak", "1"), t4.removeItem("__sak"), true;
            } catch (t5) {
              return false;
            }
          }()) {
            if ("Node" == lr2())
              throw new T3("internal-error", "The LocalStorage compatibility library was not found.");
            throw new T3("web-storage-unsupported");
          }
          this.a = Du2() || Jl.INTERNAL.node.localStorage, this.type = "localStorage";
        }
        function Du2() {
          try {
            var t4 = l3.localStorage, e4 = Ar2();
            return t4 && (t4.setItem(e4, "1"), t4.removeItem(e4)), t4;
          } catch (t5) {
            return null;
          }
        }
        function xu2() {
          this.type = "nullStorage";
        }
        function Lu2() {
          if (!function() {
            var t4 = "Node" == lr2();
            if (!(t4 = Mu2() || t4 && Jl.INTERNAL.node && Jl.INTERNAL.node.sessionStorage))
              return false;
            try {
              return t4.setItem("__sak", "1"), t4.removeItem("__sak"), true;
            } catch (t5) {
              return false;
            }
          }()) {
            if ("Node" == lr2())
              throw new T3("internal-error", "The SessionStorage compatibility library was not found.");
            throw new T3("web-storage-unsupported");
          }
          this.a = Mu2() || Jl.INTERNAL.node.sessionStorage, this.type = "sessionStorage";
        }
        function Mu2() {
          try {
            var t4 = l3.sessionStorage, e4 = Ar2();
            return t4 && (t4.setItem(e4, "1"), t4.removeItem(e4)), t4;
          } catch (t5) {
            return null;
          }
        }
        function Fu2() {
          var t4 = {};
          t4.Browser = qu2, t4.Node = Vu2, t4.ReactNative = Bu2, t4.Worker = Ku2, this.a = t4[lr2()];
        }
        lu2.prototype.c = function(n4) {
          var e4, r4 = n4.data.eventType, i4 = n4.data.eventId, t4 = this.a[r4];
          t4 && 0 < t4.length && (n4.ports[0].postMessage({ status: "ack", eventId: i4, eventType: r4, response: null }), e4 = [], U2(t4, function(t5) {
            e4.push(be2().then(function() {
              return t5(n4.origin, n4.data.data);
            }));
          }), Te2(e4).then(function(t5) {
            var e5 = [];
            U2(t5, function(t6) {
              e5.push({ fulfilled: t6.Qb, value: t6.value, reason: t6.reason ? t6.reason.message : void 0 });
            }), U2(e5, function(t6) {
              for (var e6 in t6)
                void 0 === t6[e6] && delete t6[e6];
            }), n4.ports[0].postMessage({ status: "done", eventId: i4, eventType: r4, response: e5 });
          }));
        }, gu2.prototype.postMessage = function(t4, e4) {
          this.a.postMessage(t4, e4);
        }, vu2.prototype.close = function() {
          for (; 0 < this.a.length; )
            mu2(this, this.a[0]);
          this.b = true;
        }, (t3 = bu2.prototype).set = function(r4, i4) {
          var o4 = this, s4 = false;
          return Tu2(this, function(t4) {
            return ku2((t4 = Eu2(Su2(t4, true))).get(r4));
          }).then(function(n4) {
            return Tu2(o4, function(t4) {
              if (t4 = Eu2(Su2(t4, true)), n4)
                return n4.value = i4, ku2(t4.put(n4));
              o4.b++, s4 = true;
              var e4 = {};
              return e4.fbase_key = r4, e4.value = i4, ku2(t4.add(e4));
            });
          }).then(function() {
            return o4.c[r4] = i4, Cu2(o4, r4);
          }).oa(function() {
            s4 && o4.b--;
          });
        }, t3.get = function(e4) {
          return Tu2(this, function(t4) {
            return ku2(Eu2(Su2(t4, false)).get(e4));
          }).then(function(t4) {
            return t4 && t4.value;
          });
        }, t3.U = function(e4) {
          var n4 = this, r4 = false;
          return Tu2(this, function(t4) {
            return r4 = true, n4.b++, ku2(Eu2(Su2(t4, true)).delete(e4));
          }).then(function() {
            return delete n4.c[e4], Cu2(n4, e4);
          }).oa(function() {
            r4 && n4.b--;
          });
        }, t3.ca = function(t4) {
          var n4;
          0 == this.a.length && (Nu2(n4 = this), function e4() {
            n4.f = setTimeout(function() {
              n4.l = Au2(n4).then(function(e5) {
                0 < e5.length && U2(n4.a, function(t5) {
                  t5(e5);
                });
              }).then(function() {
                e4();
              }).o(function(t5) {
                "STOP_EVENT" != t5.message && e4();
              });
            }, 800);
          }()), this.a.push(t4);
        }, t3.ia = function(e4) {
          H2(this.a, function(t4) {
            return t4 == e4;
          }), 0 == this.a.length && Nu2(this);
        }, (t3 = Ru2.prototype).get = function(e4) {
          return this.b.then(function(t4) {
            return t4.get(e4);
          });
        }, t3.set = function(e4, n4) {
          return this.b.then(function(t4) {
            return t4.set(e4, n4);
          });
        }, t3.U = function(e4) {
          return this.b.then(function(t4) {
            return t4.U(e4);
          });
        }, t3.ca = function(t4) {
          this.a.push(t4);
        }, t3.ia = function(e4) {
          H2(this.a, function(t4) {
            return t4 == e4;
          });
        }, (t3 = Pu2.prototype).get = function(t4) {
          return be2(this.a[t4]);
        }, t3.set = function(t4, e4) {
          return this.a[t4] = e4, be2();
        }, t3.U = function(t4) {
          return delete this.a[t4], be2();
        }, t3.ca = function() {
        }, t3.ia = function() {
        }, (t3 = Ou2.prototype).get = function(t4) {
          var e4 = this;
          return be2().then(function() {
            return Cr2(e4.a.getItem(t4));
          });
        }, t3.set = function(e4, n4) {
          var r4 = this;
          return be2().then(function() {
            var t4 = Sr2(n4);
            null === t4 ? r4.U(e4) : r4.a.setItem(e4, t4);
          });
        }, t3.U = function(t4) {
          var e4 = this;
          return be2().then(function() {
            e4.a.removeItem(t4);
          });
        }, t3.ca = function(t4) {
          l3.window && Ze2(l3.window, "storage", t4);
        }, t3.ia = function(t4) {
          l3.window && nn2(l3.window, "storage", t4);
        }, (t3 = xu2.prototype).get = function() {
          return be2(null);
        }, t3.set = function() {
          return be2();
        }, t3.U = function() {
          return be2();
        }, t3.ca = function() {
        }, t3.ia = function() {
        }, (t3 = Lu2.prototype).get = function(t4) {
          var e4 = this;
          return be2().then(function() {
            return Cr2(e4.a.getItem(t4));
          });
        }, t3.set = function(e4, n4) {
          var r4 = this;
          return be2().then(function() {
            var t4 = Sr2(n4);
            null === t4 ? r4.U(e4) : r4.a.setItem(e4, t4);
          });
        }, t3.U = function(t4) {
          var e4 = this;
          return be2().then(function() {
            e4.a.removeItem(t4);
          });
        }, t3.ca = function() {
        }, t3.ia = function() {
        };
        var ju2, Uu2, qu2 = { F: Ou2, cb: Lu2 }, Vu2 = { F: Ou2, cb: Lu2 }, Bu2 = { F: hu2, cb: xu2 }, Ku2 = { F: Ou2, cb: xu2 }, Wu2 = { rd: "local", NONE: "none", td: "session" };
        function Hu2() {
          var t4 = !(Nr2(mr2()) || !cr2()), e4 = Er2(), n4 = _r2();
          this.m = t4, this.h = e4, this.l = n4, this.a = {}, t4 = ju2 = ju2 || new Fu2();
          try {
            this.g = !Zn2() && Lr2() || !l3.indexedDB ? new t4.a.F() : new Ru2(new (hr2() ? Pu2 : t4.a.F)());
          } catch (t5) {
            this.g = new Pu2(), this.h = true;
          }
          try {
            this.i = new t4.a.cb();
          } catch (t5) {
            this.i = new Pu2();
          }
          this.v = new Pu2(), this.f = m3(this.Zb, this), this.b = {};
        }
        function zu2() {
          return Uu2 = Uu2 || new Hu2();
        }
        function Gu2(t4, e4) {
          switch (e4) {
            case "session":
              return t4.i;
            case "none":
              return t4.v;
            default:
              return t4.g;
          }
        }
        function Qu2(t4, e4) {
          return "firebase:" + t4.name + (e4 ? ":" + e4 : "");
        }
        function Yu2(t4, e4, n4) {
          return n4 = Qu2(e4, n4), "local" == e4.F && (t4.b[n4] = null), Gu2(t4, e4.F).U(n4);
        }
        function Xu2(t4) {
          t4.c && (clearInterval(t4.c), t4.c = null);
        }
        function $u2(t4) {
          this.a = t4, this.b = zu2();
        }
        (t3 = Hu2.prototype).get = function(t4, e4) {
          return Gu2(this, t4.F).get(Qu2(t4, e4));
        }, t3.set = function(e4, t4, n4) {
          var r4 = Qu2(e4, n4), i4 = this, o4 = Gu2(this, e4.F);
          return o4.set(r4, t4).then(function() {
            return o4.get(r4);
          }).then(function(t5) {
            "local" == e4.F && (i4.b[r4] = t5);
          });
        }, t3.addListener = function(t4, e4, n4) {
          var r4;
          t4 = Qu2(t4, e4), this.l && (this.b[t4] = l3.localStorage.getItem(t4)), ut2(this.a) && (Gu2(this, "local").ca(this.f), this.h || (Zn2() || !Lr2()) && l3.indexedDB || !this.l || (Xu2(r4 = this), r4.c = setInterval(function() {
            for (var t5 in r4.a) {
              var e5 = l3.localStorage.getItem(t5), n5 = r4.b[t5];
              e5 != n5 && (r4.b[t5] = e5, e5 = new Be2({ type: "storage", key: t5, target: window, oldValue: n5, newValue: e5, a: true }), r4.Zb(e5));
            }
          }, 1e3))), this.a[t4] || (this.a[t4] = []), this.a[t4].push(n4);
        }, t3.removeListener = function(t4, e4, n4) {
          t4 = Qu2(t4, e4), this.a[t4] && (H2(this.a[t4], function(t5) {
            return t5 == n4;
          }), 0 == this.a[t4].length && delete this.a[t4]), ut2(this.a) && (Gu2(this, "local").ia(this.f), Xu2(this));
        }, t3.Zb = function(t4) {
          if (t4 && t4.g) {
            var e4 = t4.a.key;
            if (null == e4)
              for (var n4 in this.a) {
                var r4 = this.b[n4];
                void 0 === r4 && (r4 = null);
                var i4 = l3.localStorage.getItem(n4);
                i4 !== r4 && (this.b[n4] = i4, this.nb(n4));
              }
            else if (0 == e4.indexOf("firebase:") && this.a[e4]) {
              if (void 0 !== t4.a.a ? Gu2(this, "local").ia(this.f) : Xu2(this), this.m) {
                if (n4 = l3.localStorage.getItem(e4), (r4 = t4.a.newValue) !== n4)
                  null !== r4 ? l3.localStorage.setItem(e4, r4) : l3.localStorage.removeItem(e4);
                else if (this.b[e4] === r4 && void 0 === t4.a.a)
                  return;
              }
              var o4 = this, n4 = function() {
                void 0 === t4.a.a && o4.b[e4] === l3.localStorage.getItem(e4) || (o4.b[e4] = l3.localStorage.getItem(e4), o4.nb(e4));
              };
              Bt2 && Jt2 && 10 == Jt2 && l3.localStorage.getItem(e4) !== t4.a.newValue && t4.a.newValue !== t4.a.oldValue ? setTimeout(n4, 10) : n4();
            }
          } else
            U2(t4, m3(this.nb, this));
        }, t3.nb = function(t4) {
          this.a[t4] && U2(this.a[t4], function(t5) {
            t5();
          });
        };
        var Ju2, Zu2 = { name: "authEvent", F: "local" };
        function tc2() {
          this.a = zu2();
        }
        function ec2(t4, e4) {
          this.b = nc2, this.f = l3.Uint8Array ? new Uint8Array(this.b) : Array(this.b), this.g = this.c = 0, this.a = [], this.i = t4, this.h = e4, this.l = l3.Int32Array ? new Int32Array(64) : Array(64), void 0 === Ju2 && (Ju2 = l3.Int32Array ? new Int32Array(cc2) : cc2), this.reset();
        }
        _3(ec2, function() {
          this.b = -1;
        });
        for (var nc2 = 64, rc2 = nc2 - 1, ic2 = [], oc2 = 0; oc2 < rc2; oc2++)
          ic2[oc2] = 0;
        var sc2 = z2(128, ic2);
        function ac2(t4) {
          for (var e4 = t4.f, n4 = t4.l, r4 = 0, i4 = 0; i4 < e4.length; )
            n4[r4++] = e4[i4] << 24 | e4[i4 + 1] << 16 | e4[i4 + 2] << 8 | e4[i4 + 3], i4 = 4 * r4;
          for (e4 = 16; e4 < 64; e4++) {
            var i4 = 0 | n4[e4 - 15], r4 = 0 | n4[e4 - 2], o4 = (0 | n4[e4 - 16]) + ((i4 >>> 7 | i4 << 25) ^ (i4 >>> 18 | i4 << 14) ^ i4 >>> 3) | 0, s4 = (0 | n4[e4 - 7]) + ((r4 >>> 17 | r4 << 15) ^ (r4 >>> 19 | r4 << 13) ^ r4 >>> 10) | 0;
            n4[e4] = o4 + s4 | 0;
          }
          r4 = 0 | t4.a[0], i4 = 0 | t4.a[1];
          var a4 = 0 | t4.a[2], u4 = 0 | t4.a[3], c4 = 0 | t4.a[4], h4 = 0 | t4.a[5], l4 = 0 | t4.a[6];
          for (o4 = 0 | t4.a[7], e4 = 0; e4 < 64; e4++) {
            var f4 = ((r4 >>> 2 | r4 << 30) ^ (r4 >>> 13 | r4 << 19) ^ (r4 >>> 22 | r4 << 10)) + (r4 & i4 ^ r4 & a4 ^ i4 & a4) | 0;
            s4 = (o4 = o4 + ((c4 >>> 6 | c4 << 26) ^ (c4 >>> 11 | c4 << 21) ^ (c4 >>> 25 | c4 << 7)) | 0) + ((s4 = (s4 = c4 & h4 ^ ~c4 & l4) + (0 | Ju2[e4]) | 0) + (0 | n4[e4]) | 0) | 0, o4 = l4, l4 = h4, h4 = c4, c4 = u4 + s4 | 0, u4 = a4, a4 = i4, i4 = r4, r4 = s4 + f4 | 0;
          }
          t4.a[0] = t4.a[0] + r4 | 0, t4.a[1] = t4.a[1] + i4 | 0, t4.a[2] = t4.a[2] + a4 | 0, t4.a[3] = t4.a[3] + u4 | 0, t4.a[4] = t4.a[4] + c4 | 0, t4.a[5] = t4.a[5] + h4 | 0, t4.a[6] = t4.a[6] + l4 | 0, t4.a[7] = t4.a[7] + o4 | 0;
        }
        function uc2(t4, e4, n4) {
          void 0 === n4 && (n4 = e4.length);
          var r4 = 0, i4 = t4.c;
          if ("string" == typeof e4)
            for (; r4 < n4; )
              t4.f[i4++] = e4.charCodeAt(r4++), i4 == t4.b && (ac2(t4), i4 = 0);
          else {
            if (!d3(e4))
              throw Error("message must be string or array");
            for (; r4 < n4; ) {
              var o4 = e4[r4++];
              if (!("number" == typeof o4 && 0 <= o4 && o4 <= 255 && o4 == (0 | o4)))
                throw Error("message must be a byte array");
              t4.f[i4++] = o4, i4 == t4.b && (ac2(t4), i4 = 0);
            }
          }
          t4.c = i4, t4.g += n4;
        }
        ec2.prototype.reset = function() {
          this.g = this.c = 0, this.a = l3.Int32Array ? new Int32Array(this.h) : G2(this.h);
        };
        var cc2 = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];
        function hc2() {
          ec2.call(this, 8, lc2);
        }
        _3(hc2, ec2);
        var lc2 = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225];
        function fc2(t4, e4, n4, r4, i4, o4) {
          this.v = t4, this.i = e4, this.l = n4, this.m = r4 || null, this.u = i4 || null, this.s = o4, this.h = e4 + ":" + n4, this.C = new tc2(), this.g = new $u2(this.h), this.f = null, this.b = [], this.a = this.c = null;
        }
        function pc2(t4) {
          return new T3("invalid-cordova-configuration", t4);
        }
        function dc2(t4) {
          var e4 = new hc2();
          uc2(e4, t4), t4 = [];
          var n4 = 8 * e4.g;
          e4.c < 56 ? uc2(e4, sc2, 56 - e4.c) : uc2(e4, sc2, e4.b - (e4.c - 56));
          for (var r4 = 63; 56 <= r4; r4--)
            e4.f[r4] = 255 & n4, n4 /= 256;
          for (ac2(e4), r4 = n4 = 0; r4 < e4.i; r4++)
            for (var i4 = 24; 0 <= i4; i4 -= 8)
              t4[n4++] = e4.a[r4] >> i4 & 255;
          return V2(t4, function(t5) {
            return 1 < (t5 = t5.toString(16)).length ? t5 : "0" + t5;
          }).join("");
        }
        function gc2(t4, e4) {
          for (var n4 = 0; n4 < t4.b.length; n4++)
            try {
              t4.b[n4](e4);
            } catch (t5) {
            }
        }
        function vc2(a4) {
          return a4.f || (a4.f = a4.ma().then(function() {
            return new fe2(function(n4) {
              function e4(r5) {
                t4 = true, s4 && s4.cancel(), yc2(i4).then(function(t5) {
                  var e5, n5 = o4;
                  t5 && r5 && r5.url && (e5 = null, n5 = (e5 = -1 != (n5 = Yi2(r5.url)).indexOf("/__/auth/callback") ? (e5 = "object" == typeof (e5 = Cr2(Nn2(e5 = Rn2(n5), "firebaseError") || null)) ? I3(e5) : null) ? new Po2(t5.c, t5.b, null, null, e5, null, t5.T()) : new Po2(t5.c, t5.b, n5, t5.f, null, null, t5.T()) : e5) || o4), gc2(i4, n5);
                });
              }
              var i4, o4, t4, s4, r4;
              a4.Ea(function t5(e5) {
                return n4(e5), a4.Ta(t5), false;
              }), i4 = a4, o4 = new Po2("unknown", null, null, null, new T3("no-auth-event")), t4 = false, s4 = yn2(500).then(function() {
                return yc2(i4).then(function() {
                  t4 || gc2(i4, o4);
                });
              }), r4 = l3.handleOpenURL, l3.handleOpenURL = function(t5) {
                if (0 == t5.toLowerCase().indexOf(br2("BuildInfo.packageName", l3).toLowerCase() + "://") && e4({ url: t5 }), "function" == typeof r4)
                  try {
                    r4(t5);
                  } catch (t6) {
                    console.error(t6);
                  }
              }, Lo2 = Lo2 || new Do2(), function(t5) {
                var n5 = Lo2;
                n5.a.push(t5), n5.b || (n5.b = function(t6) {
                  for (var e5 = 0; e5 < n5.a.length; e5++)
                    n5.a[e5](t6);
                }, "function" == typeof (t5 = br2("universalLinks.subscribe", l3)) && t5(null, n5.b));
              }(e4);
            });
          })), a4.f;
        }
        function yc2(e4) {
          var t4, n4 = null;
          return (t4 = e4.g).b.get(Zu2, t4.a).then(Oo2).then(function(t5) {
            return n4 = t5, Yu2((t5 = e4.g).b, Zu2, t5.a);
          }).then(function() {
            return n4;
          });
        }
        function mc2(t4) {
          this.a = t4, this.b = zu2();
        }
        (t3 = fc2.prototype).ma = function() {
          return this.Ia || (this.Ia = (ur2(void 0) ? ar2().then(function() {
            return new fe2(function(t4, e4) {
              var n4 = l3.document, r4 = setTimeout(function() {
                e4(Error("Cordova framework is not ready."));
              }, 1e3);
              n4.addEventListener("deviceready", function() {
                clearTimeout(r4), t4();
              }, false);
            });
          }) : _e2(Error("Cordova must run in an Android or iOS file scheme."))).then(function() {
            if ("function" != typeof br2("universalLinks.subscribe", l3))
              throw pc2("cordova-universal-links-plugin-fix is not installed");
            if (void 0 === br2("BuildInfo.packageName", l3))
              throw pc2("cordova-plugin-buildinfo is not installed");
            if ("function" != typeof br2("cordova.plugins.browsertab.openUrl", l3))
              throw pc2("cordova-plugin-browsertab is not installed");
            if ("function" != typeof br2("cordova.InAppBrowser.open", l3))
              throw pc2("cordova-plugin-inappbrowser is not installed");
          }, function() {
            throw new T3("cordova-not-ready");
          }));
        }, t3.Pb = function(t4, e4) {
          return e4(new T3("operation-not-supported-in-this-environment")), be2();
        }, t3.Nb = function() {
          return _e2(new T3("operation-not-supported-in-this-environment"));
        }, t3.ac = function() {
          return false;
        }, t3.Yb = function() {
          return true;
        }, t3.Ub = function() {
          return true;
        }, t3.Ob = function(t4, e4, n4, r4) {
          if (this.c)
            return _e2(new T3("redirect-operation-pending"));
          var i4 = this, o4 = l3.document, s4 = null, a4 = null, u4 = null, c4 = null;
          return this.c = be2().then(function() {
            return Ro2(e4), vc2(i4);
          }).then(function() {
            return function(n5, t5, e5, r5, i5) {
              var o5 = function() {
                for (var t6 = 20, e6 = []; 0 < t6; )
                  e6.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62 * Math.random()))), t6--;
                return e6.join("");
              }(), s5 = new Po2(t5, r5, null, o5, new T3("no-auth-event"), null, i5), a5 = br2("BuildInfo.packageName", l3);
              if ("string" != typeof a5)
                throw new T3("invalid-cordova-configuration");
              var u5 = br2("BuildInfo.displayName", l3), c5 = {};
              if (mr2().toLowerCase().match(/iphone|ipad|ipod/))
                c5.ibi = a5;
              else {
                if (!mr2().toLowerCase().match(/android/))
                  return _e2(new T3("operation-not-supported-in-this-environment"));
                c5.apn = a5;
              }
              u5 && (c5.appDisplayName = u5), o5 = dc2(o5), c5.sessionId = o5;
              var h4 = cu2(n5.v, n5.i, n5.l, t5, e5, null, r5, n5.m, c5, n5.u, i5, n5.s);
              return n5.ma().then(function() {
                var t6 = n5.h;
                return n5.C.a.set(Zu2, s5.w(), t6);
              }).then(function() {
                var t6 = br2("cordova.plugins.browsertab.isAvailable", l3);
                if ("function" != typeof t6)
                  throw new T3("invalid-cordova-configuration");
                var e6 = null;
                t6(function(t7) {
                  if (t7) {
                    if ("function" != typeof (e6 = br2("cordova.plugins.browsertab.openUrl", l3)))
                      throw new T3("invalid-cordova-configuration");
                    e6(h4);
                  } else {
                    if ("function" != typeof (e6 = br2("cordova.InAppBrowser.open", l3)))
                      throw new T3("invalid-cordova-configuration");
                    t7 = mr2(), n5.a = e6(h4, t7.match(/(iPad|iPhone|iPod).*OS 7_\d/i) || t7.match(/(iPad|iPhone|iPod).*OS 8_\d/i) ? "_blank" : "_system", "location=yes");
                  }
                });
              });
            }(i4, t4, e4, n4, r4);
          }).then(function() {
            return new fe2(function(e5, t5) {
              a4 = function() {
                var t6 = br2("cordova.plugins.browsertab.close", l3);
                return e5(), "function" == typeof t6 && t6(), i4.a && "function" == typeof i4.a.close && (i4.a.close(), i4.a = null), false;
              }, i4.Ea(a4), u4 = function() {
                s4 = s4 || yn2(2e3).then(function() {
                  t5(new T3("redirect-cancelled-by-user"));
                });
              }, c4 = function() {
                Or2() && u4();
              }, o4.addEventListener("resume", u4, false), mr2().toLowerCase().match(/android/) || o4.addEventListener("visibilitychange", c4, false);
            }).o(function(t5) {
              return yc2(i4).then(function() {
                throw t5;
              });
            });
          }).oa(function() {
            u4 && o4.removeEventListener("resume", u4, false), c4 && o4.removeEventListener("visibilitychange", c4, false), s4 && s4.cancel(), a4 && i4.Ta(a4), i4.c = null;
          });
        }, t3.Ea = function(e4) {
          this.b.push(e4), vc2(this).o(function(t4) {
            "auth/invalid-cordova-configuration" === t4.code && (t4 = new Po2("unknown", null, null, null, new T3("no-auth-event")), e4(t4));
          });
        }, t3.Ta = function(e4) {
          H2(this.b, function(t4) {
            return t4 == e4;
          });
        };
        var bc2 = { name: "pendingRedirect", F: "session" };
        function _c2(t4) {
          return Yu2(t4.b, bc2, t4.a);
        }
        function wc2(t4, e4, n4, r4) {
          this.i = {}, this.u = 0, this.D = t4, this.v = e4, this.m = n4, this.J = r4, this.h = [], this.f = false, this.l = m3(this.s, this), this.b = new Mc2(), this.C = new Vc2(), this.g = new mc2(xc2(this.v, this.m)), this.c = {}, this.c.unknown = this.b, this.c.signInViaRedirect = this.b, this.c.linkViaRedirect = this.b, this.c.reauthViaRedirect = this.b, this.c.signInViaPopup = this.C, this.c.linkViaPopup = this.C, this.c.reauthViaPopup = this.C, this.a = Tc2(this.D, this.v, this.m, E3, this.J);
        }
        function Tc2(t4, e4, n4, r4, i4) {
          var o4 = Jl.SDK_VERSION || null;
          return new (ur2() ? fc2 : ou2)(t4, e4, n4, o4, r4, i4);
        }
        function Ic2(e4) {
          e4.f || (e4.f = true, e4.a.Ea(e4.l));
          var n4 = e4.a;
          return e4.a.ma().o(function(t4) {
            throw e4.a == n4 && e4.reset(), t4;
          });
        }
        function Ec2(n4) {
          n4.a.Yb() && Ic2(n4).o(function(t4) {
            var e4 = new Po2("unknown", null, null, null, new T3("operation-not-supported-in-this-environment"));
            Rc2(t4) && n4.s(e4);
          }), n4.a.Ub() || Fc2(n4.b);
        }
        function Sc2(n4, t4) {
          K2(n4.h, t4) || n4.h.push(t4), n4.f || (t4 = n4.g).b.get(bc2, t4.a).then(function(t5) {
            return "pending" == t5;
          }).then(function(t5) {
            t5 ? _c2(n4.g).then(function() {
              Ic2(n4).o(function(t6) {
                var e4 = new Po2("unknown", null, null, null, new T3("operation-not-supported-in-this-environment"));
                Rc2(t6) && n4.s(e4);
              });
            }) : Ec2(n4);
          }).o(function() {
            Ec2(n4);
          });
        }
        function kc2(t4, e4) {
          H2(t4.h, function(t5) {
            return t5 == e4;
          });
        }
        wc2.prototype.reset = function() {
          this.f = false, this.a.Ta(this.l), this.a = Tc2(this.D, this.v, this.m, null, this.J), this.i = {};
        }, wc2.prototype.s = function(t4) {
          if (!t4)
            throw new T3("invalid-auth-event");
          if (6e5 <= Date.now() - this.u && (this.i = {}, this.u = 0), t4 && t4.getUid() && this.i.hasOwnProperty(t4.getUid()))
            return false;
          for (var e4 = false, n4 = 0; n4 < this.h.length; n4++) {
            var r4 = this.h[n4];
            if (r4.Gb(t4.c, t4.b)) {
              (e4 = this.c[t4.c]) && (e4.h(t4, r4), t4 && (t4.f || t4.b) && (this.i[t4.getUid()] = true, this.u = Date.now())), e4 = true;
              break;
            }
          }
          return Fc2(this.b), e4;
        };
        var Cc2 = new Pr2(2e3, 1e4), Ac2 = new Pr2(3e4, 6e4);
        function Nc2(t4, e4, n4, r4, i4, o4, s4) {
          return t4.a.Nb(e4, n4, r4, function() {
            t4.f || (t4.f = true, t4.a.Ea(t4.l));
          }, function() {
            t4.reset();
          }, i4, o4, s4);
        }
        function Rc2(t4) {
          return !(!t4 || "auth/cordova-not-ready" != t4.code);
        }
        function Pc2(e4, t4, n4, r4, i4) {
          var o4, s4;
          return (s4 = e4.g).b.set(bc2, "pending", s4.a).then(function() {
            return e4.a.Ob(t4, n4, r4, i4).o(function(t5) {
              if (Rc2(t5))
                throw new T3("operation-not-supported-in-this-environment");
              return o4 = t5, _c2(e4.g).then(function() {
                throw o4;
              });
            }).then(function() {
              return e4.a.ac() ? new fe2(function() {
              }) : _c2(e4.g).then(function() {
                return e4.ra();
              }).then(function() {
              }).o(function() {
              });
            });
          });
        }
        function Oc2(t4, e4, n4, r4, i4) {
          return t4.a.Pb(r4, function(t5) {
            e4.na(n4, null, t5, i4);
          }, Cc2.get());
        }
        wc2.prototype.ra = function() {
          return this.b.ra();
        };
        var Dc2 = {};
        function xc2(t4, e4, n4) {
          return t4 = t4 + ":" + e4, t4 = n4 ? t4 + ":" + n4.url : t4;
        }
        function Lc2(t4, e4, n4, r4) {
          var i4 = xc2(e4, n4, r4);
          return Dc2[i4] || (Dc2[i4] = new wc2(t4, e4, n4, r4)), Dc2[i4];
        }
        function Mc2() {
          this.b = null, this.f = [], this.c = [], this.a = null, this.i = this.g = false;
        }
        function Fc2(t4) {
          t4.g || (t4.g = true, qc2(t4, false, null, null));
        }
        function jc2(t4) {
          t4.g && !t4.i && qc2(t4, false, null, null);
        }
        function Uc2(t4, e4) {
          if (t4.b = function() {
            return be2(e4);
          }, t4.f.length)
            for (var n4 = 0; n4 < t4.f.length; n4++)
              t4.f[n4](e4);
        }
        function qc2(t4, e4, n4, r4) {
          e4 ? r4 ? function(t5, e5) {
            if (t5.b = function() {
              return _e2(e5);
            }, t5.c.length)
              for (var n5 = 0; n5 < t5.c.length; n5++)
                t5.c[n5](e5);
          }(t4, r4) : Uc2(t4, n4) : Uc2(t4, { user: null }), t4.f = [], t4.c = [];
        }
        function Vc2() {
        }
        function Bc2() {
          this.jb = false, Object.defineProperty(this, "appVerificationDisabled", { get: function() {
            return this.jb;
          }, set: function(t4) {
            this.jb = t4;
          }, enumerable: false });
        }
        function Kc2(t4, e4) {
          this.a = e4, qr2(this, "verificationId", t4);
        }
        function Wc2(t4, e4, n4, r4) {
          return new Co2(t4).gb(e4, n4).then(function(t5) {
            return new Kc2(t5, r4);
          });
        }
        function Hc2(t4) {
          var e4 = Li2(t4);
          if (!(e4 && e4.exp && e4.auth_time && e4.iat))
            throw new T3("internal-error", "An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");
          Vr2(this, { token: t4, expirationTime: xr2(1e3 * e4.exp), authTime: xr2(1e3 * e4.auth_time), issuedAtTime: xr2(1e3 * e4.iat), signInProvider: e4.firebase && e4.firebase.sign_in_provider ? e4.firebase.sign_in_provider : null, signInSecondFactor: e4.firebase && e4.firebase.sign_in_second_factor ? e4.firebase.sign_in_second_factor : null, claims: e4 });
        }
        function zc2(t4, e4, n4) {
          var r4 = e4 && e4[Qc2];
          if (!r4)
            throw new T3("argument-error", "Internal assert: Invalid MultiFactorResolver");
          this.a = t4, this.f = ct2(e4), this.g = n4, this.c = new Xi2(null, r4), this.b = [];
          var i4 = this;
          U2(e4[Gc2] || [], function(t5) {
            (t5 = Hr2(t5)) && i4.b.push(t5);
          }), qr2(this, "auth", this.a), qr2(this, "session", this.c), qr2(this, "hints", this.b);
        }
        Mc2.prototype.reset = function() {
          this.b = null, this.a && (this.a.cancel(), this.a = null);
        }, Mc2.prototype.h = function(t4, e4) {
          var n4, r4, i4, o4;
          t4 ? (this.reset(), this.g = true, n4 = t4.c, r4 = t4.b, i4 = t4.a && "auth/web-storage-unsupported" == t4.a.code, o4 = t4.a && "auth/operation-not-supported-in-this-environment" == t4.a.code, this.i = !(!i4 && !o4), "unknown" != n4 || i4 || o4 ? t4.a ? (qc2(this, true, null, t4.a), be2()) : e4.Fa(n4, r4) ? function(e5, t5, n5) {
            n5 = n5.Fa(t5.c, t5.b);
            var r5 = t5.g, i5 = t5.f, o5 = t5.i, s4 = t5.T(), a4 = !!t5.c.match(/Redirect$/);
            n5(r5, i5, s4, o5).then(function(t6) {
              qc2(e5, a4, t6, null);
            }).o(function(t6) {
              qc2(e5, a4, null, t6);
            });
          }(this, t4, e4) : _e2(new T3("invalid-auth-event")) : (qc2(this, false, null, null), be2())) : _e2(new T3("invalid-auth-event"));
        }, Mc2.prototype.ra = function() {
          var i4 = this;
          return new fe2(function(t4, e4) {
            var n4, r4;
            i4.b ? i4.b().then(t4, e4) : (i4.f.push(t4), i4.c.push(e4), n4 = i4, r4 = new T3("timeout"), n4.a && n4.a.cancel(), n4.a = yn2(Ac2.get()).then(function() {
              n4.b || (n4.g = true, qc2(n4, true, null, r4));
            }));
          });
        }, Vc2.prototype.h = function(t4, e4) {
          var n4, r4, i4, o4, s4;
          t4 ? (n4 = t4.c, r4 = t4.b, t4.a ? (e4.na(t4.c, null, t4.a, t4.b), be2()) : e4.Fa(n4, r4) ? (i4 = e4, o4 = (t4 = t4).b, s4 = t4.c, i4.Fa(s4, o4)(t4.g, t4.f, t4.T(), t4.i).then(function(t5) {
            i4.na(s4, t5, null, o4);
          }).o(function(t5) {
            i4.na(s4, null, t5, o4);
          })) : _e2(new T3("invalid-auth-event"))) : _e2(new T3("invalid-auth-event"));
        }, Kc2.prototype.confirm = function(t4) {
          return t4 = Ao2(this.verificationId, t4), this.a(t4);
        };
        var Gc2 = "mfaInfo", Qc2 = "mfaPendingCredential";
        function Yc2(t4, e4, n4, r4) {
          T3.call(this, "multi-factor-auth-required", r4, e4), this.b = new zc2(t4, e4, n4), qr2(this, "resolver", this.b);
        }
        function Xc2(t4, e4, n4) {
          if (t4 && v3(t4.serverResponse) && "auth/multi-factor-auth-required" === t4.code)
            try {
              return new Yc2(e4, t4.serverResponse, n4, t4.message);
            } catch (t5) {
            }
          return null;
        }
        function $c2() {
        }
        function Jc2(t4) {
          qr2(this, "factorId", t4.fa), this.a = t4;
        }
        function Zc2(t4) {
          if (Jc2.call(this, t4), this.a.fa != Co2.PROVIDER_ID)
            throw new T3("argument-error", "firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential");
        }
        function th2(t4, e4) {
          for (var n4 in Ve2.call(this, t4), e4)
            this[n4] = e4[n4];
        }
        function eh2(t4, e4) {
          this.a = t4, this.b = [], this.c = m3(this.yc, this), Ze2(this.a, "userReloaded", this.c);
          var r4 = [];
          e4 && e4.multiFactor && e4.multiFactor.enrolledFactors && U2(e4.multiFactor.enrolledFactors, function(t5) {
            var e5 = null, n4 = {};
            if (t5) {
              t5.uid && (n4[Qr2] = t5.uid), t5.displayName && (n4[zr2] = t5.displayName), t5.enrollmentTime && (n4[Gr2] = new Date(t5.enrollmentTime).toISOString()), t5.phoneNumber && (n4[Yr2] = t5.phoneNumber);
              try {
                e5 = new Xr2(n4);
              } catch (t6) {
              }
              t5 = e5;
            } else
              t5 = null;
            t5 && r4.push(t5);
          }), nh2(this, r4);
        }
        function nh2(t4, e4) {
          t4.b = e4, qr2(t4, "enrolledFactors", e4);
        }
        function rh2(t4, e4, n4) {
          if (this.h = t4, this.i = e4, this.g = n4, this.c = 3e4, this.f = 96e4, this.b = null, this.a = this.c, this.f < this.c)
            throw Error("Proactive refresh lower bound greater than upper bound!");
        }
        function ih2(t4, e4) {
          return e4 ? (t4.a = t4.c, t4.g()) : (e4 = t4.a, t4.a *= 2, t4.a > t4.f && (t4.a = t4.f), e4);
        }
        function oh2(t4) {
          this.f = t4, this.b = this.a = null, this.c = Date.now();
        }
        function sh2(t4, e4) {
          void 0 === e4 && (e4 = t4.b ? (e4 = t4.b).a - e4.g : 0), t4.c = Date.now() + 1e3 * e4;
        }
        function ah2(t4, e4) {
          t4.b = xi2(e4[Ks2] || ""), t4.a = e4.refreshToken, sh2(t4, void 0 !== (e4 = e4.expiresIn) ? Number(e4) : void 0);
        }
        function uh2(e4, t4) {
          return r4 = e4.f, i4 = t4, new fe2(function(e5, n4) {
            "refresh_token" == i4.grant_type && i4.refresh_token || "authorization_code" == i4.grant_type && i4.code ? Js2(r4, r4.l + "?key=" + encodeURIComponent(r4.c), function(t5) {
              t5 ? t5.error ? n4(Xa2(t5)) : t5.access_token && t5.refresh_token ? e5(t5) : n4(new T3("internal-error")) : n4(new T3("network-request-failed"));
            }, "POST", Bn2(i4).toString(), r4.g, r4.m.get()) : n4(new T3("internal-error"));
          }).then(function(t5) {
            return e4.b = xi2(t5.access_token), e4.a = t5.refresh_token, sh2(e4, t5.expires_in), { accessToken: e4.b.toString(), refreshToken: e4.a };
          }).o(function(t5) {
            throw "auth/user-token-expired" == t5.code && (e4.a = null), t5;
          });
          var r4, i4;
        }
        function ch2(t4, e4) {
          this.a = t4 || null, this.b = e4 || null, Vr2(this, { lastSignInTime: xr2(e4 || null), creationTime: xr2(t4 || null) });
        }
        function hh2(t4, e4, n4, r4, i4, o4) {
          Vr2(this, { uid: t4, displayName: r4 || null, photoURL: i4 || null, email: n4 || null, phoneNumber: o4 || null, providerId: e4 });
        }
        function lh2(t4, e4, n4) {
          this.N = [], this.l = t4.apiKey, this.m = t4.appName, this.s = t4.authDomain || null;
          var r4, i4 = Jl.SDK_VERSION ? yr2(Jl.SDK_VERSION) : null;
          this.a = new Vs2(this.l, A3(E3), i4), (this.u = t4.emulatorConfig || null) && Ys2(this.a, this.u), this.h = new oh2(this.a), _h2(this, e4[Ks2]), ah2(this.h, e4), qr2(this, "refreshToken", this.h.a), Ih2(this, n4 || {}), fn2.call(this), this.P = false, this.s && wr2() && (this.b = Lc2(this.s, this.l, this.m, this.u)), this.W = [], this.i = null, this.D = (r4 = this, new rh2(function() {
            return r4.I(true);
          }, function(t5) {
            return !(!t5 || "auth/network-request-failed" != t5.code);
          }, function() {
            var t5 = r4.h.c - Date.now() - 3e5;
            return 0 < t5 ? t5 : 0;
          })), this.ba = m3(this.ib, this);
          var o4 = this;
          this.za = null, this.Pa = function(t5) {
            o4.xa(t5.h);
          }, this.qa = null, this.Ba = function(t5) {
            fh2(o4, t5.c);
          }, this.$ = null, this.aa = [], this.Oa = function(t5) {
            gh2(o4, t5.f);
          }, this.ja = null, this.S = new eh2(this, n4), qr2(this, "multiFactor", this.S);
        }
        function fh2(t4, e4) {
          t4.u = e4, Ys2(t4.a, e4), t4.b && (e4 = t4.b, t4.b = Lc2(t4.s, t4.l, t4.m, t4.u), t4.P && (kc2(e4, t4), Sc2(t4.b, t4)));
        }
        function ph2(t4, e4) {
          t4.qa && nn2(t4.qa, "languageCodeChanged", t4.Pa), (t4.qa = e4) && Ze2(e4, "languageCodeChanged", t4.Pa);
        }
        function dh2(t4, e4) {
          t4.$ && nn2(t4.$, "emulatorConfigChanged", t4.Ba), (t4.$ = e4) && Ze2(e4, "emulatorConfigChanged", t4.Ba);
        }
        function gh2(t4, e4) {
          t4.aa = e4, $s2(t4.a, Jl.SDK_VERSION ? yr2(Jl.SDK_VERSION, t4.aa) : null);
        }
        function vh2(t4, e4) {
          t4.ja && nn2(t4.ja, "frameworkChanged", t4.Oa), (t4.ja = e4) && Ze2(e4, "frameworkChanged", t4.Oa);
        }
        function yh2(e4) {
          try {
            return Jl.app(e4.m).auth();
          } catch (t4) {
            throw new T3("internal-error", "No firebase.auth.Auth instance is available for the Firebase App '" + e4.m + "'!");
          }
        }
        function mh2(t4) {
          t4.J || t4.D.b || (t4.D.start(), nn2(t4, "tokenChanged", t4.ba), Ze2(t4, "tokenChanged", t4.ba));
        }
        function bh2(t4) {
          nn2(t4, "tokenChanged", t4.ba), t4.D.stop();
        }
        function _h2(t4, e4) {
          t4.Aa = e4, qr2(t4, "_lat", e4);
        }
        function wh2(t4) {
          for (var e4 = [], n4 = 0; n4 < t4.W.length; n4++)
            e4.push(t4.W[n4](t4));
          return Te2(e4).then(function() {
            return t4;
          });
        }
        function Th2(t4) {
          t4.b && !t4.P && (t4.P = true, Sc2(t4.b, t4));
        }
        function Ih2(t4, e4) {
          Vr2(t4, { uid: e4.uid, displayName: e4.displayName || null, photoURL: e4.photoURL || null, email: e4.email || null, emailVerified: e4.emailVerified || false, phoneNumber: e4.phoneNumber || null, isAnonymous: e4.isAnonymous || false, tenantId: e4.tenantId || null, metadata: new ch2(e4.createdAt, e4.lastLoginAt), providerData: [] }), t4.a.b = t4.tenantId;
        }
        function Eh2() {
        }
        function Sh2(t4) {
          return be2().then(function() {
            if (t4.J)
              throw new T3("app-deleted");
          });
        }
        function kh2(t4) {
          return V2(t4.providerData, function(t5) {
            return t5.providerId;
          });
        }
        function Ch2(t4, e4) {
          e4 && (Ah2(t4, e4.providerId), t4.providerData.push(e4));
        }
        function Ah2(t4, e4) {
          H2(t4.providerData, function(t5) {
            return t5.providerId == e4;
          });
        }
        function Nh2(t4, e4, n4) {
          ("uid" != e4 || n4) && t4.hasOwnProperty(e4) && qr2(t4, e4, n4);
        }
        function Rh2(e4, t4) {
          var n4, r4;
          e4 != t4 && (Vr2(e4, { uid: t4.uid, displayName: t4.displayName, photoURL: t4.photoURL, email: t4.email, emailVerified: t4.emailVerified, phoneNumber: t4.phoneNumber, isAnonymous: t4.isAnonymous, tenantId: t4.tenantId, providerData: [] }), t4.metadata ? qr2(e4, "metadata", new ch2((r4 = t4.metadata).a, r4.b)) : qr2(e4, "metadata", new ch2()), U2(t4.providerData, function(t5) {
            Ch2(e4, t5);
          }), n4 = e4.h, r4 = t4.h, n4.b = r4.b, n4.a = r4.a, n4.c = r4.c, qr2(e4, "refreshToken", e4.h.a), nh2(e4.S, t4.S.b));
        }
        function Ph2(r4) {
          return r4.I().then(function(t4) {
            var e4, n4 = r4.isAnonymous;
            return Qa2((e4 = r4).a, Sa2, { idToken: t4 }).then(m3(e4.Kc, e4)).then(function() {
              return n4 || Nh2(r4, "isAnonymous", false), t4;
            });
          });
        }
        function Oh2(t4, e4) {
          e4[Ks2] && t4.Aa != e4[Ks2] && (ah2(t4.h, e4), t4.dispatchEvent(new th2("tokenChanged")), _h2(t4, e4[Ks2]), Nh2(t4, "refreshToken", t4.h.a));
        }
        function Dh2(t4, e4) {
          return Ph2(t4).then(function() {
            if (K2(kh2(t4), e4))
              return wh2(t4).then(function() {
                throw new T3("provider-already-linked");
              });
          });
        }
        function xh2(t4, e4, n4) {
          return Br2({ user: t4, credential: No2(e4), additionalUserInfo: e4 = qi2(e4), operationType: n4 });
        }
        function Lh2(t4, e4) {
          return Oh2(t4, e4), t4.reload().then(function() {
            return t4;
          });
        }
        function Mh2(n4, r4, t4, e4, i4) {
          if (!wr2())
            return _e2(new T3("operation-not-supported-in-this-environment"));
          if (n4.i && !i4)
            return _e2(n4.i);
          var o4 = Ui2(t4.providerId), s4 = Ar2(n4.uid + ":::"), a4 = null, u4 = ir2(a4 = (!Er2() || cr2()) && n4.s && t4.isOAuthProvider ? cu2(n4.s, n4.l, n4.m, r4, t4, null, s4, Jl.SDK_VERSION || null, null, null, n4.tenantId, n4.u) : a4, o4 && o4.va, o4 && o4.ua);
          return e4 = e4().then(function() {
            if (jh2(n4), !i4)
              return n4.I().then(function() {
              });
          }).then(function() {
            return Nc2(n4.b, u4, r4, t4, s4, !!a4, n4.tenantId);
          }).then(function() {
            return new fe2(function(t5, e5) {
              n4.na(r4, null, new T3("cancelled-popup-request"), n4.g || null), n4.f = t5, n4.C = e5, n4.g = s4, n4.c = Oc2(n4.b, n4, r4, u4, s4);
            });
          }).then(function(t5) {
            return u4 && rr2(u4), t5 ? Br2(t5) : null;
          }).o(function(t5) {
            throw u4 && rr2(u4), t5;
          }), Uh2(n4, e4, i4);
        }
        function Fh2(e4, t4, n4, r4, i4) {
          if (!wr2())
            return _e2(new T3("operation-not-supported-in-this-environment"));
          if (e4.i && !i4)
            return _e2(e4.i);
          var o4 = null, s4 = Ar2(e4.uid + ":::");
          return r4 = r4().then(function() {
            if (jh2(e4), !i4)
              return e4.I().then(function() {
              });
          }).then(function() {
            return e4.ga = s4, wh2(e4);
          }).then(function(t5) {
            return t5 = e4.ha ? (t5 = e4.ha).b.set(Bh2, e4.w(), t5.a) : t5;
          }).then(function() {
            return Pc2(e4.b, t4, n4, s4, e4.tenantId);
          }).o(function(t5) {
            if (o4 = t5, e4.ha)
              return Kh2(e4.ha);
            throw o4;
          }).then(function() {
            if (o4)
              throw o4;
          }), Uh2(e4, r4, i4);
        }
        function jh2(t4) {
          if (!t4.b || !t4.P) {
            if (t4.b && !t4.P)
              throw new T3("internal-error");
            throw new T3("auth-domain-config-required");
          }
        }
        function Uh2(n4, t4, e4) {
          var r4, i4 = (t4 = t4, e4 = e4, (r4 = n4).i && !e4 ? (t4.cancel(), _e2(r4.i)) : t4.o(function(t5) {
            throw !t5 || "auth/user-disabled" != t5.code && "auth/user-token-expired" != t5.code || (r4.i || r4.dispatchEvent(new th2("userInvalidated")), r4.i = t5), t5;
          }));
          return n4.N.push(i4), i4.oa(function() {
            W2(n4.N, i4);
          }), i4.o(function(t5) {
            var e5 = null;
            throw (e5 = t5 && "auth/multi-factor-auth-required" === t5.code ? Xc2(t5.w(), yh2(n4), m3(n4.jc, n4)) : e5) || t5;
          });
        }
        function qh2(t4) {
          if (!t4.apiKey)
            return null;
          var e4 = { apiKey: t4.apiKey, authDomain: t4.authDomain, appName: t4.appName, emulatorConfig: t4.emulatorConfig }, n4 = {};
          if (!t4.stsTokenManager || !t4.stsTokenManager.accessToken)
            return null;
          n4[Ks2] = t4.stsTokenManager.accessToken, n4.refreshToken = t4.stsTokenManager.refreshToken || null;
          var r4 = t4.stsTokenManager.expirationTime;
          r4 && (n4.expiresIn = (r4 - Date.now()) / 1e3);
          var i4 = new lh2(e4, n4, t4);
          return t4.providerData && U2(t4.providerData, function(t5) {
            t5 && Ch2(i4, Br2(t5));
          }), t4.redirectEventId && (i4.ga = t4.redirectEventId), i4;
        }
        function Vh2(t4) {
          this.a = t4, this.b = zu2();
        }
        zc2.prototype.Rc = function(t4) {
          var n4 = this;
          return t4.tb(this.a.a, this.c).then(function(t5) {
            var e4 = ct2(n4.f);
            return delete e4[Gc2], delete e4[Qc2], lt2(e4, t5), n4.g(e4);
          });
        }, _3(Yc2, T3), $c2.prototype.tb = function(t4, e4, n4) {
          return e4.type == $i2 ? (o4 = this, s4 = t4, a4 = n4, e4.Ha().then(function(t5) {
            return t5 = { idToken: t5 }, void 0 !== a4 && (t5.displayName = a4), lt2(t5, { phoneVerificationInfo: ko2(o4.a) }), Qa2(s4, Ia2, t5);
          })) : (r4 = this, i4 = t4, e4.Ha().then(function(t5) {
            return lt2(t5 = { mfaPendingCredential: t5 }, { phoneVerificationInfo: ko2(r4.a) }), Qa2(i4, Ea2, t5);
          }));
          var r4, i4, o4, s4, a4;
        }, _3(Jc2, $c2), _3(Zc2, Jc2), _3(th2, Ve2), (t3 = eh2.prototype).yc = function(t4) {
          var e4;
          nh2(this, (t4 = t4.hd, e4 = [], U2(t4.mfaInfo || [], function(t5) {
            (t5 = Hr2(t5)) && e4.push(t5);
          }), e4));
        }, t3.Sb = function() {
          return this.a.I().then(function(t4) {
            return new Xi2(t4, null);
          });
        }, t3.fc = function(e4, n4) {
          var r4 = this, i4 = this.a.a;
          return this.Sb().then(function(t4) {
            return e4.tb(i4, t4, n4);
          }).then(function(t4) {
            return Oh2(r4.a, t4), r4.a.reload();
          });
        }, t3.bd = function(t4) {
          var n4 = this, r4 = "string" == typeof t4 ? t4 : t4.uid, e4 = this.a.a;
          return this.a.I().then(function(t5) {
            return Qa2(e4, Ga2, { idToken: t5, mfaEnrollmentId: r4 });
          }).then(function(t5) {
            var e5 = q2(n4.b, function(t6) {
              return t6.uid != r4;
            });
            return nh2(n4, e5), Oh2(n4.a, t5), n4.a.reload().o(function(t6) {
              if ("auth/user-token-expired" != t6.code)
                throw t6;
            });
          });
        }, t3.w = function() {
          return { multiFactor: { enrolledFactors: V2(this.b, function(t4) {
            return t4.w();
          }) } };
        }, rh2.prototype.start = function() {
          this.a = this.c, function e4(n4, t4) {
            n4.stop();
            n4.b = yn2(ih2(n4, t4)).then(Dr2).then(function() {
              return n4.h();
            }).then(function() {
              e4(n4, true);
            }).o(function(t5) {
              n4.i(t5) && e4(n4, false);
            });
          }(this, true);
        }, rh2.prototype.stop = function() {
          this.b && (this.b.cancel(), this.b = null);
        }, oh2.prototype.w = function() {
          return { apiKey: this.f.c, refreshToken: this.a, accessToken: this.b && this.b.toString(), expirationTime: this.c };
        }, oh2.prototype.getToken = function(t4) {
          return t4 = !!t4, this.b && !this.a ? _e2(new T3("user-token-expired")) : t4 || !this.b || Date.now() > this.c - 3e4 ? this.a ? uh2(this, { grant_type: "refresh_token", refresh_token: this.a }) : be2(null) : be2({ accessToken: this.b.toString(), refreshToken: this.a });
        }, ch2.prototype.w = function() {
          return { lastLoginAt: this.b, createdAt: this.a };
        }, _3(lh2, fn2), lh2.prototype.xa = function(t4) {
          this.za = t4, Qs2(this.a, t4);
        }, lh2.prototype.la = function() {
          return this.za;
        }, lh2.prototype.Ga = function() {
          return G2(this.aa);
        }, lh2.prototype.ib = function() {
          this.D.b && (this.D.stop(), this.D.start());
        }, qr2(lh2.prototype, "providerId", "firebase"), (t3 = lh2.prototype).reload = function() {
          var t4 = this;
          return Uh2(this, Sh2(this).then(function() {
            return Ph2(t4).then(function() {
              return wh2(t4);
            }).then(Eh2);
          }));
        }, t3.oc = function(t4) {
          return this.I(t4).then(function(t5) {
            return new Hc2(t5);
          });
        }, t3.I = function(t4) {
          var e4 = this;
          return Uh2(this, Sh2(this).then(function() {
            return e4.h.getToken(t4);
          }).then(function(t5) {
            if (!t5)
              throw new T3("internal-error");
            return t5.accessToken != e4.Aa && (_h2(e4, t5.accessToken), e4.dispatchEvent(new th2("tokenChanged"))), Nh2(e4, "refreshToken", t5.refreshToken), t5.accessToken;
          }));
        }, t3.Kc = function(t4) {
          if (!(t4 = t4.users) || !t4.length)
            throw new T3("internal-error");
          Ih2(this, { uid: (t4 = t4[0]).localId, displayName: t4.displayName, photoURL: t4.photoUrl, email: t4.email, emailVerified: !!t4.emailVerified, phoneNumber: t4.phoneNumber, lastLoginAt: t4.lastLoginAt, createdAt: t4.createdAt, tenantId: t4.tenantId });
          for (var e4, n4 = (e4 = (e4 = t4).providerUserInfo) && e4.length ? V2(e4, function(t5) {
            return new hh2(t5.rawId, t5.providerId, t5.email, t5.displayName, t5.photoUrl, t5.phoneNumber);
          }) : [], r4 = 0; r4 < n4.length; r4++)
            Ch2(this, n4[r4]);
          Nh2(this, "isAnonymous", !(this.email && t4.passwordHash || this.providerData && this.providerData.length)), this.dispatchEvent(new th2("userReloaded", { hd: t4 }));
        }, t3.Lc = function(t4) {
          return jr2("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."), this.ub(t4);
        }, t3.ub = function(t4) {
          var e4 = this, n4 = null;
          return Uh2(this, t4.c(this.a, this.uid).then(function(t5) {
            return Oh2(e4, t5), n4 = xh2(e4, t5, "reauthenticate"), e4.i = null, e4.reload();
          }).then(function() {
            return n4;
          }), true);
        }, t3.Cc = function(t4) {
          return jr2("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."), this.rb(t4);
        }, t3.rb = function(e4) {
          var n4 = this, r4 = null;
          return Uh2(this, Dh2(this, e4.providerId).then(function() {
            return n4.I();
          }).then(function(t4) {
            return e4.b(n4.a, t4);
          }).then(function(t4) {
            return r4 = xh2(n4, t4, "link"), Lh2(n4, t4);
          }).then(function() {
            return r4;
          }));
        }, t3.Dc = function(t4, e4) {
          var n4 = this;
          return Uh2(this, Dh2(this, "phone").then(function() {
            return Wc2(yh2(n4), t4, e4, m3(n4.rb, n4));
          }));
        }, t3.Mc = function(t4, e4) {
          var n4 = this;
          return Uh2(this, be2().then(function() {
            return Wc2(yh2(n4), t4, e4, m3(n4.ub, n4));
          }), true);
        }, t3.Cb = function(e4) {
          var n4 = this;
          return Uh2(this, this.I().then(function(t4) {
            return n4.a.Cb(t4, e4);
          }).then(function(t4) {
            return Oh2(n4, t4), n4.reload();
          }));
        }, t3.ed = function(e4) {
          var n4 = this;
          return Uh2(this, this.I().then(function(t4) {
            return e4.b(n4.a, t4);
          }).then(function(t4) {
            return Oh2(n4, t4), n4.reload();
          }));
        }, t3.Db = function(e4) {
          var n4 = this;
          return Uh2(this, this.I().then(function(t4) {
            return n4.a.Db(t4, e4);
          }).then(function(t4) {
            return Oh2(n4, t4), n4.reload();
          }));
        }, t3.Eb = function(e4) {
          if (void 0 === e4.displayName && void 0 === e4.photoURL)
            return Sh2(this);
          var n4 = this;
          return Uh2(this, this.I().then(function(t4) {
            return n4.a.Eb(t4, { displayName: e4.displayName, photoUrl: e4.photoURL });
          }).then(function(t4) {
            return Oh2(n4, t4), Nh2(n4, "displayName", t4.displayName || null), Nh2(n4, "photoURL", t4.photoUrl || null), U2(n4.providerData, function(t5) {
              "password" === t5.providerId && (qr2(t5, "displayName", n4.displayName), qr2(t5, "photoURL", n4.photoURL));
            }), wh2(n4);
          }).then(Eh2));
        }, t3.cd = function(e4) {
          var n4 = this;
          return Uh2(this, Ph2(this).then(function(t4) {
            return K2(kh2(n4), e4) ? Qa2(n4.a, _a2, { idToken: t4, deleteProvider: [e4] }).then(function(t5) {
              var e5 = {};
              return U2(t5.providerUserInfo || [], function(t6) {
                e5[t6.providerId] = true;
              }), U2(kh2(n4), function(t6) {
                e5[t6] || Ah2(n4, t6);
              }), e5[Co2.PROVIDER_ID] || qr2(n4, "phoneNumber", null), wh2(n4);
            }) : wh2(n4).then(function() {
              throw new T3("no-such-provider");
            });
          }));
        }, t3.delete = function() {
          var e4 = this;
          return Uh2(this, this.I().then(function(t4) {
            return Qa2(e4.a, ba2, { idToken: t4 });
          }).then(function() {
            e4.dispatchEvent(new th2("userDeleted"));
          })).then(function() {
            for (var t4 = 0; t4 < e4.N.length; t4++)
              e4.N[t4].cancel("app-deleted");
            ph2(e4, null), dh2(e4, null), vh2(e4, null), e4.N = [], e4.J = true, bh2(e4), qr2(e4, "refreshToken", null), e4.b && kc2(e4.b, e4);
          });
        }, t3.Gb = function(t4, e4) {
          return !!("linkViaPopup" == t4 && (this.g || null) == e4 && this.f || "reauthViaPopup" == t4 && (this.g || null) == e4 && this.f || "linkViaRedirect" == t4 && (this.ga || null) == e4 || "reauthViaRedirect" == t4 && (this.ga || null) == e4);
        }, t3.na = function(t4, e4, n4, r4) {
          "linkViaPopup" != t4 && "reauthViaPopup" != t4 || r4 != (this.g || null) || (n4 && this.C ? this.C(n4) : e4 && !n4 && this.f && this.f(e4), this.c && (this.c.cancel(), this.c = null), delete this.f, delete this.C);
        }, t3.Fa = function(t4, e4) {
          return "linkViaPopup" == t4 && e4 == (this.g || null) ? m3(this.Lb, this) : "reauthViaPopup" == t4 && e4 == (this.g || null) ? m3(this.Mb, this) : "linkViaRedirect" == t4 && (this.ga || null) == e4 ? m3(this.Lb, this) : "reauthViaRedirect" == t4 && (this.ga || null) == e4 ? m3(this.Mb, this) : null;
        }, t3.Ec = function(t4) {
          var e4 = this;
          return Mh2(this, "linkViaPopup", t4, function() {
            return Dh2(e4, t4.providerId).then(function() {
              return wh2(e4);
            });
          }, false);
        }, t3.Nc = function(t4) {
          return Mh2(this, "reauthViaPopup", t4, function() {
            return be2();
          }, true);
        }, t3.Fc = function(t4) {
          var e4 = this;
          return Fh2(this, "linkViaRedirect", t4, function() {
            return Dh2(e4, t4.providerId);
          }, false);
        }, t3.Oc = function(t4) {
          return Fh2(this, "reauthViaRedirect", t4, function() {
            return be2();
          }, true);
        }, t3.Lb = function(e4, n4, t4, r4) {
          var i4 = this;
          this.c && (this.c.cancel(), this.c = null);
          var o4 = null;
          return t4 = this.I().then(function(t5) {
            return fa2(i4.a, { requestUri: e4, postBody: r4, sessionId: n4, idToken: t5 });
          }).then(function(t5) {
            return o4 = xh2(i4, t5, "link"), Lh2(i4, t5);
          }).then(function() {
            return o4;
          }), Uh2(this, t4);
        }, t3.Mb = function(t4, e4, n4, r4) {
          var i4 = this;
          this.c && (this.c.cancel(), this.c = null);
          var o4 = null;
          return Uh2(this, be2().then(function() {
            return to2(pa2(i4.a, { requestUri: t4, sessionId: e4, postBody: r4, tenantId: n4 }), i4.uid);
          }).then(function(t5) {
            return o4 = xh2(i4, t5, "reauthenticate"), Oh2(i4, t5), i4.i = null, i4.reload();
          }).then(function() {
            return o4;
          }), true);
        }, t3.vb = function(e4) {
          var n4 = this, r4 = null;
          return Uh2(this, this.I().then(function(t4) {
            return r4 = t4, void 0 === e4 || ut2(e4) ? {} : Ri2(new _i2(e4));
          }).then(function(t4) {
            return n4.a.vb(r4, t4);
          }).then(function(t4) {
            if (n4.email != t4)
              return n4.reload();
          }).then(function() {
          }));
        }, t3.Fb = function(e4, n4) {
          var r4 = this, i4 = null;
          return Uh2(this, this.I().then(function(t4) {
            return i4 = t4, void 0 === n4 || ut2(n4) ? {} : Ri2(new _i2(n4));
          }).then(function(t4) {
            return r4.a.Fb(i4, e4, t4);
          }).then(function(t4) {
            if (r4.email != t4)
              return r4.reload();
          }).then(function() {
          }));
        }, t3.jc = function(t4) {
          var e4 = null, n4 = this;
          return Uh2(this, t4 = to2(be2(t4), n4.uid).then(function(t5) {
            return e4 = xh2(n4, t5, "reauthenticate"), Oh2(n4, t5), n4.i = null, n4.reload();
          }).then(function() {
            return e4;
          }), true);
        }, t3.toJSON = function() {
          return this.w();
        }, t3.w = function() {
          var e4 = { uid: this.uid, displayName: this.displayName, photoURL: this.photoURL, email: this.email, emailVerified: this.emailVerified, phoneNumber: this.phoneNumber, isAnonymous: this.isAnonymous, tenantId: this.tenantId, providerData: [], apiKey: this.l, appName: this.m, authDomain: this.s, stsTokenManager: this.h.w(), redirectEventId: this.ga || null };
          return this.metadata && lt2(e4, this.metadata.w()), U2(this.providerData, function(t4) {
            e4.providerData.push(function(t5) {
              var e5, n4 = {};
              for (e5 in t5)
                t5.hasOwnProperty(e5) && (n4[e5] = t5[e5]);
              return n4;
            }(t4));
          }), lt2(e4, this.S.w()), e4;
        };
        var Bh2 = { name: "redirectUser", F: "session" };
        function Kh2(t4) {
          return Yu2(t4.b, Bh2, t4.a);
        }
        function Wh2(t4) {
          var e4, n4, r4, i4;
          this.a = t4, this.b = zu2(), this.c = null, this.f = (n4 = Gh2("local"), r4 = Gh2("session"), i4 = Gh2("none"), function(n5, r5, i5) {
            var o4 = Qu2(r5, i5), s4 = Gu2(n5, r5.F);
            return n5.get(r5, i5).then(function(t5) {
              var e5 = null;
              try {
                e5 = Cr2(l3.localStorage.getItem(o4));
              } catch (t6) {
              }
              if (e5 && !t5)
                return l3.localStorage.removeItem(o4), n5.set(r5, e5, i5);
              e5 && t5 && "localStorage" != s4.type && l3.localStorage.removeItem(o4);
            });
          }((e4 = this).b, n4, e4.a).then(function() {
            return e4.b.get(r4, e4.a);
          }).then(function(t5) {
            return t5 ? r4 : e4.b.get(i4, e4.a).then(function(t6) {
              return t6 ? i4 : e4.b.get(n4, e4.a).then(function(t7) {
                return t7 ? n4 : e4.b.get(zh2, e4.a).then(function(t8) {
                  return t8 ? Gh2(t8) : n4;
                });
              });
            });
          }).then(function(t5) {
            return e4.c = t5, Hh2(e4, t5.F);
          }).o(function() {
            e4.c || (e4.c = n4);
          })), this.b.addListener(Gh2("local"), this.a, m3(this.g, this));
        }
        function Hh2(t4, e4) {
          var n4, a4, r4 = [];
          for (n4 in Wu2)
            Wu2[n4] !== e4 && r4.push(Yu2(t4.b, Gh2(Wu2[n4]), t4.a));
          return r4.push(Yu2(t4.b, zh2, t4.a)), a4 = r4, new fe2(function(n5, e5) {
            var r5 = a4.length, i4 = [];
            if (r5)
              for (var t5 = function(t6, e6) {
                r5--, i4[t6] = e6, 0 == r5 && n5(i4);
              }, o4 = function(t6) {
                e5(t6);
              }, s4 = 0; s4 < a4.length; s4++)
                we2(a4[s4], b3(t5, s4), o4);
            else
              n5(i4);
          });
        }
        Wh2.prototype.g = function() {
          var e4 = this, n4 = Gh2("local");
          $h2(this, function() {
            return be2().then(function() {
              return e4.c && "local" != e4.c.F ? e4.b.get(n4, e4.a) : null;
            }).then(function(t4) {
              if (t4)
                return Hh2(e4, "local").then(function() {
                  e4.c = n4;
                });
            });
          });
        };
        var zh2 = { name: "persistence", F: "session" };
        function Gh2(t4) {
          return { name: "authUser", F: t4 };
        }
        function Qh2(t4, e4) {
          return $h2(t4, function() {
            return t4.b.set(t4.c, e4.w(), t4.a);
          });
        }
        function Yh2(t4) {
          return $h2(t4, function() {
            return Yu2(t4.b, t4.c, t4.a);
          });
        }
        function Xh2(t4, e4, n4) {
          return $h2(t4, function() {
            return t4.b.get(t4.c, t4.a).then(function(t5) {
              return t5 && e4 && (t5.authDomain = e4), t5 && n4 && (t5.emulatorConfig = n4), qh2(t5 || {});
            });
          });
        }
        function $h2(t4, e4) {
          return t4.f = t4.f.then(e4, e4), t4.f;
        }
        function Jh2(t4) {
          if (this.l = false, qr2(this, "settings", new Bc2()), qr2(this, "app", t4), !this.app.options || !this.app.options.apiKey)
            throw new T3("invalid-api-key");
          var n4, e4, r4, i4, o4, s4;
          t4 = Jl.SDK_VERSION ? yr2(Jl.SDK_VERSION) : null, this.a = new Vs2(this.app.options && this.app.options.apiKey, A3(E3), t4), this.P = [], this.s = [], this.N = [], this.Pa = Jl.INTERNAL.createSubscribe(m3(this.zc, this)), this.W = void 0, this.ib = Jl.INTERNAL.createSubscribe(m3(this.Ac, this)), ol2(this, null), this.i = new Wh2(this.app.options.apiKey + ":" + this.app.name), this.D = new Vh2(this.app.options.apiKey + ":" + this.app.name), this.$ = hl2(this, (e4 = (n4 = this).app.options.authDomain, t4 = function(e5) {
            var t5 = function(t6, e6) {
              return t6.b.get(Bh2, t6.a).then(function(t7) {
                return t7 && e6 && (t7.authDomain = e6), qh2(t7 || {});
              });
            }(e5.D, e5.app.options.authDomain).then(function(t6) {
              return (e5.m = t6) && (t6.ha = e5.D), Kh2(e5.D);
            });
            return hl2(e5, t5);
          }(n4).then(function() {
            return Xh2(n4.i, e4, n4.R);
          }).then(function(e5) {
            return e5 ? (e5.ha = n4.D, n4.m && (n4.m.ga || null) == (e5.ga || null) ? e5 : e5.reload().then(function() {
              return Qh2(n4.i, e5).then(function() {
                return e5;
              });
            }).o(function(t5) {
              return "auth/network-request-failed" == t5.code ? e5 : Yh2(n4.i);
            })) : null;
          }).then(function(t5) {
            ol2(n4, t5 || null);
          }), hl2(n4, t4))), this.h = hl2(this, (r4 = this).$.then(function() {
            return rl2(r4);
          }).o(function() {
          }).then(function() {
            if (!r4.l)
              return r4.ja();
          }).o(function() {
          }).then(function() {
            var t5;
            r4.l || (r4.ba = true, (t5 = r4.i).b.addListener(Gh2("local"), t5.a, r4.ja));
          })), this.ba = false, this.ja = m3(this.Zc, this), this.Ba = m3(this.da, this), this.qa = m3(this.mc, this), this.za = m3(this.wc, this), this.Aa = m3(this.xc, this), this.b = null, o4 = (i4 = this).app.options.authDomain, s4 = i4.app.options.apiKey, o4 && wr2() && (i4.Oa = i4.$.then(function() {
            var t5;
            if (!i4.l)
              return i4.b = Lc2(o4, s4, i4.app.name, i4.R), Sc2(i4.b, i4), al2(i4) && Th2(al2(i4)), i4.m && (Th2(i4.m), (t5 = i4.m).xa(i4.la()), ph2(t5, i4), gh2(t5 = i4.m, i4.J), vh2(t5, i4), fh2(t5 = i4.m, i4.R), dh2(t5, i4), i4.m = null), i4.b;
          })), this.INTERNAL = {}, this.INTERNAL.delete = m3(this.delete, this), this.INTERNAL.logFramework = m3(this.Gc, this), this.u = 0, fn2.call(this), t4 = this, Object.defineProperty(t4, "lc", { get: function() {
            return this.la();
          }, set: function(t5) {
            this.xa(t5);
          }, enumerable: false }), t4.aa = null, Object.defineProperty(t4, "ti", { get: function() {
            return this.T();
          }, set: function(t5) {
            this.zb(t5);
          }, enumerable: false }), t4.S = null, Object.defineProperty(t4, "emulatorConfig", { get: function() {
            var t5;
            return t5 = this.R ? Br2({ protocol: (t5 = Rn2(this.R.url)).c, host: t5.a, port: t5.g, options: Br2({ disableWarnings: this.R.ec }) }) : null;
          }, enumerable: false }), this.J = [], this.R = null;
        }
        function Zh2(t4) {
          Ve2.call(this, "languageCodeChanged"), this.h = t4;
        }
        function tl2(t4) {
          Ve2.call(this, "emulatorConfigChanged"), this.c = t4;
        }
        function el2(t4) {
          Ve2.call(this, "frameworkChanged"), this.f = t4;
        }
        function nl2(t4) {
          return t4.Oa || _e2(new T3("auth-domain-config-required"));
        }
        function rl2(t4) {
          if (!wr2())
            return _e2(new T3("operation-not-supported-in-this-environment"));
          var e4 = nl2(t4).then(function() {
            return t4.b.ra();
          }).then(function(t5) {
            return t5 ? Br2(t5) : null;
          });
          return hl2(t4, e4);
        }
        function il2(o4, s4) {
          var a4 = {};
          return a4.apiKey = o4.app.options.apiKey, a4.authDomain = o4.app.options.authDomain, a4.appName = o4.app.name, o4.R && (a4.emulatorConfig = o4.R), o4.$.then(function() {
            return t4 = a4, e4 = s4, n4 = o4.D, r4 = o4.Ga(), i4 = new lh2(t4, e4), n4 && (i4.ha = n4), r4 && gh2(i4, r4), i4.reload().then(function() {
              return i4;
            });
            var t4, e4, n4, r4, i4;
          }).then(function(t4) {
            return al2(o4) && t4.uid == al2(o4).uid ? Rh2(al2(o4), t4) : (ol2(o4, t4), Th2(t4)), o4.da(t4);
          }).then(function() {
            cl2(o4);
          });
        }
        function ol2(t4, e4) {
          var n4, r4;
          al2(t4) && (n4 = al2(t4), r4 = t4.Ba, H2(n4.W, function(t5) {
            return t5 == r4;
          }), nn2(al2(t4), "tokenChanged", t4.qa), nn2(al2(t4), "userDeleted", t4.za), nn2(al2(t4), "userInvalidated", t4.Aa), bh2(al2(t4))), e4 && (e4.W.push(t4.Ba), Ze2(e4, "tokenChanged", t4.qa), Ze2(e4, "userDeleted", t4.za), Ze2(e4, "userInvalidated", t4.Aa), 0 < t4.u && mh2(e4)), qr2(t4, "currentUser", e4), e4 && (e4.xa(t4.la()), ph2(e4, t4), gh2(e4, t4.J), vh2(e4, t4), fh2(e4, t4.R), dh2(e4, t4));
        }
        function sl2(n4, t4) {
          var e4 = null, r4 = null;
          return hl2(n4, t4.then(function(t5) {
            return e4 = No2(t5), r4 = qi2(t5), il2(n4, t5);
          }, function(t5) {
            var e5 = null;
            throw (e5 = t5 && "auth/multi-factor-auth-required" === t5.code ? Xc2(t5.w(), n4, m3(n4.kc, n4)) : e5) || t5;
          }).then(function() {
            return Br2({ user: al2(n4), credential: e4, additionalUserInfo: r4, operationType: "signIn" });
          }));
        }
        function al2(t4) {
          return t4.currentUser;
        }
        function ul2(t4) {
          return al2(t4) && al2(t4)._lat || null;
        }
        function cl2(t4) {
          if (t4.ba) {
            for (var e4 = 0; e4 < t4.s.length; e4++)
              t4.s[e4] && t4.s[e4](ul2(t4));
            if (t4.W !== t4.getUid() && t4.N.length)
              for (t4.W = t4.getUid(), e4 = 0; e4 < t4.N.length; e4++)
                t4.N[e4] && t4.N[e4](ul2(t4));
          }
        }
        function hl2(t4, e4) {
          return t4.P.push(e4), e4.oa(function() {
            W2(t4.P, e4);
          }), e4;
        }
        function ll2() {
        }
        function fl2() {
          this.a = {}, this.b = 1e12;
        }
        Wh2.prototype.yb = function(e4) {
          var n4 = null, r4 = this;
          return function(t4) {
            var e5 = new T3("invalid-persistence-type"), n5 = new T3("unsupported-persistence-type");
            t: {
              for (r5 in Wu2)
                if (Wu2[r5] == t4) {
                  var r5 = true;
                  break t;
                }
              r5 = false;
            }
            if (!r5 || "string" != typeof t4)
              throw e5;
            switch (lr2()) {
              case "ReactNative":
                if ("session" === t4)
                  throw n5;
                break;
              case "Node":
                if ("none" !== t4)
                  throw n5;
                break;
              case "Worker":
                if ("session" === t4 || !Iu2() && "none" !== t4)
                  throw n5;
                break;
              default:
                if (!_r2() && "none" !== t4)
                  throw n5;
            }
          }(e4), $h2(this, function() {
            return e4 != r4.c.F ? r4.b.get(r4.c, r4.a).then(function(t4) {
              return n4 = t4, Hh2(r4, e4);
            }).then(function() {
              if (r4.c = Gh2(e4), n4)
                return r4.b.set(r4.c, n4, r4.a);
            }) : be2();
          });
        }, _3(Jh2, fn2), _3(Zh2, Ve2), _3(tl2, Ve2), _3(el2, Ve2), (t3 = Jh2.prototype).yb = function(t4) {
          return t4 = this.i.yb(t4), hl2(this, t4);
        }, t3.xa = function(t4) {
          this.aa === t4 || this.l || (this.aa = t4, Qs2(this.a, this.aa), this.dispatchEvent(new Zh2(this.la())));
        }, t3.la = function() {
          return this.aa;
        }, t3.fd = function() {
          var t4 = l3.navigator;
          this.xa(t4 && (t4.languages && t4.languages[0] || t4.language || t4.userLanguage) || null);
        }, t3.gd = function(t4, e4) {
          if (!this.R) {
            if (!/^https?:\/\//.test(t4))
              throw new T3("argument-error", "Emulator URL must start with a valid scheme (http:// or https://).");
            e4 = !!e4 && !!e4.disableWarnings, n4 = e4, "undefined" != typeof console && "function" == typeof console.info && console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."), l3.document && !n4 && ar2().then(function() {
              var t5 = l3.document.createElement("div");
              t5.innerText = "Running in emulator mode. Do not use with production credentials.", t5.style.position = "fixed", t5.style.width = "100%", t5.style.backgroundColor = "#ffffff", t5.style.border = ".1em solid #000000", t5.style.color = "#b50000", t5.style.bottom = "0px", t5.style.left = "0px", t5.style.margin = "0px", t5.style.zIndex = 1e4, t5.style.textAlign = "center", t5.classList.add("firebase-emulator-warning"), l3.document.body.appendChild(t5);
            }), this.R = { url: t4, ec: e4 }, this.settings.jb = true, Ys2(this.a, this.R), this.dispatchEvent(new tl2(this.R));
          }
          var n4;
        }, t3.Gc = function(t4) {
          this.J.push(t4), $s2(this.a, Jl.SDK_VERSION ? yr2(Jl.SDK_VERSION, this.J) : null), this.dispatchEvent(new el2(this.J));
        }, t3.Ga = function() {
          return G2(this.J);
        }, t3.zb = function(t4) {
          this.S === t4 || this.l || (this.S = t4, this.a.b = this.S);
        }, t3.T = function() {
          return this.S;
        }, t3.toJSON = function() {
          return { apiKey: this.app.options.apiKey, authDomain: this.app.options.authDomain, appName: this.app.name, currentUser: al2(this) && al2(this).w() };
        }, t3.Gb = function(t4, e4) {
          switch (t4) {
            case "unknown":
            case "signInViaRedirect":
              return true;
            case "signInViaPopup":
              return this.g == e4 && !!this.f;
            default:
              return false;
          }
        }, t3.na = function(t4, e4, n4, r4) {
          "signInViaPopup" == t4 && this.g == r4 && (n4 && this.C ? this.C(n4) : e4 && !n4 && this.f && this.f(e4), this.c && (this.c.cancel(), this.c = null), delete this.f, delete this.C);
        }, t3.Fa = function(t4, e4) {
          return "signInViaRedirect" == t4 || "signInViaPopup" == t4 && this.g == e4 && this.f ? m3(this.ic, this) : null;
        }, t3.ic = function(t4, e4, n4, r4) {
          var i4 = this, o4 = { requestUri: t4, postBody: r4, sessionId: e4, tenantId: n4 };
          return this.c && (this.c.cancel(), this.c = null), i4.$.then(function() {
            return sl2(i4, la2(i4.a, o4));
          });
        }, t3.Xc = function(e4) {
          if (!wr2())
            return _e2(new T3("operation-not-supported-in-this-environment"));
          var n4 = this, t4 = Ui2(e4.providerId), r4 = Ar2(), i4 = null, o4 = ir2(i4 = (!Er2() || cr2()) && this.app.options.authDomain && e4.isOAuthProvider ? cu2(this.app.options.authDomain, this.app.options.apiKey, this.app.name, "signInViaPopup", e4, null, r4, Jl.SDK_VERSION || null, null, null, this.T(), this.R) : i4, t4 && t4.va, t4 && t4.ua);
          return hl2(this, t4 = nl2(this).then(function(t5) {
            return Nc2(t5, o4, "signInViaPopup", e4, r4, !!i4, n4.T());
          }).then(function() {
            return new fe2(function(t5, e5) {
              n4.na("signInViaPopup", null, new T3("cancelled-popup-request"), n4.g), n4.f = t5, n4.C = e5, n4.g = r4, n4.c = Oc2(n4.b, n4, "signInViaPopup", o4, r4);
            });
          }).then(function(t5) {
            return o4 && rr2(o4), t5 ? Br2(t5) : null;
          }).o(function(t5) {
            throw o4 && rr2(o4), t5;
          }));
        }, t3.Yc = function(t4) {
          if (!wr2())
            return _e2(new T3("operation-not-supported-in-this-environment"));
          var e4 = this;
          return hl2(this, nl2(this).then(function() {
            return $h2(t5 = e4.i, function() {
              return t5.b.set(zh2, t5.c.F, t5.a);
            });
            var t5;
          }).then(function() {
            return Pc2(e4.b, "signInViaRedirect", t4, void 0, e4.T());
          }));
        }, t3.ra = function() {
          var e4 = this;
          return rl2(this).then(function(t4) {
            return e4.b && jc2(e4.b.b), t4;
          }).o(function(t4) {
            throw e4.b && jc2(e4.b.b), t4;
          });
        }, t3.dd = function(t4) {
          if (!t4)
            return _e2(new T3("null-user"));
          if (this.S != t4.tenantId)
            return _e2(new T3("tenant-id-mismatch"));
          var e4 = this, n4 = {};
          n4.apiKey = this.app.options.apiKey, n4.authDomain = this.app.options.authDomain, n4.appName = this.app.name;
          var r4, i4, o4, s4, a4, u4 = (r4 = t4, i4 = n4, o4 = e4.D, s4 = e4.Ga(), a4 = r4.h, (n4 = {})[Ks2] = a4.b && a4.b.toString(), n4.refreshToken = a4.a, i4 = new lh2(i4 || { apiKey: r4.l, authDomain: r4.s, appName: r4.m }, n4), o4 && (i4.ha = o4), s4 && gh2(i4, s4), Rh2(i4, r4), i4);
          return hl2(this, this.h.then(function() {
            if (e4.app.options.apiKey != t4.l)
              return u4.reload();
          }).then(function() {
            return al2(e4) && t4.uid == al2(e4).uid ? (Rh2(al2(e4), t4), e4.da(t4)) : (ol2(e4, u4), Th2(u4), e4.da(u4));
          }).then(function() {
            cl2(e4);
          }));
        }, t3.Bb = function() {
          var t4 = this, e4 = this.h.then(function() {
            return t4.b && jc2(t4.b.b), al2(t4) ? (ol2(t4, null), Yh2(t4.i).then(function() {
              cl2(t4);
            })) : be2();
          });
          return hl2(this, e4);
        }, t3.Zc = function() {
          var r4 = this;
          return Xh2(this.i, this.app.options.authDomain).then(function(t4) {
            if (!r4.l) {
              var e4, n4;
              if ((e4 = al2(r4) && t4) && (e4 = al2(r4).uid, n4 = t4.uid, e4 = null != e4 && "" !== e4 && null != n4 && "" !== n4 && e4 == n4), e4)
                return Rh2(al2(r4), t4), al2(r4).I();
              (al2(r4) || t4) && (ol2(r4, t4), t4 && (Th2(t4), t4.ha = r4.D), r4.b && Sc2(r4.b, r4), cl2(r4));
            }
          });
        }, t3.da = function(t4) {
          return Qh2(this.i, t4);
        }, t3.mc = function() {
          cl2(this), this.da(al2(this));
        }, t3.wc = function() {
          this.Bb();
        }, t3.xc = function() {
          this.Bb();
        }, t3.kc = function(t4) {
          var e4 = this;
          return this.h.then(function() {
            return sl2(e4, be2(t4));
          });
        }, t3.zc = function(t4) {
          var e4 = this;
          this.addAuthTokenListener(function() {
            t4.next(al2(e4));
          });
        }, t3.Ac = function(t4) {
          var e4, n4, r4 = this;
          n4 = function() {
            t4.next(al2(r4));
          }, (e4 = this).N.push(n4), hl2(e4, e4.h.then(function() {
            !e4.l && K2(e4.N, n4) && e4.W !== e4.getUid() && (e4.W = e4.getUid(), n4(ul2(e4)));
          }));
        }, t3.Ic = function(t4, e4, n4) {
          var r4 = this;
          return this.ba && Promise.resolve().then(function() {
            "function" == typeof t4 ? t4(al2(r4)) : "function" == typeof t4.next && t4.next(al2(r4));
          }), this.Pa(t4, e4, n4);
        }, t3.Hc = function(t4, e4, n4) {
          var r4 = this;
          return this.ba && Promise.resolve().then(function() {
            r4.W = r4.getUid(), "function" == typeof t4 ? t4(al2(r4)) : "function" == typeof t4.next && t4.next(al2(r4));
          }), this.ib(t4, e4, n4);
        }, t3.nc = function(t4) {
          var e4 = this, n4 = this.h.then(function() {
            return al2(e4) ? al2(e4).I(t4).then(function(t5) {
              return { accessToken: t5 };
            }) : null;
          });
          return hl2(this, n4);
        }, t3.Tc = function(t4) {
          var n4 = this;
          return this.h.then(function() {
            return sl2(n4, Qa2(n4.a, Ba2, { token: t4 }));
          }).then(function(t5) {
            var e4 = t5.user;
            return Nh2(e4, "isAnonymous", false), n4.da(e4), t5;
          });
        }, t3.Uc = function(t4, e4) {
          var n4 = this;
          return this.h.then(function() {
            return sl2(n4, Qa2(n4.a, Ka2, { email: t4, password: e4 }));
          });
        }, t3.dc = function(t4, e4) {
          var n4 = this;
          return this.h.then(function() {
            return sl2(n4, Qa2(n4.a, ya2, { email: t4, password: e4 }));
          });
        }, t3.ab = function(t4) {
          var e4 = this;
          return this.h.then(function() {
            return sl2(e4, t4.ka(e4.a));
          });
        }, t3.Sc = function(t4) {
          return jr2("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."), this.ab(t4);
        }, t3.Ab = function() {
          var n4 = this;
          return this.h.then(function() {
            var t4 = al2(n4);
            if (t4 && t4.isAnonymous) {
              var e4 = Br2({ providerId: null, isNewUser: false });
              return Br2({ user: t4, credential: null, additionalUserInfo: e4, operationType: "signIn" });
            }
            return sl2(n4, n4.a.Ab()).then(function(t5) {
              var e5 = t5.user;
              return Nh2(e5, "isAnonymous", true), n4.da(e5), t5;
            });
          });
        }, t3.getUid = function() {
          return al2(this) && al2(this).uid || null;
        }, t3.cc = function(t4) {
          this.addAuthTokenListener(t4), this.u++, 0 < this.u && al2(this) && mh2(al2(this));
        }, t3.Pc = function(e4) {
          var n4 = this;
          U2(this.s, function(t4) {
            t4 == e4 && n4.u--;
          }), this.u < 0 && (this.u = 0), 0 == this.u && al2(this) && bh2(al2(this)), this.removeAuthTokenListener(e4);
        }, t3.addAuthTokenListener = function(t4) {
          var e4 = this;
          this.s.push(t4), hl2(this, this.h.then(function() {
            e4.l || K2(e4.s, t4) && t4(ul2(e4));
          }));
        }, t3.removeAuthTokenListener = function(e4) {
          H2(this.s, function(t4) {
            return t4 == e4;
          });
        }, t3.delete = function() {
          this.l = true;
          for (var t4 = 0; t4 < this.P.length; t4++)
            this.P[t4].cancel("app-deleted");
          return this.P = [], this.i && (t4 = this.i).b.removeListener(Gh2("local"), t4.a, this.ja), this.b && (kc2(this.b, this), jc2(this.b.b)), Promise.resolve();
        }, t3.hc = function(t4) {
          return hl2(this, Qa2(this.a, ma2, { identifier: t4, continueUri: Tr2() ? tr2() : "http://localhost" }).then(function(t5) {
            return t5.signinMethods || [];
          }));
        }, t3.Bc = function(t4) {
          return !!Io2(t4);
        }, t3.xb = function(e4, n4) {
          var r4 = this;
          return hl2(this, be2().then(function() {
            var t4 = new _i2(n4);
            if (!t4.c)
              throw new T3("argument-error", Ii2 + " must be true when sending sign in link to email");
            return Ri2(t4);
          }).then(function(t4) {
            return r4.a.xb(e4, t4);
          }).then(function() {
          }));
        }, t3.jd = function(t4) {
          return this.Sa(t4).then(function(t5) {
            return t5.data.email;
          });
        }, t3.ob = function(t4, e4) {
          return hl2(this, this.a.ob(t4, e4).then(function() {
          }));
        }, t3.Sa = function(t4) {
          return hl2(this, this.a.Sa(t4).then(function(t5) {
            return new $r2(t5);
          }));
        }, t3.kb = function(t4) {
          return hl2(this, this.a.kb(t4).then(function() {
          }));
        }, t3.wb = function(e4, t4) {
          var n4 = this;
          return hl2(this, be2().then(function() {
            return void 0 === t4 || ut2(t4) ? {} : Ri2(new _i2(t4));
          }).then(function(t5) {
            return n4.a.wb(e4, t5);
          }).then(function() {
          }));
        }, t3.Wc = function(t4, e4) {
          return hl2(this, Wc2(this, t4, e4, m3(this.ab, this)));
        }, t3.Vc = function(n4, r4) {
          var i4 = this;
          return hl2(this, be2().then(function() {
            var t4 = r4 || tr2(), e4 = To2(n4, t4);
            if (!(t4 = Io2(t4)))
              throw new T3("argument-error", "Invalid email link!");
            if (t4.tenantId !== i4.T())
              throw new T3("tenant-id-mismatch");
            return i4.ab(e4);
          }));
        }, ll2.prototype.render = function() {
        }, ll2.prototype.reset = function() {
        }, ll2.prototype.getResponse = function() {
        }, ll2.prototype.execute = function() {
        };
        var pl2 = null;
        function dl2(t4, e4) {
          return (e4 = gl2(e4)) && t4.a[e4] || null;
        }
        function gl2(t4) {
          return (t4 = void 0 === t4 ? 1e12 : t4) ? t4.toString() : null;
        }
        function vl2(t4, e4) {
          this.g = false, this.c = e4, this.a = this.b = null, this.h = "invisible" !== this.c.size, this.f = te2(t4);
          var n4 = this;
          this.i = function() {
            n4.execute();
          }, this.h ? this.execute() : Ze2(this.f, "click", this.i);
        }
        function yl2(t4) {
          if (t4.g)
            throw Error("reCAPTCHA mock was already deleted!");
        }
        function ml2() {
        }
        function bl2() {
        }
        fl2.prototype.render = function(t4, e4) {
          return this.a[this.b.toString()] = new vl2(t4, e4), this.b++;
        }, fl2.prototype.reset = function(t4) {
          var e4 = dl2(this, t4);
          t4 = gl2(t4), e4 && t4 && (e4.delete(), delete this.a[t4]);
        }, fl2.prototype.getResponse = function(t4) {
          return (t4 = dl2(this, t4)) ? t4.getResponse() : null;
        }, fl2.prototype.execute = function(t4) {
          (t4 = dl2(this, t4)) && t4.execute();
        }, vl2.prototype.getResponse = function() {
          return yl2(this), this.b;
        }, vl2.prototype.execute = function() {
          yl2(this);
          var n4 = this;
          this.a || (this.a = setTimeout(function() {
            n4.b = function() {
              for (var t5 = 50, e5 = []; 0 < t5; )
                e5.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62 * Math.random()))), t5--;
              return e5.join("");
            }();
            var t4 = n4.c.callback, e4 = n4.c["expired-callback"];
            if (t4)
              try {
                t4(n4.b);
              } catch (t5) {
              }
            n4.a = setTimeout(function() {
              if (n4.a = null, n4.b = null, e4)
                try {
                  e4();
                } catch (t5) {
                }
              n4.h && n4.execute();
            }, 6e4);
          }, 500));
        }, vl2.prototype.delete = function() {
          yl2(this), this.g = true, clearTimeout(this.a), this.a = null, nn2(this.f, "click", this.i);
        }, qr2(ml2, "FACTOR_ID", "phone"), bl2.prototype.g = function() {
          return be2(pl2 = pl2 || new fl2());
        }, bl2.prototype.c = function() {
        };
        var _l2 = null;
        function wl2() {
          this.b = l3.grecaptcha ? 1 / 0 : 0, this.f = null, this.a = "__rcb" + Math.floor(1e6 * Math.random()).toString();
        }
        var Tl2 = new pt2(yt2, "https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"), Il2 = new Pr2(3e4, 6e4);
        wl2.prototype.g = function(i4) {
          var o4 = this;
          return new fe2(function(t4, e4) {
            var r4 = setTimeout(function() {
              e4(new T3("network-request-failed"));
            }, Il2.get());
            !l3.grecaptcha || i4 !== o4.f && !o4.b ? (l3[o4.a] = function() {
              var n4;
              l3.grecaptcha ? (o4.f = i4, n4 = l3.grecaptcha.render, l3.grecaptcha.render = function(t5, e5) {
                return t5 = n4(t5, e5), o4.b++, t5;
              }, clearTimeout(r4), t4(l3.grecaptcha)) : (clearTimeout(r4), e4(new T3("internal-error"))), delete l3[o4.a];
            }, be2(xs2(wt2(Tl2, { onload: o4.a, hl: i4 || "" }))).o(function() {
              clearTimeout(r4), e4(new T3("internal-error", "Unable to load external reCAPTCHA dependencies!"));
            })) : (clearTimeout(r4), t4(l3.grecaptcha));
          });
        }, wl2.prototype.c = function() {
          this.b--;
        };
        var El2 = null;
        function Sl2(t4, e4, n4, r4, i4, o4, s4) {
          if (qr2(this, "type", "recaptcha"), this.c = this.f = null, this.J = false, this.v = e4, this.g = null, s4 = s4 ? _l2 = _l2 || new bl2() : El2 = El2 || new wl2(), this.m = s4, this.a = n4 || { theme: "light", type: "image" }, this.h = [], this.a[Al2])
            throw new T3("argument-error", "sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");
          if (this.i = "invisible" === this.a[Nl2], !l3.document)
            throw new T3("operation-not-supported-in-this-environment", "RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");
          if (!te2(e4) || !this.i && te2(e4).hasChildNodes())
            throw new T3("argument-error", "reCAPTCHA container is either not found or already contains inner elements!");
          this.s = new Vs2(t4, o4 || null, i4 || null), this.u = r4 || function() {
            return null;
          };
          var a4 = this;
          this.l = [];
          var u4 = this.a[kl2];
          this.a[kl2] = function(t5) {
            var e5;
            Rl2(a4, t5), "function" == typeof u4 ? u4(t5) : "string" != typeof u4 || "function" == typeof (e5 = br2(u4, l3)) && e5(t5);
          };
          var c4 = this.a[Cl2];
          this.a[Cl2] = function() {
            var t5;
            Rl2(a4, null), "function" == typeof c4 ? c4() : "string" != typeof c4 || "function" == typeof (t5 = br2(c4, l3)) && t5();
          };
        }
        var kl2 = "callback", Cl2 = "expired-callback", Al2 = "sitekey", Nl2 = "size";
        function Rl2(t4, e4) {
          for (var n4 = 0; n4 < t4.l.length; n4++)
            try {
              t4.l[n4](e4);
            } catch (t5) {
            }
        }
        function Pl2(t4, e4) {
          return t4.h.push(e4), e4.oa(function() {
            W2(t4.h, e4);
          }), e4;
        }
        function Ol2(t4) {
          if (t4.J)
            throw new T3("internal-error", "RecaptchaVerifier instance has been destroyed.");
        }
        function Dl2(t4, e4, n4) {
          var r4 = false;
          try {
            this.b = n4 || Jl.app();
          } catch (t5) {
            throw new T3("argument-error", "No firebase.app.App instance is currently initialized.");
          }
          if (!this.b.options || !this.b.options.apiKey)
            throw new T3("invalid-api-key");
          n4 = this.b.options.apiKey;
          var i4 = this, o4 = null;
          try {
            o4 = this.b.auth().Ga();
          } catch (t5) {
          }
          try {
            r4 = this.b.auth().settings.appVerificationDisabledForTesting;
          } catch (t5) {
          }
          o4 = Jl.SDK_VERSION ? yr2(Jl.SDK_VERSION, o4) : null, Sl2.call(this, n4, t4, e4, function() {
            try {
              var e5 = i4.b.auth().la();
            } catch (t5) {
              e5 = null;
            }
            return e5;
          }, o4, A3(E3), r4);
        }
        function xl2(t4, e4, n4, r4) {
          t: {
            n4 = Array.prototype.slice.call(n4);
            for (var i4 = 0, o4 = false, s4 = 0; s4 < e4.length; s4++)
              if (e4[s4].optional)
                o4 = true;
              else {
                if (o4)
                  throw new T3("internal-error", "Argument validator encountered a required argument after an optional argument.");
                i4++;
              }
            if (o4 = e4.length, n4.length < i4 || o4 < n4.length)
              r4 = "Expected " + (i4 == o4 ? 1 == i4 ? "1 argument" : i4 + " arguments" : i4 + "-" + o4 + " arguments") + " but got " + n4.length + ".";
            else {
              for (i4 = 0; i4 < n4.length; i4++)
                if (o4 = e4[i4].optional && void 0 === n4[i4], !e4[i4].M(n4[i4]) && !o4) {
                  if (e4 = e4[i4], i4 < 0 || i4 >= Ll2.length)
                    throw new T3("internal-error", "Argument validator received an unsupported number of arguments.");
                  n4 = Ll2[i4], r4 = (r4 ? "" : n4 + " argument ") + (e4.name ? '"' + e4.name + '" ' : "") + "must be " + e4.K + ".";
                  break t;
                }
              r4 = null;
            }
          }
          if (r4)
            throw new T3("argument-error", t4 + " failed: " + r4);
        }
        (t3 = Sl2.prototype).Ia = function() {
          var e4 = this;
          return this.f || (this.f = Pl2(this, be2().then(function() {
            if (Tr2() && !hr2())
              return ar2();
            throw new T3("operation-not-supported-in-this-environment", "RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.");
          }).then(function() {
            return e4.m.g(e4.u());
          }).then(function(t4) {
            return e4.g = t4, Qa2(e4.s, Pa2, {});
          }).then(function(t4) {
            e4.a[Al2] = t4.recaptchaSiteKey;
          }).o(function(t4) {
            throw e4.f = null, t4;
          })));
        }, t3.render = function() {
          Ol2(this);
          var n4 = this;
          return Pl2(this, this.Ia().then(function() {
            var t4, e4;
            return null === n4.c && (e4 = n4.v, n4.i || (t4 = te2(e4), e4 = oe2("DIV"), t4.appendChild(e4)), n4.c = n4.g.render(e4, n4.a)), n4.c;
          }));
        }, t3.verify = function() {
          Ol2(this);
          var i4 = this;
          return Pl2(this, this.render().then(function(e4) {
            return new fe2(function(n4) {
              var r4, t4 = i4.g.getResponse(e4);
              t4 ? n4(t4) : (i4.l.push(r4 = function(t5) {
                var e5;
                t5 && (e5 = r4, H2(i4.l, function(t6) {
                  return t6 == e5;
                }), n4(t5));
              }), i4.i && i4.g.execute(i4.c));
            });
          }));
        }, t3.reset = function() {
          Ol2(this), null !== this.c && this.g.reset(this.c);
        }, t3.clear = function() {
          Ol2(this), this.J = true, this.m.c();
          for (var t4, e4 = 0; e4 < this.h.length; e4++)
            this.h[e4].cancel("RecaptchaVerifier instance has been destroyed.");
          if (!this.i) {
            e4 = te2(this.v);
            for (; t4 = e4.firstChild; )
              e4.removeChild(t4);
          }
        }, _3(Dl2, Sl2);
        var Ll2 = "First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");
        function Ml2(t4, e4) {
          return { name: t4 || "", K: "a valid string", optional: !!e4, M: function(t5) {
            return "string" == typeof t5;
          } };
        }
        function Fl2(t4, e4) {
          return { name: t4 || "", K: "a boolean", optional: !!e4, M: function(t5) {
            return "boolean" == typeof t5;
          } };
        }
        function jl2(t4, e4) {
          return { name: t4 || "", K: "a valid object", optional: !!e4, M: v3 };
        }
        function Ul2(t4, e4) {
          return { name: t4 || "", K: "a function", optional: !!e4, M: function(t5) {
            return "function" == typeof t5;
          } };
        }
        function ql2(t4, e4) {
          return { name: t4 || "", K: "null", optional: !!e4, M: function(t5) {
            return null === t5;
          } };
        }
        function Vl2(n4) {
          return { name: n4 ? n4 + "Credential" : "credential", K: n4 ? "a valid " + n4 + " credential" : "a valid credential", optional: false, M: function(t4) {
            if (!t4)
              return false;
            var e4 = !n4 || t4.providerId === n4;
            return !(!t4.ka || !e4);
          } };
        }
        function Bl2() {
          return { name: "multiFactorAssertion", K: "a valid multiFactorAssertion", optional: false, M: function(t4) {
            return !!t4 && !!t4.tb;
          } };
        }
        function Kl2() {
          return { name: "authProvider", K: "a valid Auth provider", optional: false, M: function(t4) {
            return !!(t4 && t4.providerId && t4.hasOwnProperty && t4.hasOwnProperty("isOAuthProvider"));
          } };
        }
        function Wl2(t4, e4) {
          return v3(t4) && "string" == typeof t4.type && t4.type === e4 && "function" == typeof t4.Ha;
        }
        function Hl2(t4) {
          return v3(t4) && "string" == typeof t4.uid;
        }
        function zl2() {
          return { name: "applicationVerifier", K: "an implementation of firebase.auth.ApplicationVerifier", optional: false, M: function(t4) {
            return !(!t4 || "string" != typeof t4.type || "function" != typeof t4.verify);
          } };
        }
        function Gl2(e4, n4, t4, r4) {
          return { name: t4 || "", K: e4.K + " or " + n4.K, optional: !!r4, M: function(t5) {
            return e4.M(t5) || n4.M(t5);
          } };
        }
        function Ql2(t4, e4) {
          for (var n4 in e4) {
            var r4 = e4[n4].name;
            t4[r4] = $l2(r4, t4[n4], e4[n4].j);
          }
        }
        function Yl2(t4, e4) {
          for (var n4 in e4) {
            var r4 = e4[n4].name;
            r4 !== n4 && Object.defineProperty(t4, r4, { get: b3(function(t5) {
              return this[t5];
            }, n4), set: b3(function(t5, e5, n5, r5) {
              xl2(t5, [n5], [r5], true), this[e5] = r5;
            }, r4, n4, e4[n4].lb), enumerable: true });
          }
        }
        function Xl2(t4, e4, n4, r4) {
          t4[e4] = $l2(e4, n4, r4);
        }
        function $l2(t4, e4, n4) {
          function r4() {
            var t5 = Array.prototype.slice.call(arguments);
            return xl2(o4, n4, t5), e4.apply(this, t5);
          }
          if (!n4)
            return e4;
          var i4, o4 = (t4 = (t4 = t4).split("."))[t4.length - 1];
          for (i4 in e4)
            r4[i4] = e4[i4];
          for (i4 in e4.prototype)
            r4.prototype[i4] = e4.prototype[i4];
          return r4;
        }
        Ql2(Jh2.prototype, { kb: { name: "applyActionCode", j: [Ml2("code")] }, Sa: { name: "checkActionCode", j: [Ml2("code")] }, ob: { name: "confirmPasswordReset", j: [Ml2("code"), Ml2("newPassword")] }, dc: { name: "createUserWithEmailAndPassword", j: [Ml2("email"), Ml2("password")] }, hc: { name: "fetchSignInMethodsForEmail", j: [Ml2("email")] }, ra: { name: "getRedirectResult", j: [] }, Bc: { name: "isSignInWithEmailLink", j: [Ml2("emailLink")] }, Hc: { name: "onAuthStateChanged", j: [Gl2(jl2(), Ul2(), "nextOrObserver"), Ul2("opt_error", true), Ul2("opt_completed", true)] }, Ic: { name: "onIdTokenChanged", j: [Gl2(jl2(), Ul2(), "nextOrObserver"), Ul2("opt_error", true), Ul2("opt_completed", true)] }, wb: { name: "sendPasswordResetEmail", j: [Ml2("email"), Gl2(jl2("opt_actionCodeSettings", true), ql2(null, true), "opt_actionCodeSettings", true)] }, xb: { name: "sendSignInLinkToEmail", j: [Ml2("email"), jl2("actionCodeSettings")] }, yb: { name: "setPersistence", j: [Ml2("persistence")] }, Sc: { name: "signInAndRetrieveDataWithCredential", j: [Vl2()] }, Ab: { name: "signInAnonymously", j: [] }, ab: { name: "signInWithCredential", j: [Vl2()] }, Tc: { name: "signInWithCustomToken", j: [Ml2("token")] }, Uc: { name: "signInWithEmailAndPassword", j: [Ml2("email"), Ml2("password")] }, Vc: { name: "signInWithEmailLink", j: [Ml2("email"), Ml2("emailLink", true)] }, Wc: { name: "signInWithPhoneNumber", j: [Ml2("phoneNumber"), zl2()] }, Xc: { name: "signInWithPopup", j: [Kl2()] }, Yc: { name: "signInWithRedirect", j: [Kl2()] }, dd: { name: "updateCurrentUser", j: [Gl2({ name: "user", K: "an instance of Firebase User", optional: false, M: function(t4) {
          return !!(t4 && t4 instanceof lh2);
        } }, ql2(), "user")] }, Bb: { name: "signOut", j: [] }, toJSON: { name: "toJSON", j: [Ml2(null, true)] }, fd: { name: "useDeviceLanguage", j: [] }, gd: { name: "useEmulator", j: [Ml2("url"), jl2("options", true)] }, jd: { name: "verifyPasswordResetCode", j: [Ml2("code")] } }), Yl2(Jh2.prototype, { lc: { name: "languageCode", lb: Gl2(Ml2(), ql2(), "languageCode") }, ti: { name: "tenantId", lb: Gl2(Ml2(), ql2(), "tenantId") } }), (Jh2.Persistence = Wu2).LOCAL = "local", Jh2.Persistence.SESSION = "session", Jh2.Persistence.NONE = "none", Ql2(lh2.prototype, { delete: { name: "delete", j: [] }, oc: { name: "getIdTokenResult", j: [Fl2("opt_forceRefresh", true)] }, I: { name: "getIdToken", j: [Fl2("opt_forceRefresh", true)] }, Cc: { name: "linkAndRetrieveDataWithCredential", j: [Vl2()] }, rb: { name: "linkWithCredential", j: [Vl2()] }, Dc: { name: "linkWithPhoneNumber", j: [Ml2("phoneNumber"), zl2()] }, Ec: { name: "linkWithPopup", j: [Kl2()] }, Fc: { name: "linkWithRedirect", j: [Kl2()] }, Lc: { name: "reauthenticateAndRetrieveDataWithCredential", j: [Vl2()] }, ub: { name: "reauthenticateWithCredential", j: [Vl2()] }, Mc: { name: "reauthenticateWithPhoneNumber", j: [Ml2("phoneNumber"), zl2()] }, Nc: { name: "reauthenticateWithPopup", j: [Kl2()] }, Oc: { name: "reauthenticateWithRedirect", j: [Kl2()] }, reload: { name: "reload", j: [] }, vb: { name: "sendEmailVerification", j: [Gl2(jl2("opt_actionCodeSettings", true), ql2(null, true), "opt_actionCodeSettings", true)] }, toJSON: { name: "toJSON", j: [Ml2(null, true)] }, cd: { name: "unlink", j: [Ml2("provider")] }, Cb: { name: "updateEmail", j: [Ml2("email")] }, Db: { name: "updatePassword", j: [Ml2("password")] }, ed: { name: "updatePhoneNumber", j: [Vl2("phone")] }, Eb: { name: "updateProfile", j: [jl2("profile")] }, Fb: { name: "verifyBeforeUpdateEmail", j: [Ml2("email"), Gl2(jl2("opt_actionCodeSettings", true), ql2(null, true), "opt_actionCodeSettings", true)] } }), Ql2(fl2.prototype, { execute: { name: "execute" }, render: { name: "render" }, reset: { name: "reset" }, getResponse: { name: "getResponse" } }), Ql2(ll2.prototype, { execute: { name: "execute" }, render: { name: "render" }, reset: { name: "reset" }, getResponse: { name: "getResponse" } }), Ql2(fe2.prototype, { oa: { name: "finally" }, o: { name: "catch" }, then: { name: "then" } }), Yl2(Bc2.prototype, { appVerificationDisabled: { name: "appVerificationDisabledForTesting", lb: Fl2("appVerificationDisabledForTesting") } }), Ql2(Kc2.prototype, { confirm: { name: "confirm", j: [Ml2("verificationCode")] } }), Xl2(Zi2, "fromJSON", function(t4) {
          t4 = "string" == typeof t4 ? JSON.parse(t4) : t4;
          for (var e4, n4 = [so2, _o2, So2, ro2], r4 = 0; r4 < n4.length; r4++)
            if (e4 = n4[r4](t4))
              return e4;
          return null;
        }, [Gl2(Ml2(), jl2(), "json")]), Xl2(wo2, "credential", function(t4, e4) {
          return new bo2(t4, e4);
        }, [Ml2("email"), Ml2("password")]), Ql2(bo2.prototype, { w: { name: "toJSON", j: [Ml2(null, true)] } }), Ql2(ho2.prototype, { Ca: { name: "addScope", j: [Ml2("scope")] }, Ka: { name: "setCustomParameters", j: [jl2("customOAuthParameters")] } }), Xl2(ho2, "credential", lo2, [Gl2(Ml2(), jl2(), "token")]), Xl2(wo2, "credentialWithLink", To2, [Ml2("email"), Ml2("emailLink")]), Ql2(fo2.prototype, { Ca: { name: "addScope", j: [Ml2("scope")] }, Ka: { name: "setCustomParameters", j: [jl2("customOAuthParameters")] } }), Xl2(fo2, "credential", po2, [Gl2(Ml2(), jl2(), "token")]), Ql2(go2.prototype, { Ca: { name: "addScope", j: [Ml2("scope")] }, Ka: { name: "setCustomParameters", j: [jl2("customOAuthParameters")] } }), Xl2(go2, "credential", vo2, [Gl2(Ml2(), Gl2(jl2(), ql2()), "idToken"), Gl2(Ml2(), ql2(), "accessToken", true)]), Ql2(yo2.prototype, { Ka: { name: "setCustomParameters", j: [jl2("customOAuthParameters")] } }), Xl2(yo2, "credential", mo2, [Gl2(Ml2(), jl2(), "token"), Ml2("secret", true)]), Ql2(co2.prototype, { Ca: { name: "addScope", j: [Ml2("scope")] }, credential: { name: "credential", j: [Gl2(Ml2(), Gl2(jl2(), ql2()), "optionsOrIdToken"), Gl2(Ml2(), ql2(), "accessToken", true)] }, Ka: { name: "setCustomParameters", j: [jl2("customOAuthParameters")] } }), Ql2(io2.prototype, { w: { name: "toJSON", j: [Ml2(null, true)] } }), Ql2(eo2.prototype, { w: { name: "toJSON", j: [Ml2(null, true)] } }), Xl2(Co2, "credential", Ao2, [Ml2("verificationId"), Ml2("verificationCode")]), Ql2(Co2.prototype, { gb: { name: "verifyPhoneNumber", j: [Gl2(Ml2(), { name: "phoneInfoOptions", K: "valid phone info options", optional: false, M: function(t4) {
          return !!t4 && (t4.session && t4.phoneNumber ? Wl2(t4.session, $i2) && "string" == typeof t4.phoneNumber : t4.session && t4.multiFactorHint ? Wl2(t4.session, Ji2) && Hl2(t4.multiFactorHint) : t4.session && t4.multiFactorUid ? Wl2(t4.session, Ji2) && "string" == typeof t4.multiFactorUid : !!t4.phoneNumber && "string" == typeof t4.phoneNumber);
        } }, "phoneInfoOptions"), zl2()] } }), Ql2(Eo2.prototype, { w: { name: "toJSON", j: [Ml2(null, true)] } }), Ql2(T3.prototype, { toJSON: { name: "toJSON", j: [Ml2(null, true)] } }), Ql2(Fo2.prototype, { toJSON: { name: "toJSON", j: [Ml2(null, true)] } }), Ql2(Mo2.prototype, { toJSON: { name: "toJSON", j: [Ml2(null, true)] } }), Ql2(Yc2.prototype, { toJSON: { name: "toJSON", j: [Ml2(null, true)] } }), Ql2(zc2.prototype, { Rc: { name: "resolveSignIn", j: [Bl2()] } }), Ql2(eh2.prototype, { Sb: { name: "getSession", j: [] }, fc: { name: "enroll", j: [Bl2(), Ml2("displayName", true)] }, bd: { name: "unenroll", j: [Gl2({ name: "multiFactorInfo", K: "a valid multiFactorInfo", optional: false, M: Hl2 }, Ml2(), "multiFactorInfoIdentifier")] } }), Ql2(Dl2.prototype, { clear: { name: "clear", j: [] }, render: { name: "render", j: [] }, verify: { name: "verify", j: [] } }), Xl2(li2, "parseLink", bi2, [Ml2("link")]), Xl2(ml2, "assertion", function(t4) {
          return new Zc2(t4);
        }, [Vl2("phone")]), function() {
          if (void 0 === Jl || !Jl.INTERNAL || !Jl.INTERNAL.registerComponent)
            throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");
          var t4 = { ActionCodeInfo: { Operation: { EMAIL_SIGNIN: Zr2, PASSWORD_RESET: "PASSWORD_RESET", RECOVER_EMAIL: "RECOVER_EMAIL", REVERT_SECOND_FACTOR_ADDITION: Jr2, VERIFY_AND_CHANGE_EMAIL: ti2, VERIFY_EMAIL: "VERIFY_EMAIL" } }, Auth: Jh2, AuthCredential: Zi2, Error: T3 };
          Xl2(t4, "EmailAuthProvider", wo2, []), Xl2(t4, "FacebookAuthProvider", ho2, []), Xl2(t4, "GithubAuthProvider", fo2, []), Xl2(t4, "GoogleAuthProvider", go2, []), Xl2(t4, "TwitterAuthProvider", yo2, []), Xl2(t4, "OAuthProvider", co2, [Ml2("providerId")]), Xl2(t4, "SAMLAuthProvider", uo2, [Ml2("providerId")]), Xl2(t4, "PhoneAuthProvider", Co2, [{ name: "auth", K: "an instance of Firebase Auth", optional: true, M: function(t5) {
            return !!(t5 && t5 instanceof Jh2);
          } }]), Xl2(t4, "RecaptchaVerifier", Dl2, [Gl2(Ml2(), { name: "", K: "an HTML element", optional: false, M: function(t5) {
            return !!(t5 && t5 instanceof Element);
          } }, "recaptchaContainer"), jl2("recaptchaParameters", true), { name: "app", K: "an instance of Firebase App", optional: true, M: function(t5) {
            return !!(t5 && t5 instanceof Jl.app.App);
          } }]), Xl2(t4, "ActionCodeURL", li2, []), Xl2(t4, "PhoneMultiFactorGenerator", ml2, []), Jl.INTERNAL.registerComponent({ name: "auth", instanceFactory: function(t5) {
            return new Jh2(t5 = t5.getProvider("app").getImmediate());
          }, multipleInstances: false, serviceProps: t4, instantiationMode: "LAZY", type: "PUBLIC", onInstanceCreated: function(t5) {
            t5.getProvider("auth-internal").initialize();
          } }), Jl.INTERNAL.registerComponent({ name: "auth-internal", instanceFactory: function(t5) {
            return { getUid: m3((t5 = t5.getProvider("auth").getImmediate()).getUid, t5), getToken: m3(t5.nc, t5), addAuthTokenListener: m3(t5.cc, t5), removeAuthTokenListener: m3(t5.Pc, t5) };
          }, multipleInstances: false, instantiationMode: "LAZY", type: "PRIVATE" }), Jl.registerVersion("@firebase/auth", "0.16.8"), Jl.INTERNAL.extendNamespace({ User: lh2 });
        }();
      }.apply("undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {});
      var Os = "";
      function Ds(t3) {
        Os = t3;
      }
      var xs = (Ls.prototype.set = function(t3, e3) {
        null == e3 ? this.domStorage_.removeItem(this.prefixedName_(t3)) : this.domStorage_.setItem(this.prefixedName_(t3), Po(e3));
      }, Ls.prototype.get = function(t3) {
        t3 = this.domStorage_.getItem(this.prefixedName_(t3));
        return null == t3 ? null : Ro(t3);
      }, Ls.prototype.remove = function(t3) {
        this.domStorage_.removeItem(this.prefixedName_(t3));
      }, Ls.prototype.prefixedName_ = function(t3) {
        return this.prefix_ + t3;
      }, Ls.prototype.toString = function() {
        return this.domStorage_.toString();
      }, Ls);
      function Ls(t3) {
        this.domStorage_ = t3, this.prefix_ = "firebase:";
      }
      var Ms = (Fs.prototype.set = function(t3, e3) {
        null == e3 ? delete this.cache_[t3] : this.cache_[t3] = e3;
      }, Fs.prototype.get = function(t3) {
        return Do(this.cache_, t3) ? this.cache_[t3] : null;
      }, Fs.prototype.remove = function(t3) {
        delete this.cache_[t3];
      }, Fs);
      function Fs() {
        this.cache_ = {}, this.isInMemoryStorage = true;
      }
      function js(t3) {
        var e3 = function(t4) {
          for (var e4 = [], n3 = 0, r3 = 0; r3 < t4.length; r3++) {
            var i3, o3 = t4.charCodeAt(r3);
            55296 <= o3 && o3 <= 56319 && (i3 = o3 - 55296, io(++r3 < t4.length, "Surrogate pair missing trail surrogate."), o3 = 65536 + (i3 << 10) + (t4.charCodeAt(r3) - 56320)), o3 < 128 ? e4[n3++] = o3 : (o3 < 2048 ? e4[n3++] = o3 >> 6 | 192 : (o3 < 65536 ? e4[n3++] = o3 >> 12 | 224 : (e4[n3++] = o3 >> 18 | 240, e4[n3++] = o3 >> 12 & 63 | 128), e4[n3++] = o3 >> 6 & 63 | 128), e4[n3++] = 63 & o3 | 128);
          }
          return e4;
        }(t3);
        return (t3 = new jo()).update(e3), t3 = t3.digest(), so.encodeByteArray(t3);
      }
      function Us(t3, e3) {
        io(!e3 || true === t3 || false === t3, "Can't turn on custom loggers persistently."), true === t3 ? (Qs.logLevel = us.VERBOSE, $s = Qs.log.bind(Qs), e3 && Gs.set("logging_enabled", true)) : "function" == typeof t3 ? $s = t3 : ($s = null, Gs.remove("logging_enabled"));
      }
      function qs() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        var n3 = "FIREBASE INTERNAL ERROR: " + Xs.apply(void 0, Zi([], Ji(t3)));
        Qs.error(n3);
      }
      function Vs(t3) {
        return "number" == typeof t3 && (t3 != t3 || t3 === Number.POSITIVE_INFINITY || t3 === Number.NEGATIVE_INFINITY);
      }
      function Bs(t3, e3) {
        return t3 === e3 ? 0 : t3 < e3 ? -1 : 1;
      }
      function Ks(t3, e3) {
        if (e3 && t3 in e3)
          return e3[t3];
        throw new Error("Missing required key (" + t3 + ") in object: " + Po(e3));
      }
      function Ws(t3, e3) {
        var n3 = t3.length;
        if (n3 <= e3)
          return [t3];
        for (var r3 = [], i3 = 0; i3 < n3; i3 += e3)
          n3 < i3 + e3 ? r3.push(t3.substring(i3, n3)) : r3.push(t3.substring(i3, i3 + e3));
        return r3;
      }
      var Hs, fr = function(t3) {
        try {
          if ("undefined" != typeof window && void 0 !== window[t3]) {
            var e3 = window[t3];
            return e3.setItem("firebase:sentinel", "cache"), e3.removeItem("firebase:sentinel"), new xs(e3);
          }
        } catch (t4) {
        }
        return new Ms();
      }, zs = fr("localStorage"), Gs = fr("sessionStorage"), Qs = new ds("@firebase/database"), Ys = (Hs = 1, function() {
        return Hs++;
      }), Xs = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        for (var n3 = "", r3 = 0; r3 < t3.length; r3++) {
          var i3 = t3[r3];
          Array.isArray(i3) || i3 && "object" == typeof i3 && "number" == typeof i3.length ? n3 += Xs.apply(null, i3) : n3 += "object" == typeof i3 ? Po(i3) : i3, n3 += " ";
        }
        return n3;
      }, $s = null, Js = true, Zs = function() {
        for (var t3, e3 = [], n3 = 0; n3 < arguments.length; n3++)
          e3[n3] = arguments[n3];
        true === Js && (Js = false, null === $s && true === Gs.get("logging_enabled") && Us(true)), $s && (t3 = Xs.apply(null, e3), $s(t3));
      }, ta = function(n3) {
        return function() {
          for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
            t3[e3] = arguments[e3];
          Zs.apply(void 0, Zi([n3], Ji(t3)));
        };
      }, ea = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        var n3 = "FIREBASE FATAL ERROR: " + Xs.apply(void 0, Zi([], Ji(t3)));
        throw Qs.error(n3), new Error(n3);
      }, na = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        var n3 = "FIREBASE WARNING: " + Xs.apply(void 0, Zi([], Ji(t3)));
        Qs.warn(n3);
      }, ra = "[MIN_NAME]", ia = "[MAX_NAME]", oa = function(t3, e3) {
        if (t3 === e3)
          return 0;
        if (t3 === ra || e3 === ia)
          return -1;
        if (e3 === ra || t3 === ia)
          return 1;
        var n3 = pa(t3), r3 = pa(e3);
        return null !== n3 ? null !== r3 ? n3 - r3 == 0 ? t3.length - e3.length : n3 - r3 : -1 : null === r3 && t3 < e3 ? -1 : 1;
      }, sa = function(t3) {
        if ("object" != typeof t3 || null === t3)
          return Po(t3);
        var e3, n3 = [];
        for (e3 in t3)
          n3.push(e3);
        n3.sort();
        for (var r3 = "{", i3 = 0; i3 < n3.length; i3++)
          0 !== i3 && (r3 += ","), r3 += Po(n3[i3]), r3 += ":", r3 += sa(t3[n3[i3]]);
        return r3 += "}";
      };
      function aa(t3, e3) {
        for (var n3 in t3)
          t3.hasOwnProperty(n3) && e3(n3, t3[n3]);
      }
      function ua(t3) {
        var e3, n3, r3, i3;
        io(!Vs(t3), "Invalid JSON number"), 0 === t3 ? e3 = 1 / t3 == -1 / (r3 = n3 = 0) ? 1 : 0 : (e3 = t3 < 0, r3 = (t3 = Math.abs(t3)) >= Math.pow(2, -1022) ? (n3 = (i3 = Math.min(Math.floor(Math.log(t3) / Math.LN2), 1023)) + 1023, Math.round(t3 * Math.pow(2, 52 - i3) - Math.pow(2, 52))) : (n3 = 0, Math.round(t3 / Math.pow(2, -1074))));
        for (var o3 = [], s3 = 52; s3; --s3)
          o3.push(r3 % 2 ? 1 : 0), r3 = Math.floor(r3 / 2);
        for (s3 = 11; s3; --s3)
          o3.push(n3 % 2 ? 1 : 0), n3 = Math.floor(n3 / 2);
        o3.push(e3 ? 1 : 0), o3.reverse();
        var a3 = o3.join(""), u3 = "";
        for (s3 = 0; s3 < 64; s3 += 8) {
          var c3 = parseInt(a3.substr(s3, 8), 2).toString(16);
          u3 += c3 = 1 === c3.length ? "0" + c3 : c3;
        }
        return u3.toLowerCase();
      }
      function ca(t3, e3) {
        return "object" == typeof (e3 = setTimeout(t3, e3)) && e3.unref && e3.unref(), e3;
      }
      var ha = new RegExp("^-?(0*)\\d{1,10}$"), la = -2147483648, fa = 2147483647, pa = function(t3) {
        if (ha.test(t3)) {
          t3 = Number(t3);
          if (la <= t3 && t3 <= fa)
            return t3;
        }
        return null;
      }, da = function(t3) {
        try {
          t3();
        } catch (e3) {
          setTimeout(function() {
            var t4 = e3.stack || "";
            throw na("Exception was thrown by user callback.", t4), e3;
          }, Math.floor(0));
        }
      }, ga = (va.prototype.getToken = function(n3) {
        var r3 = this;
        return this.appCheck ? this.appCheck.getToken(n3) : new Promise(function(t3, e3) {
          setTimeout(function() {
            r3.appCheck ? r3.getToken(n3).then(t3, e3) : t3(null);
          }, 0);
        });
      }, va.prototype.addTokenChangeListener = function(e3) {
        var t3;
        null !== (t3 = this.appCheckProvider) && void 0 !== t3 && t3.get().then(function(t4) {
          return t4.addTokenListener(e3);
        });
      }, va.prototype.notifyForInvalidToken = function() {
        na('Provided AppCheck credentials for the app named "' + this.appName_ + '" are invalid. This usually indicates your app was not initialized correctly.');
      }, va);
      function va(t3, e3) {
        var n3 = this;
        this.appName_ = t3, this.appCheckProvider = e3, this.appCheck = null == e3 ? void 0 : e3.getImmediate({ optional: true }), this.appCheck || null != e3 && e3.get().then(function(t4) {
          return n3.appCheck = t4;
        });
      }
      var ya = (ma.prototype.getToken = function(n3) {
        var r3 = this;
        return this.auth_ ? this.auth_.getToken(n3).catch(function(t3) {
          return t3 && "auth/token-not-initialized" === t3.code ? (Zs("Got auth/token-not-initialized error.  Treating as null token."), null) : Promise.reject(t3);
        }) : new Promise(function(t3, e3) {
          setTimeout(function() {
            r3.auth_ ? r3.getToken(n3).then(t3, e3) : t3(null);
          }, 0);
        });
      }, ma.prototype.addTokenChangeListener = function(e3) {
        this.auth_ ? this.auth_.addAuthTokenListener(e3) : this.authProvider_.get().then(function(t3) {
          return t3.addAuthTokenListener(e3);
        });
      }, ma.prototype.removeTokenChangeListener = function(e3) {
        this.authProvider_.get().then(function(t3) {
          return t3.removeAuthTokenListener(e3);
        });
      }, ma.prototype.notifyForInvalidToken = function() {
        var t3 = 'Provided authentication credentials for the app named "' + this.appName_ + '" are invalid. This usually indicates your app was not initialized correctly. ';
        "credential" in this.firebaseOptions_ ? t3 += 'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.' : "serviceAccount" in this.firebaseOptions_ ? t3 += 'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.' : t3 += 'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.', na(t3);
      }, ma);
      function ma(t3, e3, n3) {
        var r3 = this;
        this.appName_ = t3, this.firebaseOptions_ = e3, this.authProvider_ = n3, this.auth_ = null, this.auth_ = n3.getImmediate({ optional: true }), this.auth_ || n3.onInit(function(t4) {
          return r3.auth_ = t4;
        });
      }
      var ba = (_a.prototype.getToken = function(t3) {
        return Promise.resolve({ accessToken: this.accessToken });
      }, _a.prototype.addTokenChangeListener = function(t3) {
        t3(this.accessToken);
      }, _a.prototype.removeTokenChangeListener = function(t3) {
      }, _a.prototype.notifyForInvalidToken = function() {
      }, _a.OWNER = "owner", _a);
      function _a(t3) {
        this.accessToken = t3;
      }
      var wa = /(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/, Ta = "websocket", Ia = "long_polling", Ea = (Sa.prototype.isCacheableHost = function() {
        return "s-" === this.internalHost.substr(0, 2);
      }, Sa.prototype.isCustomHost = function() {
        return "firebaseio.com" !== this._domain && "firebaseio-demo.com" !== this._domain;
      }, Object.defineProperty(Sa.prototype, "host", { get: function() {
        return this._host;
      }, set: function(t3) {
        t3 !== this.internalHost && (this.internalHost = t3, this.isCacheableHost() && zs.set("host:" + this._host, this.internalHost));
      }, enumerable: false, configurable: true }), Sa.prototype.toString = function() {
        var t3 = this.toURLString();
        return this.persistenceKey && (t3 += "<" + this.persistenceKey + ">"), t3;
      }, Sa.prototype.toURLString = function() {
        var t3 = this.secure ? "https://" : "http://", e3 = this.includeNamespaceInQueryParams ? "?ns=" + this.namespace : "";
        return t3 + this.host + "/" + e3;
      }, Sa);
      function Sa(t3, e3, n3, r3, i3, o3, s3) {
        void 0 === i3 && (i3 = false), void 0 === o3 && (o3 = ""), void 0 === s3 && (s3 = false), this.secure = e3, this.namespace = n3, this.webSocketOnly = r3, this.nodeAdmin = i3, this.persistenceKey = o3, this.includeNamespaceInQueryParams = s3, this._host = t3.toLowerCase(), this._domain = this._host.substr(this._host.indexOf(".") + 1), this.internalHost = zs.get("host:" + t3) || this._host;
      }
      function ka(t3, e3, n3) {
        var r3;
        if (io("string" == typeof e3, "typeof type must == string"), io("object" == typeof n3, "typeof params must == object"), e3 === Ta)
          r3 = (t3.secure ? "wss://" : "ws://") + t3.internalHost + "/.ws?";
        else {
          if (e3 !== Ia)
            throw new Error("Unknown connection type: " + e3);
          r3 = (t3.secure ? "https://" : "http://") + t3.internalHost + "/.lp?";
        }
        ((e3 = t3).host !== e3.internalHost || e3.isCustomHost() || e3.includeNamespaceInQueryParams) && (n3.ns = t3.namespace);
        var i3 = [];
        return aa(n3, function(t4, e4) {
          i3.push(t4 + "=" + e4);
        }), r3 + i3.join("&");
      }
      var Ca = (Aa.prototype.incrementCounter = function(t3, e3) {
        void 0 === e3 && (e3 = 1), Do(this.counters_, t3) || (this.counters_[t3] = 0), this.counters_[t3] += e3;
      }, Aa.prototype.get = function() {
        return uo(this.counters_);
      }, Aa);
      function Aa() {
        this.counters_ = {};
      }
      var Na = {}, Ra = {};
      function Pa(t3) {
        t3 = t3.toString();
        return Na[t3] || (Na[t3] = new Ca()), Na[t3];
      }
      var Oa = (Da.prototype.closeAfter = function(t3, e3) {
        this.closeAfterResponse = t3, this.onClose = e3, this.closeAfterResponse < this.currentResponseNum && (this.onClose(), this.onClose = null);
      }, Da.prototype.handleResponse = function(t3, e3) {
        var n3 = this;
        this.pendingResponses[t3] = e3;
        for (var r3 = function() {
          var e4 = i3.pendingResponses[i3.currentResponseNum];
          delete i3.pendingResponses[i3.currentResponseNum];
          for (var t4 = 0; t4 < e4.length; ++t4)
            !function(t5) {
              e4[t5] && da(function() {
                n3.onMessage_(e4[t5]);
              });
            }(t4);
          if (i3.currentResponseNum === i3.closeAfterResponse)
            return i3.onClose && (i3.onClose(), i3.onClose = null), "break";
          i3.currentResponseNum++;
        }, i3 = this; this.pendingResponses[this.currentResponseNum]; )
          if ("break" === r3())
            break;
      }, Da);
      function Da(t3) {
        this.onMessage_ = t3, this.pendingResponses = [], this.currentResponseNum = 0, this.closeAfterResponse = -1, this.onClose = null;
      }
      var xa = "pLPCommand", La = "pRTLPCB", Ma = (Fa.prototype.open = function(t3, e3) {
        var n3, r3, i3, s3 = this;
        this.curSegmentNum = 0, this.onDisconnect_ = e3, this.myPacketOrderer = new Oa(t3), this.isClosed_ = false, this.connectTimeoutTimer_ = setTimeout(function() {
          s3.log_("Timed out trying to connect."), s3.onClosed_(), s3.connectTimeoutTimer_ = null;
        }, Math.floor(3e4)), n3 = function() {
          var t4;
          s3.isClosed_ || (s3.scriptTagHolder = new ja(function() {
            for (var t5 = [], e4 = 0; e4 < arguments.length; e4++)
              t5[e4] = arguments[e4];
            var n4 = Ji(t5, 5), r4 = n4[0], i4 = n4[1], o3 = n4[2];
            if (n4[3], n4[4], s3.incrementIncomingBytes_(t5), s3.scriptTagHolder)
              if (s3.connectTimeoutTimer_ && (clearTimeout(s3.connectTimeoutTimer_), s3.connectTimeoutTimer_ = null), s3.everConnected_ = true, "start" === r4)
                s3.id = i4, s3.password = o3;
              else {
                if ("close" !== r4)
                  throw new Error("Unrecognized command received: " + r4);
                i4 ? (s3.scriptTagHolder.sendNewPolls = false, s3.myPacketOrderer.closeAfter(i4, function() {
                  s3.onClosed_();
                })) : s3.onClosed_();
              }
          }, function() {
            for (var t5 = [], e4 = 0; e4 < arguments.length; e4++)
              t5[e4] = arguments[e4];
            var n4 = Ji(t5, 2), r4 = n4[0], n4 = n4[1];
            s3.incrementIncomingBytes_(t5), s3.myPacketOrderer.handleResponse(r4, n4);
          }, function() {
            s3.onClosed_();
          }, s3.urlFn), (t4 = { start: "t" }).ser = Math.floor(1e8 * Math.random()), s3.scriptTagHolder.uniqueCallbackIdentifier && (t4.cb = s3.scriptTagHolder.uniqueCallbackIdentifier), t4.v = "5", s3.transportSessionId && (t4.s = s3.transportSessionId), s3.lastSessionId && (t4.ls = s3.lastSessionId), s3.applicationId && (t4.p = s3.applicationId), s3.appCheckToken && (t4.ac = s3.appCheckToken), "undefined" != typeof location && location.hostname && wa.test(location.hostname) && (t4.r = "f"), t4 = s3.urlFn(t4), s3.log_("Connecting via long-poll to " + t4), s3.scriptTagHolder.addTag(t4, function() {
          }));
        }, "complete" === document.readyState ? n3() : (r3 = false, i3 = function() {
          document.body ? r3 || (r3 = true, n3()) : setTimeout(i3, Math.floor(10));
        }, document.addEventListener ? (document.addEventListener("DOMContentLoaded", i3, false), window.addEventListener("load", i3, false)) : document.attachEvent && (document.attachEvent("onreadystatechange", function() {
          "complete" === document.readyState && i3();
        }), window.attachEvent("onload", i3)));
      }, Fa.prototype.start = function() {
        this.scriptTagHolder.startLongPoll(this.id, this.password), this.addDisconnectPingFrame(this.id, this.password);
      }, Fa.forceAllow = function() {
        Fa.forceAllow_ = true;
      }, Fa.forceDisallow = function() {
        Fa.forceDisallow_ = true;
      }, Fa.isAvailable = function() {
        return !!Fa.forceAllow_ || !(Fa.forceDisallow_ || "undefined" == typeof document || null == document.createElement || "object" == typeof window && window.chrome && window.chrome.extension && !/^chrome/.test(window.location.href) || "object" == typeof Windows && "object" == typeof Windows.UI);
      }, Fa.prototype.markConnectionHealthy = function() {
      }, Fa.prototype.shutdown_ = function() {
        this.isClosed_ = true, this.scriptTagHolder && (this.scriptTagHolder.close(), this.scriptTagHolder = null), this.myDisconnFrame && (document.body.removeChild(this.myDisconnFrame), this.myDisconnFrame = null), this.connectTimeoutTimer_ && (clearTimeout(this.connectTimeoutTimer_), this.connectTimeoutTimer_ = null);
      }, Fa.prototype.onClosed_ = function() {
        this.isClosed_ || (this.log_("Longpoll is closing itself"), this.shutdown_(), this.onDisconnect_ && (this.onDisconnect_(this.everConnected_), this.onDisconnect_ = null));
      }, Fa.prototype.close = function() {
        this.isClosed_ || (this.log_("Longpoll is being closed."), this.shutdown_());
      }, Fa.prototype.send = function(t3) {
        t3 = Po(t3);
        this.bytesSent += t3.length, this.stats_.incrementCounter("bytes_sent", t3.length);
        for (var t3 = eo(t3), e3 = Ws(t3, 1840), n3 = 0; n3 < e3.length; n3++)
          this.scriptTagHolder.enqueueSegment(this.curSegmentNum, e3.length, e3[n3]), this.curSegmentNum++;
      }, Fa.prototype.addDisconnectPingFrame = function(t3, e3) {
        this.myDisconnFrame = document.createElement("iframe");
        var n3 = { dframe: "t" };
        n3.id = t3, n3.pw = e3, this.myDisconnFrame.src = this.urlFn(n3), this.myDisconnFrame.style.display = "none", document.body.appendChild(this.myDisconnFrame);
      }, Fa.prototype.incrementIncomingBytes_ = function(t3) {
        t3 = Po(t3).length;
        this.bytesReceived += t3, this.stats_.incrementCounter("bytes_received", t3);
      }, Fa);
      function Fa(t3, e3, n3, r3, i3, o3, s3) {
        var a3 = this;
        this.connId = t3, this.repoInfo = e3, this.applicationId = n3, this.appCheckToken = r3, this.authToken = i3, this.transportSessionId = o3, this.lastSessionId = s3, this.bytesSent = 0, this.bytesReceived = 0, this.everConnected_ = false, this.log_ = ta(t3), this.stats_ = Pa(e3), this.urlFn = function(t4) {
          return a3.appCheckToken && (t4.ac = a3.appCheckToken), ka(e3, Ia, t4);
        };
      }
      var ja = (Ua.createIFrame_ = function() {
        var e3 = document.createElement("iframe");
        if (e3.style.display = "none", !document.body)
          throw "Document body has not initialized. Wait to initialize Firebase until after the document is ready.";
        document.body.appendChild(e3);
        try {
          e3.contentWindow.document || Zs("No IE domain setting required");
        } catch (t3) {
          var n3 = document.domain;
          e3.src = "javascript:void((function(){document.open();document.domain='" + n3 + "';document.close();})())";
        }
        return e3.contentDocument ? e3.doc = e3.contentDocument : e3.contentWindow ? e3.doc = e3.contentWindow.document : e3.document && (e3.doc = e3.document), e3;
      }, Ua.prototype.close = function() {
        var t3 = this;
        this.alive = false, this.myIFrame && (this.myIFrame.doc.body.innerHTML = "", setTimeout(function() {
          null !== t3.myIFrame && (document.body.removeChild(t3.myIFrame), t3.myIFrame = null);
        }, Math.floor(0)));
        var e3 = this.onDisconnect;
        e3 && (this.onDisconnect = null, e3());
      }, Ua.prototype.startLongPoll = function(t3, e3) {
        for (this.myID = t3, this.myPW = e3, this.alive = true; this.newRequest_(); )
          ;
      }, Ua.prototype.newRequest_ = function() {
        if (this.alive && this.sendNewPolls && this.outstandingRequests.size < (0 < this.pendingSegs.length ? 2 : 1)) {
          this.currentSerial++;
          var t3 = {};
          t3.id = this.myID, t3.pw = this.myPW, t3.ser = this.currentSerial;
          for (var t3 = this.urlFn(t3), e3 = "", n3 = 0; 0 < this.pendingSegs.length; ) {
            if (!(this.pendingSegs[0].d.length + 30 + e3.length <= 1870))
              break;
            var r3 = this.pendingSegs.shift(), e3 = e3 + "&seg" + n3 + "=" + r3.seg + "&ts" + n3 + "=" + r3.ts + "&d" + n3 + "=" + r3.d;
            n3++;
          }
          return this.addLongPollTag_(t3 += e3, this.currentSerial), true;
        }
        return false;
      }, Ua.prototype.enqueueSegment = function(t3, e3, n3) {
        this.pendingSegs.push({ seg: t3, ts: e3, d: n3 }), this.alive && this.newRequest_();
      }, Ua.prototype.addLongPollTag_ = function(t3, e3) {
        var n3 = this;
        this.outstandingRequests.add(e3);
        function r3() {
          n3.outstandingRequests.delete(e3), n3.newRequest_();
        }
        var i3 = setTimeout(r3, Math.floor(25e3));
        this.addTag(t3, function() {
          clearTimeout(i3), r3();
        });
      }, Ua.prototype.addTag = function(t3, n3) {
        var r3 = this;
        setTimeout(function() {
          try {
            if (!r3.sendNewPolls)
              return;
            var e3 = r3.myIFrame.doc.createElement("script");
            e3.type = "text/javascript", e3.async = true, e3.src = t3, e3.onload = e3.onreadystatechange = function() {
              var t4 = e3.readyState;
              t4 && "loaded" !== t4 && "complete" !== t4 || (e3.onload = e3.onreadystatechange = null, e3.parentNode && e3.parentNode.removeChild(e3), n3());
            }, e3.onerror = function() {
              Zs("Long-poll script failed to load: " + t3), r3.sendNewPolls = false, r3.close();
            }, r3.myIFrame.doc.body.appendChild(e3);
          } catch (t4) {
          }
        }, Math.floor(1));
      }, Ua);
      function Ua(t3, e3, n3, r3) {
        this.onDisconnect = n3, this.urlFn = r3, this.outstandingRequests = /* @__PURE__ */ new Set(), this.pendingSegs = [], this.currentSerial = Math.floor(1e8 * Math.random()), this.sendNewPolls = true, this.uniqueCallbackIdentifier = Ys(), window[xa + this.uniqueCallbackIdentifier] = t3, window[La + this.uniqueCallbackIdentifier] = e3, this.myIFrame = Ua.createIFrame_();
        e3 = "", e3 = "<html><body>" + (e3 = this.myIFrame.src && "javascript:" === this.myIFrame.src.substr(0, "javascript:".length) ? '<script>document.domain="' + document.domain + '";<\/script>' : e3) + "</body></html>";
        try {
          this.myIFrame.doc.open(), this.myIFrame.doc.write(e3), this.myIFrame.doc.close();
        } catch (t4) {
          Zs("frame writing exception"), t4.stack && Zs(t4.stack), Zs(t4);
        }
      }
      var qa = null;
      "undefined" != typeof MozWebSocket ? qa = MozWebSocket : "undefined" != typeof WebSocket && (qa = WebSocket);
      var Va = (Ba.connectionURL_ = function(t3, e3, n3, r3) {
        var i3 = { v: "5" };
        return "undefined" != typeof location && location.hostname && wa.test(location.hostname) && (i3.r = "f"), e3 && (i3.s = e3), n3 && (i3.ls = n3), r3 && (i3.ac = r3), ka(t3, Ta, i3);
      }, Ba.prototype.open = function(t3, e3) {
        var n3 = this;
        this.onDisconnect = e3, this.onMessage = t3, this.log_("Websocket connecting to " + this.connURL), this.everConnected_ = false, zs.set("previous_websocket_failure", true);
        try {
          bo() || (r3 = { headers: { "X-Firebase-GMPID": this.applicationId || "", "X-Firebase-AppCheck": this.appCheckToken || "" } }, this.mySock = new qa(this.connURL, [], r3));
        } catch (t4) {
          this.log_("Error instantiating WebSocket.");
          var r3 = t4.message || t4.data;
          return r3 && this.log_(r3), void this.onClosed_();
        }
        this.mySock.onopen = function() {
          n3.log_("Websocket connected."), n3.everConnected_ = true;
        }, this.mySock.onclose = function() {
          n3.log_("Websocket connection was disconnected."), n3.mySock = null, n3.onClosed_();
        }, this.mySock.onmessage = function(t4) {
          n3.handleIncomingFrame(t4);
        }, this.mySock.onerror = function(t4) {
          n3.log_("WebSocket error.  Closing connection.");
          t4 = t4.message || t4.data;
          t4 && n3.log_(t4), n3.onClosed_();
        };
      }, Ba.prototype.start = function() {
      }, Ba.forceDisallow = function() {
        Ba.forceDisallow_ = true;
      }, Ba.isAvailable = function() {
        var t3, e3 = false;
        return "undefined" != typeof navigator && navigator.userAgent && ((t3 = navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/)) && 1 < t3.length && parseFloat(t3[1]) < 4.4 && (e3 = true)), !e3 && null !== qa && !Ba.forceDisallow_;
      }, Ba.previouslyFailed = function() {
        return zs.isInMemoryStorage || true === zs.get("previous_websocket_failure");
      }, Ba.prototype.markConnectionHealthy = function() {
        zs.remove("previous_websocket_failure");
      }, Ba.prototype.appendFrame_ = function(t3) {
        this.frames.push(t3), this.frames.length === this.totalFrames && (t3 = this.frames.join(""), this.frames = null, t3 = Ro(t3), this.onMessage(t3));
      }, Ba.prototype.handleNewFrameCount_ = function(t3) {
        this.totalFrames = t3, this.frames = [];
      }, Ba.prototype.extractFrameCount_ = function(t3) {
        if (io(null === this.frames, "We already have a frame buffer"), t3.length <= 6) {
          var e3 = Number(t3);
          if (!isNaN(e3))
            return this.handleNewFrameCount_(e3), null;
        }
        return this.handleNewFrameCount_(1), t3;
      }, Ba.prototype.handleIncomingFrame = function(t3) {
        null !== this.mySock && (t3 = t3.data, this.bytesReceived += t3.length, this.stats_.incrementCounter("bytes_received", t3.length), this.resetKeepAlive(), null !== this.frames ? this.appendFrame_(t3) : null !== (t3 = this.extractFrameCount_(t3)) && this.appendFrame_(t3));
      }, Ba.prototype.send = function(t3) {
        this.resetKeepAlive();
        t3 = Po(t3);
        this.bytesSent += t3.length, this.stats_.incrementCounter("bytes_sent", t3.length);
        var e3 = Ws(t3, 16384);
        1 < e3.length && this.sendString_(String(e3.length));
        for (var n3 = 0; n3 < e3.length; n3++)
          this.sendString_(e3[n3]);
      }, Ba.prototype.shutdown_ = function() {
        this.isClosed_ = true, this.keepaliveTimer && (clearInterval(this.keepaliveTimer), this.keepaliveTimer = null), this.mySock && (this.mySock.close(), this.mySock = null);
      }, Ba.prototype.onClosed_ = function() {
        this.isClosed_ || (this.log_("WebSocket is closing itself"), this.shutdown_(), this.onDisconnect && (this.onDisconnect(this.everConnected_), this.onDisconnect = null));
      }, Ba.prototype.close = function() {
        this.isClosed_ || (this.log_("WebSocket is being closed"), this.shutdown_());
      }, Ba.prototype.resetKeepAlive = function() {
        var t3 = this;
        clearInterval(this.keepaliveTimer), this.keepaliveTimer = setInterval(function() {
          t3.mySock && t3.sendString_("0"), t3.resetKeepAlive();
        }, Math.floor(45e3));
      }, Ba.prototype.sendString_ = function(t3) {
        try {
          this.mySock.send(t3);
        } catch (t4) {
          this.log_("Exception thrown from WebSocket.send():", t4.message || t4.data, "Closing connection."), setTimeout(this.onClosed_.bind(this), 0);
        }
      }, Ba.responsesRequiredToBeHealthy = 2, Ba.healthyTimeout = 3e4, Ba);
      function Ba(t3, e3, n3, r3, i3, o3, s3) {
        this.connId = t3, this.applicationId = n3, this.appCheckToken = r3, this.authToken = i3, this.keepaliveTimer = null, this.frames = null, this.totalFrames = 0, this.bytesSent = 0, this.bytesReceived = 0, this.log_ = ta(this.connId), this.stats_ = Pa(e3), this.connURL = Ba.connectionURL_(e3, o3, s3, r3), this.nodeAdmin = e3.nodeAdmin;
      }
      var Ka = (Object.defineProperty(Wa, "ALL_TRANSPORTS", { get: function() {
        return [Ma, Va];
      }, enumerable: false, configurable: true }), Wa.prototype.initTransports_ = function(t3) {
        var e3, n3, r3 = Va && Va.isAvailable(), i3 = r3 && !Va.previouslyFailed();
        if (t3.webSocketOnly && (r3 || na("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."), i3 = true), i3)
          this.transports_ = [Va];
        else {
          var o3 = this.transports_ = [];
          try {
            for (var s3 = $i(Wa.ALL_TRANSPORTS), a3 = s3.next(); !a3.done; a3 = s3.next()) {
              var u3 = a3.value;
              u3 && u3.isAvailable() && o3.push(u3);
            }
          } catch (t4) {
            e3 = { error: t4 };
          } finally {
            try {
              a3 && !a3.done && (n3 = s3.return) && n3.call(s3);
            } finally {
              if (e3)
                throw e3.error;
            }
          }
        }
      }, Wa.prototype.initialTransport = function() {
        if (0 < this.transports_.length)
          return this.transports_[0];
        throw new Error("No transports available");
      }, Wa.prototype.upgradeTransport = function() {
        return 1 < this.transports_.length ? this.transports_[1] : null;
      }, Wa);
      function Wa(t3) {
        this.initTransports_(t3);
      }
      var Ha = (za.prototype.start_ = function() {
        var t3 = this, e3 = this.transportManager_.initialTransport();
        this.conn_ = new e3(this.nextTransportId_(), this.repoInfo_, this.applicationId_, this.appCheckToken_, this.authToken_, null, this.lastSessionId), this.primaryResponsesRequired_ = e3.responsesRequiredToBeHealthy || 0;
        var n3 = this.connReceiver_(this.conn_), r3 = this.disconnReceiver_(this.conn_);
        this.tx_ = this.conn_, this.rx_ = this.conn_, this.secondaryConn_ = null, this.isHealthy_ = false, setTimeout(function() {
          t3.conn_ && t3.conn_.open(n3, r3);
        }, Math.floor(0));
        e3 = e3.healthyTimeout || 0;
        0 < e3 && (this.healthyTimeout_ = ca(function() {
          t3.healthyTimeout_ = null, t3.isHealthy_ || (t3.conn_ && 102400 < t3.conn_.bytesReceived ? (t3.log_("Connection exceeded healthy timeout but has received " + t3.conn_.bytesReceived + " bytes.  Marking connection healthy."), t3.isHealthy_ = true, t3.conn_.markConnectionHealthy()) : t3.conn_ && 10240 < t3.conn_.bytesSent ? t3.log_("Connection exceeded healthy timeout but has sent " + t3.conn_.bytesSent + " bytes.  Leaving connection alive.") : (t3.log_("Closing unhealthy connection after timeout."), t3.close()));
        }, Math.floor(e3)));
      }, za.prototype.nextTransportId_ = function() {
        return "c:" + this.id + ":" + this.connectionCount++;
      }, za.prototype.disconnReceiver_ = function(e3) {
        var n3 = this;
        return function(t3) {
          e3 === n3.conn_ ? n3.onConnectionLost_(t3) : e3 === n3.secondaryConn_ ? (n3.log_("Secondary connection lost."), n3.onSecondaryConnectionLost_()) : n3.log_("closing an old connection");
        };
      }, za.prototype.connReceiver_ = function(e3) {
        var n3 = this;
        return function(t3) {
          2 !== n3.state_ && (e3 === n3.rx_ ? n3.onPrimaryMessageReceived_(t3) : e3 === n3.secondaryConn_ ? n3.onSecondaryMessageReceived_(t3) : n3.log_("message on old connection"));
        };
      }, za.prototype.sendRequest = function(t3) {
        this.sendData_({ t: "d", d: t3 });
      }, za.prototype.tryCleanupConnection = function() {
        this.tx_ === this.secondaryConn_ && this.rx_ === this.secondaryConn_ && (this.log_("cleaning up and promoting a connection: " + this.secondaryConn_.connId), this.conn_ = this.secondaryConn_, this.secondaryConn_ = null);
      }, za.prototype.onSecondaryControl_ = function(t3) {
        "t" in t3 && ("a" === (t3 = t3.t) ? this.upgradeIfSecondaryHealthy_() : "r" === t3 ? (this.log_("Got a reset on secondary, closing it"), this.secondaryConn_.close(), this.tx_ !== this.secondaryConn_ && this.rx_ !== this.secondaryConn_ || this.close()) : "o" === t3 && (this.log_("got pong on secondary."), this.secondaryResponsesRequired_--, this.upgradeIfSecondaryHealthy_()));
      }, za.prototype.onSecondaryMessageReceived_ = function(t3) {
        var e3 = Ks("t", t3), t3 = Ks("d", t3);
        if ("c" === e3)
          this.onSecondaryControl_(t3);
        else {
          if ("d" !== e3)
            throw new Error("Unknown protocol layer: " + e3);
          this.pendingDataMessages.push(t3);
        }
      }, za.prototype.upgradeIfSecondaryHealthy_ = function() {
        this.secondaryResponsesRequired_ <= 0 ? (this.log_("Secondary connection is healthy."), this.isHealthy_ = true, this.secondaryConn_.markConnectionHealthy(), this.proceedWithUpgrade_()) : (this.log_("sending ping on secondary."), this.secondaryConn_.send({ t: "c", d: { t: "p", d: {} } }));
      }, za.prototype.proceedWithUpgrade_ = function() {
        this.secondaryConn_.start(), this.log_("sending client ack on secondary"), this.secondaryConn_.send({ t: "c", d: { t: "a", d: {} } }), this.log_("Ending transmission on primary"), this.conn_.send({ t: "c", d: { t: "n", d: {} } }), this.tx_ = this.secondaryConn_, this.tryCleanupConnection();
      }, za.prototype.onPrimaryMessageReceived_ = function(t3) {
        var e3 = Ks("t", t3), t3 = Ks("d", t3);
        "c" === e3 ? this.onControl_(t3) : "d" === e3 && this.onDataMessage_(t3);
      }, za.prototype.onDataMessage_ = function(t3) {
        this.onPrimaryResponse_(), this.onMessage_(t3);
      }, za.prototype.onPrimaryResponse_ = function() {
        this.isHealthy_ || (this.primaryResponsesRequired_--, this.primaryResponsesRequired_ <= 0 && (this.log_("Primary connection is healthy."), this.isHealthy_ = true, this.conn_.markConnectionHealthy()));
      }, za.prototype.onControl_ = function(t3) {
        var e3 = Ks("t", t3);
        if ("d" in t3) {
          t3 = t3.d;
          if ("h" === e3)
            this.onHandshake_(t3);
          else if ("n" === e3) {
            this.log_("recvd end transmission on primary"), this.rx_ = this.secondaryConn_;
            for (var n3 = 0; n3 < this.pendingDataMessages.length; ++n3)
              this.onDataMessage_(this.pendingDataMessages[n3]);
            this.pendingDataMessages = [], this.tryCleanupConnection();
          } else
            "s" === e3 ? this.onConnectionShutdown_(t3) : "r" === e3 ? this.onReset_(t3) : "e" === e3 ? qs("Server Error: " + t3) : "o" === e3 ? (this.log_("got pong on primary."), this.onPrimaryResponse_(), this.sendPingOnPrimaryIfNecessary_()) : qs("Unknown control packet command: " + e3);
        }
      }, za.prototype.onHandshake_ = function(t3) {
        var e3 = t3.ts, n3 = t3.v, r3 = t3.h;
        this.sessionId = t3.s, this.repoInfo_.host = r3, 0 === this.state_ && (this.conn_.start(), this.onConnectionEstablished_(this.conn_, e3), "5" !== n3 && na("Protocol version mismatch detected"), this.tryStartUpgrade_());
      }, za.prototype.tryStartUpgrade_ = function() {
        var t3 = this.transportManager_.upgradeTransport();
        t3 && this.startUpgrade_(t3);
      }, za.prototype.startUpgrade_ = function(t3) {
        var e3 = this;
        this.secondaryConn_ = new t3(this.nextTransportId_(), this.repoInfo_, this.applicationId_, this.appCheckToken_, this.authToken_, this.sessionId), this.secondaryResponsesRequired_ = t3.responsesRequiredToBeHealthy || 0;
        var n3 = this.connReceiver_(this.secondaryConn_), t3 = this.disconnReceiver_(this.secondaryConn_);
        this.secondaryConn_.open(n3, t3), ca(function() {
          e3.secondaryConn_ && (e3.log_("Timed out trying to upgrade."), e3.secondaryConn_.close());
        }, Math.floor(6e4));
      }, za.prototype.onReset_ = function(t3) {
        this.log_("Reset packet received.  New host: " + t3), this.repoInfo_.host = t3, 1 === this.state_ ? this.close() : (this.closeConnections_(), this.start_());
      }, za.prototype.onConnectionEstablished_ = function(t3, e3) {
        var n3 = this;
        this.log_("Realtime connection established."), this.conn_ = t3, this.state_ = 1, this.onReady_ && (this.onReady_(e3, this.sessionId), this.onReady_ = null), 0 === this.primaryResponsesRequired_ ? (this.log_("Primary connection is healthy."), this.isHealthy_ = true) : ca(function() {
          n3.sendPingOnPrimaryIfNecessary_();
        }, Math.floor(5e3));
      }, za.prototype.sendPingOnPrimaryIfNecessary_ = function() {
        this.isHealthy_ || 1 !== this.state_ || (this.log_("sending ping on primary."), this.sendData_({ t: "c", d: { t: "p", d: {} } }));
      }, za.prototype.onSecondaryConnectionLost_ = function() {
        var t3 = this.secondaryConn_;
        this.secondaryConn_ = null, this.tx_ !== t3 && this.rx_ !== t3 || this.close();
      }, za.prototype.onConnectionLost_ = function(t3) {
        this.conn_ = null, t3 || 0 !== this.state_ ? 1 === this.state_ && this.log_("Realtime connection lost.") : (this.log_("Realtime connection failed."), this.repoInfo_.isCacheableHost() && (zs.remove("host:" + this.repoInfo_.host), this.repoInfo_.internalHost = this.repoInfo_.host)), this.close();
      }, za.prototype.onConnectionShutdown_ = function(t3) {
        this.log_("Connection shutdown command received. Shutting down..."), this.onKill_ && (this.onKill_(t3), this.onKill_ = null), this.onDisconnect_ = null, this.close();
      }, za.prototype.sendData_ = function(t3) {
        if (1 !== this.state_)
          throw "Connection is not connected";
        this.tx_.send(t3);
      }, za.prototype.close = function() {
        2 !== this.state_ && (this.log_("Closing realtime connection."), this.state_ = 2, this.closeConnections_(), this.onDisconnect_ && (this.onDisconnect_(), this.onDisconnect_ = null));
      }, za.prototype.closeConnections_ = function() {
        this.log_("Shutting down all connections"), this.conn_ && (this.conn_.close(), this.conn_ = null), this.secondaryConn_ && (this.secondaryConn_.close(), this.secondaryConn_ = null), this.healthyTimeout_ && (clearTimeout(this.healthyTimeout_), this.healthyTimeout_ = null);
      }, za);
      function za(t3, e3, n3, r3, i3, o3, s3, a3, u3, c3) {
        this.id = t3, this.repoInfo_ = e3, this.applicationId_ = n3, this.appCheckToken_ = r3, this.authToken_ = i3, this.onMessage_ = o3, this.onReady_ = s3, this.onDisconnect_ = a3, this.onKill_ = u3, this.lastSessionId = c3, this.connectionCount = 0, this.pendingDataMessages = [], this.state_ = 0, this.log_ = ta("c:" + this.id + ":"), this.transportManager_ = new Ka(e3), this.log_("Connection created"), this.start_();
      }
      Ga.prototype.put = function(t3, e3, n3, r3) {
      }, Ga.prototype.merge = function(t3, e3, n3, r3) {
      }, Ga.prototype.refreshAuthToken = function(t3) {
      }, Ga.prototype.refreshAppCheckToken = function(t3) {
      }, Ga.prototype.onDisconnectPut = function(t3, e3, n3) {
      }, Ga.prototype.onDisconnectMerge = function(t3, e3, n3) {
      }, Ga.prototype.onDisconnectCancel = function(t3, e3) {
      }, Ga.prototype.reportStats = function(t3) {
      }, Q = Ga;
      function Ga() {
      }
      var Qa = (Ya.prototype.trigger = function(t3) {
        for (var e3 = [], n3 = 1; n3 < arguments.length; n3++)
          e3[n3 - 1] = arguments[n3];
        if (Array.isArray(this.listeners_[t3]))
          for (var r3 = Zi([], Ji(this.listeners_[t3])), i3 = 0; i3 < r3.length; i3++)
            r3[i3].callback.apply(r3[i3].context, e3);
      }, Ya.prototype.on = function(t3, e3, n3) {
        this.validateEventType_(t3), this.listeners_[t3] = this.listeners_[t3] || [], this.listeners_[t3].push({ callback: e3, context: n3 });
        t3 = this.getInitialEvent(t3);
        t3 && e3.apply(n3, t3);
      }, Ya.prototype.off = function(t3, e3, n3) {
        this.validateEventType_(t3);
        for (var r3 = this.listeners_[t3] || [], i3 = 0; i3 < r3.length; i3++)
          if (r3[i3].callback === e3 && (!n3 || n3 === r3[i3].context))
            return void r3.splice(i3, 1);
      }, Ya.prototype.validateEventType_ = function(e3) {
        io(this.allowedEvents_.find(function(t3) {
          return t3 === e3;
        }), "Unknown event: " + e3);
      }, Ya);
      function Ya(t3) {
        this.allowedEvents_ = t3, this.listeners_ = {}, io(Array.isArray(t3) && 0 < t3.length, "Requires a non-empty array");
      }
      var Xa, $a = (Gi(Ja, Xa = Qa), Ja.getInstance = function() {
        return new Ja();
      }, Ja.prototype.getInitialEvent = function(t3) {
        return io("online" === t3, "Unknown event type: " + t3), [this.online_];
      }, Ja.prototype.currentlyOnline = function() {
        return this.online_;
      }, Ja);
      function Ja() {
        var t3 = Xa.call(this, ["online"]) || this;
        return t3.online_ = true, "undefined" == typeof window || void 0 === window.addEventListener || go() || (window.addEventListener("online", function() {
          t3.online_ || (t3.online_ = true, t3.trigger("online", true));
        }, false), window.addEventListener("offline", function() {
          t3.online_ && (t3.online_ = false, t3.trigger("online", false));
        }, false)), t3;
      }
      var Za = 32, tu = 768, eu = (nu.prototype.toString = function() {
        for (var t3 = "", e3 = this.pieceNum_; e3 < this.pieces_.length; e3++)
          "" !== this.pieces_[e3] && (t3 += "/" + this.pieces_[e3]);
        return t3 || "/";
      }, nu);
      function nu(t3, e3) {
        if (void 0 === e3) {
          this.pieces_ = t3.split("/");
          for (var n3 = 0, r3 = 0; r3 < this.pieces_.length; r3++)
            0 < this.pieces_[r3].length && (this.pieces_[n3] = this.pieces_[r3], n3++);
          this.pieces_.length = n3, this.pieceNum_ = 0;
        } else
          this.pieces_ = t3, this.pieceNum_ = e3;
      }
      function ru() {
        return new eu("");
      }
      function iu(t3) {
        return t3.pieceNum_ >= t3.pieces_.length ? null : t3.pieces_[t3.pieceNum_];
      }
      function ou(t3) {
        return t3.pieces_.length - t3.pieceNum_;
      }
      function su(t3) {
        var e3 = t3.pieceNum_;
        return e3 < t3.pieces_.length && e3++, new eu(t3.pieces_, e3);
      }
      function au(t3) {
        return t3.pieceNum_ < t3.pieces_.length ? t3.pieces_[t3.pieces_.length - 1] : null;
      }
      function uu(t3, e3) {
        return t3.pieces_.slice(t3.pieceNum_ + (e3 = void 0 === e3 ? 0 : e3));
      }
      function cu(t3) {
        if (t3.pieceNum_ >= t3.pieces_.length)
          return null;
        for (var e3 = [], n3 = t3.pieceNum_; n3 < t3.pieces_.length - 1; n3++)
          e3.push(t3.pieces_[n3]);
        return new eu(e3, 0);
      }
      function hu(t3, e3) {
        for (var n3 = [], r3 = t3.pieceNum_; r3 < t3.pieces_.length; r3++)
          n3.push(t3.pieces_[r3]);
        if (e3 instanceof eu)
          for (r3 = e3.pieceNum_; r3 < e3.pieces_.length; r3++)
            n3.push(e3.pieces_[r3]);
        else
          for (var i3 = e3.split("/"), r3 = 0; r3 < i3.length; r3++)
            0 < i3[r3].length && n3.push(i3[r3]);
        return new eu(n3, 0);
      }
      function lu(t3) {
        return t3.pieceNum_ >= t3.pieces_.length;
      }
      function fu(t3, e3) {
        var n3 = iu(t3), r3 = iu(e3);
        if (null === n3)
          return e3;
        if (n3 === r3)
          return fu(su(t3), su(e3));
        throw new Error("INTERNAL ERROR: innerPath (" + e3 + ") is not within outerPath (" + t3 + ")");
      }
      function pu(t3, e3) {
        for (var n3 = uu(t3, 0), r3 = uu(e3, 0), i3 = 0; i3 < n3.length && i3 < r3.length; i3++) {
          var o3 = oa(n3[i3], r3[i3]);
          if (0 !== o3)
            return o3;
        }
        return n3.length === r3.length ? 0 : n3.length < r3.length ? -1 : 1;
      }
      function du(t3, e3) {
        if (ou(t3) !== ou(e3))
          return false;
        for (var n3 = t3.pieceNum_, r3 = e3.pieceNum_; n3 <= t3.pieces_.length; n3++, r3++)
          if (t3.pieces_[n3] !== e3.pieces_[r3])
            return false;
        return true;
      }
      function gu(t3, e3) {
        var n3 = t3.pieceNum_, r3 = e3.pieceNum_;
        if (ou(t3) > ou(e3))
          return false;
        for (; n3 < t3.pieces_.length; ) {
          if (t3.pieces_[n3] !== e3.pieces_[r3])
            return false;
          ++n3, ++r3;
        }
        return true;
      }
      var vu = function(t3, e3) {
        this.errorPrefix_ = e3, this.parts_ = uu(t3, 0), this.byteLength_ = Math.max(1, this.parts_.length);
        for (var n3 = 0; n3 < this.parts_.length; n3++)
          this.byteLength_ += Qo(this.parts_[n3]);
        yu(this);
      };
      function yu(t3) {
        if (t3.byteLength_ > tu)
          throw new Error(t3.errorPrefix_ + "has a key path longer than " + tu + " bytes (" + t3.byteLength_ + ").");
        if (t3.parts_.length > Za)
          throw new Error(t3.errorPrefix_ + "path specified exceeds the maximum depth that can be written (" + Za + ") or object contains a cycle " + mu(t3));
      }
      function mu(t3) {
        return 0 === t3.parts_.length ? "" : "in property '" + t3.parts_.join(".") + "'";
      }
      var bu, _u = (Gi(wu, bu = Qa), wu.getInstance = function() {
        return new wu();
      }, wu.prototype.getInitialEvent = function(t3) {
        return io("visible" === t3, "Unknown event type: " + t3), [this.visible_];
      }, wu);
      function wu() {
        var e3, t3, n3 = bu.call(this, ["visible"]) || this;
        return "undefined" != typeof document && void 0 !== document.addEventListener && (void 0 !== document.hidden ? (t3 = "visibilitychange", e3 = "hidden") : void 0 !== document.mozHidden ? (t3 = "mozvisibilitychange", e3 = "mozHidden") : void 0 !== document.msHidden ? (t3 = "msvisibilitychange", e3 = "msHidden") : void 0 !== document.webkitHidden && (t3 = "webkitvisibilitychange", e3 = "webkitHidden")), n3.visible_ = true, t3 && document.addEventListener(t3, function() {
          var t4 = !document[e3];
          t4 !== n3.visible_ && (n3.visible_ = t4, n3.trigger("visible", t4));
        }, false), n3;
      }
      var Tu, Iu = 1e3, Eu = 3e5, Su = (Gi(ku, Tu = Q), ku.prototype.sendRequest = function(t3, e3, n3) {
        var r3 = ++this.requestNumber_, e3 = { r: r3, a: t3, b: e3 };
        this.log_(Po(e3)), io(this.connected_, "sendRequest call when we're not connected not allowed."), this.realtime_.sendRequest(e3), n3 && (this.requestCBHash_[r3] = n3);
      }, ku.prototype.get = function(t3) {
        var n3 = this;
        this.initConnection_();
        var r3 = new ho(), i3 = { p: t3._path.toString(), q: t3._queryObject }, e3 = { action: "g", request: i3, onComplete: function(t4) {
          var e4 = t4.d;
          "ok" === t4.s ? (n3.onDataUpdate_(i3.p, e4, false, null), r3.resolve(e4)) : r3.reject(e4);
        } };
        this.outstandingGets_.push(e3), this.outstandingGetCount_++;
        var o3 = this.outstandingGets_.length - 1;
        return this.connected_ || setTimeout(function() {
          var t4 = n3.outstandingGets_[o3];
          void 0 !== t4 && e3 === t4 && (delete n3.outstandingGets_[o3], n3.outstandingGetCount_--, 0 === n3.outstandingGetCount_ && (n3.outstandingGets_ = []), n3.log_("get " + o3 + " timed out on connection"), r3.reject(new Error("Client is offline.")));
        }, 3e3), this.connected_ && this.sendGet_(o3), r3.promise;
      }, ku.prototype.listen = function(t3, e3, n3, r3) {
        this.initConnection_();
        var i3 = t3._queryIdentifier, o3 = t3._path.toString();
        this.log_("Listen called for " + o3 + " " + i3), this.listens.has(o3) || this.listens.set(o3, /* @__PURE__ */ new Map()), io(t3._queryParams.isDefault() || !t3._queryParams.loadsAllData(), "listen() called for non-default but complete query"), io(!this.listens.get(o3).has(i3), "listen() called twice for same path/queryId.");
        n3 = { onComplete: r3, hashFn: e3, query: t3, tag: n3 };
        this.listens.get(o3).set(i3, n3), this.connected_ && this.sendListen_(n3);
      }, ku.prototype.sendGet_ = function(e3) {
        var n3 = this, r3 = this.outstandingGets_[e3];
        this.sendRequest("g", r3.request, function(t3) {
          delete n3.outstandingGets_[e3], n3.outstandingGetCount_--, 0 === n3.outstandingGetCount_ && (n3.outstandingGets_ = []), r3.onComplete && r3.onComplete(t3);
        });
      }, ku.prototype.sendListen_ = function(r3) {
        var i3 = this, o3 = r3.query, s3 = o3._path.toString(), a3 = o3._queryIdentifier;
        this.log_("Listen on " + s3 + " for " + a3);
        var t3 = { p: s3 };
        r3.tag && (t3.q = o3._queryObject, t3.t = r3.tag), t3.h = r3.hashFn(), this.sendRequest("q", t3, function(t4) {
          var e3 = t4.d, n3 = t4.s;
          ku.warnOnListenWarnings_(e3, o3), (i3.listens.get(s3) && i3.listens.get(s3).get(a3)) === r3 && (i3.log_("listen response", t4), "ok" !== n3 && i3.removeListen_(s3, a3), r3.onComplete && r3.onComplete(n3, e3));
        });
      }, ku.warnOnListenWarnings_ = function(t3, e3) {
        t3 && "object" == typeof t3 && Do(t3, "w") && (t3 = xo(t3, "w"), Array.isArray(t3) && ~t3.indexOf("no_index") && (t3 = '".indexOn": "' + e3._queryParams.getIndex().toString() + '"', e3 = e3._path.toString(), na("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding " + t3 + " at " + e3 + " to your security rules for better performance.")));
      }, ku.prototype.refreshAuthToken = function(t3) {
        this.authToken_ = t3, this.log_("Auth token refreshed"), this.authToken_ ? this.tryAuth() : this.connected_ && this.sendRequest("unauth", {}, function() {
        }), this.reduceReconnectDelayIfAdminCredential_(t3);
      }, ku.prototype.reduceReconnectDelayIfAdminCredential_ = function(t3) {
        (t3 && 40 === t3.length || function(t4) {
          t4 = Oo(t4).claims;
          return "object" == typeof t4 && true === t4.admin;
        }(t3)) && (this.log_("Admin auth credential detected.  Reducing max reconnect time."), this.maxReconnectDelay_ = 3e4);
      }, ku.prototype.refreshAppCheckToken = function(t3) {
        this.appCheckToken_ = t3, this.log_("App check token refreshed"), this.appCheckToken_ ? this.tryAppCheck() : this.connected_ && this.sendRequest("unappeck", {}, function() {
        });
      }, ku.prototype.tryAuth = function() {
        var n3, t3, e3, r3 = this;
        this.connected_ && this.authToken_ && (t3 = function(t4) {
          t4 = Oo(t4).claims;
          return !!t4 && "object" == typeof t4 && t4.hasOwnProperty("iat");
        }(n3 = this.authToken_) ? "auth" : "gauth", e3 = { cred: n3 }, null === this.authOverride_ ? e3.noauth = true : "object" == typeof this.authOverride_ && (e3.authvar = this.authOverride_), this.sendRequest(t3, e3, function(t4) {
          var e4 = t4.s, t4 = t4.d || "error";
          r3.authToken_ === n3 && ("ok" === e4 ? r3.invalidAuthTokenCount_ = 0 : r3.onAuthRevoked_(e4, t4));
        }));
      }, ku.prototype.tryAppCheck = function() {
        var n3 = this;
        this.connected_ && this.appCheckToken_ && this.sendRequest("appcheck", { token: this.appCheckToken_ }, function(t3) {
          var e3 = t3.s, t3 = t3.d || "error";
          "ok" === e3 ? n3.invalidAppCheckTokenCount_ = 0 : n3.onAppCheckRevoked_(e3, t3);
        });
      }, ku.prototype.unlisten = function(t3, e3) {
        var n3 = t3._path.toString(), r3 = t3._queryIdentifier;
        this.log_("Unlisten called for " + n3 + " " + r3), io(t3._queryParams.isDefault() || !t3._queryParams.loadsAllData(), "unlisten() called for non-default but complete query"), this.removeListen_(n3, r3) && this.connected_ && this.sendUnlisten_(n3, r3, t3._queryObject, e3);
      }, ku.prototype.sendUnlisten_ = function(t3, e3, n3, r3) {
        this.log_("Unlisten on " + t3 + " for " + e3);
        t3 = { p: t3 };
        r3 && (t3.q = n3, t3.t = r3), this.sendRequest("n", t3);
      }, ku.prototype.onDisconnectPut = function(t3, e3, n3) {
        this.initConnection_(), this.connected_ ? this.sendOnDisconnect_("o", t3, e3, n3) : this.onDisconnectRequestQueue_.push({ pathString: t3, action: "o", data: e3, onComplete: n3 });
      }, ku.prototype.onDisconnectMerge = function(t3, e3, n3) {
        this.initConnection_(), this.connected_ ? this.sendOnDisconnect_("om", t3, e3, n3) : this.onDisconnectRequestQueue_.push({ pathString: t3, action: "om", data: e3, onComplete: n3 });
      }, ku.prototype.onDisconnectCancel = function(t3, e3) {
        this.initConnection_(), this.connected_ ? this.sendOnDisconnect_("oc", t3, null, e3) : this.onDisconnectRequestQueue_.push({ pathString: t3, action: "oc", data: null, onComplete: e3 });
      }, ku.prototype.sendOnDisconnect_ = function(t3, e3, n3, r3) {
        n3 = { p: e3, d: n3 };
        this.log_("onDisconnect " + t3, n3), this.sendRequest(t3, n3, function(t4) {
          r3 && setTimeout(function() {
            r3(t4.s, t4.d);
          }, Math.floor(0));
        });
      }, ku.prototype.put = function(t3, e3, n3, r3) {
        this.putInternal("p", t3, e3, n3, r3);
      }, ku.prototype.merge = function(t3, e3, n3, r3) {
        this.putInternal("m", t3, e3, n3, r3);
      }, ku.prototype.putInternal = function(t3, e3, n3, r3, i3) {
        this.initConnection_();
        n3 = { p: e3, d: n3 };
        void 0 !== i3 && (n3.h = i3), this.outstandingPuts_.push({ action: t3, request: n3, onComplete: r3 }), this.outstandingPutCount_++;
        r3 = this.outstandingPuts_.length - 1;
        this.connected_ ? this.sendPut_(r3) : this.log_("Buffering put: " + e3);
      }, ku.prototype.sendPut_ = function(e3) {
        var n3 = this, r3 = this.outstandingPuts_[e3].action, t3 = this.outstandingPuts_[e3].request, i3 = this.outstandingPuts_[e3].onComplete;
        this.outstandingPuts_[e3].queued = this.connected_, this.sendRequest(r3, t3, function(t4) {
          n3.log_(r3 + " response", t4), delete n3.outstandingPuts_[e3], n3.outstandingPutCount_--, 0 === n3.outstandingPutCount_ && (n3.outstandingPuts_ = []), i3 && i3(t4.s, t4.d);
        });
      }, ku.prototype.reportStats = function(t3) {
        var e3 = this;
        this.connected_ && (this.log_("reportStats", t3 = { c: t3 }), this.sendRequest("s", t3, function(t4) {
          "ok" !== t4.s && (t4 = t4.d, e3.log_("reportStats", "Error sending stats: " + t4));
        }));
      }, ku.prototype.onDataMessage_ = function(t3) {
        if ("r" in t3) {
          this.log_("from server: " + Po(t3));
          var e3 = t3.r, n3 = this.requestCBHash_[e3];
          n3 && (delete this.requestCBHash_[e3], n3(t3.b));
        } else {
          if ("error" in t3)
            throw "A server-side error has occurred: " + t3.error;
          "a" in t3 && this.onDataPush_(t3.a, t3.b);
        }
      }, ku.prototype.onDataPush_ = function(t3, e3) {
        this.log_("handleServerMessage", t3, e3), "d" === t3 ? this.onDataUpdate_(e3.p, e3.d, false, e3.t) : "m" === t3 ? this.onDataUpdate_(e3.p, e3.d, true, e3.t) : "c" === t3 ? this.onListenRevoked_(e3.p, e3.q) : "ac" === t3 ? this.onAuthRevoked_(e3.s, e3.d) : "apc" === t3 ? this.onAppCheckRevoked_(e3.s, e3.d) : "sd" === t3 ? this.onSecurityDebugPacket_(e3) : qs("Unrecognized action received from server: " + Po(t3) + "\nAre you using the latest client?");
      }, ku.prototype.onReady_ = function(t3, e3) {
        this.log_("connection ready"), this.connected_ = true, this.lastConnectionEstablishedTime_ = new Date().getTime(), this.handleTimestamp_(t3), this.lastSessionId = e3, this.firstConnection_ && this.sendConnectStats_(), this.restoreState_(), this.firstConnection_ = false, this.onConnectStatus_(true);
      }, ku.prototype.scheduleConnect_ = function(t3) {
        var e3 = this;
        io(!this.realtime_, "Scheduling a connect when we're already connected/ing?"), this.establishConnectionTimer_ && clearTimeout(this.establishConnectionTimer_), this.establishConnectionTimer_ = setTimeout(function() {
          e3.establishConnectionTimer_ = null, e3.establishConnection_();
        }, Math.floor(t3));
      }, ku.prototype.initConnection_ = function() {
        !this.realtime_ && this.firstConnection_ && this.scheduleConnect_(0);
      }, ku.prototype.onVisible_ = function(t3) {
        t3 && !this.visible_ && this.reconnectDelay_ === this.maxReconnectDelay_ && (this.log_("Window became visible.  Reducing delay."), this.reconnectDelay_ = Iu, this.realtime_ || this.scheduleConnect_(0)), this.visible_ = t3;
      }, ku.prototype.onOnline_ = function(t3) {
        t3 ? (this.log_("Browser went online."), this.reconnectDelay_ = Iu, this.realtime_ || this.scheduleConnect_(0)) : (this.log_("Browser went offline.  Killing connection."), this.realtime_ && this.realtime_.close());
      }, ku.prototype.onRealtimeDisconnect_ = function() {
        var t3;
        this.log_("data client disconnected"), this.connected_ = false, this.realtime_ = null, this.cancelSentTransactions_(), this.requestCBHash_ = {}, this.shouldReconnect_() && (this.visible_ ? this.lastConnectionEstablishedTime_ && (3e4 < new Date().getTime() - this.lastConnectionEstablishedTime_ && (this.reconnectDelay_ = Iu), this.lastConnectionEstablishedTime_ = null) : (this.log_("Window isn't visible.  Delaying reconnect."), this.reconnectDelay_ = this.maxReconnectDelay_, this.lastConnectionAttemptTime_ = new Date().getTime()), t3 = new Date().getTime() - this.lastConnectionAttemptTime_, t3 = Math.max(0, this.reconnectDelay_ - t3), t3 = Math.random() * t3, this.log_("Trying to reconnect in " + t3 + "ms"), this.scheduleConnect_(t3), this.reconnectDelay_ = Math.min(this.maxReconnectDelay_, 1.3 * this.reconnectDelay_)), this.onConnectStatus_(false);
      }, ku.prototype.establishConnection_ = function() {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3, i3, o3, s3, a3, u3, c3, h3, l3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if (!this.shouldReconnect_())
                  return [3, 4];
                this.log_("Making a connection attempt"), this.lastConnectionAttemptTime_ = new Date().getTime(), this.lastConnectionEstablishedTime_ = null, e3 = this.onDataMessage_.bind(this), n3 = this.onReady_.bind(this), r3 = this.onRealtimeDisconnect_.bind(this), i3 = this.id + ":" + ku.nextConnectionId_++, h3 = this.lastSessionId, o3 = false, s3 = null, a3 = function() {
                  s3 ? s3.close() : (o3 = true, r3());
                }, c3 = function(t4) {
                  io(s3, "sendRequest call when we're not connected not allowed."), s3.sendRequest(t4);
                }, this.realtime_ = { close: a3, sendRequest: c3 }, u3 = this.forceTokenRefresh_, this.forceTokenRefresh_ = false, t3.label = 1;
              case 1:
                return t3.trys.push([1, 3, , 4]), [4, Promise.all([this.authTokenProvider_.getToken(u3), this.appCheckTokenProvider_.getToken(u3)])];
              case 2:
                return c3 = Ji.apply(void 0, [t3.sent(), 2]), u3 = c3[0], c3 = c3[1], o3 ? Zs("getToken() completed but was canceled") : (Zs("getToken() completed. Creating connection."), this.authToken_ = u3 && u3.accessToken, this.appCheckToken_ = c3 && c3.token, s3 = new Ha(i3, this.repoInfo_, this.applicationId_, this.appCheckToken_, this.authToken_, e3, n3, r3, function(t4) {
                  na(t4 + " (" + l3.repoInfo_.toString() + ")"), l3.interrupt("server_kill");
                }, h3)), [3, 4];
              case 3:
                return h3 = t3.sent(), this.log_("Failed to get token: " + h3), o3 || (this.repoInfo_.nodeAdmin && na(h3), a3()), [3, 4];
              case 4:
                return [2];
            }
          });
        });
      }, ku.prototype.interrupt = function(t3) {
        Zs("Interrupting connection for reason: " + t3), this.interruptReasons_[t3] = true, this.realtime_ ? this.realtime_.close() : (this.establishConnectionTimer_ && (clearTimeout(this.establishConnectionTimer_), this.establishConnectionTimer_ = null), this.connected_ && this.onRealtimeDisconnect_());
      }, ku.prototype.resume = function(t3) {
        Zs("Resuming connection for reason: " + t3), delete this.interruptReasons_[t3], Lo(this.interruptReasons_) && (this.reconnectDelay_ = Iu, this.realtime_ || this.scheduleConnect_(0));
      }, ku.prototype.handleTimestamp_ = function(t3) {
        t3 -= new Date().getTime();
        this.onServerInfoUpdate_({ serverTimeOffset: t3 });
      }, ku.prototype.cancelSentTransactions_ = function() {
        for (var t3 = 0; t3 < this.outstandingPuts_.length; t3++) {
          var e3 = this.outstandingPuts_[t3];
          e3 && "h" in e3.request && e3.queued && (e3.onComplete && e3.onComplete("disconnect"), delete this.outstandingPuts_[t3], this.outstandingPutCount_--);
        }
        0 === this.outstandingPutCount_ && (this.outstandingPuts_ = []);
      }, ku.prototype.onListenRevoked_ = function(t3, e3) {
        e3 = e3 ? e3.map(function(t4) {
          return sa(t4);
        }).join("$") : "default", e3 = this.removeListen_(t3, e3);
        e3 && e3.onComplete && e3.onComplete("permission_denied");
      }, ku.prototype.removeListen_ = function(t3, e3) {
        var n3, r3 = new eu(t3).toString();
        return this.listens.has(r3) ? (n3 = (t3 = this.listens.get(r3)).get(e3), t3.delete(e3), 0 === t3.size && this.listens.delete(r3)) : n3 = void 0, n3;
      }, ku.prototype.onAuthRevoked_ = function(t3, e3) {
        Zs("Auth token revoked: " + t3 + "/" + e3), this.authToken_ = null, this.forceTokenRefresh_ = true, this.realtime_.close(), "invalid_token" !== t3 && "permission_denied" !== t3 || (this.invalidAuthTokenCount_++, 3 <= this.invalidAuthTokenCount_ && (this.reconnectDelay_ = 3e4, this.authTokenProvider_.notifyForInvalidToken()));
      }, ku.prototype.onAppCheckRevoked_ = function(t3, e3) {
        Zs("App check token revoked: " + t3 + "/" + e3), this.appCheckToken_ = null, this.forceTokenRefresh_ = true, "invalid_token" !== t3 && "permission_denied" !== t3 || (this.invalidAppCheckTokenCount_++, 3 <= this.invalidAppCheckTokenCount_ && this.appCheckTokenProvider_.notifyForInvalidToken());
      }, ku.prototype.onSecurityDebugPacket_ = function(t3) {
        this.securityDebugCallback_ ? this.securityDebugCallback_(t3) : "msg" in t3 && console.log("FIREBASE: " + t3.msg.replace("\n", "\nFIREBASE: "));
      }, ku.prototype.restoreState_ = function() {
        var e3, t3, n3, r3;
        this.tryAuth(), this.tryAppCheck();
        try {
          for (var i3 = $i(this.listens.values()), o3 = i3.next(); !o3.done; o3 = i3.next()) {
            var s3 = o3.value;
            try {
              for (var a3 = (n3 = void 0, $i(s3.values())), u3 = a3.next(); !u3.done; u3 = a3.next()) {
                var c3 = u3.value;
                this.sendListen_(c3);
              }
            } catch (t4) {
              n3 = { error: t4 };
            } finally {
              try {
                u3 && !u3.done && (r3 = a3.return) && r3.call(a3);
              } finally {
                if (n3)
                  throw n3.error;
              }
            }
          }
        } catch (t4) {
          e3 = { error: t4 };
        } finally {
          try {
            o3 && !o3.done && (t3 = i3.return) && t3.call(i3);
          } finally {
            if (e3)
              throw e3.error;
          }
        }
        for (var h3 = 0; h3 < this.outstandingPuts_.length; h3++)
          this.outstandingPuts_[h3] && this.sendPut_(h3);
        for (; this.onDisconnectRequestQueue_.length; ) {
          var l3 = this.onDisconnectRequestQueue_.shift();
          this.sendOnDisconnect_(l3.action, l3.pathString, l3.data, l3.onComplete);
        }
        for (h3 = 0; h3 < this.outstandingGets_.length; h3++)
          this.outstandingGets_[h3] && this.sendGet_(h3);
      }, ku.prototype.sendConnectStats_ = function() {
        var t3 = {};
        t3["sdk.js." + Os.replace(/\./g, "-")] = 1, go() ? t3["framework.cordova"] = 1 : mo() && (t3["framework.reactnative"] = 1), this.reportStats(t3);
      }, ku.prototype.shouldReconnect_ = function() {
        var t3 = $a.getInstance().currentlyOnline();
        return Lo(this.interruptReasons_) && t3;
      }, ku.nextPersistentConnectionId_ = 0, ku.nextConnectionId_ = 0, ku);
      function ku(t3, e3, n3, r3, i3, o3, s3, a3) {
        var u3 = Tu.call(this) || this;
        if (u3.repoInfo_ = t3, u3.applicationId_ = e3, u3.onDataUpdate_ = n3, u3.onConnectStatus_ = r3, u3.onServerInfoUpdate_ = i3, u3.authTokenProvider_ = o3, u3.appCheckTokenProvider_ = s3, u3.authOverride_ = a3, u3.id = ku.nextPersistentConnectionId_++, u3.log_ = ta("p:" + u3.id + ":"), u3.interruptReasons_ = {}, u3.listens = /* @__PURE__ */ new Map(), u3.outstandingPuts_ = [], u3.outstandingGets_ = [], u3.outstandingPutCount_ = 0, u3.outstandingGetCount_ = 0, u3.onDisconnectRequestQueue_ = [], u3.connected_ = false, u3.reconnectDelay_ = Iu, u3.maxReconnectDelay_ = Eu, u3.securityDebugCallback_ = null, u3.lastSessionId = null, u3.establishConnectionTimer_ = null, u3.visible_ = false, u3.requestCBHash_ = {}, u3.requestNumber_ = 0, u3.realtime_ = null, u3.authToken_ = null, u3.appCheckToken_ = null, u3.forceTokenRefresh_ = false, u3.invalidAuthTokenCount_ = 0, u3.invalidAppCheckTokenCount_ = 0, u3.firstConnection_ = true, u3.lastConnectionAttemptTime_ = null, u3.lastConnectionEstablishedTime_ = null, a3 && !bo())
          throw new Error("Auth override specified in options, but not supported on non Node.js platforms");
        return _u.getInstance().on("visible", u3.onVisible_, u3), -1 === t3.host.indexOf("fblocal") && $a.getInstance().on("online", u3.onOnline_, u3), u3;
      }
      var Cu = (Au.Wrap = function(t3, e3) {
        return new Au(t3, e3);
      }, Au);
      function Au(t3, e3) {
        this.name = t3, this.node = e3;
      }
      var Nu, G = (Ru.prototype.getCompare = function() {
        return this.compare.bind(this);
      }, Ru.prototype.indexedValueChanged = function(t3, e3) {
        t3 = new Cu(ra, t3), e3 = new Cu(ra, e3);
        return 0 !== this.compare(t3, e3);
      }, Ru.prototype.minPost = function() {
        return Cu.MIN;
      }, Ru);
      function Ru() {
      }
      var Pu, fr = (Gi(Ou, Pu = G), Object.defineProperty(Ou, "__EMPTY_NODE", { get: function() {
        return Nu;
      }, set: function(t3) {
        Nu = t3;
      }, enumerable: false, configurable: true }), Ou.prototype.compare = function(t3, e3) {
        return oa(t3.name, e3.name);
      }, Ou.prototype.isDefinedOn = function(t3) {
        throw oo("KeyIndex.isDefinedOn not expected to be called.");
      }, Ou.prototype.indexedValueChanged = function(t3, e3) {
        return false;
      }, Ou.prototype.minPost = function() {
        return Cu.MIN;
      }, Ou.prototype.maxPost = function() {
        return new Cu(ia, Nu);
      }, Ou.prototype.makePost = function(t3, e3) {
        return io("string" == typeof t3, "KeyIndex indexValue must always be a string."), new Cu(t3, Nu);
      }, Ou.prototype.toString = function() {
        return ".key";
      }, Ou);
      function Ou() {
        return null !== Pu && Pu.apply(this, arguments) || this;
      }
      var Du = new fr(), xu = (Lu.prototype.getNext = function() {
        if (0 === this.nodeStack_.length)
          return null;
        var t3 = this.nodeStack_.pop(), e3 = this.resultGenerator_ ? this.resultGenerator_(t3.key, t3.value) : { key: t3.key, value: t3.value };
        if (this.isReverse_)
          for (t3 = t3.left; !t3.isEmpty(); )
            this.nodeStack_.push(t3), t3 = t3.right;
        else
          for (t3 = t3.right; !t3.isEmpty(); )
            this.nodeStack_.push(t3), t3 = t3.left;
        return e3;
      }, Lu.prototype.hasNext = function() {
        return 0 < this.nodeStack_.length;
      }, Lu.prototype.peek = function() {
        if (0 === this.nodeStack_.length)
          return null;
        var t3 = this.nodeStack_[this.nodeStack_.length - 1];
        return this.resultGenerator_ ? this.resultGenerator_(t3.key, t3.value) : { key: t3.key, value: t3.value };
      }, Lu);
      function Lu(t3, e3, n3, r3, i3) {
        void 0 === i3 && (i3 = null), this.isReverse_ = r3, this.resultGenerator_ = i3, this.nodeStack_ = [];
        for (var o3 = 1; !t3.isEmpty(); )
          if (o3 = e3 ? n3(t3.key, e3) : 1, r3 && (o3 *= -1), o3 < 0)
            t3 = this.isReverse_ ? t3.left : t3.right;
          else {
            if (0 === o3) {
              this.nodeStack_.push(t3);
              break;
            }
            this.nodeStack_.push(t3), t3 = this.isReverse_ ? t3.right : t3.left;
          }
      }
      var Mu = (Fu.prototype.copy = function(t3, e3, n3, r3, i3) {
        return new Fu(null != t3 ? t3 : this.key, null != e3 ? e3 : this.value, null != n3 ? n3 : this.color, null != r3 ? r3 : this.left, null != i3 ? i3 : this.right);
      }, Fu.prototype.count = function() {
        return this.left.count() + 1 + this.right.count();
      }, Fu.prototype.isEmpty = function() {
        return false;
      }, Fu.prototype.inorderTraversal = function(t3) {
        return this.left.inorderTraversal(t3) || !!t3(this.key, this.value) || this.right.inorderTraversal(t3);
      }, Fu.prototype.reverseTraversal = function(t3) {
        return this.right.reverseTraversal(t3) || t3(this.key, this.value) || this.left.reverseTraversal(t3);
      }, Fu.prototype.min_ = function() {
        return this.left.isEmpty() ? this : this.left.min_();
      }, Fu.prototype.minKey = function() {
        return this.min_().key;
      }, Fu.prototype.maxKey = function() {
        return this.right.isEmpty() ? this.key : this.right.maxKey();
      }, Fu.prototype.insert = function(t3, e3, n3) {
        var r3 = this, i3 = n3(t3, r3.key);
        return (r3 = i3 < 0 ? r3.copy(null, null, null, r3.left.insert(t3, e3, n3), null) : 0 === i3 ? r3.copy(null, e3, null, null, null) : r3.copy(null, null, null, null, r3.right.insert(t3, e3, n3))).fixUp_();
      }, Fu.prototype.removeMin_ = function() {
        if (this.left.isEmpty())
          return qu.EMPTY_NODE;
        var t3 = this;
        return (t3 = (t3 = !t3.left.isRed_() && !t3.left.left.isRed_() ? t3.moveRedLeft_() : t3).copy(null, null, null, t3.left.removeMin_(), null)).fixUp_();
      }, Fu.prototype.remove = function(t3, e3) {
        var n3, r3 = this;
        if (e3(t3, r3.key) < 0)
          r3 = (r3 = !(r3.left.isEmpty() || r3.left.isRed_() || r3.left.left.isRed_()) ? r3.moveRedLeft_() : r3).copy(null, null, null, r3.left.remove(t3, e3), null);
        else {
          if (0 === e3(t3, (r3 = !((r3 = r3.left.isRed_() ? r3.rotateRight_() : r3).right.isEmpty() || r3.right.isRed_() || r3.right.left.isRed_()) ? r3.moveRedRight_() : r3).key)) {
            if (r3.right.isEmpty())
              return qu.EMPTY_NODE;
            n3 = r3.right.min_(), r3 = r3.copy(n3.key, n3.value, null, null, r3.right.removeMin_());
          }
          r3 = r3.copy(null, null, null, null, r3.right.remove(t3, e3));
        }
        return r3.fixUp_();
      }, Fu.prototype.isRed_ = function() {
        return this.color;
      }, Fu.prototype.fixUp_ = function() {
        var t3 = this;
        return t3 = (t3 = (t3 = t3.right.isRed_() && !t3.left.isRed_() ? t3.rotateLeft_() : t3).left.isRed_() && t3.left.left.isRed_() ? t3.rotateRight_() : t3).left.isRed_() && t3.right.isRed_() ? t3.colorFlip_() : t3;
      }, Fu.prototype.moveRedLeft_ = function() {
        var t3 = this.colorFlip_();
        return t3 = t3.right.left.isRed_() ? (t3 = (t3 = t3.copy(null, null, null, null, t3.right.rotateRight_())).rotateLeft_()).colorFlip_() : t3;
      }, Fu.prototype.moveRedRight_ = function() {
        var t3 = this.colorFlip_();
        return t3 = t3.left.left.isRed_() ? (t3 = t3.rotateRight_()).colorFlip_() : t3;
      }, Fu.prototype.rotateLeft_ = function() {
        var t3 = this.copy(null, null, Fu.RED, null, this.right.left);
        return this.right.copy(null, null, this.color, t3, null);
      }, Fu.prototype.rotateRight_ = function() {
        var t3 = this.copy(null, null, Fu.RED, this.left.right, null);
        return this.left.copy(null, null, this.color, null, t3);
      }, Fu.prototype.colorFlip_ = function() {
        var t3 = this.left.copy(null, null, !this.left.color, null, null), e3 = this.right.copy(null, null, !this.right.color, null, null);
        return this.copy(null, null, !this.color, t3, e3);
      }, Fu.prototype.checkMaxDepth_ = function() {
        var t3 = this.check_();
        return Math.pow(2, t3) <= this.count() + 1;
      }, Fu.prototype.check_ = function() {
        if (this.isRed_() && this.left.isRed_())
          throw new Error("Red node has red child(" + this.key + "," + this.value + ")");
        if (this.right.isRed_())
          throw new Error("Right child of (" + this.key + "," + this.value + ") is red");
        var t3 = this.left.check_();
        if (t3 !== this.right.check_())
          throw new Error("Black depths differ");
        return t3 + (this.isRed_() ? 0 : 1);
      }, Fu.RED = true, Fu.BLACK = false, Fu);
      function Fu(t3, e3, n3, r3, i3) {
        this.key = t3, this.value = e3, this.color = null != n3 ? n3 : Fu.RED, this.left = null != r3 ? r3 : qu.EMPTY_NODE, this.right = null != i3 ? i3 : qu.EMPTY_NODE;
      }
      ju.prototype.copy = function(t3, e3, n3, r3, i3) {
        return this;
      }, ju.prototype.insert = function(t3, e3, n3) {
        return new Mu(t3, e3, null);
      }, ju.prototype.remove = function(t3, e3) {
        return this;
      }, ju.prototype.count = function() {
        return 0;
      }, ju.prototype.isEmpty = function() {
        return true;
      }, ju.prototype.inorderTraversal = function(t3) {
        return false;
      }, ju.prototype.reverseTraversal = function(t3) {
        return false;
      }, ju.prototype.minKey = function() {
        return null;
      }, ju.prototype.maxKey = function() {
        return null;
      }, ju.prototype.check_ = function() {
        return 0;
      }, ju.prototype.isRed_ = function() {
        return false;
      }, Qa = ju;
      function ju() {
      }
      var Uu, qu = (Vu.prototype.insert = function(t3, e3) {
        return new Vu(this.comparator_, this.root_.insert(t3, e3, this.comparator_).copy(null, null, Mu.BLACK, null, null));
      }, Vu.prototype.remove = function(t3) {
        return new Vu(this.comparator_, this.root_.remove(t3, this.comparator_).copy(null, null, Mu.BLACK, null, null));
      }, Vu.prototype.get = function(t3) {
        for (var e3, n3 = this.root_; !n3.isEmpty(); ) {
          if (0 === (e3 = this.comparator_(t3, n3.key)))
            return n3.value;
          e3 < 0 ? n3 = n3.left : 0 < e3 && (n3 = n3.right);
        }
        return null;
      }, Vu.prototype.getPredecessorKey = function(t3) {
        for (var e3, n3 = this.root_, r3 = null; !n3.isEmpty(); ) {
          if (0 === (e3 = this.comparator_(t3, n3.key))) {
            if (n3.left.isEmpty())
              return r3 ? r3.key : null;
            for (n3 = n3.left; !n3.right.isEmpty(); )
              n3 = n3.right;
            return n3.key;
          }
          e3 < 0 ? n3 = n3.left : 0 < e3 && (n3 = (r3 = n3).right);
        }
        throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?");
      }, Vu.prototype.isEmpty = function() {
        return this.root_.isEmpty();
      }, Vu.prototype.count = function() {
        return this.root_.count();
      }, Vu.prototype.minKey = function() {
        return this.root_.minKey();
      }, Vu.prototype.maxKey = function() {
        return this.root_.maxKey();
      }, Vu.prototype.inorderTraversal = function(t3) {
        return this.root_.inorderTraversal(t3);
      }, Vu.prototype.reverseTraversal = function(t3) {
        return this.root_.reverseTraversal(t3);
      }, Vu.prototype.getIterator = function(t3) {
        return new xu(this.root_, null, this.comparator_, false, t3);
      }, Vu.prototype.getIteratorFrom = function(t3, e3) {
        return new xu(this.root_, t3, this.comparator_, false, e3);
      }, Vu.prototype.getReverseIteratorFrom = function(t3, e3) {
        return new xu(this.root_, t3, this.comparator_, true, e3);
      }, Vu.prototype.getReverseIterator = function(t3) {
        return new xu(this.root_, null, this.comparator_, true, t3);
      }, Vu.EMPTY_NODE = new Qa(), Vu);
      function Vu(t3, e3) {
        void 0 === e3 && (e3 = Vu.EMPTY_NODE), this.comparator_ = t3, this.root_ = e3;
      }
      function Bu(t3, e3) {
        return oa(t3.name, e3.name);
      }
      function Ku(t3, e3) {
        return oa(t3, e3);
      }
      function Wu(t3) {
        return "number" == typeof t3 ? "number:" + ua(t3) : "string:" + t3;
      }
      var Hu, zu, Gu, Qu, Yu = function(t3) {
        var e3;
        t3.isLeafNode() ? (e3 = t3.val(), io("string" == typeof e3 || "number" == typeof e3 || "object" == typeof e3 && Do(e3, ".sv"), "Priority must be a string or number.")) : io(t3 === Uu || t3.isEmpty(), "priority of unexpected type."), io(t3 === Uu || t3.getPriority().isEmpty(), "Priority nodes can't have a priority of their own.");
      }, Xu = (Object.defineProperty($u, "__childrenNodeConstructor", { get: function() {
        return Hu;
      }, set: function(t3) {
        Hu = t3;
      }, enumerable: false, configurable: true }), $u.prototype.isLeafNode = function() {
        return true;
      }, $u.prototype.getPriority = function() {
        return this.priorityNode_;
      }, $u.prototype.updatePriority = function(t3) {
        return new $u(this.value_, t3);
      }, $u.prototype.getImmediateChild = function(t3) {
        return ".priority" === t3 ? this.priorityNode_ : $u.__childrenNodeConstructor.EMPTY_NODE;
      }, $u.prototype.getChild = function(t3) {
        return lu(t3) ? this : ".priority" === iu(t3) ? this.priorityNode_ : $u.__childrenNodeConstructor.EMPTY_NODE;
      }, $u.prototype.hasChild = function() {
        return false;
      }, $u.prototype.getPredecessorChildName = function(t3, e3) {
        return null;
      }, $u.prototype.updateImmediateChild = function(t3, e3) {
        return ".priority" === t3 ? this.updatePriority(e3) : e3.isEmpty() && ".priority" !== t3 ? this : $u.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t3, e3).updatePriority(this.priorityNode_);
      }, $u.prototype.updateChild = function(t3, e3) {
        var n3 = iu(t3);
        return null === n3 ? e3 : e3.isEmpty() && ".priority" !== n3 ? this : (io(".priority" !== n3 || 1 === ou(t3), ".priority must be the last token in a path"), this.updateImmediateChild(n3, $u.__childrenNodeConstructor.EMPTY_NODE.updateChild(su(t3), e3)));
      }, $u.prototype.isEmpty = function() {
        return false;
      }, $u.prototype.numChildren = function() {
        return 0;
      }, $u.prototype.forEachChild = function(t3, e3) {
        return false;
      }, $u.prototype.val = function(t3) {
        return t3 && !this.getPriority().isEmpty() ? { ".value": this.getValue(), ".priority": this.getPriority().val() } : this.getValue();
      }, $u.prototype.hash = function() {
        var t3, e3;
        return null === this.lazyHash_ && (t3 = "", this.priorityNode_.isEmpty() || (t3 += "priority:" + Wu(this.priorityNode_.val()) + ":"), t3 += (e3 = typeof this.value_) + ":", t3 += "number" == e3 ? ua(this.value_) : this.value_, this.lazyHash_ = js(t3)), this.lazyHash_;
      }, $u.prototype.getValue = function() {
        return this.value_;
      }, $u.prototype.compareTo = function(t3) {
        return t3 === $u.__childrenNodeConstructor.EMPTY_NODE ? 1 : t3 instanceof $u.__childrenNodeConstructor ? -1 : (io(t3.isLeafNode(), "Unknown node type"), this.compareToLeafNode_(t3));
      }, $u.prototype.compareToLeafNode_ = function(t3) {
        var e3 = typeof t3.value_, n3 = typeof this.value_, r3 = $u.VALUE_TYPE_ORDER.indexOf(e3), i3 = $u.VALUE_TYPE_ORDER.indexOf(n3);
        return io(0 <= r3, "Unknown leaf type: " + e3), io(0 <= i3, "Unknown leaf type: " + n3), r3 === i3 ? "object" == n3 ? 0 : this.value_ < t3.value_ ? -1 : this.value_ === t3.value_ ? 0 : 1 : i3 - r3;
      }, $u.prototype.withIndex = function() {
        return this;
      }, $u.prototype.isIndexed = function() {
        return true;
      }, $u.prototype.equals = function(t3) {
        return t3 === this || !!t3.isLeafNode() && (this.value_ === t3.value_ && this.priorityNode_.equals(t3.priorityNode_));
      }, $u.VALUE_TYPE_ORDER = ["object", "boolean", "number", "string"], $u);
      function $u(t3, e3) {
        void 0 === e3 && (e3 = $u.__childrenNodeConstructor.EMPTY_NODE), this.value_ = t3, this.priorityNode_ = e3, this.lazyHash_ = null, io(void 0 !== this.value_ && null !== this.value_, "LeafNode shouldn't be created with null/undefined value."), Yu(this.priorityNode_);
      }
      function Ju() {
        return null !== Qu && Qu.apply(this, arguments) || this;
      }
      var Zu = new (Gi(Ju, Qu = G), Ju.prototype.compare = function(t3, e3) {
        var n3 = t3.node.getPriority(), r3 = e3.node.getPriority(), r3 = n3.compareTo(r3);
        return 0 === r3 ? oa(t3.name, e3.name) : r3;
      }, Ju.prototype.isDefinedOn = function(t3) {
        return !t3.getPriority().isEmpty();
      }, Ju.prototype.indexedValueChanged = function(t3, e3) {
        return !t3.getPriority().equals(e3.getPriority());
      }, Ju.prototype.minPost = function() {
        return Cu.MIN;
      }, Ju.prototype.maxPost = function() {
        return new Cu(ia, new Xu("[PRIORITY-POST]", Gu));
      }, Ju.prototype.makePost = function(t3, e3) {
        t3 = zu(t3);
        return new Cu(e3, new Xu("[PRIORITY-POST]", t3));
      }, Ju.prototype.toString = function() {
        return ".priority";
      }, Ju)(), tc = Math.log(2), ec = (nc.prototype.nextBitIsOne = function() {
        var t3 = !(this.bits_ & 1 << this.current_);
        return this.current_--, t3;
      }, nc);
      function nc(t3) {
        var e3;
        this.count = (e3 = t3 + 1, parseInt(Math.log(e3) / tc, 10)), this.current_ = this.count - 1;
        var n3, r3 = (n3 = this.count, parseInt(Array(n3 + 1).join("1"), 2));
        this.bits_ = t3 + 1 & r3;
      }
      var rc, ic, oc = function(c3, t3, h3, e3) {
        c3.sort(t3);
        var l3 = function(t4, e4) {
          var n4 = e4 - t4;
          if (0 == n4)
            return null;
          if (1 == n4)
            return r3 = c3[t4], i3 = h3 ? h3(r3) : r3, new Mu(i3, r3.node, Mu.BLACK, null, null);
          var n4 = parseInt(n4 / 2, 10) + t4, t4 = l3(t4, n4), e4 = l3(n4 + 1, e4), r3 = c3[n4], i3 = h3 ? h3(r3) : r3;
          return new Mu(i3, r3.node, Mu.BLACK, t4, e4);
        }, n3 = function(t4) {
          for (var e4 = null, n4 = null, i3 = c3.length, r3 = function(t5, e5) {
            var n5 = i3 - t5, r4 = i3;
            i3 -= t5;
            t5 = l3(1 + n5, r4), r4 = c3[n5], n5 = h3 ? h3(r4) : r4;
            o3(new Mu(n5, r4.node, e5, null, t5));
          }, o3 = function(t5) {
            e4 = e4 ? e4.left = t5 : n4 = t5;
          }, s3 = 0; s3 < t4.count; ++s3) {
            var a3 = t4.nextBitIsOne(), u3 = Math.pow(2, t4.count - (s3 + 1));
            a3 ? r3(u3, Mu.BLACK) : (r3(u3, Mu.BLACK), r3(u3, Mu.RED));
          }
          return n4;
        }(new ec(c3.length));
        return new qu(e3 || t3, n3);
      }, sc = {}, ac = (Object.defineProperty(uc, "Default", { get: function() {
        return io(Zu, "ChildrenNode.ts has not been loaded"), rc = rc || new uc({ ".priority": sc }, { ".priority": Zu });
      }, enumerable: false, configurable: true }), uc.prototype.get = function(t3) {
        var e3 = xo(this.indexes_, t3);
        if (!e3)
          throw new Error("No index defined for " + t3);
        return e3 instanceof qu ? e3 : null;
      }, uc.prototype.hasIndex = function(t3) {
        return Do(this.indexSet_, t3.toString());
      }, uc.prototype.addIndex = function(t3, e3) {
        io(t3 !== Du, "KeyIndex always exists and isn't meant to be added to the IndexMap.");
        for (var n3 = [], r3 = false, i3 = e3.getIterator(Cu.Wrap), o3 = i3.getNext(); o3; )
          r3 = r3 || t3.isDefinedOn(o3.node), n3.push(o3), o3 = i3.getNext();
        var s3 = r3 ? oc(n3, t3.getCompare()) : sc, a3 = t3.toString(), u3 = Qi({}, this.indexSet_);
        u3[a3] = t3;
        e3 = Qi({}, this.indexes_);
        return e3[a3] = s3, new uc(e3, u3);
      }, uc.prototype.addToIndexes = function(s3, a3) {
        var u3 = this;
        return new uc(Mo(this.indexes_, function(t3, e3) {
          var n3 = xo(u3.indexSet_, e3);
          if (io(n3, "Missing index implementation for " + e3), t3 === sc) {
            if (n3.isDefinedOn(s3.node)) {
              for (var r3 = [], i3 = a3.getIterator(Cu.Wrap), o3 = i3.getNext(); o3; )
                o3.name !== s3.name && r3.push(o3), o3 = i3.getNext();
              return r3.push(s3), oc(r3, n3.getCompare());
            }
            return sc;
          }
          e3 = a3.get(s3.name), n3 = t3;
          return (n3 = e3 ? t3.remove(new Cu(s3.name, e3)) : n3).insert(s3, s3.node);
        }), this.indexSet_);
      }, uc.prototype.removeFromIndexes = function(n3, r3) {
        return new uc(Mo(this.indexes_, function(t3) {
          if (t3 === sc)
            return t3;
          var e3 = r3.get(n3.name);
          return e3 ? t3.remove(new Cu(n3.name, e3)) : t3;
        }), this.indexSet_);
      }, uc);
      function uc(t3, e3) {
        this.indexes_ = t3, this.indexSet_ = e3;
      }
      var cc, hc = (Object.defineProperty(lc, "EMPTY_NODE", { get: function() {
        return ic = ic || new lc(new qu(Ku), null, ac.Default);
      }, enumerable: false, configurable: true }), lc.prototype.isLeafNode = function() {
        return false;
      }, lc.prototype.getPriority = function() {
        return this.priorityNode_ || ic;
      }, lc.prototype.updatePriority = function(t3) {
        return this.children_.isEmpty() ? this : new lc(this.children_, t3, this.indexMap_);
      }, lc.prototype.getImmediateChild = function(t3) {
        if (".priority" === t3)
          return this.getPriority();
        t3 = this.children_.get(t3);
        return null === t3 ? ic : t3;
      }, lc.prototype.getChild = function(t3) {
        var e3 = iu(t3);
        return null === e3 ? this : this.getImmediateChild(e3).getChild(su(t3));
      }, lc.prototype.hasChild = function(t3) {
        return null !== this.children_.get(t3);
      }, lc.prototype.updateImmediateChild = function(t3, e3) {
        if (io(e3, "We should always be passing snapshot nodes"), ".priority" === t3)
          return this.updatePriority(e3);
        var n3 = new Cu(t3, e3), r3 = void 0, i3 = void 0, i3 = e3.isEmpty() ? (r3 = this.children_.remove(t3), this.indexMap_.removeFromIndexes(n3, this.children_)) : (r3 = this.children_.insert(t3, e3), this.indexMap_.addToIndexes(n3, this.children_)), n3 = r3.isEmpty() ? ic : this.priorityNode_;
        return new lc(r3, n3, i3);
      }, lc.prototype.updateChild = function(t3, e3) {
        var n3 = iu(t3);
        if (null === n3)
          return e3;
        io(".priority" !== iu(t3) || 1 === ou(t3), ".priority must be the last token in a path");
        e3 = this.getImmediateChild(n3).updateChild(su(t3), e3);
        return this.updateImmediateChild(n3, e3);
      }, lc.prototype.isEmpty = function() {
        return this.children_.isEmpty();
      }, lc.prototype.numChildren = function() {
        return this.children_.count();
      }, lc.prototype.val = function(n3) {
        if (this.isEmpty())
          return null;
        var r3 = {}, i3 = 0, o3 = 0, s3 = true;
        if (this.forEachChild(Zu, function(t4, e4) {
          r3[t4] = e4.val(n3), i3++, s3 && lc.INTEGER_REGEXP_.test(t4) ? o3 = Math.max(o3, Number(t4)) : s3 = false;
        }), !n3 && s3 && o3 < 2 * i3) {
          var t3, e3 = [];
          for (t3 in r3)
            e3[t3] = r3[t3];
          return e3;
        }
        return n3 && !this.getPriority().isEmpty() && (r3[".priority"] = this.getPriority().val()), r3;
      }, lc.prototype.hash = function() {
        var n3;
        return null === this.lazyHash_ && (n3 = "", this.getPriority().isEmpty() || (n3 += "priority:" + Wu(this.getPriority().val()) + ":"), this.forEachChild(Zu, function(t3, e3) {
          e3 = e3.hash();
          "" !== e3 && (n3 += ":" + t3 + ":" + e3);
        }), this.lazyHash_ = "" === n3 ? "" : js(n3)), this.lazyHash_;
      }, lc.prototype.getPredecessorChildName = function(t3, e3, n3) {
        n3 = this.resolveIndex_(n3);
        if (n3) {
          e3 = n3.getPredecessorKey(new Cu(t3, e3));
          return e3 ? e3.name : null;
        }
        return this.children_.getPredecessorKey(t3);
      }, lc.prototype.getFirstChildName = function(t3) {
        t3 = this.resolveIndex_(t3);
        if (t3) {
          t3 = t3.minKey();
          return t3 && t3.name;
        }
        return this.children_.minKey();
      }, lc.prototype.getFirstChild = function(t3) {
        t3 = this.getFirstChildName(t3);
        return t3 ? new Cu(t3, this.children_.get(t3)) : null;
      }, lc.prototype.getLastChildName = function(t3) {
        t3 = this.resolveIndex_(t3);
        if (t3) {
          t3 = t3.maxKey();
          return t3 && t3.name;
        }
        return this.children_.maxKey();
      }, lc.prototype.getLastChild = function(t3) {
        t3 = this.getLastChildName(t3);
        return t3 ? new Cu(t3, this.children_.get(t3)) : null;
      }, lc.prototype.forEachChild = function(t3, e3) {
        t3 = this.resolveIndex_(t3);
        return t3 ? t3.inorderTraversal(function(t4) {
          return e3(t4.name, t4.node);
        }) : this.children_.inorderTraversal(e3);
      }, lc.prototype.getIterator = function(t3) {
        return this.getIteratorFrom(t3.minPost(), t3);
      }, lc.prototype.getIteratorFrom = function(t3, e3) {
        var n3 = this.resolveIndex_(e3);
        if (n3)
          return n3.getIteratorFrom(t3, function(t4) {
            return t4;
          });
        for (var r3 = this.children_.getIteratorFrom(t3.name, Cu.Wrap), i3 = r3.peek(); null != i3 && e3.compare(i3, t3) < 0; )
          r3.getNext(), i3 = r3.peek();
        return r3;
      }, lc.prototype.getReverseIterator = function(t3) {
        return this.getReverseIteratorFrom(t3.maxPost(), t3);
      }, lc.prototype.getReverseIteratorFrom = function(t3, e3) {
        var n3 = this.resolveIndex_(e3);
        if (n3)
          return n3.getReverseIteratorFrom(t3, function(t4) {
            return t4;
          });
        for (var r3 = this.children_.getReverseIteratorFrom(t3.name, Cu.Wrap), i3 = r3.peek(); null != i3 && 0 < e3.compare(i3, t3); )
          r3.getNext(), i3 = r3.peek();
        return r3;
      }, lc.prototype.compareTo = function(t3) {
        return this.isEmpty() ? t3.isEmpty() ? 0 : -1 : t3.isLeafNode() || t3.isEmpty() ? 1 : t3 === pc ? -1 : 0;
      }, lc.prototype.withIndex = function(t3) {
        if (t3 === Du || this.indexMap_.hasIndex(t3))
          return this;
        t3 = this.indexMap_.addIndex(t3, this.children_);
        return new lc(this.children_, this.priorityNode_, t3);
      }, lc.prototype.isIndexed = function(t3) {
        return t3 === Du || this.indexMap_.hasIndex(t3);
      }, lc.prototype.equals = function(t3) {
        if (t3 === this)
          return true;
        if (t3.isLeafNode())
          return false;
        if (this.getPriority().equals(t3.getPriority())) {
          if (this.children_.count() !== t3.children_.count())
            return false;
          for (var e3 = this.getIterator(Zu), n3 = t3.getIterator(Zu), r3 = e3.getNext(), i3 = n3.getNext(); r3 && i3; ) {
            if (r3.name !== i3.name || !r3.node.equals(i3.node))
              return false;
            r3 = e3.getNext(), i3 = n3.getNext();
          }
          return null === r3 && null === i3;
        }
        return false;
      }, lc.prototype.resolveIndex_ = function(t3) {
        return t3 === Du ? null : this.indexMap_.get(t3.toString());
      }, lc.INTEGER_REGEXP_ = /^(0|[1-9]\d*)$/, lc);
      function lc(t3, e3, n3) {
        this.children_ = t3, this.priorityNode_ = e3, this.indexMap_ = n3, this.lazyHash_ = null, this.priorityNode_ && Yu(this.priorityNode_), this.children_.isEmpty() && io(!this.priorityNode_ || this.priorityNode_.isEmpty(), "An empty node cannot have a priority");
      }
      function fc() {
        return cc.call(this, new qu(Ku), hc.EMPTY_NODE, ac.Default) || this;
      }
      var pc = new (Gi(fc, cc = hc), fc.prototype.compareTo = function(t3) {
        return t3 === this ? 0 : 1;
      }, fc.prototype.equals = function(t3) {
        return t3 === this;
      }, fc.prototype.getPriority = function() {
        return this;
      }, fc.prototype.getImmediateChild = function(t3) {
        return hc.EMPTY_NODE;
      }, fc.prototype.isEmpty = function() {
        return false;
      }, fc)();
      Object.defineProperties(Cu, { MIN: { value: new Cu(ra, hc.EMPTY_NODE) }, MAX: { value: new Cu(ia, pc) } }), fr.__EMPTY_NODE = hc.EMPTY_NODE, Xu.__childrenNodeConstructor = hc, Gu = Uu = pc;
      var dc = true;
      function gc(n3, t3) {
        if (void 0 === t3 && (t3 = null), null === n3)
          return hc.EMPTY_NODE;
        if ("object" == typeof n3 && ".priority" in n3 && (t3 = n3[".priority"]), io(null === t3 || "string" == typeof t3 || "number" == typeof t3 || "object" == typeof t3 && ".sv" in t3, "Invalid priority type found: " + typeof t3), "object" != typeof (n3 = "object" == typeof n3 && ".value" in n3 && null !== n3[".value"] ? n3[".value"] : n3) || ".sv" in n3)
          return new Xu(n3, gc(t3));
        if (n3 instanceof Array || !dc) {
          var r3 = hc.EMPTY_NODE;
          return aa(n3, function(t4, e4) {
            Do(n3, t4) && "." !== t4.substring(0, 1) && (!(e4 = gc(e4)).isLeafNode() && e4.isEmpty() || (r3 = r3.updateImmediateChild(t4, e4)));
          }), r3.updatePriority(gc(t3));
        }
        var i3 = [], o3 = false;
        if (aa(n3, function(t4, e4) {
          "." !== t4.substring(0, 1) && ((e4 = gc(e4)).isEmpty() || (o3 = o3 || !e4.getPriority().isEmpty(), i3.push(new Cu(t4, e4))));
        }), 0 === i3.length)
          return hc.EMPTY_NODE;
        var e3 = oc(i3, Bu, function(t4) {
          return t4.name;
        }, Ku);
        if (o3) {
          var s3 = oc(i3, Zu.getCompare());
          return new hc(e3, gc(t3), new ac({ ".priority": s3 }, { ".priority": Zu }));
        }
        return new hc(e3, gc(t3), ac.Default);
      }
      zu = gc;
      var vc, yc, mc = (Gi(bc, vc = G), bc.prototype.extractChild = function(t3) {
        return t3.getChild(this.indexPath_);
      }, bc.prototype.isDefinedOn = function(t3) {
        return !t3.getChild(this.indexPath_).isEmpty();
      }, bc.prototype.compare = function(t3, e3) {
        var n3 = this.extractChild(t3.node), r3 = this.extractChild(e3.node), r3 = n3.compareTo(r3);
        return 0 === r3 ? oa(t3.name, e3.name) : r3;
      }, bc.prototype.makePost = function(t3, e3) {
        t3 = gc(t3), t3 = hc.EMPTY_NODE.updateChild(this.indexPath_, t3);
        return new Cu(e3, t3);
      }, bc.prototype.maxPost = function() {
        var t3 = hc.EMPTY_NODE.updateChild(this.indexPath_, pc);
        return new Cu(ia, t3);
      }, bc.prototype.toString = function() {
        return uu(this.indexPath_, 0).join("/");
      }, bc);
      function bc(t3) {
        var e3 = vc.call(this) || this;
        return e3.indexPath_ = t3, io(!lu(t3) && ".priority" !== iu(t3), "Can't create PathIndex with empty path or .priority key"), e3;
      }
      function _c() {
        return null !== yc && yc.apply(this, arguments) || this;
      }
      function wc(t3) {
        if (t3 === "" + fa)
          return "-";
        var e3 = pa(t3);
        if (null != e3)
          return "" + (e3 + 1);
        for (var n3 = new Array(t3.length), r3 = 0; r3 < n3.length; r3++)
          n3[r3] = t3.charAt(r3);
        if (n3.length < 786)
          return n3.push("-"), n3.join("");
        for (var i3 = n3.length - 1; 0 <= i3 && "z" === n3[i3]; )
          i3--;
        return -1 === i3 ? ia : (e3 = n3[i3], e3 = kc.charAt(kc.indexOf(e3) + 1), n3[i3] = e3, n3.slice(0, i3 + 1).join(""));
      }
      function Tc(t3) {
        if (t3 === "" + la)
          return ra;
        var e3 = pa(t3);
        if (null != e3)
          return "" + (e3 - 1);
        for (var n3 = new Array(t3.length), r3 = 0; r3 < n3.length; r3++)
          n3[r3] = t3.charAt(r3);
        return "-" === n3[n3.length - 1] ? 1 === n3.length ? "" + fa : (delete n3[n3.length - 1], n3.join("")) : (n3[n3.length - 1] = kc.charAt(kc.indexOf(n3[n3.length - 1]) - 1), n3.join("") + "z".repeat(786 - n3.length));
      }
      var Ic, Ec, Sc = new (Gi(_c, yc = G), _c.prototype.compare = function(t3, e3) {
        var n3 = t3.node.compareTo(e3.node);
        return 0 === n3 ? oa(t3.name, e3.name) : n3;
      }, _c.prototype.isDefinedOn = function(t3) {
        return true;
      }, _c.prototype.indexedValueChanged = function(t3, e3) {
        return !t3.equals(e3);
      }, _c.prototype.minPost = function() {
        return Cu.MIN;
      }, _c.prototype.maxPost = function() {
        return Cu.MAX;
      }, _c.prototype.makePost = function(t3, e3) {
        t3 = gc(t3);
        return new Cu(e3, t3);
      }, _c.prototype.toString = function() {
        return ".value";
      }, _c)(), kc = "-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz", Cc = (Ic = 0, Ec = [], function(t3) {
        var e3 = t3 === Ic;
        Ic = t3;
        for (var n3 = new Array(8), r3 = 7; 0 <= r3; r3--)
          n3[r3] = kc.charAt(t3 % 64), t3 = Math.floor(t3 / 64);
        io(0 === t3, "Cannot push at time == 0");
        var i3 = n3.join("");
        if (e3) {
          for (r3 = 11; 0 <= r3 && 63 === Ec[r3]; r3--)
            Ec[r3] = 0;
          Ec[r3]++;
        } else
          for (r3 = 0; r3 < 12; r3++)
            Ec[r3] = Math.floor(64 * Math.random());
        for (r3 = 0; r3 < 12; r3++)
          i3 += kc.charAt(Ec[r3]);
        return io(20 === i3.length, "nextPushId: Length should be 20."), i3;
      });
      function Ac(t3) {
        return { type: "value", snapshotNode: t3 };
      }
      function Nc(t3, e3) {
        return { type: "child_added", snapshotNode: e3, childName: t3 };
      }
      function Rc(t3, e3) {
        return { type: "child_removed", snapshotNode: e3, childName: t3 };
      }
      function Pc(t3, e3, n3) {
        return { type: "child_changed", snapshotNode: e3, childName: t3, oldSnap: n3 };
      }
      var Oc = (Dc.prototype.updateChild = function(t3, e3, n3, r3, i3, o3) {
        io(t3.isIndexed(this.index_), "A node must be indexed if only a child is updated");
        var s3 = t3.getImmediateChild(e3);
        return s3.getChild(r3).equals(n3.getChild(r3)) && s3.isEmpty() === n3.isEmpty() ? t3 : (null != o3 && (n3.isEmpty() ? t3.hasChild(e3) ? o3.trackChildChange(Rc(e3, s3)) : io(t3.isLeafNode(), "A child remove without an old child only makes sense on a leaf node") : s3.isEmpty() ? o3.trackChildChange(Nc(e3, n3)) : o3.trackChildChange(Pc(e3, n3, s3))), t3.isLeafNode() && n3.isEmpty() ? t3 : t3.updateImmediateChild(e3, n3).withIndex(this.index_));
      }, Dc.prototype.updateFullNode = function(r3, n3, i3) {
        return null != i3 && (r3.isLeafNode() || r3.forEachChild(Zu, function(t3, e3) {
          n3.hasChild(t3) || i3.trackChildChange(Rc(t3, e3));
        }), n3.isLeafNode() || n3.forEachChild(Zu, function(t3, e3) {
          var n4;
          r3.hasChild(t3) ? (n4 = r3.getImmediateChild(t3)).equals(e3) || i3.trackChildChange(Pc(t3, e3, n4)) : i3.trackChildChange(Nc(t3, e3));
        })), n3.withIndex(this.index_);
      }, Dc.prototype.updatePriority = function(t3, e3) {
        return t3.isEmpty() ? hc.EMPTY_NODE : t3.updatePriority(e3);
      }, Dc.prototype.filtersNodes = function() {
        return false;
      }, Dc.prototype.getIndexedFilter = function() {
        return this;
      }, Dc.prototype.getIndex = function() {
        return this.index_;
      }, Dc);
      function Dc(t3) {
        this.index_ = t3;
      }
      var xc = (Lc.prototype.getStartPost = function() {
        return this.startPost_;
      }, Lc.prototype.getEndPost = function() {
        return this.endPost_;
      }, Lc.prototype.matches = function(t3) {
        return this.index_.compare(this.getStartPost(), t3) <= 0 && this.index_.compare(t3, this.getEndPost()) <= 0;
      }, Lc.prototype.updateChild = function(t3, e3, n3, r3, i3, o3) {
        return this.matches(new Cu(e3, n3)) || (n3 = hc.EMPTY_NODE), this.indexedFilter_.updateChild(t3, e3, n3, r3, i3, o3);
      }, Lc.prototype.updateFullNode = function(t3, e3, n3) {
        e3.isLeafNode() && (e3 = hc.EMPTY_NODE);
        var r3 = (r3 = e3.withIndex(this.index_)).updatePriority(hc.EMPTY_NODE), i3 = this;
        return e3.forEachChild(Zu, function(t4, e4) {
          i3.matches(new Cu(t4, e4)) || (r3 = r3.updateImmediateChild(t4, hc.EMPTY_NODE));
        }), this.indexedFilter_.updateFullNode(t3, r3, n3);
      }, Lc.prototype.updatePriority = function(t3, e3) {
        return t3;
      }, Lc.prototype.filtersNodes = function() {
        return true;
      }, Lc.prototype.getIndexedFilter = function() {
        return this.indexedFilter_;
      }, Lc.prototype.getIndex = function() {
        return this.index_;
      }, Lc.getStartPost_ = function(t3) {
        if (t3.hasStart()) {
          var e3 = t3.getIndexStartName();
          return t3.getIndex().makePost(t3.getIndexStartValue(), e3);
        }
        return t3.getIndex().minPost();
      }, Lc.getEndPost_ = function(t3) {
        if (t3.hasEnd()) {
          var e3 = t3.getIndexEndName();
          return t3.getIndex().makePost(t3.getIndexEndValue(), e3);
        }
        return t3.getIndex().maxPost();
      }, Lc);
      function Lc(t3) {
        this.indexedFilter_ = new Oc(t3.getIndex()), this.index_ = t3.getIndex(), this.startPost_ = Lc.getStartPost_(t3), this.endPost_ = Lc.getEndPost_(t3);
      }
      var Mc = (Fc.prototype.updateChild = function(t3, e3, n3, r3, i3, o3) {
        return this.rangedFilter_.matches(new Cu(e3, n3)) || (n3 = hc.EMPTY_NODE), t3.getImmediateChild(e3).equals(n3) ? t3 : t3.numChildren() < this.limit_ ? this.rangedFilter_.getIndexedFilter().updateChild(t3, e3, n3, r3, i3, o3) : this.fullLimitUpdateChild_(t3, e3, n3, i3, o3);
      }, Fc.prototype.updateFullNode = function(t3, e3, n3) {
        if (e3.isLeafNode() || e3.isEmpty())
          r3 = hc.EMPTY_NODE.withIndex(this.index_);
        else if (2 * this.limit_ < e3.numChildren() && e3.isIndexed(this.index_)) {
          var r3 = hc.EMPTY_NODE.withIndex(this.index_), i3 = void 0;
          i3 = this.reverse_ ? e3.getReverseIteratorFrom(this.rangedFilter_.getEndPost(), this.index_) : e3.getIteratorFrom(this.rangedFilter_.getStartPost(), this.index_);
          for (var o3 = 0; i3.hasNext() && o3 < this.limit_; ) {
            var s3 = i3.getNext();
            if (!(this.reverse_ ? this.index_.compare(this.rangedFilter_.getStartPost(), s3) <= 0 : this.index_.compare(s3, this.rangedFilter_.getEndPost()) <= 0))
              break;
            r3 = r3.updateImmediateChild(s3.name, s3.node), o3++;
          }
        } else {
          r3 = (r3 = e3.withIndex(this.index_)).updatePriority(hc.EMPTY_NODE);
          var a3, u3 = void 0, c3 = void 0, h3 = void 0, i3 = void 0;
          h3 = this.reverse_ ? (i3 = r3.getReverseIterator(this.index_), u3 = this.rangedFilter_.getEndPost(), c3 = this.rangedFilter_.getStartPost(), a3 = this.index_.getCompare(), function(t4, e4) {
            return a3(e4, t4);
          }) : (i3 = r3.getIterator(this.index_), u3 = this.rangedFilter_.getStartPost(), c3 = this.rangedFilter_.getEndPost(), this.index_.getCompare());
          for (var o3 = 0, l3 = false; i3.hasNext(); ) {
            s3 = i3.getNext();
            (l3 = !l3 && h3(u3, s3) <= 0 ? true : l3) && o3 < this.limit_ && h3(s3, c3) <= 0 ? o3++ : r3 = r3.updateImmediateChild(s3.name, hc.EMPTY_NODE);
          }
        }
        return this.rangedFilter_.getIndexedFilter().updateFullNode(t3, r3, n3);
      }, Fc.prototype.updatePriority = function(t3, e3) {
        return t3;
      }, Fc.prototype.filtersNodes = function() {
        return true;
      }, Fc.prototype.getIndexedFilter = function() {
        return this.rangedFilter_.getIndexedFilter();
      }, Fc.prototype.getIndex = function() {
        return this.index_;
      }, Fc.prototype.fullLimitUpdateChild_ = function(t3, e3, n3, r3, i3) {
        var o3, s3;
        s3 = this.reverse_ ? (o3 = this.index_.getCompare(), function(t4, e4) {
          return o3(e4, t4);
        }) : this.index_.getCompare();
        var a3 = t3;
        io(a3.numChildren() === this.limit_, "");
        var u3 = new Cu(e3, n3), c3 = this.reverse_ ? a3.getFirstChild(this.index_) : a3.getLastChild(this.index_), h3 = this.rangedFilter_.matches(u3);
        if (a3.hasChild(e3)) {
          for (var l3 = a3.getImmediateChild(e3), f3 = r3.getChildAfterChild(this.index_, c3, this.reverse_); null != f3 && (f3.name === e3 || a3.hasChild(f3.name)); )
            f3 = r3.getChildAfterChild(this.index_, f3, this.reverse_);
          var p3 = null == f3 ? 1 : s3(f3, u3);
          if (h3 && !n3.isEmpty() && 0 <= p3)
            return null != i3 && i3.trackChildChange(Pc(e3, n3, l3)), a3.updateImmediateChild(e3, n3);
          null != i3 && i3.trackChildChange(Rc(e3, l3));
          l3 = a3.updateImmediateChild(e3, hc.EMPTY_NODE);
          return null != f3 && this.rangedFilter_.matches(f3) ? (null != i3 && i3.trackChildChange(Nc(f3.name, f3.node)), l3.updateImmediateChild(f3.name, f3.node)) : l3;
        }
        return !n3.isEmpty() && h3 && 0 <= s3(c3, u3) ? (null != i3 && (i3.trackChildChange(Rc(c3.name, c3.node)), i3.trackChildChange(Nc(e3, n3))), a3.updateImmediateChild(e3, n3).updateImmediateChild(c3.name, hc.EMPTY_NODE)) : t3;
      }, Fc);
      function Fc(t3) {
        this.rangedFilter_ = new xc(t3), this.index_ = t3.getIndex(), this.limit_ = t3.getLimit(), this.reverse_ = !t3.isViewFromLeft();
      }
      var jc = (Uc.prototype.hasStart = function() {
        return this.startSet_;
      }, Uc.prototype.hasStartAfter = function() {
        return this.startAfterSet_;
      }, Uc.prototype.hasEndBefore = function() {
        return this.endBeforeSet_;
      }, Uc.prototype.isViewFromLeft = function() {
        return "" === this.viewFrom_ ? this.startSet_ : "l" === this.viewFrom_;
      }, Uc.prototype.getIndexStartValue = function() {
        return io(this.startSet_, "Only valid if start has been set"), this.indexStartValue_;
      }, Uc.prototype.getIndexStartName = function() {
        return io(this.startSet_, "Only valid if start has been set"), this.startNameSet_ ? this.indexStartName_ : ra;
      }, Uc.prototype.hasEnd = function() {
        return this.endSet_;
      }, Uc.prototype.getIndexEndValue = function() {
        return io(this.endSet_, "Only valid if end has been set"), this.indexEndValue_;
      }, Uc.prototype.getIndexEndName = function() {
        return io(this.endSet_, "Only valid if end has been set"), this.endNameSet_ ? this.indexEndName_ : ia;
      }, Uc.prototype.hasLimit = function() {
        return this.limitSet_;
      }, Uc.prototype.hasAnchoredLimit = function() {
        return this.limitSet_ && "" !== this.viewFrom_;
      }, Uc.prototype.getLimit = function() {
        return io(this.limitSet_, "Only valid if limit has been set"), this.limit_;
      }, Uc.prototype.getIndex = function() {
        return this.index_;
      }, Uc.prototype.loadsAllData = function() {
        return !(this.startSet_ || this.endSet_ || this.limitSet_);
      }, Uc.prototype.isDefault = function() {
        return this.loadsAllData() && this.index_ === Zu;
      }, Uc.prototype.copy = function() {
        var t3 = new Uc();
        return t3.limitSet_ = this.limitSet_, t3.limit_ = this.limit_, t3.startSet_ = this.startSet_, t3.indexStartValue_ = this.indexStartValue_, t3.startNameSet_ = this.startNameSet_, t3.indexStartName_ = this.indexStartName_, t3.endSet_ = this.endSet_, t3.indexEndValue_ = this.indexEndValue_, t3.endNameSet_ = this.endNameSet_, t3.indexEndName_ = this.indexEndName_, t3.index_ = this.index_, t3.viewFrom_ = this.viewFrom_, t3;
      }, Uc);
      function Uc() {
        this.limitSet_ = false, this.startSet_ = false, this.startNameSet_ = false, this.startAfterSet_ = false, this.endSet_ = false, this.endNameSet_ = false, this.endBeforeSet_ = false, this.limit_ = 0, this.viewFrom_ = "", this.indexStartValue_ = null, this.indexStartName_ = "", this.indexEndValue_ = null, this.indexEndName_ = "", this.index_ = Zu;
      }
      function qc(t3, e3, n3) {
        t3 = t3.copy();
        return t3.startSet_ = true, t3.indexStartValue_ = e3 = void 0 === e3 ? null : e3, null != n3 ? (t3.startNameSet_ = true, t3.indexStartName_ = n3) : (t3.startNameSet_ = false, t3.indexStartName_ = ""), t3;
      }
      function Vc(t3, e3, n3) {
        t3 = t3.copy();
        return t3.endSet_ = true, t3.indexEndValue_ = e3 = void 0 === e3 ? null : e3, void 0 !== n3 ? (t3.endNameSet_ = true, t3.indexEndName_ = n3) : (t3.endNameSet_ = false, t3.indexEndName_ = ""), t3;
      }
      function Bc(t3, e3) {
        t3 = t3.copy();
        return t3.index_ = e3, t3;
      }
      function Kc(t3) {
        var e3, n3 = {};
        return t3.isDefault() || (e3 = t3.index_ === Zu ? "$priority" : t3.index_ === Sc ? "$value" : t3.index_ === Du ? "$key" : (io(t3.index_ instanceof mc, "Unrecognized index type!"), t3.index_.toString()), n3.orderBy = Po(e3), t3.startSet_ && (n3.startAt = Po(t3.indexStartValue_), t3.startNameSet_ && (n3.startAt += "," + Po(t3.indexStartName_))), t3.endSet_ && (n3.endAt = Po(t3.indexEndValue_), t3.endNameSet_ && (n3.endAt += "," + Po(t3.indexEndName_))), t3.limitSet_ && (t3.isViewFromLeft() ? n3.limitToFirst = t3.limit_ : n3.limitToLast = t3.limit_)), n3;
      }
      function Wc(t3) {
        var e3, n3 = {};
        return t3.startSet_ && (n3.sp = t3.indexStartValue_, t3.startNameSet_ && (n3.sn = t3.indexStartName_)), t3.endSet_ && (n3.ep = t3.indexEndValue_, t3.endNameSet_ && (n3.en = t3.indexEndName_)), t3.limitSet_ && (n3.l = t3.limit_, "" === (e3 = t3.viewFrom_) && (e3 = t3.isViewFromLeft() ? "l" : "r"), n3.vf = e3), t3.index_ !== Zu && (n3.i = t3.index_.toString()), n3;
      }
      var Hc, zc = (Gi(Gc, Hc = Q), Gc.prototype.reportStats = function(t3) {
        throw new Error("Method not implemented.");
      }, Gc.getListenId_ = function(t3, e3) {
        return void 0 !== e3 ? "tag$" + e3 : (io(t3._queryParams.isDefault(), "should have a tag if it's not a default query."), t3._path.toString());
      }, Gc.prototype.listen = function(t3, e3, n3, r3) {
        var i3 = this, o3 = t3._path.toString();
        this.log_("Listen called for " + o3 + " " + t3._queryIdentifier);
        var s3 = Gc.getListenId_(t3, n3), a3 = {};
        this.listens_[s3] = a3;
        t3 = Kc(t3._queryParams);
        this.restRequest_(o3 + ".json", t3, function(t4, e4) {
          null === (t4 = 404 === t4 ? e4 = null : t4) && i3.onDataUpdate_(o3, e4, false, n3), xo(i3.listens_, s3) === a3 && r3(t4 ? 401 === t4 ? "permission_denied" : "rest_error:" + t4 : "ok", null);
        });
      }, Gc.prototype.unlisten = function(t3, e3) {
        e3 = Gc.getListenId_(t3, e3);
        delete this.listens_[e3];
      }, Gc.prototype.get = function(t3) {
        var n3 = this, e3 = Kc(t3._queryParams), r3 = t3._path.toString(), i3 = new ho();
        return this.restRequest_(r3 + ".json", e3, function(t4, e4) {
          null === (t4 = 404 === t4 ? e4 = null : t4) ? (n3.onDataUpdate_(r3, e4, false, null), i3.resolve(e4)) : i3.reject(new Error(e4));
        }), i3.promise;
      }, Gc.prototype.refreshAuthToken = function(t3) {
      }, Gc.prototype.restRequest_ = function(i3, o3, s3) {
        var a3 = this;
        return (o3 = void 0 === o3 ? {} : o3).format = "export", Promise.all([this.authTokenProvider_.getToken(false), this.appCheckTokenProvider_.getToken(false)]).then(function(t3) {
          var e3 = Ji(t3, 2), t3 = e3[0], e3 = e3[1];
          t3 && t3.accessToken && (o3.auth = t3.accessToken), e3 && e3.token && (o3.ac = e3.token);
          var n3 = (a3.repoInfo_.secure ? "https://" : "http://") + a3.repoInfo_.host + i3 + "?ns=" + a3.repoInfo_.namespace + Fo(o3);
          a3.log_("Sending REST request for " + n3);
          var r3 = new XMLHttpRequest();
          r3.onreadystatechange = function() {
            if (s3 && 4 === r3.readyState) {
              a3.log_("REST Response for " + n3 + " received. status:", r3.status, "response:", r3.responseText);
              var t4 = null;
              if (200 <= r3.status && r3.status < 300) {
                try {
                  t4 = Ro(r3.responseText);
                } catch (t5) {
                  na("Failed to parse JSON response for " + n3 + ": " + r3.responseText);
                }
                s3(null, t4);
              } else
                401 !== r3.status && 404 !== r3.status && na("Got unsuccessful REST response for " + n3 + " Status: " + r3.status), s3(r3.status);
              s3 = null;
            }
          }, r3.open("GET", n3, true), r3.send();
        });
      }, Gc);
      function Gc(t3, e3, n3, r3) {
        var i3 = Hc.call(this) || this;
        return i3.repoInfo_ = t3, i3.onDataUpdate_ = e3, i3.authTokenProvider_ = n3, i3.appCheckTokenProvider_ = r3, i3.log_ = ta("p:rest:"), i3.listens_ = {}, i3;
      }
      var Qc = (Yc.prototype.getNode = function(t3) {
        return this.rootNode_.getChild(t3);
      }, Yc.prototype.updateSnapshot = function(t3, e3) {
        this.rootNode_ = this.rootNode_.updateChild(t3, e3);
      }, Yc);
      function Yc() {
        this.rootNode_ = hc.EMPTY_NODE;
      }
      function Xc() {
        return { value: null, children: /* @__PURE__ */ new Map() };
      }
      function $c(t3, e3, n3) {
        var r3;
        lu(e3) ? (t3.value = n3, t3.children.clear()) : null !== t3.value ? t3.value = t3.value.updateChild(e3, n3) : (r3 = iu(e3), t3.children.has(r3) || t3.children.set(r3, Xc()), $c(t3.children.get(r3), e3 = su(e3), n3));
      }
      function Jc(t3, n3, r3) {
        var i3;
        null !== t3.value ? r3(n3, t3.value) : (i3 = function(t4, e3) {
          Jc(e3, new eu(n3.toString() + "/" + t4), r3);
        }, t3.children.forEach(function(t4, e3) {
          i3(e3, t4);
        }));
      }
      var Zc = (th.prototype.get = function() {
        var t3 = this.collection_.get(), n3 = Qi({}, t3);
        return this.last_ && aa(this.last_, function(t4, e3) {
          n3[t4] = n3[t4] - e3;
        }), this.last_ = t3, n3;
      }, th);
      function th(t3) {
        this.collection_ = t3, this.last_ = null;
      }
      var eh, nh = (rh.prototype.reportStats_ = function() {
        var n3 = this, t3 = this.statsListener_.get(), r3 = {}, i3 = false;
        aa(t3, function(t4, e3) {
          0 < e3 && Do(n3.statsToReport_, t4) && (r3[t4] = e3, i3 = true);
        }), i3 && this.server_.reportStats(r3), ca(this.reportStats_.bind(this), Math.floor(2 * Math.random() * 3e5));
      }, rh);
      function rh(t3, e3) {
        this.server_ = e3, this.statsToReport_ = {}, this.statsListener_ = new Zc(t3);
        t3 = 1e4 + 2e4 * Math.random();
        ca(this.reportStats_.bind(this), Math.floor(t3));
      }
      function ih() {
        return { fromUser: true, fromServer: false, queryId: null, tagged: false };
      }
      function oh() {
        return { fromUser: false, fromServer: true, queryId: null, tagged: false };
      }
      function sh(t3) {
        return { fromUser: false, fromServer: true, queryId: t3, tagged: true };
      }
      (Qa = eh = eh || {})[Qa.OVERWRITE = 0] = "OVERWRITE", Qa[Qa.MERGE = 1] = "MERGE", Qa[Qa.ACK_USER_WRITE = 2] = "ACK_USER_WRITE", Qa[Qa.LISTEN_COMPLETE = 3] = "LISTEN_COMPLETE";
      var ah = (uh.prototype.operationForChild = function(t3) {
        if (lu(this.path)) {
          if (null != this.affectedTree.value)
            return io(this.affectedTree.children.isEmpty(), "affectedTree should not have overlapping affected paths."), this;
          var e3 = this.affectedTree.subtree(new eu(t3));
          return new uh(ru(), e3, this.revert);
        }
        return io(iu(this.path) === t3, "operationForChild called for unrelated child."), new uh(su(this.path), this.affectedTree, this.revert);
      }, uh);
      function uh(t3, e3, n3) {
        this.path = t3, this.affectedTree = e3, this.revert = n3, this.type = eh.ACK_USER_WRITE, this.source = ih();
      }
      var ch = (hh.prototype.operationForChild = function(t3) {
        return lu(this.path) ? new hh(this.source, ru()) : new hh(this.source, su(this.path));
      }, hh);
      function hh(t3, e3) {
        this.source = t3, this.path = e3, this.type = eh.LISTEN_COMPLETE;
      }
      var lh = (fh.prototype.operationForChild = function(t3) {
        return lu(this.path) ? new fh(this.source, ru(), this.snap.getImmediateChild(t3)) : new fh(this.source, su(this.path), this.snap);
      }, fh);
      function fh(t3, e3, n3) {
        this.source = t3, this.path = e3, this.snap = n3, this.type = eh.OVERWRITE;
      }
      var ph = (dh.prototype.operationForChild = function(t3) {
        if (lu(this.path)) {
          var e3 = this.children.subtree(new eu(t3));
          return e3.isEmpty() ? null : e3.value ? new lh(this.source, ru(), e3.value) : new dh(this.source, ru(), e3);
        }
        return io(iu(this.path) === t3, "Can't get a merge for a child not on the path of the operation"), new dh(this.source, su(this.path), this.children);
      }, dh.prototype.toString = function() {
        return "Operation(" + this.path + ": " + this.source.toString() + " merge: " + this.children.toString() + ")";
      }, dh);
      function dh(t3, e3, n3) {
        this.source = t3, this.path = e3, this.children = n3, this.type = eh.MERGE;
      }
      var gh = (vh.prototype.isFullyInitialized = function() {
        return this.fullyInitialized_;
      }, vh.prototype.isFiltered = function() {
        return this.filtered_;
      }, vh.prototype.isCompleteForPath = function(t3) {
        if (lu(t3))
          return this.isFullyInitialized() && !this.filtered_;
        t3 = iu(t3);
        return this.isCompleteForChild(t3);
      }, vh.prototype.isCompleteForChild = function(t3) {
        return this.isFullyInitialized() && !this.filtered_ || this.node_.hasChild(t3);
      }, vh.prototype.getNode = function() {
        return this.node_;
      }, vh);
      function vh(t3, e3, n3) {
        this.node_ = t3, this.fullyInitialized_ = e3, this.filtered_ = n3;
      }
      var yh, mh = function(t3) {
        this.query_ = t3, this.index_ = this.query_._queryParams.getIndex();
      };
      function bh(n3, t3, e3, r3) {
        var i3 = [], o3 = [];
        return t3.forEach(function(t4) {
          var e4;
          "child_changed" === t4.type && n3.index_.indexedValueChanged(t4.oldSnap, t4.snapshotNode) && o3.push((e4 = t4.childName, { type: "child_moved", snapshotNode: t4.snapshotNode, childName: e4 }));
        }), _h(n3, i3, "child_removed", t3, r3, e3), _h(n3, i3, "child_added", t3, r3, e3), _h(n3, i3, "child_moved", o3, r3, e3), _h(n3, i3, "child_changed", t3, r3, e3), _h(n3, i3, "value", t3, r3, e3), i3;
      }
      function _h(o3, s3, e3, t3, a3, u3) {
        t3 = t3.filter(function(t4) {
          return t4.type === e3;
        });
        t3.sort(function(t4, e4) {
          return function(t5, e5, n3) {
            if (null == e5.childName || null == n3.childName)
              throw oo("Should only compare child_ events.");
            e5 = new Cu(e5.childName, e5.snapshotNode), n3 = new Cu(n3.childName, n3.snapshotNode);
            return t5.index_.compare(e5, n3);
          }(o3, t4, e4);
        }), t3.forEach(function(e4) {
          var t4, n3, r3, i3 = (t4 = o3, r3 = u3, "value" === (n3 = e4).type || "child_removed" === n3.type || (n3.prevName = r3.getPredecessorChildName(n3.childName, n3.snapshotNode, t4.index_)), n3);
          a3.forEach(function(t5) {
            t5.respondsTo(e4.type) && s3.push(t5.createEvent(i3, o3.query_));
          });
        });
      }
      function wh(t3, e3) {
        return { eventCache: t3, serverCache: e3 };
      }
      function Th(t3, e3, n3, r3) {
        return wh(new gh(e3, n3, r3), t3.serverCache);
      }
      function Ih(t3, e3, n3, r3) {
        return wh(t3.eventCache, new gh(e3, n3, r3));
      }
      function Eh(t3) {
        return t3.eventCache.isFullyInitialized() ? t3.eventCache.getNode() : null;
      }
      function Sh(t3) {
        return t3.serverCache.isFullyInitialized() ? t3.serverCache.getNode() : null;
      }
      var kh = (Ch.fromObject = function(t3) {
        var n3 = new Ch(null);
        return aa(t3, function(t4, e3) {
          n3 = n3.set(new eu(t4), e3);
        }), n3;
      }, Ch.prototype.isEmpty = function() {
        return null === this.value && this.children.isEmpty();
      }, Ch.prototype.findRootMostMatchingPathAndValue = function(t3, e3) {
        if (null != this.value && e3(this.value))
          return { path: ru(), value: this.value };
        if (lu(t3))
          return null;
        var n3 = iu(t3), r3 = this.children.get(n3);
        if (null === r3)
          return null;
        e3 = r3.findRootMostMatchingPathAndValue(su(t3), e3);
        return null == e3 ? null : { path: hu(new eu(n3), e3.path), value: e3.value };
      }, Ch.prototype.findRootMostValueAndPath = function(t3) {
        return this.findRootMostMatchingPathAndValue(t3, function() {
          return true;
        });
      }, Ch.prototype.subtree = function(t3) {
        if (lu(t3))
          return this;
        var e3 = iu(t3), e3 = this.children.get(e3);
        return null !== e3 ? e3.subtree(su(t3)) : new Ch(null);
      }, Ch.prototype.set = function(t3, e3) {
        if (lu(t3))
          return new Ch(e3, this.children);
        var n3 = iu(t3), e3 = (this.children.get(n3) || new Ch(null)).set(su(t3), e3), e3 = this.children.insert(n3, e3);
        return new Ch(this.value, e3);
      }, Ch.prototype.remove = function(t3) {
        if (lu(t3))
          return this.children.isEmpty() ? new Ch(null) : new Ch(null, this.children);
        var e3 = iu(t3), n3 = this.children.get(e3);
        if (n3) {
          n3 = n3.remove(su(t3)), t3 = void 0, t3 = n3.isEmpty() ? this.children.remove(e3) : this.children.insert(e3, n3);
          return null === this.value && t3.isEmpty() ? new Ch(null) : new Ch(this.value, t3);
        }
        return this;
      }, Ch.prototype.get = function(t3) {
        if (lu(t3))
          return this.value;
        var e3 = iu(t3), e3 = this.children.get(e3);
        return e3 ? e3.get(su(t3)) : null;
      }, Ch.prototype.setTree = function(t3, e3) {
        if (lu(t3))
          return e3;
        var n3 = iu(t3), t3 = (this.children.get(n3) || new Ch(null)).setTree(su(t3), e3), e3 = void 0, e3 = t3.isEmpty() ? this.children.remove(n3) : this.children.insert(n3, t3);
        return new Ch(this.value, e3);
      }, Ch.prototype.fold = function(t3) {
        return this.fold_(ru(), t3);
      }, Ch.prototype.fold_ = function(n3, r3) {
        var i3 = {};
        return this.children.inorderTraversal(function(t3, e3) {
          i3[t3] = e3.fold_(hu(n3, t3), r3);
        }), r3(n3, this.value, i3);
      }, Ch.prototype.findOnPath = function(t3, e3) {
        return this.findOnPath_(t3, ru(), e3);
      }, Ch.prototype.findOnPath_ = function(t3, e3, n3) {
        var r3 = !!this.value && n3(e3, this.value);
        if (r3)
          return r3;
        if (lu(t3))
          return null;
        var i3 = iu(t3), r3 = this.children.get(i3);
        return r3 ? r3.findOnPath_(su(t3), hu(e3, i3), n3) : null;
      }, Ch.prototype.foreachOnPath = function(t3, e3) {
        return this.foreachOnPath_(t3, ru(), e3);
      }, Ch.prototype.foreachOnPath_ = function(t3, e3, n3) {
        if (lu(t3))
          return this;
        this.value && n3(e3, this.value);
        var r3 = iu(t3), i3 = this.children.get(r3);
        return i3 ? i3.foreachOnPath_(su(t3), hu(e3, r3), n3) : new Ch(null);
      }, Ch.prototype.foreach = function(t3) {
        this.foreach_(ru(), t3);
      }, Ch.prototype.foreach_ = function(n3, r3) {
        this.children.inorderTraversal(function(t3, e3) {
          e3.foreach_(hu(n3, t3), r3);
        }), this.value && r3(n3, this.value);
      }, Ch.prototype.foreachChild = function(n3) {
        this.children.inorderTraversal(function(t3, e3) {
          e3.value && n3(t3, e3.value);
        });
      }, Ch);
      function Ch(t3, e3) {
        void 0 === e3 && (e3 = yh = yh || new qu(Bs)), this.value = t3, this.children = e3;
      }
      var Ah = (Nh.empty = function() {
        return new Nh(new kh(null));
      }, Nh);
      function Nh(t3) {
        this.writeTree_ = t3;
      }
      function Rh(t3, e3, n3) {
        if (lu(e3))
          return new Ah(new kh(n3));
        var r3 = t3.writeTree_.findRootMostValueAndPath(e3);
        if (null != r3) {
          var i3 = r3.path, o3 = r3.value, r3 = fu(i3, e3), o3 = o3.updateChild(r3, n3);
          return new Ah(t3.writeTree_.set(i3, o3));
        }
        n3 = new kh(n3), n3 = t3.writeTree_.setTree(e3, n3);
        return new Ah(n3);
      }
      function Ph(t3, n3, e3) {
        var r3 = t3;
        return aa(e3, function(t4, e4) {
          r3 = Rh(r3, hu(n3, t4), e4);
        }), r3;
      }
      function Oh(t3, e3) {
        if (lu(e3))
          return Ah.empty();
        e3 = t3.writeTree_.setTree(e3, new kh(null));
        return new Ah(e3);
      }
      function Dh(t3, e3) {
        return null != xh(t3, e3);
      }
      function xh(t3, e3) {
        var n3 = t3.writeTree_.findRootMostValueAndPath(e3);
        return null != n3 ? t3.writeTree_.get(n3.path).getChild(fu(n3.path, e3)) : null;
      }
      function Lh(t3) {
        var n3 = [], e3 = t3.writeTree_.value;
        return null != e3 ? e3.isLeafNode() || e3.forEachChild(Zu, function(t4, e4) {
          n3.push(new Cu(t4, e4));
        }) : t3.writeTree_.children.inorderTraversal(function(t4, e4) {
          null != e4.value && n3.push(new Cu(t4, e4.value));
        }), n3;
      }
      function Mh(t3, e3) {
        if (lu(e3))
          return t3;
        var n3 = xh(t3, e3);
        return new Ah(null != n3 ? new kh(n3) : t3.writeTree_.subtree(e3));
      }
      function Fh(t3) {
        return t3.writeTree_.isEmpty();
      }
      function jh(t3, e3) {
        return function n3(r3, t4, i3) {
          {
            if (null != t4.value)
              return i3.updateChild(r3, t4.value);
            var o3 = null;
            return t4.children.inorderTraversal(function(t5, e4) {
              ".priority" === t5 ? (io(null !== e4.value, "Priority writes must always be leaf nodes"), o3 = e4.value) : i3 = n3(hu(r3, t5), e4, i3);
            }), i3 = !i3.getChild(r3).isEmpty() && null !== o3 ? i3.updateChild(hu(r3, ".priority"), o3) : i3;
          }
        }(ru(), t3.writeTree_, e3);
      }
      function Uh(t3, e3) {
        return $h(e3, t3);
      }
      function qh(e3, n3) {
        var t3 = e3.allWrites.findIndex(function(t4) {
          return t4.writeId === n3;
        });
        io(0 <= t3, "removeWrite called with nonexistent writeId.");
        var r3 = e3.allWrites[t3];
        e3.allWrites.splice(t3, 1);
        for (var i3, o3 = r3.visible, s3 = false, a3 = e3.allWrites.length - 1; o3 && 0 <= a3; ) {
          var u3 = e3.allWrites[a3];
          u3.visible && (t3 <= a3 && function(t4, e4) {
            {
              if (t4.snap)
                return gu(t4.path, e4);
              for (var n4 in t4.children)
                if (t4.children.hasOwnProperty(n4) && gu(hu(t4.path, n4), e4))
                  return true;
              return false;
            }
          }(u3, r3.path) ? o3 = false : gu(r3.path, u3.path) && (s3 = true)), a3--;
        }
        return !!o3 && (s3 ? ((i3 = e3).visibleWrites = Bh(i3.allWrites, Vh, ru()), 0 < i3.allWrites.length ? i3.lastWriteId = i3.allWrites[i3.allWrites.length - 1].writeId : i3.lastWriteId = -1) : r3.snap ? e3.visibleWrites = Oh(e3.visibleWrites, r3.path) : aa(r3.children, function(t4) {
          e3.visibleWrites = Oh(e3.visibleWrites, hu(r3.path, t4));
        }), true);
      }
      function Vh(t3) {
        return t3.visible;
      }
      function Bh(t3, e3, n3) {
        for (var r3 = Ah.empty(), i3 = 0; i3 < t3.length; ++i3) {
          var o3 = t3[i3];
          if (e3(o3)) {
            var s3 = o3.path, a3 = void 0;
            if (o3.snap)
              gu(n3, s3) ? r3 = Rh(r3, a3 = fu(n3, s3), o3.snap) : gu(s3, n3) && (a3 = fu(s3, n3), r3 = Rh(r3, ru(), o3.snap.getChild(a3)));
            else {
              if (!o3.children)
                throw oo("WriteRecord should have .snap or .children");
              gu(n3, s3) ? r3 = Ph(r3, a3 = fu(n3, s3), o3.children) : gu(s3, n3) && (lu(a3 = fu(s3, n3)) ? r3 = Ph(r3, ru(), o3.children) : (o3 = xo(o3.children, iu(a3))) && (a3 = o3.getChild(su(a3)), r3 = Rh(r3, ru(), a3)));
            }
          }
        }
        return r3;
      }
      function Kh(t3, e3, n3, r3, i3) {
        if (r3 || i3) {
          var o3 = Mh(t3.visibleWrites, e3);
          if (!i3 && Fh(o3))
            return n3;
          if (i3 || null != n3 || Dh(o3, ru()))
            return jh(Bh(t3.allWrites, function(t4) {
              return (t4.visible || i3) && (!r3 || !~r3.indexOf(t4.writeId)) && (gu(t4.path, e3) || gu(e3, t4.path));
            }, e3), n3 || hc.EMPTY_NODE);
          return null;
        }
        o3 = xh(t3.visibleWrites, e3);
        if (null != o3)
          return o3;
        t3 = Mh(t3.visibleWrites, e3);
        return Fh(t3) ? n3 : null != n3 || Dh(t3, ru()) ? jh(t3, n3 || hc.EMPTY_NODE) : null;
      }
      function Wh(t3, e3, n3, r3) {
        return Kh(t3.writeTree, t3.treePath, e3, n3, r3);
      }
      function Hh(t3, e3) {
        return function(t4, e4, n3) {
          var r3 = hc.EMPTY_NODE, i3 = xh(t4.visibleWrites, e4);
          if (i3)
            return i3.isLeafNode() || i3.forEachChild(Zu, function(t5, e5) {
              r3 = r3.updateImmediateChild(t5, e5);
            }), r3;
          if (n3) {
            var o3 = Mh(t4.visibleWrites, e4);
            return n3.forEachChild(Zu, function(t5, e5) {
              e5 = jh(Mh(o3, new eu(t5)), e5);
              r3 = r3.updateImmediateChild(t5, e5);
            }), Lh(o3).forEach(function(t5) {
              r3 = r3.updateImmediateChild(t5.name, t5.node);
            }), r3;
          }
          return Lh(Mh(t4.visibleWrites, e4)).forEach(function(t5) {
            r3 = r3.updateImmediateChild(t5.name, t5.node);
          }), r3;
        }(t3.writeTree, t3.treePath, e3);
      }
      function zh(t3, e3, n3, r3) {
        return i3 = t3.writeTree, t3 = t3.treePath, e3 = e3, r3 = r3, io(n3 || r3, "Either existingEventSnap or existingServerSnap must exist"), t3 = hu(t3, e3), Dh(i3.visibleWrites, t3) ? null : Fh(t3 = Mh(i3.visibleWrites, t3)) ? r3.getChild(e3) : jh(t3, r3.getChild(e3));
        var i3;
      }
      function Gh(t3, e3) {
        return n3 = t3.writeTree, e3 = hu(t3.treePath, e3), xh(n3.visibleWrites, e3);
        var n3;
      }
      function Qh(t3, e3, n3, r3, i3, o3) {
        return function(t4, e4, n4, r4, i4, o4, s3) {
          var a3, t4 = Mh(t4.visibleWrites, e4);
          if (null != (e4 = xh(t4, ru())))
            a3 = e4;
          else {
            if (null == n4)
              return [];
            a3 = jh(t4, n4);
          }
          if ((a3 = a3.withIndex(s3)).isEmpty() || a3.isLeafNode())
            return [];
          for (var u3 = [], c3 = s3.getCompare(), h3 = o4 ? a3.getReverseIteratorFrom(r4, s3) : a3.getIteratorFrom(r4, s3), l3 = h3.getNext(); l3 && u3.length < i4; )
            0 !== c3(l3, r4) && u3.push(l3), l3 = h3.getNext();
          return u3;
        }(t3.writeTree, t3.treePath, e3, n3, r3, i3, o3);
      }
      function Yh(t3, e3, n3) {
        return r3 = t3.writeTree, i3 = t3.treePath, t3 = n3, e3 = hu(i3, n3 = e3), null != (i3 = xh(r3.visibleWrites, e3)) ? i3 : t3.isCompleteForChild(n3) ? jh(Mh(r3.visibleWrites, e3), t3.getNode().getImmediateChild(n3)) : null;
        var r3, i3;
      }
      function Xh(t3, e3) {
        return $h(hu(t3.treePath, e3), t3.writeTree);
      }
      function $h(t3, e3) {
        return { treePath: t3, writeTree: e3 };
      }
      var Jh = (Zh.prototype.trackChildChange = function(t3) {
        var e3 = t3.type, n3 = t3.childName;
        io("child_added" === e3 || "child_changed" === e3 || "child_removed" === e3, "Only child changes supported for tracking"), io(".priority" !== n3, "Only non-priority child changes can be tracked.");
        var r3 = this.changeMap.get(n3);
        if (r3) {
          var i3 = r3.type;
          if ("child_added" === e3 && "child_removed" === i3)
            this.changeMap.set(n3, Pc(n3, t3.snapshotNode, r3.snapshotNode));
          else if ("child_removed" === e3 && "child_added" === i3)
            this.changeMap.delete(n3);
          else if ("child_removed" === e3 && "child_changed" === i3)
            this.changeMap.set(n3, Rc(n3, r3.oldSnap));
          else if ("child_changed" === e3 && "child_added" === i3)
            this.changeMap.set(n3, Nc(n3, t3.snapshotNode));
          else {
            if ("child_changed" !== e3 || "child_changed" !== i3)
              throw oo("Illegal combination of changes: " + t3 + " occurred after " + r3);
            this.changeMap.set(n3, Pc(n3, t3.snapshotNode, r3.oldSnap));
          }
        } else
          this.changeMap.set(n3, t3);
      }, Zh.prototype.getChanges = function() {
        return Array.from(this.changeMap.values());
      }, Zh);
      function Zh() {
        this.changeMap = /* @__PURE__ */ new Map();
      }
      function tl() {
      }
      var el = new (tl.prototype.getCompleteChild = function(t3) {
        return null;
      }, tl.prototype.getChildAfterChild = function(t3, e3, n3) {
        return null;
      }, tl)(), nl = (rl.prototype.getCompleteChild = function(t3) {
        var e3 = this.viewCache_.eventCache;
        if (e3.isCompleteForChild(t3))
          return e3.getNode().getImmediateChild(t3);
        e3 = null != this.optCompleteServerCache_ ? new gh(this.optCompleteServerCache_, true, false) : this.viewCache_.serverCache;
        return Yh(this.writes_, t3, e3);
      }, rl.prototype.getChildAfterChild = function(t3, e3, n3) {
        var r3 = null != this.optCompleteServerCache_ ? this.optCompleteServerCache_ : Sh(this.viewCache_), t3 = Qh(this.writes_, r3, e3, 1, n3, t3);
        return 0 === t3.length ? null : t3[0];
      }, rl);
      function rl(t3, e3, n3) {
        void 0 === n3 && (n3 = null), this.writes_ = t3, this.viewCache_ = e3, this.optCompleteServerCache_ = n3;
      }
      function il(t3, e3, n3, r3, i3) {
        var o3, s3, a3, u3, c3, h3, l3, f3, p3 = new Jh();
        if (n3.type === eh.OVERWRITE)
          var d3 = n3, g3 = d3.source.fromUser ? al(t3, e3, d3.path, d3.snap, r3, i3, p3) : (io(d3.source.fromServer, "Unknown source."), o3 = d3.source.tagged || e3.serverCache.isFiltered() && !lu(d3.path), sl(t3, e3, d3.path, d3.snap, r3, i3, o3, p3));
        else if (n3.type === eh.MERGE) {
          var v3 = n3;
          g3 = v3.source.fromUser ? (s3 = t3, a3 = e3, u3 = v3.path, d3 = v3.children, c3 = r3, h3 = i3, l3 = p3, f3 = a3, d3.foreach(function(t4, e4) {
            t4 = hu(u3, t4);
            ul(a3, iu(t4)) && (f3 = al(s3, f3, t4, e4, c3, h3, l3));
          }), d3.foreach(function(t4, e4) {
            t4 = hu(u3, t4);
            ul(a3, iu(t4)) || (f3 = al(s3, f3, t4, e4, c3, h3, l3));
          }), f3) : (io(v3.source.fromServer, "Unknown source."), o3 = v3.source.tagged || e3.serverCache.isFiltered(), hl(t3, e3, v3.path, v3.children, r3, i3, o3, p3));
        } else if (n3.type === eh.ACK_USER_WRITE) {
          var y3 = n3;
          g3 = y3.revert ? function(t4, e4, n4, r4, i4, o4) {
            var s4;
            {
              if (null != Gh(r4, n4))
                return e4;
              var a4, u4, c4 = new nl(r4, e4, i4), h4 = e4.eventCache.getNode(), i4 = void 0;
              return lu(n4) || ".priority" === iu(n4) ? (u4 = void 0, u4 = e4.serverCache.isFullyInitialized() ? Wh(r4, Sh(e4)) : (a4 = e4.serverCache.getNode(), io(a4 instanceof hc, "serverChildren would be complete if leaf node"), Hh(r4, a4)), i4 = t4.filter.updateFullNode(h4, u4, o4)) : (a4 = iu(n4), null == (u4 = Yh(r4, a4, e4.serverCache)) && e4.serverCache.isCompleteForChild(a4) && (u4 = h4.getImmediateChild(a4)), (i4 = null != u4 ? t4.filter.updateChild(h4, a4, u4, su(n4), c4, o4) : e4.eventCache.getNode().hasChild(a4) ? t4.filter.updateChild(h4, a4, hc.EMPTY_NODE, su(n4), c4, o4) : h4).isEmpty() && e4.serverCache.isFullyInitialized() && (s4 = Wh(r4, Sh(e4))).isLeafNode() && (i4 = t4.filter.updateFullNode(i4, s4, o4))), s4 = e4.serverCache.isFullyInitialized() || null != Gh(r4, ru()), Th(e4, i4, s4, t4.filter.filtersNodes());
            }
          }(t3, e3, y3.path, r3, i3, p3) : function(t4, e4, r4, n4, i4, o4, s4) {
            if (null != Gh(i4, r4))
              return e4;
            var a4 = e4.serverCache.isFiltered(), u4 = e4.serverCache;
            {
              if (null != n4.value) {
                if (lu(r4) && u4.isFullyInitialized() || u4.isCompleteForPath(r4))
                  return sl(t4, e4, r4, u4.getNode().getChild(r4), i4, o4, a4, s4);
                if (lu(r4)) {
                  var c4 = new kh(null);
                  return u4.getNode().forEachChild(Du, function(t5, e5) {
                    c4 = c4.set(new eu(t5), e5);
                  }), hl(t4, e4, r4, c4, i4, o4, a4, s4);
                }
                return e4;
              }
              var h4 = new kh(null);
              return n4.foreach(function(t5, e5) {
                var n5 = hu(r4, t5);
                u4.isCompleteForPath(n5) && (h4 = h4.set(t5, u4.getNode().getChild(n5)));
              }), hl(t4, e4, r4, h4, i4, o4, a4, s4);
            }
          }(t3, e3, y3.path, y3.affectedTree, r3, i3, p3);
        } else {
          if (n3.type !== eh.LISTEN_COMPLETE)
            throw oo("Unknown operation type: " + n3.type);
          y3 = t3, i3 = n3.path, t3 = r3, n3 = p3, r3 = Ih(e3, (r3 = e3.serverCache).getNode(), r3.isFullyInitialized() || lu(i3), r3.isFiltered()), g3 = ol(y3, r3, i3, t3, el, n3);
        }
        p3 = p3.getChanges();
        return function(t4, e4, n4) {
          var r4 = e4.eventCache;
          {
            var i4, o4;
            r4.isFullyInitialized() && (i4 = r4.getNode().isLeafNode() || r4.getNode().isEmpty(), o4 = Eh(t4), (0 < n4.length || !t4.eventCache.isFullyInitialized() || i4 && !r4.getNode().equals(o4) || !r4.getNode().getPriority().equals(o4.getPriority())) && n4.push(Ac(Eh(e4))));
          }
        }(e3, g3, p3), { viewCache: g3, changes: p3 };
      }
      function ol(t3, e3, n3, r3, i3, o3) {
        var s3 = e3.eventCache;
        if (null != Gh(r3, n3))
          return e3;
        var a3, u3, c3, h3, l3 = void 0, f3 = void 0;
        return l3 = lu(n3) ? (io(e3.serverCache.isFullyInitialized(), "If change path is empty, we must have complete server data"), e3.serverCache.isFiltered() ? (a3 = Hh(r3, (a3 = Sh(e3)) instanceof hc ? a3 : hc.EMPTY_NODE), t3.filter.updateFullNode(e3.eventCache.getNode(), a3, o3)) : (u3 = Wh(r3, Sh(e3)), t3.filter.updateFullNode(e3.eventCache.getNode(), u3, o3))) : ".priority" === (u3 = iu(n3)) ? (io(1 === ou(n3), "Can't have a priority with additional path components"), null != (h3 = zh(r3, n3, c3 = s3.getNode(), f3 = e3.serverCache.getNode())) ? t3.filter.updatePriority(c3, h3) : s3.getNode()) : (c3 = su(n3), h3 = void 0, null != (h3 = s3.isCompleteForChild(u3) ? (f3 = e3.serverCache.getNode(), null != (f3 = zh(r3, n3, s3.getNode(), f3)) ? s3.getNode().getImmediateChild(u3).updateChild(c3, f3) : s3.getNode().getImmediateChild(u3)) : Yh(r3, u3, e3.serverCache)) ? t3.filter.updateChild(s3.getNode(), u3, h3, c3, i3, o3) : s3.getNode()), Th(e3, l3, s3.isFullyInitialized() || lu(n3), t3.filter.filtersNodes());
      }
      function sl(t3, e3, n3, r3, i3, o3, s3, a3) {
        var u3 = e3.serverCache, c3 = s3 ? t3.filter : t3.filter.getIndexedFilter();
        if (lu(n3))
          l3 = c3.updateFullNode(u3.getNode(), r3, null);
        else if (c3.filtersNodes() && !u3.isFiltered())
          var h3 = u3.getNode().updateChild(n3, r3), l3 = c3.updateFullNode(u3.getNode(), h3, null);
        else {
          s3 = iu(n3);
          if (!u3.isCompleteForPath(n3) && 1 < ou(n3))
            return e3;
          h3 = su(n3), r3 = u3.getNode().getImmediateChild(s3).updateChild(h3, r3);
          l3 = ".priority" === s3 ? c3.updatePriority(u3.getNode(), r3) : c3.updateChild(u3.getNode(), s3, r3, h3, el, null);
        }
        c3 = Ih(e3, l3, u3.isFullyInitialized() || lu(n3), c3.filtersNodes());
        return ol(t3, c3, n3, i3, new nl(i3, c3, o3), a3);
      }
      function al(t3, e3, n3, r3, i3, o3, s3) {
        var a3, u3, c3 = e3.eventCache, h3 = new nl(i3, e3, o3);
        return lu(n3) ? (u3 = t3.filter.updateFullNode(e3.eventCache.getNode(), r3, s3), Th(e3, u3, true, t3.filter.filtersNodes())) : ".priority" === (a3 = iu(n3)) ? (u3 = t3.filter.updatePriority(e3.eventCache.getNode(), r3), Th(e3, u3, c3.isFullyInitialized(), c3.isFiltered())) : (i3 = su(n3), o3 = c3.getNode().getImmediateChild(a3), u3 = void 0, u3 = lu(i3) ? r3 : null != (n3 = h3.getCompleteChild(a3)) ? ".priority" === au(i3) && n3.getChild(cu(i3)).isEmpty() ? n3 : n3.updateChild(i3, r3) : hc.EMPTY_NODE, o3.equals(u3) ? e3 : Th(e3, t3.filter.updateChild(c3.getNode(), a3, u3, i3, h3, s3), c3.isFullyInitialized(), t3.filter.filtersNodes()));
      }
      function ul(t3, e3) {
        return t3.eventCache.isCompleteForChild(e3);
      }
      function cl(t3, n3, e3) {
        return e3.foreach(function(t4, e4) {
          n3 = n3.updateChild(t4, e4);
        }), n3;
      }
      function hl(r3, i3, t3, e3, o3, s3, a3, u3) {
        if (i3.serverCache.getNode().isEmpty() && !i3.serverCache.isFullyInitialized())
          return i3;
        var c3 = i3, e3 = lu(t3) ? e3 : new kh(null).setTree(t3, e3), h3 = i3.serverCache.getNode();
        return e3.children.inorderTraversal(function(t4, e4) {
          h3.hasChild(t4) && (e4 = cl(0, i3.serverCache.getNode().getImmediateChild(t4), e4), c3 = sl(r3, c3, new eu(t4), e4, o3, s3, a3, u3));
        }), e3.children.inorderTraversal(function(t4, e4) {
          var n3 = !i3.serverCache.isCompleteForChild(t4) && void 0 === e4.value;
          h3.hasChild(t4) || n3 || (e4 = cl(0, i3.serverCache.getNode().getImmediateChild(t4), e4), c3 = sl(r3, c3, new eu(t4), e4, o3, s3, a3, u3));
        }), c3;
      }
      var ll, fl = (Object.defineProperty(pl.prototype, "query", { get: function() {
        return this.query_;
      }, enumerable: false, configurable: true }), pl);
      function pl(t3, e3) {
        this.query_ = t3, this.eventRegistrations_ = [];
        var n3 = this.query_._queryParams, r3 = new Oc(n3.getIndex()), i3 = (o3 = n3).loadsAllData() ? new Oc(o3.getIndex()) : new (o3.hasLimit() ? Mc : xc)(o3);
        this.processor_ = { filter: i3 };
        var t3 = e3.serverCache, n3 = e3.eventCache, o3 = r3.updateFullNode(hc.EMPTY_NODE, t3.getNode(), null), e3 = i3.updateFullNode(hc.EMPTY_NODE, n3.getNode(), null), r3 = new gh(o3, t3.isFullyInitialized(), r3.filtersNodes()), i3 = new gh(e3, n3.isFullyInitialized(), i3.filtersNodes());
        this.viewCache_ = wh(i3, r3), this.eventGenerator_ = new mh(this.query_);
      }
      function dl(t3) {
        return 0 === t3.eventRegistrations_.length;
      }
      function gl(t3, e3, n3) {
        var r3, i3 = [];
        if (n3 && (io(null == e3, "A cancel should cancel all event registrations."), r3 = t3.query._path, t3.eventRegistrations_.forEach(function(t4) {
          t4 = t4.createCancelEvent(n3, r3);
          t4 && i3.push(t4);
        })), e3) {
          for (var o3 = [], s3 = 0; s3 < t3.eventRegistrations_.length; ++s3) {
            var a3 = t3.eventRegistrations_[s3];
            if (a3.matches(e3)) {
              if (e3.hasAnyCallback()) {
                o3 = o3.concat(t3.eventRegistrations_.slice(s3 + 1));
                break;
              }
            } else
              o3.push(a3);
          }
          t3.eventRegistrations_ = o3;
        } else
          t3.eventRegistrations_ = [];
        return i3;
      }
      function vl(t3, e3, n3, r3) {
        e3.type === eh.MERGE && null !== e3.source.queryId && (io(Sh(t3.viewCache_), "We should always have a full cache before handling merges"), io(Eh(t3.viewCache_), "Missing event cache, even though we have a server cache"));
        var i3 = t3.viewCache_, e3 = il(t3.processor_, i3, e3, n3, r3);
        return n3 = t3.processor_, r3 = e3.viewCache, io(r3.eventCache.getNode().isIndexed(n3.filter.getIndex()), "Event snap not indexed"), io(r3.serverCache.getNode().isIndexed(n3.filter.getIndex()), "Server snap not indexed"), io(e3.viewCache.serverCache.isFullyInitialized() || !i3.serverCache.isFullyInitialized(), "Once a server snap is complete, it should never go back"), t3.viewCache_ = e3.viewCache, yl(t3, e3.changes, e3.viewCache.eventCache.getNode(), null);
      }
      function yl(t3, e3, n3, r3) {
        r3 = r3 ? [r3] : t3.eventRegistrations_;
        return bh(t3.eventGenerator_, e3, n3, r3);
      }
      var ml, bl = function() {
        this.views = /* @__PURE__ */ new Map();
      };
      function _l(t3, e3, n3, r3) {
        var i3, o3, s3 = e3.source.queryId;
        if (null !== s3) {
          var a3 = t3.views.get(s3);
          return io(null != a3, "SyncTree gave us an op for an invalid query."), vl(a3, e3, n3, r3);
        }
        var u3 = [];
        try {
          for (var c3 = $i(t3.views.values()), h3 = c3.next(); !h3.done; h3 = c3.next())
            a3 = h3.value, u3 = u3.concat(vl(a3, e3, n3, r3));
        } catch (t4) {
          i3 = { error: t4 };
        } finally {
          try {
            h3 && !h3.done && (o3 = c3.return) && o3.call(c3);
          } finally {
            if (i3)
              throw i3.error;
          }
        }
        return u3;
      }
      function wl(t3, e3, n3, r3, i3) {
        var o3 = e3._queryIdentifier, t3 = t3.views.get(o3);
        if (t3)
          return t3;
        o3 = Wh(n3, i3 ? r3 : null), t3 = false, t3 = !!o3 || (o3 = r3 instanceof hc ? Hh(n3, r3) : hc.EMPTY_NODE, false), i3 = wh(new gh(o3, t3, false), new gh(r3, i3, false));
        return new fl(e3, i3);
      }
      function Tl(t3, e3, n3, r3, i3, o3) {
        var s3, o3 = wl(t3, e3, r3, i3, o3);
        return t3.views.has(e3._queryIdentifier) || t3.views.set(e3._queryIdentifier, o3), o3.eventRegistrations_.push(n3), e3 = n3, o3 = (n3 = o3).viewCache_.eventCache, s3 = [], o3.getNode().isLeafNode() || o3.getNode().forEachChild(Zu, function(t4, e4) {
          s3.push(Nc(t4, e4));
        }), o3.isFullyInitialized() && s3.push(Ac(o3.getNode())), yl(n3, s3, o3.getNode(), e3);
      }
      function Il(t3, e3, n3, r3) {
        var i3, o3, s3 = e3._queryIdentifier, a3 = [], u3 = [], c3 = Al(t3);
        if ("default" === s3)
          try {
            for (var h3 = $i(t3.views.entries()), l3 = h3.next(); !l3.done; l3 = h3.next()) {
              var f3 = Ji(l3.value, 2), p3 = f3[0], d3 = f3[1], u3 = u3.concat(gl(d3, n3, r3));
              dl(d3) && (t3.views.delete(p3), d3.query._queryParams.loadsAllData() || a3.push(d3.query));
            }
          } catch (t4) {
            i3 = { error: t4 };
          } finally {
            try {
              l3 && !l3.done && (o3 = h3.return) && o3.call(h3);
            } finally {
              if (i3)
                throw i3.error;
            }
          }
        else
          (d3 = t3.views.get(s3)) && (u3 = u3.concat(gl(d3, n3, r3)), dl(d3) && (t3.views.delete(s3), d3.query._queryParams.loadsAllData() || a3.push(d3.query)));
        return c3 && !Al(t3) && a3.push((io(ll, "Reference.ts has not been loaded"), new ll(e3._repo, e3._path))), { removed: a3, events: u3 };
      }
      function El(t3) {
        var e3, n3, r3 = [];
        try {
          for (var i3 = $i(t3.views.values()), o3 = i3.next(); !o3.done; o3 = i3.next()) {
            var s3 = o3.value;
            s3.query._queryParams.loadsAllData() || r3.push(s3);
          }
        } catch (t4) {
          e3 = { error: t4 };
        } finally {
          try {
            o3 && !o3.done && (n3 = i3.return) && n3.call(i3);
          } finally {
            if (e3)
              throw e3.error;
          }
        }
        return r3;
      }
      function Sl(t3, e3) {
        var n3, r3, i3, o3, s3, a3 = null;
        try {
          for (var u3 = $i(t3.views.values()), c3 = u3.next(); !c3.done; c3 = u3.next())
            var h3 = c3.value, a3 = a3 || (o3 = e3, s3 = void 0, (s3 = Sh((i3 = h3).viewCache_)) && (i3.query._queryParams.loadsAllData() || !lu(o3) && !s3.getImmediateChild(iu(o3)).isEmpty()) ? s3.getChild(o3) : null);
        } catch (t4) {
          n3 = { error: t4 };
        } finally {
          try {
            c3 && !c3.done && (r3 = u3.return) && r3.call(u3);
          } finally {
            if (n3)
              throw n3.error;
          }
        }
        return a3;
      }
      function kl(t3, e3) {
        if (e3._queryParams.loadsAllData())
          return Nl(t3);
        e3 = e3._queryIdentifier;
        return t3.views.get(e3);
      }
      function Cl(t3, e3) {
        return null != kl(t3, e3);
      }
      function Al(t3) {
        return null != Nl(t3);
      }
      function Nl(t3) {
        var e3, n3;
        try {
          for (var r3 = $i(t3.views.values()), i3 = r3.next(); !i3.done; i3 = r3.next()) {
            var o3 = i3.value;
            if (o3.query._queryParams.loadsAllData())
              return o3;
          }
        } catch (t4) {
          e3 = { error: t4 };
        } finally {
          try {
            i3 && !i3.done && (n3 = r3.return) && n3.call(r3);
          } finally {
            if (e3)
              throw e3.error;
          }
        }
        return null;
      }
      var Rl = 1, Pl = function(t3) {
        this.listenProvider_ = t3, this.syncPointTree_ = new kh(null), this.pendingWriteTree_ = { visibleWrites: Ah.empty(), allWrites: [], lastWriteId: -1 }, this.tagToQueryMap = /* @__PURE__ */ new Map(), this.queryToTagMap = /* @__PURE__ */ new Map();
      };
      function Ol(t3, e3, n3, r3, i3) {
        var o3, s3, a3, u3;
        return o3 = t3.pendingWriteTree_, s3 = e3, a3 = n3, u3 = i3, io((r3 = r3) > o3.lastWriteId, "Stacking an older write on top of newer ones"), o3.allWrites.push({ path: s3, snap: a3, writeId: r3, visible: u3 = void 0 === u3 ? true : u3 }), u3 && (o3.visibleWrites = Rh(o3.visibleWrites, s3, a3)), o3.lastWriteId = r3, i3 ? ql(t3, new lh(ih(), e3, n3)) : [];
      }
      function Dl(t3, e3, n3, r3) {
        var i3, o3, s3;
        i3 = t3.pendingWriteTree_, o3 = e3, s3 = n3, io((r3 = r3) > i3.lastWriteId, "Stacking an older merge on top of newer ones"), i3.allWrites.push({ path: o3, children: s3, writeId: r3, visible: true }), i3.visibleWrites = Ph(i3.visibleWrites, o3, s3), i3.lastWriteId = r3;
        n3 = kh.fromObject(n3);
        return ql(t3, new ph(ih(), e3, n3));
      }
      function xl(t3, e3, n3) {
        void 0 === n3 && (n3 = false);
        var r3 = function(t4, e4) {
          for (var n4 = 0; n4 < t4.allWrites.length; n4++) {
            var r4 = t4.allWrites[n4];
            if (r4.writeId === e4)
              return r4;
          }
          return null;
        }(t3.pendingWriteTree_, e3);
        if (qh(t3.pendingWriteTree_, e3)) {
          var i3 = new kh(null);
          return null != r3.snap ? i3 = i3.set(ru(), true) : aa(r3.children, function(t4) {
            i3 = i3.set(new eu(t4), true);
          }), ql(t3, new ah(r3.path, i3, n3));
        }
        return [];
      }
      function Ll(t3, e3, n3) {
        return ql(t3, new lh(oh(), e3, n3));
      }
      function Ml(n3, t3, e3, r3) {
        var i3 = t3._path, o3 = n3.syncPointTree_.get(i3), s3 = [];
        if (o3 && ("default" === t3._queryIdentifier || Cl(o3, t3))) {
          var a3 = Il(o3, t3, e3, r3);
          0 === o3.views.size && (n3.syncPointTree_ = n3.syncPointTree_.remove(i3));
          e3 = a3.removed, s3 = a3.events, o3 = -1 !== e3.findIndex(function(t4) {
            return t4._queryParams.loadsAllData();
          }), a3 = n3.syncPointTree_.findOnPath(i3, function(t4, e4) {
            return Al(e4);
          });
          if (o3 && !a3) {
            i3 = n3.syncPointTree_.subtree(i3);
            if (!i3.isEmpty())
              for (var u3 = i3.fold(function(t4, e4, n4) {
                if (e4 && Al(e4))
                  return [Nl(e4)];
                var r4 = [];
                return e4 && (r4 = El(e4)), aa(n4, function(t5, e5) {
                  r4 = r4.concat(e5);
                }), r4;
              }), c3 = 0; c3 < u3.length; ++c3) {
                var h3 = u3[c3], l3 = h3.query, h3 = Bl(n3, h3);
                n3.listenProvider_.startListening(Ql(l3), Kl(n3, l3), h3.hashFn, h3.onComplete);
              }
          }
          !a3 && 0 < e3.length && !r3 && (o3 ? n3.listenProvider_.stopListening(Ql(t3), null) : e3.forEach(function(t4) {
            var e4 = n3.queryToTagMap.get(Wl(t4));
            n3.listenProvider_.stopListening(Ql(t4), e4);
          })), function(t4, e4) {
            for (var n4 = 0; n4 < e4.length; ++n4) {
              var r4, i4 = e4[n4];
              i4._queryParams.loadsAllData() || (r4 = Wl(i4), i4 = t4.queryToTagMap.get(r4), t4.queryToTagMap.delete(r4), t4.tagToQueryMap.delete(i4));
            }
          }(n3, e3);
        }
        return s3;
      }
      function Fl(t3, e3, n3) {
        var r3 = e3._path, i3 = null, o3 = false;
        t3.syncPointTree_.foreachOnPath(r3, function(t4, e4) {
          t4 = fu(t4, r3);
          i3 = i3 || Sl(e4, t4), o3 = o3 || Al(e4);
        });
        var s3 = t3.syncPointTree_.get(r3);
        s3 ? (o3 = o3 || Al(s3), i3 = i3 || Sl(s3, ru())) : (s3 = new bl(), t3.syncPointTree_ = t3.syncPointTree_.set(r3, s3)), null != i3 ? h3 = true : (h3 = false, i3 = hc.EMPTY_NODE, t3.syncPointTree_.subtree(r3).foreachChild(function(t4, e4) {
          e4 = Sl(e4, ru());
          e4 && (i3 = i3.updateImmediateChild(t4, e4));
        }));
        var a3, u3, c3 = Cl(s3, e3);
        c3 || e3._queryParams.loadsAllData() || (a3 = Wl(e3), io(!t3.queryToTagMap.has(a3), "View does not exist, but we have a tag"), u3 = Rl++, t3.queryToTagMap.set(a3, u3), t3.tagToQueryMap.set(u3, a3));
        var h3 = Tl(s3, e3, n3, Uh(t3.pendingWriteTree_, r3), i3, h3);
        return c3 || o3 || (s3 = kl(s3, e3), h3 = h3.concat(function(t4, e4, n4) {
          var r4 = e4._path, i4 = Kl(t4, e4), n4 = Bl(t4, n4), n4 = t4.listenProvider_.startListening(Ql(e4), i4, n4.hashFn, n4.onComplete), r4 = t4.syncPointTree_.subtree(r4);
          if (i4)
            io(!Al(r4.value), "If we're adding a query, it shouldn't be shadowed");
          else
            for (var o4 = r4.fold(function(t5, e5, n5) {
              if (!lu(t5) && e5 && Al(e5))
                return [Nl(e5).query];
              var r5 = [];
              return e5 && (r5 = r5.concat(El(e5).map(function(t6) {
                return t6.query;
              }))), aa(n5, function(t6, e6) {
                r5 = r5.concat(e6);
              }), r5;
            }), s4 = 0; s4 < o4.length; ++s4) {
              var a4 = o4[s4];
              t4.listenProvider_.stopListening(Ql(a4), Kl(t4, a4));
            }
          return n4;
        }(t3, e3, s3))), h3;
      }
      function jl(t3, n3, e3) {
        var r3 = t3.pendingWriteTree_, t3 = t3.syncPointTree_.findOnPath(n3, function(t4, e4) {
          t4 = Sl(e4, fu(t4, n3));
          if (t4)
            return t4;
        });
        return Kh(r3, n3, t3, e3, true);
      }
      function Ul(t3, e3) {
        var n3 = e3._path, r3 = null;
        t3.syncPointTree_.foreachOnPath(n3, function(t4, e4) {
          t4 = fu(t4, n3);
          r3 = r3 || Sl(e4, t4);
        });
        var i3 = t3.syncPointTree_.get(n3);
        i3 ? r3 = r3 || Sl(i3, ru()) : (i3 = new bl(), t3.syncPointTree_ = t3.syncPointTree_.set(n3, i3));
        var o3 = null != r3, s3 = o3 ? new gh(r3, true, false) : null;
        return Eh(wl(i3, e3, Uh(t3.pendingWriteTree_, e3._path), o3 ? s3.getNode() : hc.EMPTY_NODE, o3).viewCache_);
      }
      function ql(t3, e3) {
        return function t4(e4, n3, r3, i3) {
          {
            if (lu(e4.path))
              return Vl(e4, n3, r3, i3);
            var o3 = n3.get(ru());
            null == r3 && null != o3 && (r3 = Sl(o3, ru()));
            var s3 = [], a3 = iu(e4.path), u3 = e4.operationForChild(a3), c3 = n3.children.get(a3);
            return c3 && u3 && (n3 = r3 ? r3.getImmediateChild(a3) : null, a3 = Xh(i3, a3), s3 = s3.concat(t4(u3, c3, n3, a3))), s3 = o3 ? s3.concat(_l(o3, e4, i3, r3)) : s3;
          }
        }(e3, t3.syncPointTree_, null, Uh(t3.pendingWriteTree_, ru()));
      }
      function Vl(i3, t3, o3, s3) {
        var e3 = t3.get(ru());
        null == o3 && null != e3 && (o3 = Sl(e3, ru()));
        var a3 = [];
        return t3.children.inorderTraversal(function(t4, e4) {
          var n3 = o3 ? o3.getImmediateChild(t4) : null, r3 = Xh(s3, t4), t4 = i3.operationForChild(t4);
          t4 && (a3 = a3.concat(Vl(t4, e4, n3, r3)));
        }), a3 = e3 ? a3.concat(_l(e3, i3, s3, o3)) : a3;
      }
      function Bl(n3, t3) {
        var r3 = t3.query, i3 = Kl(n3, r3);
        return { hashFn: function() {
          return (t3.viewCache_.serverCache.getNode() || hc.EMPTY_NODE).hash();
        }, onComplete: function(t4) {
          if ("ok" === t4)
            return i3 ? function(t5, e4, n4) {
              var r4 = Hl(t5, n4);
              if (r4) {
                n4 = zl(r4), r4 = n4.path, n4 = n4.queryId, e4 = fu(r4, e4);
                return Gl(t5, r4, new ch(sh(n4), e4));
              }
              return [];
            }(n3, r3._path, i3) : (e3 = r3._path, ql(n3, new ch(oh(), e3)));
          var e3, e3 = (e3 = "Unknown Error", "too_big" === (t4 = t4) ? e3 = "The data requested exceeds the maximum size that can be accessed with a single request." : "permission_denied" === t4 ? e3 = "Client doesn't have permission to access the desired data." : "unavailable" === t4 && (e3 = "The service is unavailable"), (e3 = new Error(t4 + " at " + r3._path.toString() + ": " + e3)).code = t4.toUpperCase(), e3);
          return Ml(n3, r3, null, e3);
        } };
      }
      function Kl(t3, e3) {
        e3 = Wl(e3);
        return t3.queryToTagMap.get(e3);
      }
      function Wl(t3) {
        return t3._path.toString() + "$" + t3._queryIdentifier;
      }
      function Hl(t3, e3) {
        return t3.tagToQueryMap.get(e3);
      }
      function zl(t3) {
        var e3 = t3.indexOf("$");
        return io(-1 !== e3 && e3 < t3.length - 1, "Bad queryKey."), { queryId: t3.substr(e3 + 1), path: new eu(t3.substr(0, e3)) };
      }
      function Gl(t3, e3, n3) {
        var r3 = t3.syncPointTree_.get(e3);
        return io(r3, "Missing sync point for query tag that we're tracking"), _l(r3, n3, Uh(t3.pendingWriteTree_, e3), null);
      }
      function Ql(t3) {
        return t3._queryParams.loadsAllData() && !t3._queryParams.isDefault() ? (io(ml, "Reference.ts has not been loaded"), new ml(t3._repo, t3._path)) : t3;
      }
      var Yl = (Xl.prototype.getImmediateChild = function(t3) {
        return new Xl(this.node_.getImmediateChild(t3));
      }, Xl.prototype.node = function() {
        return this.node_;
      }, Xl);
      function Xl(t3) {
        this.node_ = t3;
      }
      var $l = (Zl.prototype.getImmediateChild = function(t3) {
        t3 = hu(this.path_, t3);
        return new Zl(this.syncTree_, t3);
      }, Zl.prototype.node = function() {
        return jl(this.syncTree_, this.path_);
      }, Zl);
      function Zl(t3, e3) {
        this.syncTree_ = t3, this.path_ = e3;
      }
      var tf = function(t3) {
        return (t3 = t3 || {}).timestamp = t3.timestamp || new Date().getTime(), t3;
      }, ef = function(t3, e3, n3) {
        return t3 && "object" == typeof t3 ? (io(".sv" in t3, "Unexpected leaf node or priority contents"), "string" == typeof t3[".sv"] ? nf(t3[".sv"], e3, n3) : "object" == typeof t3[".sv"] ? rf(t3[".sv"], e3) : void io(false, "Unexpected server value: " + JSON.stringify(t3, null, 2))) : t3;
      }, nf = function(t3, e3, n3) {
        if ("timestamp" === t3)
          return n3.timestamp;
        io(false, "Unexpected server value: " + t3);
      }, rf = function(t3, e3, n3) {
        t3.hasOwnProperty("increment") || io(false, "Unexpected server value: " + JSON.stringify(t3, null, 2));
        t3 = t3.increment;
        "number" != typeof t3 && io(false, "Unexpected increment value: " + t3);
        e3 = e3.node();
        if (io(null != e3, "Expected ChildrenNode.EMPTY_NODE for nulls"), !e3.isLeafNode())
          return t3;
        e3 = e3.getValue();
        return "number" != typeof e3 ? t3 : e3 + t3;
      }, of = function(t3, e3, n3, r3) {
        return af(e3, new $l(n3, t3), r3);
      }, sf = function(t3, e3, n3) {
        return af(t3, new Yl(e3), n3);
      };
      function af(t3, r3, i3) {
        var e3 = t3.getPriority().val(), n3 = ef(e3, r3.getImmediateChild(".priority"), i3);
        if (t3.isLeafNode()) {
          var o3 = t3, e3 = ef(o3.getValue(), r3, i3);
          return e3 !== o3.getValue() || n3 !== o3.getPriority().val() ? new Xu(e3, gc(n3)) : t3;
        }
        var t3 = t3, s3 = t3;
        return n3 !== t3.getPriority().val() && (s3 = s3.updatePriority(new Xu(n3))), t3.forEachChild(Zu, function(t4, e4) {
          var n4 = af(e4, r3.getImmediateChild(t4), i3);
          n4 !== e4 && (s3 = s3.updateImmediateChild(t4, n4));
        }), s3;
      }
      var uf = function(t3, e3, n3) {
        void 0 === e3 && (e3 = null), void 0 === n3 && (n3 = { children: {}, childCount: 0 }), this.name = t3 = void 0 === t3 ? "" : t3, this.parent = e3, this.node = n3;
      };
      function cf(t3, e3) {
        for (var n3 = e3 instanceof eu ? e3 : new eu(e3), r3 = t3, i3 = iu(n3); null !== i3; )
          var o3 = xo(r3.node.children, i3) || { children: {}, childCount: 0 }, r3 = new uf(i3, r3, o3), i3 = iu(n3 = su(n3));
        return r3;
      }
      function hf(t3) {
        return t3.node.value;
      }
      function lf(t3, e3) {
        t3.node.value = e3, gf(t3);
      }
      function ff(t3) {
        return 0 < t3.node.childCount;
      }
      function pf(n3, r3) {
        aa(n3.node.children, function(t3, e3) {
          r3(new uf(t3, n3, e3));
        });
      }
      function df(t3) {
        return new eu(null === t3.parent ? t3.name : df(t3.parent) + "/" + t3.name);
      }
      function gf(t3) {
        var e3, n3, r3, i3;
        null !== t3.parent && (e3 = t3.parent, n3 = t3.name, i3 = function(t4) {
          return void 0 === hf(t4) && !ff(t4);
        }(r3 = t3), t3 = Do(e3.node.children, n3), i3 && t3 ? (delete e3.node.children[n3], e3.node.childCount--, gf(e3)) : i3 || t3 || (e3.node.children[n3] = r3.node, e3.node.childCount++, gf(e3)));
      }
      function vf(t3) {
        return "string" == typeof t3 && 0 !== t3.length && !wf.test(t3);
      }
      function yf(t3) {
        return "string" == typeof t3 && 0 !== t3.length && !Tf.test(t3);
      }
      function mf(t3, e3, n3, r3) {
        if (!r3 || void 0 !== e3) {
          var i3 = Ho(t3, "values");
          if (!e3 || "object" != typeof e3 || Array.isArray(e3))
            throw new Error(i3 + " must be an object containing the children to replace.");
          var o3 = [];
          aa(e3, function(t4, e4) {
            t4 = new eu(t4);
            if (kf(i3, e4, hu(n3, t4)), ".priority" === au(t4) && !Ef(e4))
              throw new Error(i3 + "contains an invalid value for '" + t4.toString() + "', which must be a valid Firebase priority (a string, finite number, server value, or null).");
            o3.push(t4);
          }), function(t4, e4) {
            for (var n4 = 0; n4 < e4.length; n4++)
              for (var r4, i4 = uu(r4 = e4[n4]), o4 = 0; o4 < i4.length; o4++)
                if ((".priority" !== i4[o4] || o4 !== i4.length - 1) && !vf(i4[o4]))
                  throw new Error(t4 + "contains an invalid key (" + i4[o4] + ") in path " + r4.toString() + `. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);
            e4.sort(pu);
            var s3 = null;
            for (n4 = 0; n4 < e4.length; n4++) {
              if (r4 = e4[n4], null !== s3 && gu(s3, r4))
                throw new Error(t4 + "contains a path " + s3.toString() + " that is ancestor of another path " + r4.toString());
              s3 = r4;
            }
          }(i3, o3);
        }
      }
      function bf(t3, e3, n3) {
        if (!n3 || void 0 !== e3) {
          if (Vs(e3))
            throw new Error(Ho(t3, "priority") + "is " + e3.toString() + ", but must be a valid Firebase priority (a string, finite number, server value, or null).");
          if (!Ef(e3))
            throw new Error(Ho(t3, "priority") + "must be a valid Firebase priority (a string, finite number, server value, or null).");
        }
      }
      function _f(t3, e3, n3, r3) {
        if (!(r3 && void 0 === n3 || vf(n3)))
          throw new Error(Ho(t3, e3) + 'was an invalid key = "' + n3 + `".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`);
      }
      var wf = /[\[\].#$\/\u0000-\u001F\u007F]/, Tf = /[\[\].#$\u0000-\u001F\u007F]/, If = 10485760, Ef = function(t3) {
        return null === t3 || "string" == typeof t3 || "number" == typeof t3 && !Vs(t3) || t3 && "object" == typeof t3 && Do(t3, ".sv");
      }, Sf = function(t3, e3, n3, r3) {
        r3 && void 0 === e3 || kf(Ho(t3, "value"), e3, n3);
      }, kf = function(r3, t3, e3) {
        var i3 = e3 instanceof eu ? new vu(e3, r3) : e3;
        if (void 0 === t3)
          throw new Error(r3 + "contains undefined " + mu(i3));
        if ("function" == typeof t3)
          throw new Error(r3 + "contains a function " + mu(i3) + " with contents = " + t3.toString());
        if (Vs(t3))
          throw new Error(r3 + "contains " + t3.toString() + " " + mu(i3));
        if ("string" == typeof t3 && t3.length > If / 3 && Qo(t3) > If)
          throw new Error(r3 + "contains a string greater than " + If + " utf8 bytes " + mu(i3) + " ('" + t3.substring(0, 50) + "...')");
        if (t3 && "object" == typeof t3) {
          var o3 = false, s3 = false;
          if (aa(t3, function(t4, e4) {
            if (".value" === t4)
              o3 = true;
            else if (".priority" !== t4 && ".sv" !== t4 && (s3 = true, !vf(t4)))
              throw new Error(r3 + " contains an invalid key (" + t4 + ") " + mu(i3) + `.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);
            var n3;
            n3 = t4, 0 < (t4 = i3).parts_.length && (t4.byteLength_ += 1), t4.parts_.push(n3), t4.byteLength_ += Qo(n3), yu(t4), kf(r3, e4, i3), e4 = (t4 = i3).parts_.pop(), t4.byteLength_ -= Qo(e4), 0 < t4.parts_.length && --t4.byteLength_;
          }), o3 && s3)
            throw new Error(r3 + ' contains ".value" child ' + mu(i3) + " in addition to actual children.");
        }
      }, Cf = function(t3, e3, n3, r3) {
        if (!(r3 && void 0 === n3 || yf(n3)))
          throw new Error(Ho(t3, e3) + 'was an invalid path = "' + n3 + `". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`);
      }, Af = function(t3, e3, n3, r3) {
        n3 = n3 && n3.replace(/^\/*\.info(\/|$)/, "/"), Cf(t3, e3, n3, r3);
      }, Nf = function(t3, e3) {
        if (".info" === iu(e3))
          throw new Error(t3 + " failed = Can't modify data under /.info/");
      }, Rf = function(t3, e3) {
        var n3 = e3.path.toString();
        if ("string" != typeof e3.repoInfo.host || 0 === e3.repoInfo.host.length || !vf(e3.repoInfo.namespace) && "localhost" !== e3.repoInfo.host.split(":")[0] || 0 !== n3.length && (n3 = (n3 = n3) && n3.replace(/^\/*\.info(\/|$)/, "/"), !yf(n3)))
          throw new Error(Ho(t3, "url") + `must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`);
      }, Pf = function() {
        this.eventLists_ = [], this.recursionDepth_ = 0;
      };
      function Of(t3, e3) {
        for (var n3 = null, r3 = 0; r3 < e3.length; r3++) {
          var i3 = e3[r3], o3 = i3.getPath();
          null === n3 || du(o3, n3.path) || (t3.eventLists_.push(n3), n3 = null), (n3 = null === n3 ? { events: [], path: o3 } : n3).events.push(i3);
        }
        n3 && t3.eventLists_.push(n3);
      }
      function Df(t3, e3, n3) {
        Of(t3, n3), Lf(t3, function(t4) {
          return du(t4, e3);
        });
      }
      function xf(t3, e3, n3) {
        Of(t3, n3), Lf(t3, function(t4) {
          return gu(t4, e3) || gu(e3, t4);
        });
      }
      function Lf(t3, e3) {
        t3.recursionDepth_++;
        for (var n3 = true, r3 = 0; r3 < t3.eventLists_.length; r3++) {
          var i3 = t3.eventLists_[r3];
          i3 && (e3(i3.path) ? (function(t4) {
            for (var e4 = 0; e4 < t4.events.length; e4++) {
              var n4, r4 = t4.events[e4];
              null !== r4 && (t4.events[e4] = null, n4 = r4.getEventRunner(), $s && Zs("event: " + r4.toString()), da(n4));
            }
          }(t3.eventLists_[r3]), t3.eventLists_[r3] = null) : n3 = false);
        }
        n3 && (t3.eventLists_ = []), t3.recursionDepth_--;
      }
      var Mf = "repo_interrupt", Ff = 25, jf = (Uf.prototype.toString = function() {
        return (this.repoInfo_.secure ? "https://" : "http://") + this.repoInfo_.host;
      }, Uf);
      function Uf(t3, e3, n3, r3) {
        this.repoInfo_ = t3, this.forceRestClient_ = e3, this.authTokenProvider_ = n3, this.appCheckProvider_ = r3, this.dataUpdateCount = 0, this.statsListener_ = null, this.eventQueue_ = new Pf(), this.nextWriteId_ = 1, this.interceptServerDataCallback_ = null, this.onDisconnect_ = Xc(), this.transactionQueueTree_ = new uf(), this.persistentConnection_ = null, this.key = this.repoInfo_.toURLString();
      }
      function qf(s3, t3, e3) {
        if (s3.stats_ = Pa(s3.repoInfo_), s3.forceRestClient_ || 0 <= ("object" == typeof window && window.navigator && window.navigator.userAgent || "").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i))
          s3.server_ = new zc(s3.repoInfo_, function(t4, e4, n3, r3) {
            Kf(s3, t4, e4, n3, r3);
          }, s3.authTokenProvider_, s3.appCheckProvider_), setTimeout(function() {
            return Wf(s3, true);
          }, 0);
        else {
          if (null != e3) {
            if ("object" != typeof e3)
              throw new Error("Only objects are supported for option databaseAuthVariableOverride");
            try {
              Po(e3);
            } catch (t4) {
              throw new Error("Invalid authOverride provided: " + t4);
            }
          }
          s3.persistentConnection_ = new Su(s3.repoInfo_, t3, function(t4, e4, n3, r3) {
            Kf(s3, t4, e4, n3, r3);
          }, function(t4) {
            Wf(s3, t4);
          }, function(t4) {
            var n3;
            n3 = s3, aa(t4, function(t5, e4) {
              Hf(n3, t5, e4);
            });
          }, s3.authTokenProvider_, s3.appCheckProvider_, e3), s3.server_ = s3.persistentConnection_;
        }
        s3.authTokenProvider_.addTokenChangeListener(function(t4) {
          s3.server_.refreshAuthToken(t4);
        }), s3.appCheckProvider_.addTokenChangeListener(function(t4) {
          s3.server_.refreshAppCheckToken(t4.token);
        }), s3.statsReporter_ = (t3 = s3.repoInfo_, e3 = function() {
          return new nh(s3.stats_, s3.server_);
        }, t3 = t3.toString(), Ra[t3] || (Ra[t3] = e3()), Ra[t3]), s3.infoData_ = new Qc(), s3.infoSyncTree_ = new Pl({ startListening: function(t4, e4, n3, r3) {
          var i3 = [], o3 = s3.infoData_.getNode(t4._path);
          return o3.isEmpty() || (i3 = Ll(s3.infoSyncTree_, t4._path, o3), setTimeout(function() {
            r3("ok");
          }, 0)), i3;
        }, stopListening: function() {
        } }), Hf(s3, "connected", false), s3.serverSyncTree_ = new Pl({ startListening: function(n3, t4, e4, r3) {
          return s3.server_.listen(n3, e4, t4, function(t5, e5) {
            e5 = r3(t5, e5);
            xf(s3.eventQueue_, n3._path, e5);
          }), [];
        }, stopListening: function(t4, e4) {
          s3.server_.unlisten(t4, e4);
        } });
      }
      function Vf(t3) {
        t3 = t3.infoData_.getNode(new eu(".info/serverTimeOffset")).val() || 0;
        return new Date().getTime() + t3;
      }
      function Bf(t3) {
        return tf({ timestamp: Vf(t3) });
      }
      function Kf(t3, e3, n3, r3, i3) {
        t3.dataUpdateCount++;
        var o3 = new eu(e3);
        n3 = t3.interceptServerDataCallback_ ? t3.interceptServerDataCallback_(e3, n3) : n3;
        var s3, a3, u3, c3, h3 = [], e3 = o3;
        0 < (h3 = i3 ? r3 ? (s3 = Mo(n3, function(t4) {
          return gc(t4);
        }), function(t4, e4, n4, r4) {
          var i4 = Hl(t4, r4);
          if (i4) {
            r4 = zl(i4), i4 = r4.path, r4 = r4.queryId, e4 = fu(i4, e4), n4 = kh.fromObject(n4);
            return Gl(t4, i4, new ph(sh(r4), e4, n4));
          }
          return [];
        }(t3.serverSyncTree_, o3, s3, i3)) : (c3 = gc(n3), s3 = t3.serverSyncTree_, a3 = o3, u3 = c3, null == (i3 = Hl(s3, c3 = i3)) ? [] : (c3 = zl(i3), i3 = c3.path, c3 = c3.queryId, a3 = fu(i3, a3), Gl(s3, i3, new lh(sh(c3), a3, u3)))) : r3 ? (c3 = Mo(n3, function(t4) {
          return gc(t4);
        }), a3 = t3.serverSyncTree_, u3 = o3, r3 = c3, r3 = kh.fromObject(c3), ql(a3, new ph(oh(), u3, r3))) : (n3 = gc(n3), Ll(t3.serverSyncTree_, o3, n3))).length && (e3 = np(t3, o3)), xf(t3.eventQueue_, e3, h3);
      }
      function Wf(t3, e3) {
        Hf(t3, "connected", e3), false === e3 && function(n3) {
          Jf(n3, "onDisconnectEvents");
          var r3 = Bf(n3), i3 = Xc();
          Jc(n3.onDisconnect_, ru(), function(t4, e4) {
            e4 = of(t4, e4, n3.serverSyncTree_, r3);
            $c(i3, t4, e4);
          });
          var o3 = [];
          Jc(i3, ru(), function(t4, e4) {
            o3 = o3.concat(Ll(n3.serverSyncTree_, t4, e4));
            t4 = sp(n3, t4);
            np(n3, t4);
          }), n3.onDisconnect_ = Xc(), xf(n3.eventQueue_, ru(), o3);
        }(t3);
      }
      function Hf(t3, e3, n3) {
        e3 = new eu("/.info/" + e3), n3 = gc(n3);
        t3.infoData_.updateSnapshot(e3, n3);
        n3 = Ll(t3.infoSyncTree_, e3, n3);
        xf(t3.eventQueue_, e3, n3);
      }
      function zf(t3) {
        return t3.nextWriteId_++;
      }
      function Gf(r3, i3, t3, e3, o3) {
        Jf(r3, "set", { path: i3.toString(), value: t3, priority: e3 });
        var n3 = Bf(r3), t3 = gc(t3, e3), e3 = jl(r3.serverSyncTree_, i3), n3 = sf(t3, e3, n3), s3 = zf(r3), n3 = Ol(r3.serverSyncTree_, i3, n3, s3, true);
        Of(r3.eventQueue_, n3), r3.server_.put(i3.toString(), t3.val(true), function(t4, e4) {
          var n4 = "ok" === t4;
          n4 || na("set at " + i3 + " failed: " + t4);
          n4 = xl(r3.serverSyncTree_, s3, !n4);
          xf(r3.eventQueue_, i3, n4), Zf(0, o3, t4, e4);
        });
        t3 = sp(r3, i3);
        np(r3, t3), xf(r3.eventQueue_, t3, []);
      }
      function Qf(n3, r3, i3) {
        n3.server_.onDisconnectCancel(r3.toString(), function(t3, e3) {
          "ok" === t3 && !function t4(n4, e4) {
            if (lu(e4))
              return n4.value = null, n4.children.clear(), true;
            if (null !== n4.value) {
              if (n4.value.isLeafNode())
                return false;
              var r4 = n4.value;
              return n4.value = null, r4.forEachChild(Zu, function(t5, e5) {
                $c(n4, new eu(t5), e5);
              }), t4(n4, e4);
            }
            if (0 < n4.children.size)
              return r4 = iu(e4), e4 = su(e4), n4.children.has(r4) && t4(n4.children.get(r4), e4) && n4.children.delete(r4), 0 === n4.children.size;
            return true;
          }(n3.onDisconnect_, r3), Zf(0, i3, t3, e3);
        });
      }
      function Yf(n3, r3, t3, i3) {
        var o3 = gc(t3);
        n3.server_.onDisconnectPut(r3.toString(), o3.val(true), function(t4, e3) {
          "ok" === t4 && $c(n3.onDisconnect_, r3, o3), Zf(0, i3, t4, e3);
        });
      }
      function Xf(t3, e3, n3) {
        n3 = ".info" === iu(e3._path) ? Ml(t3.infoSyncTree_, e3, n3) : Ml(t3.serverSyncTree_, e3, n3);
        Df(t3.eventQueue_, e3._path, n3);
      }
      function $f(t3) {
        t3.persistentConnection_ && t3.persistentConnection_.interrupt(Mf);
      }
      function Jf(t3) {
        for (var e3 = [], n3 = 1; n3 < arguments.length; n3++)
          e3[n3 - 1] = arguments[n3];
        var r3 = "";
        t3.persistentConnection_ && (r3 = t3.persistentConnection_.id + ":"), Zs.apply(void 0, Zi([r3], Ji(e3)));
      }
      function Zf(t3, n3, r3, i3) {
        n3 && da(function() {
          var t4, e3;
          "ok" === r3 ? n3(null) : (e3 = t4 = (r3 || "error").toUpperCase(), i3 && (e3 += ": " + i3), (e3 = new Error(e3)).code = t4, n3(e3));
        });
      }
      function tp(t3, e3, n3) {
        return jl(t3.serverSyncTree_, e3, n3) || hc.EMPTY_NODE;
      }
      function ep(e3, t3) {
        var n3;
        (t3 = void 0 === t3 ? e3.transactionQueueTree_ : t3) || op(e3, t3), hf(t3) ? (n3 = ip(e3, t3), io(0 < n3.length, "Sending zero length transaction queue"), n3.every(function(t4) {
          return 0 === t4.status;
        }) && function(i3, o3, s3) {
          for (var t4 = s3.map(function(t5) {
            return t5.currentWriteId;
          }), e4 = tp(i3, o3, t4), n4 = e4, t4 = e4.hash(), r3 = 0; r3 < s3.length; r3++) {
            var a3 = s3[r3];
            io(0 === a3.status, "tryToSendTransactionQueue_: items in queue should all be run."), a3.status = 1, a3.retryCount++;
            var u3 = fu(o3, a3.path);
            n4 = n4.updateChild(u3, a3.currentOutputSnapshotRaw);
          }
          var e4 = n4.val(true), c3 = o3;
          i3.server_.put(c3.toString(), e4, function(t5) {
            Jf(i3, "transaction put response", { path: c3.toString(), status: t5 });
            var e5 = [];
            if ("ok" === t5) {
              for (var n5 = [], r4 = 0; r4 < s3.length; r4++)
                !function(t6) {
                  s3[t6].status = 2, e5 = e5.concat(xl(i3.serverSyncTree_, s3[t6].currentWriteId)), s3[t6].onComplete && n5.push(function() {
                    return s3[t6].onComplete(null, true, s3[t6].currentOutputSnapshotResolved);
                  }), s3[t6].unwatcher();
                }(r4);
              op(i3, cf(i3.transactionQueueTree_, o3)), ep(i3, i3.transactionQueueTree_), xf(i3.eventQueue_, o3, e5);
              for (r4 = 0; r4 < n5.length; r4++)
                da(n5[r4]);
            } else {
              if ("datastale" === t5)
                for (r4 = 0; r4 < s3.length; r4++)
                  3 === s3[r4].status ? s3[r4].status = 4 : s3[r4].status = 0;
              else {
                na("transaction at " + c3.toString() + " failed: " + t5);
                for (r4 = 0; r4 < s3.length; r4++)
                  s3[r4].status = 4, s3[r4].abortReason = t5;
              }
              np(i3, o3);
            }
          }, t4);
        }(e3, df(t3), n3)) : ff(t3) && pf(t3, function(t4) {
          ep(e3, t4);
        });
      }
      function np(t3, e3) {
        var n3 = rp(t3, e3), e3 = df(n3);
        return function(u3, c3, h3) {
          if (0 !== c3.length) {
            for (var l3 = [], f3 = [], p3 = c3.filter(function(t5) {
              return 0 === t5.status;
            }).map(function(t5) {
              return t5.currentWriteId;
            }), t4 = 0; t4 < c3.length; t4++)
              !function(t5) {
                var e4, n4, r3, i3, o3 = c3[t5], s3 = fu(h3, o3.path), a3 = false;
                io(null !== s3, "rerunTransactionsUnderNode_: relativePath should not be null."), 4 === o3.status ? (e4 = o3.abortReason, f3 = f3.concat(xl(u3.serverSyncTree_, o3.currentWriteId, a3 = true))) : 0 === o3.status && (f3 = o3.retryCount >= Ff ? (e4 = "maxretry", f3.concat(xl(u3.serverSyncTree_, o3.currentWriteId, a3 = true))) : (n4 = tp(u3, o3.path, p3), o3.currentInputSnapshot = n4, void 0 !== (i3 = c3[t5].update(n4.val())) ? (kf("transaction failed: Data returned ", i3, o3.path), r3 = gc(i3), "object" == typeof i3 && null != i3 && Do(i3, ".priority") || (r3 = r3.updatePriority(n4.getPriority())), s3 = o3.currentWriteId, i3 = Bf(u3), i3 = sf(r3, n4, i3), o3.currentOutputSnapshotRaw = r3, o3.currentOutputSnapshotResolved = i3, o3.currentWriteId = zf(u3), p3.splice(p3.indexOf(s3), 1), (f3 = f3.concat(Ol(u3.serverSyncTree_, o3.path, i3, o3.currentWriteId, o3.applyLocally))).concat(xl(u3.serverSyncTree_, s3, true))) : (e4 = "nodata", f3.concat(xl(u3.serverSyncTree_, o3.currentWriteId, a3 = true))))), xf(u3.eventQueue_, h3, f3), f3 = [], a3 && (c3[t5].status = 2, a3 = c3[t5].unwatcher, setTimeout(a3, Math.floor(0)), c3[t5].onComplete && ("nodata" === e4 ? l3.push(function() {
                  return c3[t5].onComplete(null, false, c3[t5].currentInputSnapshot);
                }) : l3.push(function() {
                  return c3[t5].onComplete(new Error(e4), false, null);
                })));
              }(t4);
            op(u3, u3.transactionQueueTree_);
            for (t4 = 0; t4 < l3.length; t4++)
              da(l3[t4]);
            ep(u3, u3.transactionQueueTree_);
          }
        }(t3, ip(t3, n3), e3), e3;
      }
      function rp(t3, e3) {
        for (var n3 = t3.transactionQueueTree_, r3 = iu(e3); null !== r3 && void 0 === hf(n3); )
          n3 = cf(n3, r3), r3 = iu(e3 = su(e3));
        return n3;
      }
      function ip(t3, e3) {
        var n3 = [];
        return function e4(n4, t4, r3) {
          var i3 = hf(t4);
          if (i3)
            for (var o3 = 0; o3 < i3.length; o3++)
              r3.push(i3[o3]);
          pf(t4, function(t5) {
            e4(n4, t5, r3);
          });
        }(t3, e3, n3), n3.sort(function(t4, e4) {
          return t4.order - e4.order;
        }), n3;
      }
      function op(e3, t3) {
        var n3 = hf(t3);
        if (n3) {
          for (var r3 = 0, i3 = 0; i3 < n3.length; i3++)
            2 !== n3[i3].status && (n3[r3] = n3[i3], r3++);
          n3.length = r3, lf(t3, 0 < n3.length ? n3 : void 0);
        }
        pf(t3, function(t4) {
          op(e3, t4);
        });
      }
      function sp(e3, t3) {
        var n3 = df(rp(e3, t3)), t3 = cf(e3.transactionQueueTree_, t3);
        return function(t4, e4, n4) {
          for (var r3 = n4 ? t4 : t4.parent; null !== r3; ) {
            if (e4(r3))
              return;
            r3 = r3.parent;
          }
        }(t3, function(t4) {
          ap(e3, t4);
        }), ap(e3, t3), function e4(t4, n4, r3, i3) {
          r3 && !i3 && n4(t4), pf(t4, function(t5) {
            e4(t5, n4, true, i3);
          }), r3 && i3 && n4(t4);
        }(t3, function(t4) {
          ap(e3, t4);
        }), n3;
      }
      function ap(t3, e3) {
        var n3 = hf(e3);
        if (n3) {
          for (var r3 = [], i3 = [], o3 = -1, s3 = 0; s3 < n3.length; s3++)
            3 === n3[s3].status || (1 === n3[s3].status ? (io(o3 === s3 - 1, "All SENT items should be at beginning of queue."), n3[o3 = s3].status = 3, n3[s3].abortReason = "set") : (io(0 === n3[s3].status, "Unexpected transaction status in abort"), n3[s3].unwatcher(), i3 = i3.concat(xl(t3.serverSyncTree_, n3[s3].currentWriteId, true)), n3[s3].onComplete && r3.push(n3[s3].onComplete.bind(null, new Error("set"), false, null))));
          -1 === o3 ? lf(e3, void 0) : n3.length = o3 + 1, xf(t3.eventQueue_, df(e3), i3);
          for (s3 = 0; s3 < r3.length; s3++)
            da(r3[s3]);
        }
      }
      var up = function(t3, e3) {
        var n3 = cp(t3), r3 = n3.namespace;
        "firebase.com" === n3.domain && ea(n3.host + " is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"), r3 && "undefined" !== r3 || "localhost" === n3.domain || ea("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"), n3.secure || "undefined" != typeof window && window.location && window.location.protocol && -1 !== window.location.protocol.indexOf("https:") && na("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");
        t3 = "ws" === n3.scheme || "wss" === n3.scheme;
        return { repoInfo: new Ea(n3.host, n3.secure, r3, e3, t3, "", r3 !== n3.subdomain), path: new eu(n3.pathString) };
      }, cp = function(t3) {
        var e3, n3, r3, i3 = "", o3 = "", s3 = "", a3 = "", u3 = "", c3 = true, h3 = "https", l3 = 443;
        return "string" == typeof t3 && (0 <= (r3 = t3.indexOf("//")) && (h3 = t3.substring(0, r3 - 1), t3 = t3.substring(r3 + 2)), -1 === (e3 = t3.indexOf("/")) && (e3 = t3.length), -1 === (n3 = t3.indexOf("?")) && (n3 = t3.length), i3 = t3.substring(0, Math.min(e3, n3)), e3 < n3 && (a3 = function(t4) {
          for (var e4 = "", n4 = t4.split("/"), r4 = 0; r4 < n4.length; r4++)
            if (0 < n4[r4].length) {
              var i4 = n4[r4];
              try {
                i4 = decodeURIComponent(i4.replace(/\+/g, " "));
              } catch (t5) {
              }
              e4 += "/" + i4;
            }
          return e4;
        }(t3.substring(e3, n3))), n3 = function(t4) {
          var e4, n4, r4 = {};
          "?" === t4.charAt(0) && (t4 = t4.substring(1));
          try {
            for (var i4 = $i(t4.split("&")), o4 = i4.next(); !o4.done; o4 = i4.next()) {
              var s4, a4 = o4.value;
              0 !== a4.length && (2 === (s4 = a4.split("=")).length ? r4[decodeURIComponent(s4[0])] = decodeURIComponent(s4[1]) : na("Invalid query segment '" + a4 + "' in query '" + t4 + "'"));
            }
          } catch (t5) {
            e4 = { error: t5 };
          } finally {
            try {
              o4 && !o4.done && (n4 = i4.return) && n4.call(i4);
            } finally {
              if (e4)
                throw e4.error;
            }
          }
          return r4;
        }(t3.substring(Math.min(t3.length, n3))), 0 <= (r3 = i3.indexOf(":")) ? (c3 = "https" === h3 || "wss" === h3, l3 = parseInt(i3.substring(r3 + 1), 10)) : r3 = i3.length, "localhost" === (r3 = i3.slice(0, r3)).toLowerCase() ? o3 = "localhost" : r3.split(".").length <= 2 ? o3 = r3 : (r3 = i3.indexOf("."), s3 = i3.substring(0, r3).toLowerCase(), o3 = i3.substring(r3 + 1), u3 = s3), "ns" in n3 && (u3 = n3.ns)), { host: i3, port: l3, domain: o3, subdomain: s3, secure: c3, scheme: h3, pathString: a3, namespace: u3 };
      }, hp = (lp.prototype.getPath = function() {
        var t3 = this.snapshot.ref;
        return ("value" === this.eventType ? t3 : t3.parent)._path;
      }, lp.prototype.getEventType = function() {
        return this.eventType;
      }, lp.prototype.getEventRunner = function() {
        return this.eventRegistration.getEventRunner(this);
      }, lp.prototype.toString = function() {
        return this.getPath().toString() + ":" + this.eventType + ":" + Po(this.snapshot.exportVal());
      }, lp);
      function lp(t3, e3, n3, r3) {
        this.eventType = t3, this.eventRegistration = e3, this.snapshot = n3, this.prevName = r3;
      }
      var fp = (pp.prototype.getPath = function() {
        return this.path;
      }, pp.prototype.getEventType = function() {
        return "cancel";
      }, pp.prototype.getEventRunner = function() {
        return this.eventRegistration.getEventRunner(this);
      }, pp.prototype.toString = function() {
        return this.path.toString() + ":cancel";
      }, pp);
      function pp(t3, e3, n3) {
        this.eventRegistration = t3, this.error = e3, this.path = n3;
      }
      var dp = (gp.prototype.onValue = function(t3, e3) {
        this.snapshotCallback.call(null, t3, e3);
      }, gp.prototype.onCancel = function(t3) {
        return io(this.hasCancelCallback, "Raising a cancel event on a listener with no cancel callback"), this.cancelCallback.call(null, t3);
      }, Object.defineProperty(gp.prototype, "hasCancelCallback", { get: function() {
        return !!this.cancelCallback;
      }, enumerable: false, configurable: true }), gp.prototype.matches = function(t3) {
        return this.snapshotCallback === t3.snapshotCallback || void 0 !== this.snapshotCallback.userCallback && this.snapshotCallback.userCallback === t3.snapshotCallback.userCallback && this.snapshotCallback.context === t3.snapshotCallback.context;
      }, gp);
      function gp(t3, e3) {
        this.snapshotCallback = t3, this.cancelCallback = e3;
      }
      var vp = (yp.prototype.cancel = function() {
        var t3 = new ho();
        return Qf(this._repo, this._path, t3.wrapCallback(function() {
        })), t3.promise;
      }, yp.prototype.remove = function() {
        Nf("OnDisconnect.remove", this._path);
        var t3 = new ho();
        return Yf(this._repo, this._path, null, t3.wrapCallback(function() {
        })), t3.promise;
      }, yp.prototype.set = function(t3) {
        Nf("OnDisconnect.set", this._path), Sf("OnDisconnect.set", t3, this._path, false);
        var e3 = new ho();
        return Yf(this._repo, this._path, t3, e3.wrapCallback(function() {
        })), e3.promise;
      }, yp.prototype.setWithPriority = function(t3, e3) {
        Nf("OnDisconnect.setWithPriority", this._path), Sf("OnDisconnect.setWithPriority", t3, this._path, false), bf("OnDisconnect.setWithPriority", e3, false);
        var n3, r3, i3, o3, s3 = new ho();
        return n3 = this._repo, r3 = this._path, t3 = t3, e3 = e3, i3 = s3.wrapCallback(function() {
        }), o3 = gc(t3, e3), n3.server_.onDisconnectPut(r3.toString(), o3.val(true), function(t4, e4) {
          "ok" === t4 && $c(n3.onDisconnect_, r3, o3), Zf(0, i3, t4, e4);
        }), s3.promise;
      }, yp.prototype.update = function(t3) {
        Nf("OnDisconnect.update", this._path), mf("OnDisconnect.update", t3, this._path, false);
        var e3 = new ho();
        return function(n3, r3, i3, o3) {
          if (Lo(i3))
            return Zs("onDisconnect().update() called with empty data.  Don't do anything."), Zf(0, o3, "ok", void 0);
          n3.server_.onDisconnectMerge(r3.toString(), i3, function(t4, e4) {
            "ok" === t4 && aa(i3, function(t5, e5) {
              e5 = gc(e5);
              $c(n3.onDisconnect_, hu(r3, t5), e5);
            }), Zf(0, o3, t4, e4);
          });
        }(this._repo, this._path, t3, e3.wrapCallback(function() {
        })), e3.promise;
      }, yp);
      function yp(t3, e3) {
        this._repo = t3, this._path = e3;
      }
      var mp = (Object.defineProperty(bp.prototype, "key", { get: function() {
        return lu(this._path) ? null : au(this._path);
      }, enumerable: false, configurable: true }), Object.defineProperty(bp.prototype, "ref", { get: function() {
        return new Ep(this._repo, this._path);
      }, enumerable: false, configurable: true }), Object.defineProperty(bp.prototype, "_queryIdentifier", { get: function() {
        var t3 = Wc(this._queryParams), t3 = sa(t3);
        return "{}" === t3 ? "default" : t3;
      }, enumerable: false, configurable: true }), Object.defineProperty(bp.prototype, "_queryObject", { get: function() {
        return Wc(this._queryParams);
      }, enumerable: false, configurable: true }), bp.prototype.isEqual = function(t3) {
        if (!((t3 = ts(t3)) instanceof bp))
          return false;
        var e3 = this._repo === t3._repo, n3 = du(this._path, t3._path), t3 = this._queryIdentifier === t3._queryIdentifier;
        return e3 && n3 && t3;
      }, bp.prototype.toJSON = function() {
        return this.toString();
      }, bp.prototype.toString = function() {
        return this._repo.toString() + function(t3) {
          for (var e3 = "", n3 = t3.pieceNum_; n3 < t3.pieces_.length; n3++)
            "" !== t3.pieces_[n3] && (e3 += "/" + encodeURIComponent(String(t3.pieces_[n3])));
          return e3 || "/";
        }(this._path);
      }, bp);
      function bp(t3, e3, n3, r3) {
        this._repo = t3, this._path = e3, this._queryParams = n3, this._orderByCalled = r3;
      }
      function _p(t3, e3) {
        if (true === t3._orderByCalled)
          throw new Error(e3 + ": You can't combine multiple orderBy calls.");
      }
      function wp(t3) {
        var e3 = null, n3 = null;
        if (t3.hasStart() && (e3 = t3.getIndexStartValue()), t3.hasEnd() && (n3 = t3.getIndexEndValue()), t3.getIndex() === Du) {
          var r3 = "Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().", i3 = "Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";
          if (t3.hasStart()) {
            if (t3.getIndexStartName() !== ra)
              throw new Error(r3);
            if ("string" != typeof e3)
              throw new Error(i3);
          }
          if (t3.hasEnd()) {
            if (t3.getIndexEndName() !== ia)
              throw new Error(r3);
            if ("string" != typeof n3)
              throw new Error(i3);
          }
        } else if (t3.getIndex() === Zu) {
          if (null != e3 && !Ef(e3) || null != n3 && !Ef(n3))
            throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).");
        } else if (io(t3.getIndex() instanceof mc || t3.getIndex() === Sc, "unknown index type."), null != e3 && "object" == typeof e3 || null != n3 && "object" == typeof n3)
          throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.");
      }
      function Tp(t3) {
        if (t3.hasStart() && t3.hasEnd() && t3.hasLimit() && !t3.hasAnchoredLimit())
          throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.");
      }
      var Ip, Ep = (Gi(Sp, Ip = mp), Object.defineProperty(Sp.prototype, "parent", { get: function() {
        var t3 = cu(this._path);
        return null === t3 ? null : new Sp(this._repo, t3);
      }, enumerable: false, configurable: true }), Object.defineProperty(Sp.prototype, "root", { get: function() {
        for (var t3 = this; null !== t3.parent; )
          t3 = t3.parent;
        return t3;
      }, enumerable: false, configurable: true }), Sp);
      function Sp(t3, e3) {
        return Ip.call(this, t3, e3, new jc(), false) || this;
      }
      var kp = (Object.defineProperty(Cp.prototype, "priority", { get: function() {
        return this._node.getPriority().val();
      }, enumerable: false, configurable: true }), Object.defineProperty(Cp.prototype, "key", { get: function() {
        return this.ref.key;
      }, enumerable: false, configurable: true }), Object.defineProperty(Cp.prototype, "size", { get: function() {
        return this._node.numChildren();
      }, enumerable: false, configurable: true }), Cp.prototype.child = function(t3) {
        var e3 = new eu(t3), t3 = Rp(this.ref, t3);
        return new Cp(this._node.getChild(e3), t3, Zu);
      }, Cp.prototype.exists = function() {
        return !this._node.isEmpty();
      }, Cp.prototype.exportVal = function() {
        return this._node.val(true);
      }, Cp.prototype.forEach = function(n3) {
        var r3 = this;
        return !this._node.isLeafNode() && !!this._node.forEachChild(this._index, function(t3, e3) {
          return n3(new Cp(e3, Rp(r3.ref, t3), Zu));
        });
      }, Cp.prototype.hasChild = function(t3) {
        t3 = new eu(t3);
        return !this._node.getChild(t3).isEmpty();
      }, Cp.prototype.hasChildren = function() {
        return !this._node.isLeafNode() && !this._node.isEmpty();
      }, Cp.prototype.toJSON = function() {
        return this.exportVal();
      }, Cp.prototype.val = function() {
        return this._node.val();
      }, Cp);
      function Cp(t3, e3, n3) {
        this._node = t3, this.ref = e3, this._index = n3;
      }
      function Ap(t3, e3) {
        return (t3 = ts(t3))._checkNotDeleted("ref"), void 0 !== e3 ? Rp(t3._root, e3) : t3._root;
      }
      function Np(t3, e3) {
        (t3 = ts(t3))._checkNotDeleted("refFromURL");
        var n3 = up(e3, t3._repo.repoInfo_.nodeAdmin);
        Rf("refFromURL", n3);
        e3 = n3.repoInfo;
        return t3._repo.repoInfo_.isCustomHost() || e3.host === t3._repo.repoInfo_.host || ea("refFromURL: Host name does not match the current database: (found " + e3.host + " but expected " + t3._repo.repoInfo_.host + ")"), Ap(t3, n3.path.toString());
      }
      function Rp(t3, e3) {
        return (null === iu((t3 = ts(t3))._path) ? Af : Cf)("child", "path", e3, false), new Ep(t3._repo, hu(t3._path, e3));
      }
      function Pp(t3, e3) {
        t3 = ts(t3), Nf("set", t3._path), Sf("set", e3, t3._path, false);
        var n3 = new ho();
        return Gf(t3._repo, t3._path, e3, null, n3.wrapCallback(function() {
        })), n3.promise;
      }
      function Op(t3, e3) {
        mf("update", e3, t3._path, false);
        var n3 = new ho();
        return function(i3, o3, t4, s3) {
          Jf(i3, "update", { path: o3.toString(), value: t4 });
          var a3, e4, n4 = true, r3 = Bf(i3), u3 = {};
          aa(t4, function(t5, e5) {
            n4 = false, u3[t5] = of(hu(o3, t5), gc(e5), i3.serverSyncTree_, r3);
          }), n4 ? (Zs("update() called with empty data.  Don't do anything."), Zf(0, s3, "ok", void 0)) : (a3 = zf(i3), e4 = Dl(i3.serverSyncTree_, o3, u3, a3), Of(i3.eventQueue_, e4), i3.server_.merge(o3.toString(), t4, function(t5, e5) {
            var n5 = "ok" === t5;
            n5 || na("update at " + o3 + " failed: " + t5);
            var r4 = xl(i3.serverSyncTree_, a3, !n5), n5 = 0 < r4.length ? np(i3, o3) : o3;
            xf(i3.eventQueue_, n5, r4), Zf(0, s3, t5, e5);
          }), aa(t4, function(t5) {
            t5 = sp(i3, hu(o3, t5));
            np(i3, t5);
          }), xf(i3.eventQueue_, o3, []));
        }(t3._repo, t3._path, e3, n3.wrapCallback(function() {
        })), n3.promise;
      }
      function Dp(e3) {
        return e3 = ts(e3), n3 = e3._repo, r3 = e3, (null != (t3 = Ul(n3.serverSyncTree_, r3)) ? Promise.resolve(t3) : n3.server_.get(r3).then(function(t4) {
          var e4 = gc(t4).withIndex(r3._queryParams.getIndex()), t4 = Ll(n3.serverSyncTree_, r3._path, e4);
          return Df(n3.eventQueue_, r3._path, t4), Promise.resolve(e4);
        }, function(t4) {
          return Jf(n3, "get for query " + Po(r3) + " failed: " + t4), Promise.reject(new Error(t4));
        })).then(function(t4) {
          return new kp(t4, new Ep(e3._repo, e3._path), e3._queryParams.getIndex());
        });
        var n3, r3, t3;
      }
      var xp = (Lp.prototype.respondsTo = function(t3) {
        return "value" === t3;
      }, Lp.prototype.createEvent = function(t3, e3) {
        var n3 = e3._queryParams.getIndex();
        return new hp("value", this, new kp(t3.snapshotNode, new Ep(e3._repo, e3._path), n3));
      }, Lp.prototype.getEventRunner = function(t3) {
        var e3 = this;
        return "cancel" === t3.getEventType() ? function() {
          return e3.callbackContext.onCancel(t3.error);
        } : function() {
          return e3.callbackContext.onValue(t3.snapshot, null);
        };
      }, Lp.prototype.createCancelEvent = function(t3, e3) {
        return this.callbackContext.hasCancelCallback ? new fp(this, t3, e3) : null;
      }, Lp.prototype.matches = function(t3) {
        return t3 instanceof Lp && (!t3.callbackContext || !this.callbackContext || t3.callbackContext.matches(this.callbackContext));
      }, Lp.prototype.hasAnyCallback = function() {
        return null !== this.callbackContext;
      }, Lp);
      function Lp(t3) {
        this.callbackContext = t3;
      }
      var Mp = (Fp.prototype.respondsTo = function(t3) {
        t3 = "children_added" === t3 ? "child_added" : t3;
        return this.eventType === (t3 = "children_removed" === t3 ? "child_removed" : t3);
      }, Fp.prototype.createCancelEvent = function(t3, e3) {
        return this.callbackContext.hasCancelCallback ? new fp(this, t3, e3) : null;
      }, Fp.prototype.createEvent = function(t3, e3) {
        io(null != t3.childName, "Child events should have a childName.");
        var n3 = Rp(new Ep(e3._repo, e3._path), t3.childName), e3 = e3._queryParams.getIndex();
        return new hp(t3.type, this, new kp(t3.snapshotNode, n3, e3), t3.prevName);
      }, Fp.prototype.getEventRunner = function(t3) {
        var e3 = this;
        return "cancel" === t3.getEventType() ? function() {
          return e3.callbackContext.onCancel(t3.error);
        } : function() {
          return e3.callbackContext.onValue(t3.snapshot, t3.prevName);
        };
      }, Fp.prototype.matches = function(t3) {
        return t3 instanceof Fp && (this.eventType === t3.eventType && (!this.callbackContext || !t3.callbackContext || this.callbackContext.matches(t3.callbackContext)));
      }, Fp.prototype.hasAnyCallback = function() {
        return !!this.callbackContext;
      }, Fp);
      function Fp(t3, e3) {
        this.eventType = t3, this.callbackContext = e3;
      }
      function jp(n3, t3, e3, r3, i3) {
        var o3;
        "object" == typeof r3 && (s3 = void 0, i3 = r3), "function" == typeof r3 && (s3 = r3), i3 && i3.onlyOnce && ((i3 = function(t4, e4) {
          Xf(n3._repo, n3, a3), o3(t4, e4);
        }).userCallback = (o3 = e3).userCallback, i3.context = e3.context, e3 = i3);
        var s3, e3 = new dp(e3, s3 || void 0), a3 = "value" === t3 ? new xp(e3) : new Mp(t3, e3);
        return s3 = n3._repo, t3 = a3, t3 = ".info" === iu((e3 = n3)._path) ? Fl(s3.infoSyncTree_, e3, t3) : Fl(s3.serverSyncTree_, e3, t3), Df(s3.eventQueue_, e3._path, t3), function() {
          return Xf(n3._repo, n3, a3);
        };
      }
      function Up(t3, e3, n3, r3) {
        return jp(t3, "value", e3, n3, r3);
      }
      function qp(t3, e3, n3, r3) {
        return jp(t3, "child_added", e3, n3, r3);
      }
      function Vp(t3, e3, n3, r3) {
        return jp(t3, "child_changed", e3, n3, r3);
      }
      function Bp(t3, e3, n3, r3) {
        return jp(t3, "child_moved", e3, n3, r3);
      }
      function Kp(t3, e3, n3, r3) {
        return jp(t3, "child_removed", e3, n3, r3);
      }
      function Wp(t3, e3, n3) {
        var r3 = null, n3 = n3 ? new dp(n3) : null;
        "value" === e3 ? r3 = new xp(n3) : e3 && (r3 = new Mp(e3, n3)), Xf(t3._repo, t3, r3);
      }
      var Hp, fr = function() {
      }, zp = (Gi(Gp, Hp = fr), Gp.prototype._apply = function(t3) {
        Sf("endAt", this._value, t3._path, true);
        var e3 = Vc(t3._queryParams, this._value, this._key);
        if (Tp(e3), wp(e3), t3._queryParams.hasEnd())
          throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");
        return new mp(t3._repo, t3._path, e3, t3._orderByCalled);
      }, Gp);
      function Gp(t3, e3) {
        var n3 = Hp.call(this) || this;
        return n3._value = t3, n3._key = e3, n3;
      }
      var Qp, Yp = (Gi(Xp, Qp = fr), Xp.prototype._apply = function(t3) {
        Sf("endBefore", this._value, t3._path, false);
        var e3, n3, r3, r3 = (e3 = t3._queryParams, n3 = this._value, r3 = this._key, (r3 = e3.index_ === Du ? Vc(e3, n3 = "string" == typeof n3 ? Tc(n3) : n3, r3) : Vc(e3, n3, null == r3 ? ra : Tc(r3))).endBeforeSet_ = true, r3);
        if (Tp(r3), wp(r3), t3._queryParams.hasEnd())
          throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");
        return new mp(t3._repo, t3._path, r3, t3._orderByCalled);
      }, Xp);
      function Xp(t3, e3) {
        var n3 = Qp.call(this) || this;
        return n3._value = t3, n3._key = e3, n3;
      }
      var $p, Jp = (Gi(Zp, $p = fr), Zp.prototype._apply = function(t3) {
        Sf("startAt", this._value, t3._path, true);
        var e3 = qc(t3._queryParams, this._value, this._key);
        if (Tp(e3), wp(e3), t3._queryParams.hasStart())
          throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");
        return new mp(t3._repo, t3._path, e3, t3._orderByCalled);
      }, Zp);
      function Zp(t3, e3) {
        var n3 = $p.call(this) || this;
        return n3._value = t3, n3._key = e3, n3;
      }
      var td, ed = (Gi(nd, td = fr), nd.prototype._apply = function(t3) {
        Sf("startAfter", this._value, t3._path, false);
        var e3, n3, r3, r3 = (e3 = t3._queryParams, n3 = this._value, r3 = this._key, (r3 = e3.index_ === Du ? qc(e3, n3 = "string" == typeof n3 ? wc(n3) : n3, r3) : qc(e3, n3, null == r3 ? ia : wc(r3))).startAfterSet_ = true, r3);
        if (Tp(r3), wp(r3), t3._queryParams.hasStart())
          throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");
        return new mp(t3._repo, t3._path, r3, t3._orderByCalled);
      }, nd);
      function nd(t3, e3) {
        var n3 = td.call(this) || this;
        return n3._value = t3, n3._key = e3, n3;
      }
      var rd, id = (Gi(od, rd = fr), od.prototype._apply = function(t3) {
        if (t3._queryParams.hasLimit())
          throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");
        return new mp(t3._repo, t3._path, (e3 = t3._queryParams, n3 = this._limit, (e3 = e3.copy()).limitSet_ = true, e3.limit_ = n3, e3.viewFrom_ = "l", e3), t3._orderByCalled);
        var e3, n3;
      }, od);
      function od(t3) {
        var e3 = rd.call(this) || this;
        return e3._limit = t3, e3;
      }
      var sd, ad = (Gi(ud, sd = fr), ud.prototype._apply = function(t3) {
        if (t3._queryParams.hasLimit())
          throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");
        return new mp(t3._repo, t3._path, (e3 = t3._queryParams, n3 = this._limit, (e3 = e3.copy()).limitSet_ = true, e3.limit_ = n3, e3.viewFrom_ = "r", e3), t3._orderByCalled);
        var e3, n3;
      }, ud);
      function ud(t3) {
        var e3 = sd.call(this) || this;
        return e3._limit = t3, e3;
      }
      var cd, hd = (Gi(ld, cd = fr), ld.prototype._apply = function(t3) {
        _p(t3, "orderByChild");
        var e3 = new eu(this._path);
        if (lu(e3))
          throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");
        e3 = new mc(e3), e3 = Bc(t3._queryParams, e3);
        return wp(e3), new mp(t3._repo, t3._path, e3, true);
      }, ld);
      function ld(t3) {
        var e3 = cd.call(this) || this;
        return e3._path = t3, e3;
      }
      var fd, pd = (Gi(dd, fd = fr), dd.prototype._apply = function(t3) {
        _p(t3, "orderByKey");
        var e3 = Bc(t3._queryParams, Du);
        return wp(e3), new mp(t3._repo, t3._path, e3, true);
      }, dd);
      function dd() {
        return null !== fd && fd.apply(this, arguments) || this;
      }
      var gd, vd = (Gi(yd, gd = fr), yd.prototype._apply = function(t3) {
        _p(t3, "orderByPriority");
        var e3 = Bc(t3._queryParams, Zu);
        return wp(e3), new mp(t3._repo, t3._path, e3, true);
      }, yd);
      function yd() {
        return null !== gd && gd.apply(this, arguments) || this;
      }
      var md, bd = (Gi(_d, md = fr), _d.prototype._apply = function(t3) {
        _p(t3, "orderByValue");
        var e3 = Bc(t3._queryParams, Sc);
        return wp(e3), new mp(t3._repo, t3._path, e3, true);
      }, _d);
      function _d() {
        return null !== md && md.apply(this, arguments) || this;
      }
      var wd, Td, Id, Ed = (Gi(Sd, wd = fr), Sd.prototype._apply = function(t3) {
        if (Sf("equalTo", this._value, t3._path, false), t3._queryParams.hasStart())
          throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");
        if (t3._queryParams.hasEnd())
          throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");
        return new zp(this._value, this._key)._apply(new Jp(this._value, this._key)._apply(t3));
      }, Sd);
      function Sd(t3, e3) {
        var n3 = wd.call(this) || this;
        return n3._value = t3, n3._key = e3, n3;
      }
      function kd(t3) {
        for (var e3, n3, r3 = [], i3 = 1; i3 < arguments.length; i3++)
          r3[i3 - 1] = arguments[i3];
        var o3 = ts(t3);
        try {
          for (var s3 = $i(r3), a3 = s3.next(); !a3.done; a3 = s3.next())
            o3 = a3.value._apply(o3);
        } catch (t4) {
          e3 = { error: t4 };
        } finally {
          try {
            a3 && !a3.done && (n3 = s3.return) && n3.call(s3);
          } finally {
            if (e3)
              throw e3.error;
          }
        }
        return o3;
      }
      Td = Ep, io(!ll, "__referenceConstructor has already been defined"), ll = Td, Id = Ep, io(!ml, "__referenceConstructor has already been defined"), ml = Id;
      var Cd = "FIREBASE_DATABASE_EMULATOR_HOST", Ad = {}, Nd = false;
      function Rd(t3, e3, n3, r3, i3) {
        var o3 = r3 || t3.options.databaseURL;
        void 0 === o3 && (t3.options.projectId || ea("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."), Zs("Using default host for project ", t3.options.projectId), o3 = t3.options.projectId + "-default-rtdb.firebaseio.com");
        var s3, a3 = up(o3, i3), u3 = a3.repoInfo, r3 = void 0;
        (r3 = "undefined" != typeof process ? process.env[Cd] : r3) ? (s3 = true, o3 = "http://" + r3 + "?ns=" + u3.namespace, u3 = (a3 = up(o3, i3)).repoInfo) : s3 = !a3.repoInfo.secure;
        e3 = i3 && s3 ? new ba(ba.OWNER) : new ya(t3.name, t3.options, e3);
        Rf("Invalid Firebase Database URL", a3), lu(a3.path) || ea("Database URL must point to the root of a Firebase Database (not including a child path).");
        n3 = function(t4, e4, n4, r4) {
          var i4 = Ad[e4.name];
          i4 || (i4 = {}, Ad[e4.name] = i4);
          (e4 = i4[t4.toURLString()]) && ea("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");
          return e4 = new jf(t4, Nd, n4, r4), i4[t4.toURLString()] = e4;
        }(u3, t3, e3, new ga(t3.name, n3));
        return new Pd(n3, t3);
      }
      var Pd = (Object.defineProperty(Od.prototype, "_repo", { get: function() {
        return this._instanceStarted || (qf(this._repoInternal, this.app.options.appId, this.app.options.databaseAuthVariableOverride), this._instanceStarted = true), this._repoInternal;
      }, enumerable: false, configurable: true }), Object.defineProperty(Od.prototype, "_root", { get: function() {
        return this._rootInternal || (this._rootInternal = new Ep(this._repo, ru())), this._rootInternal;
      }, enumerable: false, configurable: true }), Od.prototype._delete = function() {
        var t3, e3, n3;
        return null !== this._rootInternal && (t3 = this._repo, e3 = this.app.name, (n3 = Ad[e3]) && n3[t3.key] === t3 || ea("Database " + e3 + "(" + t3.repoInfo_ + ") has already been deleted."), $f(t3), delete n3[t3.key], this._repoInternal = null, this._rootInternal = null), Promise.resolve();
      }, Od.prototype._checkNotDeleted = function(t3) {
        null === this._rootInternal && ea("Cannot call " + t3 + " on a deleted database.");
      }, Od);
      function Od(t3, e3) {
        this._repoInternal = t3, this.app = e3, this.type = "database", this._instanceStarted = false;
      }
      function Dd(t3, e3, n3, r3) {
        void 0 === r3 && (r3 = {}), (t3 = ts(t3))._checkNotDeleted("useEmulator"), t3._instanceStarted && ea("Cannot call useEmulator() after instance has already been initialized.");
        var i3 = t3._repoInternal, o3 = void 0;
        i3.repoInfo_.nodeAdmin ? (r3.mockUserToken && ea('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'), o3 = new ba(ba.OWNER)) : r3.mockUserToken && (t3 = "string" == typeof r3.mockUserToken ? r3.mockUserToken : fo(r3.mockUserToken, t3.app.options.projectId), o3 = new ba(t3)), o3 = o3, (i3 = i3).repoInfo_ = new Ea(e3 + ":" + n3, false, i3.repoInfo_.namespace, i3.repoInfo_.webSocketOnly, i3.repoInfo_.nodeAdmin, i3.repoInfo_.persistenceKey, i3.repoInfo_.includeNamespaceInQueryParams), o3 && (i3.authTokenProvider_ = o3);
      }
      function xd(t3) {
        (t3 = ts(t3))._checkNotDeleted("goOnline"), (t3 = t3._repo).persistentConnection_ && t3.persistentConnection_.resume(Mf);
      }
      var Ld = { ".sv": "timestamp" };
      var Md = (Fd.prototype.toJSON = function() {
        return { committed: this.committed, snapshot: this.snapshot.toJSON() };
      }, Fd);
      function Fd(t3, e3) {
        this.committed = t3, this.snapshot = e3;
      }
      function jd(i3, t3, e3) {
        if (i3 = ts(i3), Nf("Reference.transaction", i3._path), ".length" === i3.key || ".keys" === i3.key)
          throw "Reference.transaction failed: " + i3.key + " is a read-only object.";
        var e3 = null === (n3 = null == e3 ? void 0 : e3.applyLocally) || void 0 === n3 || n3, o3 = new ho(), n3 = Up(i3, function() {
        });
        return function(t4, e4, n4, r3, i4, o4) {
          Jf(t4, "transaction on " + e4);
          var s3 = { path: e4, update: n4, onComplete: r3, status: null, order: Ys(), applyLocally: o4, retryCount: 0, unwatcher: i4, abortReason: null, currentWriteId: null, currentInputSnapshot: null, currentOutputSnapshotRaw: null, currentOutputSnapshotResolved: null }, n4 = tp(t4, e4, void 0);
          s3.currentInputSnapshot = n4, void 0 === (r3 = s3.update(n4.val())) ? (s3.unwatcher(), s3.currentOutputSnapshotRaw = null, s3.currentOutputSnapshotResolved = null, s3.onComplete && s3.onComplete(null, false, s3.currentInputSnapshot)) : (kf("transaction failed: Data returned ", r3, s3.path), s3.status = 0, (i4 = hf(o4 = cf(t4.transactionQueueTree_, e4)) || []).push(s3), lf(o4, i4), o4 = void 0, "object" == typeof r3 && null !== r3 && Do(r3, ".priority") ? (o4 = xo(r3, ".priority"), io(Ef(o4), "Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")) : o4 = (jl(t4.serverSyncTree_, e4) || hc.EMPTY_NODE).getPriority().val(), i4 = Bf(t4), o4 = gc(r3, o4), i4 = sf(o4, n4, i4), s3.currentOutputSnapshotRaw = o4, s3.currentOutputSnapshotResolved = i4, s3.currentWriteId = zf(t4), s3 = Ol(t4.serverSyncTree_, e4, i4, s3.currentWriteId, s3.applyLocally), xf(t4.eventQueue_, e4, s3), ep(t4, t4.transactionQueueTree_));
        }(i3._repo, i3._path, t3, function(t4, e4, n4) {
          var r3;
          t4 ? o3.reject(t4) : (r3 = new kp(n4, new Ep(i3._repo, i3._path), Zu), o3.resolve(new Md(e4, r3)));
        }, n3, e3), o3.promise;
      }
      var Ud = (qd.prototype.cancel = function(e3) {
        Wo("OnDisconnect.cancel", 0, 1, arguments.length), zo("OnDisconnect.cancel", "onComplete", e3, true);
        var t3 = this._delegate.cancel();
        return e3 && t3.then(function() {
          return e3(null);
        }, function(t4) {
          return e3(t4);
        }), t3;
      }, qd.prototype.remove = function(e3) {
        Wo("OnDisconnect.remove", 0, 1, arguments.length), zo("OnDisconnect.remove", "onComplete", e3, true);
        var t3 = this._delegate.remove();
        return e3 && t3.then(function() {
          return e3(null);
        }, function(t4) {
          return e3(t4);
        }), t3;
      }, qd.prototype.set = function(t3, e3) {
        Wo("OnDisconnect.set", 1, 2, arguments.length), zo("OnDisconnect.set", "onComplete", e3, true);
        t3 = this._delegate.set(t3);
        return e3 && t3.then(function() {
          return e3(null);
        }, function(t4) {
          return e3(t4);
        }), t3;
      }, qd.prototype.setWithPriority = function(t3, e3, n3) {
        Wo("OnDisconnect.setWithPriority", 2, 3, arguments.length), zo("OnDisconnect.setWithPriority", "onComplete", n3, true);
        e3 = this._delegate.setWithPriority(t3, e3);
        return n3 && e3.then(function() {
          return n3(null);
        }, function(t4) {
          return n3(t4);
        }), e3;
      }, qd.prototype.update = function(t3, e3) {
        if (Wo("OnDisconnect.update", 1, 2, arguments.length), Array.isArray(t3)) {
          for (var n3 = {}, r3 = 0; r3 < t3.length; ++r3)
            n3["" + r3] = t3[r3];
          t3 = n3, na("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.");
        }
        zo("OnDisconnect.update", "onComplete", e3, true);
        var i3 = this._delegate.update(t3);
        return e3 && i3.then(function() {
          return e3(null);
        }, function(t4) {
          return e3(t4);
        }), i3;
      }, qd);
      function qd(t3) {
        this._delegate = t3;
      }
      var Vd = (Bd.prototype.toJSON = function() {
        return Wo("TransactionResult.toJSON", 0, 1, arguments.length), { committed: this.committed, snapshot: this.snapshot.toJSON() };
      }, Bd);
      function Bd(t3, e3) {
        this.committed = t3, this.snapshot = e3;
      }
      var Kd = (Wd.prototype.val = function() {
        return Wo("DataSnapshot.val", 0, 0, arguments.length), this._delegate.val();
      }, Wd.prototype.exportVal = function() {
        return Wo("DataSnapshot.exportVal", 0, 0, arguments.length), this._delegate.exportVal();
      }, Wd.prototype.toJSON = function() {
        return Wo("DataSnapshot.toJSON", 0, 1, arguments.length), this._delegate.toJSON();
      }, Wd.prototype.exists = function() {
        return Wo("DataSnapshot.exists", 0, 0, arguments.length), this._delegate.exists();
      }, Wd.prototype.child = function(t3) {
        return Wo("DataSnapshot.child", 0, 1, arguments.length), t3 = String(t3), Cf("DataSnapshot.child", "path", t3, false), new Wd(this._database, this._delegate.child(t3));
      }, Wd.prototype.hasChild = function(t3) {
        return Wo("DataSnapshot.hasChild", 1, 1, arguments.length), Cf("DataSnapshot.hasChild", "path", t3, false), this._delegate.hasChild(t3);
      }, Wd.prototype.getPriority = function() {
        return Wo("DataSnapshot.getPriority", 0, 0, arguments.length), this._delegate.priority;
      }, Wd.prototype.forEach = function(e3) {
        var n3 = this;
        return Wo("DataSnapshot.forEach", 1, 1, arguments.length), zo("DataSnapshot.forEach", "action", e3, false), this._delegate.forEach(function(t3) {
          return e3(new Wd(n3._database, t3));
        });
      }, Wd.prototype.hasChildren = function() {
        return Wo("DataSnapshot.hasChildren", 0, 0, arguments.length), this._delegate.hasChildren();
      }, Object.defineProperty(Wd.prototype, "key", { get: function() {
        return this._delegate.key;
      }, enumerable: false, configurable: true }), Wd.prototype.numChildren = function() {
        return Wo("DataSnapshot.numChildren", 0, 0, arguments.length), this._delegate.size;
      }, Wd.prototype.getRef = function() {
        return Wo("DataSnapshot.ref", 0, 0, arguments.length), new Qd(this._database, this._delegate.ref);
      }, Object.defineProperty(Wd.prototype, "ref", { get: function() {
        return this.getRef();
      }, enumerable: false, configurable: true }), Wd);
      function Wd(t3, e3) {
        this._database = t3, this._delegate = e3;
      }
      var Hd = (zd.prototype.on = function(t3, n3, e3, r3) {
        var i3 = this;
        Wo("Query.on", 2, 4, arguments.length), zo("Query.on", "callback", n3, false);
        function o3(t4, e4) {
          n3.call(s3.context, new Kd(i3.database, t4), e4);
        }
        var s3 = zd.getCancelAndContextArgs_("Query.on", e3, r3);
        o3.userCallback = n3, o3.context = s3.context;
        var a3 = null === (r3 = s3.cancel) || void 0 === r3 ? void 0 : r3.bind(s3.context);
        switch (t3) {
          case "value":
            return Up(this._delegate, o3, a3), n3;
          case "child_added":
            return qp(this._delegate, o3, a3), n3;
          case "child_removed":
            return Kp(this._delegate, o3, a3), n3;
          case "child_changed":
            return Vp(this._delegate, o3, a3), n3;
          case "child_moved":
            return Bp(this._delegate, o3, a3), n3;
          default:
            throw new Error(Ho("Query.on", "eventType") + 'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".');
        }
      }, zd.prototype.off = function(t3, e3, n3) {
        var r3;
        Wo("Query.off", 0, 3, arguments.length), function(t4, e4, n4) {
          if (!n4 || void 0 !== e4)
            switch (e4) {
              case "value":
              case "child_added":
              case "child_removed":
              case "child_changed":
              case "child_moved":
                break;
              default:
                throw new Error(Ho(t4, "eventType") + 'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".');
            }
        }("Query.off", t3, true), zo("Query.off", "callback", e3, true), Go("Query.off", "context", n3, true), e3 ? ((r3 = function() {
        }).userCallback = e3, r3.context = n3, Wp(this._delegate, t3, r3)) : Wp(this._delegate, t3);
      }, zd.prototype.get = function() {
        var e3 = this;
        return Dp(this._delegate).then(function(t3) {
          return new Kd(e3.database, t3);
        });
      }, zd.prototype.once = function(t3, n3, e3, r3) {
        var i3 = this;
        Wo("Query.once", 1, 4, arguments.length), zo("Query.once", "callback", n3, true);
        function o3(t4, e4) {
          t4 = new Kd(i3.database, t4), n3 && n3.call(s3.context, t4, e4), a3.resolve(t4);
        }
        var s3 = zd.getCancelAndContextArgs_("Query.once", e3, r3), a3 = new ho();
        o3.userCallback = n3, o3.context = s3.context;
        function u3(t4) {
          s3.cancel && s3.cancel.call(s3.context, t4), a3.reject(t4);
        }
        switch (t3) {
          case "value":
            Up(this._delegate, o3, u3, { onlyOnce: true });
            break;
          case "child_added":
            qp(this._delegate, o3, u3, { onlyOnce: true });
            break;
          case "child_removed":
            Kp(this._delegate, o3, u3, { onlyOnce: true });
            break;
          case "child_changed":
            Vp(this._delegate, o3, u3, { onlyOnce: true });
            break;
          case "child_moved":
            Bp(this._delegate, o3, u3, { onlyOnce: true });
            break;
          default:
            throw new Error(Ho("Query.once", "eventType") + 'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".');
        }
        return a3.promise;
      }, zd.prototype.limitToFirst = function(t3) {
        return Wo("Query.limitToFirst", 1, 1, arguments.length), new zd(this.database, kd(this._delegate, function(t4) {
          if ("number" != typeof t4 || Math.floor(t4) !== t4 || t4 <= 0)
            throw new Error("limitToFirst: First argument must be a positive integer.");
          return new id(t4);
        }(t3)));
      }, zd.prototype.limitToLast = function(t3) {
        return Wo("Query.limitToLast", 1, 1, arguments.length), new zd(this.database, kd(this._delegate, function(t4) {
          if ("number" != typeof t4 || Math.floor(t4) !== t4 || t4 <= 0)
            throw new Error("limitToLast: First argument must be a positive integer.");
          return new ad(t4);
        }(t3)));
      }, zd.prototype.orderByChild = function(t3) {
        return Wo("Query.orderByChild", 1, 1, arguments.length), new zd(this.database, kd(this._delegate, function(t4) {
          if ("$key" === t4)
            throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');
          if ("$priority" === t4)
            throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');
          if ("$value" === t4)
            throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');
          return Cf("orderByChild", "path", t4, false), new hd(t4);
        }(t3)));
      }, zd.prototype.orderByKey = function() {
        return Wo("Query.orderByKey", 0, 0, arguments.length), new zd(this.database, kd(this._delegate, new pd()));
      }, zd.prototype.orderByPriority = function() {
        return Wo("Query.orderByPriority", 0, 0, arguments.length), new zd(this.database, kd(this._delegate, new vd()));
      }, zd.prototype.orderByValue = function() {
        return Wo("Query.orderByValue", 0, 0, arguments.length), new zd(this.database, kd(this._delegate, new bd()));
      }, zd.prototype.startAt = function(t3, e3) {
        return void 0 === t3 && (t3 = null), Wo("Query.startAt", 0, 2, arguments.length), new zd(this.database, kd(this._delegate, (void 0 === (t3 = t3) && (t3 = null), _f("startAt", "key", e3 = e3, true), new Jp(t3, e3))));
      }, zd.prototype.startAfter = function(t3, e3) {
        return void 0 === t3 && (t3 = null), Wo("Query.startAfter", 0, 2, arguments.length), new zd(this.database, kd(this._delegate, (t3 = t3, _f("startAfter", "key", e3 = e3, true), new ed(t3, e3))));
      }, zd.prototype.endAt = function(t3, e3) {
        return void 0 === t3 && (t3 = null), Wo("Query.endAt", 0, 2, arguments.length), new zd(this.database, kd(this._delegate, (t3 = t3, _f("endAt", "key", e3 = e3, true), new zp(t3, e3))));
      }, zd.prototype.endBefore = function(t3, e3) {
        return void 0 === t3 && (t3 = null), Wo("Query.endBefore", 0, 2, arguments.length), new zd(this.database, kd(this._delegate, (t3 = t3, _f("endBefore", "key", e3 = e3, true), new Yp(t3, e3))));
      }, zd.prototype.equalTo = function(t3, e3) {
        return Wo("Query.equalTo", 1, 2, arguments.length), new zd(this.database, kd(this._delegate, (t3 = t3, _f("equalTo", "key", e3 = e3, true), new Ed(t3, e3))));
      }, zd.prototype.toString = function() {
        return Wo("Query.toString", 0, 0, arguments.length), this._delegate.toString();
      }, zd.prototype.toJSON = function() {
        return Wo("Query.toJSON", 0, 1, arguments.length), this._delegate.toJSON();
      }, zd.prototype.isEqual = function(t3) {
        if (Wo("Query.isEqual", 1, 1, arguments.length), t3 instanceof zd)
          return this._delegate.isEqual(t3._delegate);
        throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");
      }, zd.getCancelAndContextArgs_ = function(t3, e3, n3) {
        var r3 = { cancel: void 0, context: void 0 };
        if (e3 && n3)
          r3.cancel = e3, zo(t3, "cancel", r3.cancel, true), r3.context = n3, Go(t3, "context", r3.context, true);
        else if (e3)
          if ("object" == typeof e3 && null !== e3)
            r3.context = e3;
          else {
            if ("function" != typeof e3)
              throw new Error(Ho(t3, "cancelOrContext") + " must either be a cancel callback or a context object.");
            r3.cancel = e3;
          }
        return r3;
      }, Object.defineProperty(zd.prototype, "ref", { get: function() {
        return new Qd(this.database, new Ep(this._delegate._repo, this._delegate._path));
      }, enumerable: false, configurable: true }), zd);
      function zd(t3, e3) {
        this.database = t3, this._delegate = e3;
      }
      var Gd, Qd = (Gi(Yd, Gd = Hd), Yd.prototype.getKey = function() {
        return Wo("Reference.key", 0, 0, arguments.length), this._delegate.key;
      }, Yd.prototype.child = function(t3) {
        return Wo("Reference.child", 1, 1, arguments.length), "number" == typeof t3 && (t3 = String(t3)), new Yd(this.database, Rp(this._delegate, t3));
      }, Yd.prototype.getParent = function() {
        Wo("Reference.parent", 0, 0, arguments.length);
        var t3 = this._delegate.parent;
        return t3 ? new Yd(this.database, t3) : null;
      }, Yd.prototype.getRoot = function() {
        return Wo("Reference.root", 0, 0, arguments.length), new Yd(this.database, this._delegate.root);
      }, Yd.prototype.set = function(t3, e3) {
        Wo("Reference.set", 1, 2, arguments.length), zo("Reference.set", "onComplete", e3, true);
        t3 = Pp(this._delegate, t3);
        return e3 && t3.then(function() {
          return e3(null);
        }, function(t4) {
          return e3(t4);
        }), t3;
      }, Yd.prototype.update = function(t3, e3) {
        if (Wo("Reference.update", 1, 2, arguments.length), Array.isArray(t3)) {
          for (var n3 = {}, r3 = 0; r3 < t3.length; ++r3)
            n3["" + r3] = t3[r3];
          t3 = n3, na("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.");
        }
        Nf("Reference.update", this._delegate._path), zo("Reference.update", "onComplete", e3, true);
        var i3 = Op(this._delegate, t3);
        return e3 && i3.then(function() {
          return e3(null);
        }, function(t4) {
          return e3(t4);
        }), i3;
      }, Yd.prototype.setWithPriority = function(t3, e3, n3) {
        Wo("Reference.setWithPriority", 2, 3, arguments.length), zo("Reference.setWithPriority", "onComplete", n3, true);
        e3 = function(t4, e4, n4) {
          if (Nf("setWithPriority", t4._path), Sf("setWithPriority", e4, t4._path, false), bf("setWithPriority", n4, false), ".length" === t4.key || ".keys" === t4.key)
            throw "setWithPriority failed: " + t4.key + " is a read-only object.";
          var r3 = new ho();
          return Gf(t4._repo, t4._path, e4, n4, r3.wrapCallback(function() {
          })), r3.promise;
        }(this._delegate, t3, e3);
        return n3 && e3.then(function() {
          return n3(null);
        }, function(t4) {
          return n3(t4);
        }), e3;
      }, Yd.prototype.remove = function(e3) {
        Wo("Reference.remove", 0, 1, arguments.length), zo("Reference.remove", "onComplete", e3, true);
        var t3, t3 = (t3 = this._delegate, Nf("remove", t3._path), Pp(t3, null));
        return e3 && t3.then(function() {
          return e3(null);
        }, function(t4) {
          return e3(t4);
        }), t3;
      }, Yd.prototype.transaction = function(t3, e3, n3) {
        var r3 = this;
        Wo("Reference.transaction", 1, 3, arguments.length), zo("Reference.transaction", "transactionUpdate", t3, false), zo("Reference.transaction", "onComplete", e3, true), function(t4, e4, n4, r4) {
          if ((!r4 || void 0 !== n4) && "boolean" != typeof n4)
            throw new Error(Ho(t4, e4) + "must be a boolean.");
        }("Reference.transaction", "applyLocally", n3, true);
        n3 = jd(this._delegate, t3, { applyLocally: n3 }).then(function(t4) {
          return new Vd(t4.committed, new Kd(r3.database, t4.snapshot));
        });
        return e3 && n3.then(function(t4) {
          return e3(null, t4.committed, t4.snapshot);
        }, function(t4) {
          return e3(t4, false, null);
        }), n3;
      }, Yd.prototype.setPriority = function(t3, e3) {
        Wo("Reference.setPriority", 1, 2, arguments.length), zo("Reference.setPriority", "onComplete", e3, true);
        t3 = function(t4, e4) {
          t4 = ts(t4), Nf("setPriority", t4._path), bf("setPriority", e4, false);
          var n3 = new ho();
          return Gf(t4._repo, hu(t4._path, ".priority"), e4, null, n3.wrapCallback(function() {
          })), n3.promise;
        }(this._delegate, t3);
        return e3 && t3.then(function() {
          return e3(null);
        }, function(t4) {
          return e3(t4);
        }), t3;
      }, Yd.prototype.push = function(t3, e3) {
        var n3 = this;
        Wo("Reference.push", 0, 2, arguments.length), zo("Reference.push", "onComplete", e3, true);
        var r3 = function(t4, e4) {
          t4 = ts(t4), Nf("push", t4._path), Sf("push", e4, t4._path, true);
          var n4 = Vf(t4._repo), r4 = Cc(n4), n4 = Rp(t4, r4), i3 = Rp(t4, r4), e4 = null != e4 ? Pp(i3, e4).then(function() {
            return i3;
          }) : Promise.resolve(i3);
          return n4.then = e4.then.bind(e4), n4.catch = e4.then.bind(e4, void 0), n4;
        }(this._delegate, t3), t3 = r3.then(function(t4) {
          return new Yd(n3.database, t4);
        });
        e3 && t3.then(function() {
          return e3(null);
        }, function(t4) {
          return e3(t4);
        });
        r3 = new Yd(this.database, r3);
        return r3.then = t3.then.bind(t3), r3.catch = t3.catch.bind(t3, void 0), r3;
      }, Yd.prototype.onDisconnect = function() {
        return Nf("Reference.onDisconnect", this._delegate._path), new Ud(new vp(this._delegate._repo, this._delegate._path));
      }, Object.defineProperty(Yd.prototype, "key", { get: function() {
        return this.getKey();
      }, enumerable: false, configurable: true }), Object.defineProperty(Yd.prototype, "parent", { get: function() {
        return this.getParent();
      }, enumerable: false, configurable: true }), Object.defineProperty(Yd.prototype, "root", { get: function() {
        return this.getRoot();
      }, enumerable: false, configurable: true }), Yd);
      function Yd(t3, e3) {
        var n3 = Gd.call(this, t3, new mp(e3._repo, e3._path, new jc(), false)) || this;
        return n3.database = t3, n3._delegate = e3, n3;
      }
      var Xd = ($d.prototype.useEmulator = function(t3, e3, n3) {
        Dd(this._delegate, t3, e3, n3 = void 0 === n3 ? {} : n3);
      }, $d.prototype.ref = function(t3) {
        if (Wo("database.ref", 0, 1, arguments.length), t3 instanceof Qd) {
          var e3 = Np(this._delegate, t3.toString());
          return new Qd(this, e3);
        }
        e3 = Ap(this._delegate, t3);
        return new Qd(this, e3);
      }, $d.prototype.refFromURL = function(t3) {
        Wo("database.refFromURL", 1, 1, arguments.length);
        t3 = Np(this._delegate, t3);
        return new Qd(this, t3);
      }, $d.prototype.goOffline = function() {
        var t3;
        Wo("database.goOffline", 0, 0, arguments.length), (t3 = ts(t3 = this._delegate))._checkNotDeleted("goOffline"), $f(t3._repo);
      }, $d.prototype.goOnline = function() {
        return Wo("database.goOnline", 0, 0, arguments.length), xd(this._delegate);
      }, $d.ServerValue = { TIMESTAMP: Ld, increment: function(t3) {
        return { ".sv": { increment: t3 } };
      } }, $d);
      function $d(t3, e3) {
        var n3 = this;
        this._delegate = t3, this.app = e3, this.INTERNAL = { delete: function() {
          return n3._delegate._delete();
        } };
      }
      var Jd = Object.freeze({ __proto__: null, forceLongPolling: function() {
        Va.forceDisallow(), Ma.forceAllow();
      }, forceWebSockets: function() {
        Ma.forceDisallow();
      }, isWebSocketsAvailable: function() {
        return Va.isAvailable();
      }, setSecurityDebugCallback: function(t3, e3) {
        t3._delegate._repo.persistentConnection_.securityDebugCallback_ = e3;
      }, stats: function(t3, e3) {
        var i3;
        t3 = t3._delegate._repo, void 0 === (e3 = e3) && (e3 = false), "undefined" != typeof console && (t3 = e3 ? (t3.statsListener_ || (t3.statsListener_ = new Zc(t3.stats_)), t3.statsListener_.get()) : t3.stats_.get(), i3 = Object.keys(t3).reduce(function(t4, e4) {
          return Math.max(e4.length, t4);
        }, 0), aa(t3, function(t4, e4) {
          for (var n3 = t4, r3 = t4.length; r3 < i3 + 2; r3++)
            n3 += " ";
          console.log(n3 + e4);
        }));
      }, statsIncrementCounter: function(t3, e3) {
        t3 = t3._delegate._repo, e3 = e3, t3.stats_.incrementCounter(e3), t3.statsReporter_.statsToReport_[e3] = true;
      }, dataUpdateCount: function(t3) {
        return t3._delegate._repo.dataUpdateCount;
      }, interceptServerData: function(t3, e3) {
        t3._delegate._repo.interceptServerDataCallback_ = e3;
      }, initStandalone: function(t3) {
        var e3 = t3.app, n3 = t3.url, r3 = t3.version, i3 = t3.customAuthImpl, o3 = t3.namespace, t3 = void 0 !== (t3 = t3.nodeAdmin) && t3;
        return Ds(r3), (r3 = new is("auth-internal", new ss("database-standalone"))).setComponent(new es("auth-internal", function() {
          return i3;
        }, "PRIVATE")), { instance: new Xd(Rd(e3, r3, void 0, n3, t3), e3), namespace: o3 };
      } }), G = Su;
      Su.prototype.simpleListen = function(t3, e3) {
        this.sendRequest("q", { p: t3 }, e3);
      }, Su.prototype.echo = function(t3, e3) {
        this.sendRequest("echo", { d: t3 }, e3);
      };
      var Zd, tg = Object.freeze({ __proto__: null, DataConnection: G, RealTimeConnection: Ha, hijackHash: function(i3) {
        var o3 = Su.prototype.put;
        return Su.prototype.put = function(t3, e3, n3, r3) {
          void 0 !== r3 && (r3 = i3()), o3.call(this, t3, e3, n3, r3);
        }, function() {
          Su.prototype.put = o3;
        };
      }, ConnectionTarget: Ea, queryIdentifier: function(t3) {
        return t3._delegate._queryIdentifier;
      }, forceRestClient: function(t3) {
        Nd = t3;
      } }), eg = Xd.ServerValue;
      Ds((Zd = Jl).SDK_VERSION), Zd.INTERNAL.registerComponent(new es("database", function(t3, e3) {
        var n3 = e3.instanceIdentifier, r3 = t3.getProvider("app").getImmediate(), e3 = t3.getProvider("auth-internal"), t3 = t3.getProvider("app-check-internal");
        return new Xd(Rd(r3, e3, t3, n3), r3);
      }, "PUBLIC").setServiceProps({ Reference: Qd, Query: Hd, Database: Xd, DataSnapshot: Kd, enableLogging: Us, INTERNAL: Jd, ServerValue: eg, TEST_ACCESS: tg }).setMultipleInstances(true)), Zd.registerVersion("@firebase/database", "0.11.0");
      var ng = function(t3, e3) {
        return (ng = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
          t4.__proto__ = e4;
        } || function(t4, e4) {
          for (var n3 in e4)
            Object.prototype.hasOwnProperty.call(e4, n3) && (t4[n3] = e4[n3]);
        })(t3, e3);
      };
      function rg(t3) {
        var e3 = "function" == typeof Symbol && Symbol.iterator, n3 = e3 && t3[e3], r3 = 0;
        if (n3)
          return n3.call(t3);
        if (t3 && "number" == typeof t3.length)
          return { next: function() {
            return { value: (t3 = t3 && r3 >= t3.length ? void 0 : t3) && t3[r3++], done: !t3 };
          } };
        throw new TypeError(e3 ? "Object is not iterable." : "Symbol.iterator is not defined.");
      }
      var Q = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {}, ig = {}, og = Q || self;
      function sg() {
      }
      function ag(t3) {
        var e3 = typeof t3;
        return "array" == (e3 = "object" != e3 ? e3 : t3 ? Array.isArray(t3) ? "array" : e3 : "null") || "object" == e3 && "number" == typeof t3.length;
      }
      function ug(t3) {
        var e3 = typeof t3;
        return "object" == e3 && null != t3 || "function" == e3;
      }
      var cg = "closure_uid_" + (1e9 * Math.random() >>> 0), hg = 0;
      function lg(t3, e3, n3) {
        return t3.call.apply(t3.bind, arguments);
      }
      function fg(e3, n3, t3) {
        if (!e3)
          throw Error();
        if (2 < arguments.length) {
          var r3 = Array.prototype.slice.call(arguments, 2);
          return function() {
            var t4 = Array.prototype.slice.call(arguments);
            return Array.prototype.unshift.apply(t4, r3), e3.apply(n3, t4);
          };
        }
        return function() {
          return e3.apply(n3, arguments);
        };
      }
      function pg(t3, e3, n3) {
        return (pg = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? lg : fg).apply(null, arguments);
      }
      function dg(e3) {
        var n3 = Array.prototype.slice.call(arguments, 1);
        return function() {
          var t3 = n3.slice();
          return t3.push.apply(t3, arguments), e3.apply(this, t3);
        };
      }
      function gg(t3, o3) {
        function e3() {
        }
        e3.prototype = o3.prototype, t3.Z = o3.prototype, t3.prototype = new e3(), (t3.prototype.constructor = t3).Vb = function(t4, e4, n3) {
          for (var r3 = Array(arguments.length - 2), i3 = 2; i3 < arguments.length; i3++)
            r3[i3 - 2] = arguments[i3];
          return o3.prototype[e4].apply(t4, r3);
        };
      }
      function vg() {
        this.s = this.s, this.o = this.o;
      }
      var yg = {};
      vg.prototype.s = false, vg.prototype.na = function() {
        var t3;
        !this.s && (this.s = true, this.M(), 0);
      }, vg.prototype.M = function() {
        if (this.o)
          for (; this.o.length; )
            this.o.shift()();
      };
      var mg = Array.prototype.indexOf ? function(t3, e3) {
        return Array.prototype.indexOf.call(t3, e3, void 0);
      } : function(t3, e3) {
        if ("string" == typeof t3)
          return "string" != typeof e3 || 1 != e3.length ? -1 : t3.indexOf(e3, 0);
        for (var n3 = 0; n3 < t3.length; n3++)
          if (n3 in t3 && t3[n3] === e3)
            return n3;
        return -1;
      }, bg = Array.prototype.forEach ? function(t3, e3, n3) {
        Array.prototype.forEach.call(t3, e3, n3);
      } : function(t3, e3, n3) {
        for (var r3 = t3.length, i3 = "string" == typeof t3 ? t3.split("") : t3, o3 = 0; o3 < r3; o3++)
          o3 in i3 && e3.call(n3, i3[o3], o3, t3);
      };
      function _g() {
        return Array.prototype.concat.apply([], arguments);
      }
      function wg(t3) {
        var e3 = t3.length;
        if (0 < e3) {
          for (var n3 = Array(e3), r3 = 0; r3 < e3; r3++)
            n3[r3] = t3[r3];
          return n3;
        }
        return [];
      }
      function Tg(t3) {
        return /^[\s\xa0]*$/.test(t3);
      }
      var Ig, Eg = String.prototype.trim ? function(t3) {
        return t3.trim();
      } : function(t3) {
        return /^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t3)[1];
      };
      function Sg(t3, e3) {
        return -1 != t3.indexOf(e3);
      }
      function kg(t3, e3) {
        return t3 < e3 ? -1 : e3 < t3 ? 1 : 0;
      }
      t: {
        var Cg = og.navigator;
        if (Cg) {
          Cg = Cg.userAgent;
          if (Cg) {
            Ig = Cg;
            break t;
          }
        }
        Ig = "";
      }
      function Ag(t3, e3, n3) {
        for (var r3 in t3)
          e3.call(n3, t3[r3], r3, t3);
      }
      function Ng(t3) {
        var e3, n3 = {};
        for (e3 in t3)
          n3[e3] = t3[e3];
        return n3;
      }
      var Rg = "constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
      function Pg(t3) {
        for (var e3, n3, r3 = 1; r3 < arguments.length; r3++) {
          for (e3 in n3 = arguments[r3])
            t3[e3] = n3[e3];
          for (var i3 = 0; i3 < Rg.length; i3++)
            e3 = Rg[i3], Object.prototype.hasOwnProperty.call(n3, e3) && (t3[e3] = n3[e3]);
        }
      }
      function Og(t3) {
        return Og[" "](t3), t3;
      }
      Og[" "] = sg;
      var Dg, xg = Sg(Ig, "Opera"), Lg = Sg(Ig, "Trident") || Sg(Ig, "MSIE"), Mg = Sg(Ig, "Edge"), Fg = Mg || Lg, jg = Sg(Ig, "Gecko") && !(Sg(Ig.toLowerCase(), "webkit") && !Sg(Ig, "Edge")) && !(Sg(Ig, "Trident") || Sg(Ig, "MSIE")) && !Sg(Ig, "Edge"), Ug = Sg(Ig.toLowerCase(), "webkit") && !Sg(Ig, "Edge");
      function qg() {
        var t3 = og.document;
        return t3 ? t3.documentMode : void 0;
      }
      t: {
        var Vg = "", Bg = (Bg = Ig, jg ? /rv:([^\);]+)(\)|;)/.exec(Bg) : Mg ? /Edge\/([\d\.]+)/.exec(Bg) : Lg ? /\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bg) : Ug ? /WebKit\/(\S+)/.exec(Bg) : xg ? /(?:Version)[ \/]?(\S+)/.exec(Bg) : void 0);
        if (Bg && (Vg = Bg ? Bg[1] : ""), Lg) {
          Bg = qg();
          if (null != Bg && Bg > parseFloat(Vg)) {
            Dg = String(Bg);
            break t;
          }
        }
        Dg = Vg;
      }
      var Kg = {};
      function Wg() {
        return t3 = function() {
          for (var t4 = 0, e4 = Eg(String(Dg)).split("."), n3 = Eg("9").split("."), r3 = Math.max(e4.length, n3.length), i3 = 0; 0 == t4 && i3 < r3; i3++)
            for (var o3 = e4[i3] || "", s3 = n3[i3] || ""; o3 = /(\d*)(\D*)(.*)/.exec(o3) || ["", "", "", ""], s3 = /(\d*)(\D*)(.*)/.exec(s3) || ["", "", "", ""], (0 != o3[0].length || 0 != s3[0].length) && (t4 = kg(0 == o3[1].length ? 0 : parseInt(o3[1], 10), 0 == s3[1].length ? 0 : parseInt(s3[1], 10)) || kg(0 == o3[2].length, 0 == s3[2].length) || kg(o3[2], s3[2]), o3 = o3[3], s3 = s3[3], 0 == t4); )
              ;
          return 0 <= t4;
        }, e3 = Kg, Object.prototype.hasOwnProperty.call(e3, 9) ? e3[9] : e3[9] = t3(9);
        var t3, e3;
      }
      var Hg = og.document && Lg && (qg() || parseInt(Dg, 10)) || void 0, zg = function() {
        if (!og.addEventListener || !Object.defineProperty)
          return false;
        var t3 = false, e3 = Object.defineProperty({}, "passive", { get: function() {
          t3 = true;
        } });
        try {
          og.addEventListener("test", sg, e3), og.removeEventListener("test", sg, e3);
        } catch (t4) {
        }
        return t3;
      }();
      function Gg(t3, e3) {
        this.type = t3, this.g = this.target = e3, this.defaultPrevented = false;
      }
      function Qg(t3, e3) {
        if (Gg.call(this, t3 ? t3.type : ""), this.relatedTarget = this.g = this.target = null, this.button = this.screenY = this.screenX = this.clientY = this.clientX = 0, this.key = "", this.metaKey = this.shiftKey = this.altKey = this.ctrlKey = false, this.state = null, this.pointerId = 0, this.pointerType = "", this.i = null, t3) {
          var n3 = this.type = t3.type, r3 = t3.changedTouches && t3.changedTouches.length ? t3.changedTouches[0] : null;
          if (this.target = t3.target || t3.srcElement, this.g = e3, e3 = t3.relatedTarget) {
            if (jg) {
              t: {
                try {
                  Og(e3.nodeName);
                  var i3 = true;
                  break t;
                } catch (t4) {
                }
                i3 = false;
              }
              i3 || (e3 = null);
            }
          } else
            "mouseover" == n3 ? e3 = t3.fromElement : "mouseout" == n3 && (e3 = t3.toElement);
          this.relatedTarget = e3, r3 ? (this.clientX = void 0 !== r3.clientX ? r3.clientX : r3.pageX, this.clientY = void 0 !== r3.clientY ? r3.clientY : r3.pageY, this.screenX = r3.screenX || 0, this.screenY = r3.screenY || 0) : (this.clientX = void 0 !== t3.clientX ? t3.clientX : t3.pageX, this.clientY = void 0 !== t3.clientY ? t3.clientY : t3.pageY, this.screenX = t3.screenX || 0, this.screenY = t3.screenY || 0), this.button = t3.button, this.key = t3.key || "", this.ctrlKey = t3.ctrlKey, this.altKey = t3.altKey, this.shiftKey = t3.shiftKey, this.metaKey = t3.metaKey, this.pointerId = t3.pointerId || 0, this.pointerType = "string" == typeof t3.pointerType ? t3.pointerType : Yg[t3.pointerType] || "", this.state = t3.state, (this.i = t3).defaultPrevented && Qg.Z.h.call(this);
        }
      }
      Gg.prototype.h = function() {
        this.defaultPrevented = true;
      }, gg(Qg, Gg);
      var Yg = { 2: "touch", 3: "pen", 4: "mouse" };
      Qg.prototype.h = function() {
        Qg.Z.h.call(this);
        var t3 = this.i;
        t3.preventDefault ? t3.preventDefault() : t3.returnValue = false;
      };
      var Xg = "closure_listenable_" + (1e6 * Math.random() | 0), $g = 0;
      function Jg(t3, e3, n3, r3, i3) {
        this.listener = t3, this.proxy = null, this.src = e3, this.type = n3, this.capture = !!r3, this.ia = i3, this.key = ++$g, this.ca = this.fa = false;
      }
      function Zg(t3) {
        t3.ca = true, t3.listener = null, t3.proxy = null, t3.src = null, t3.ia = null;
      }
      function tv(t3) {
        this.src = t3, this.g = {}, this.h = 0;
      }
      function ev(t3, e3) {
        var n3, r3, i3, o3 = e3.type;
        o3 in t3.g && (n3 = t3.g[o3], (i3 = 0 <= (r3 = mg(n3, e3))) && Array.prototype.splice.call(n3, r3, 1), i3 && (Zg(e3), 0 == t3.g[o3].length && (delete t3.g[o3], t3.h--)));
      }
      function nv(t3, e3, n3, r3) {
        for (var i3 = 0; i3 < t3.length; ++i3) {
          var o3 = t3[i3];
          if (!o3.ca && o3.listener == e3 && o3.capture == !!n3 && o3.ia == r3)
            return i3;
        }
        return -1;
      }
      tv.prototype.add = function(t3, e3, n3, r3, i3) {
        var o3 = t3.toString();
        (t3 = this.g[o3]) || (t3 = this.g[o3] = [], this.h++);
        var s3 = nv(t3, e3, r3, i3);
        return -1 < s3 ? (e3 = t3[s3], n3 || (e3.fa = false)) : ((e3 = new Jg(e3, this.src, o3, !!r3, i3)).fa = n3, t3.push(e3)), e3;
      };
      var rv = "closure_lm_" + (1e6 * Math.random() | 0), iv = {};
      function ov(t3, e3, n3, r3, i3) {
        if (r3 && r3.once)
          return function t4(e4, n4, r4, i4, o4) {
            if (Array.isArray(n4)) {
              for (var s3 = 0; s3 < n4.length; s3++)
                t4(e4, n4[s3], r4, i4, o4);
              return null;
            }
            r4 = fv(r4);
            return e4 && e4[Xg] ? e4.O(n4, r4, ug(i4) ? !!i4.capture : !!i4, o4) : sv(e4, n4, r4, true, i4, o4);
          }(t3, e3, n3, r3, i3);
        if (Array.isArray(e3)) {
          for (var o3 = 0; o3 < e3.length; o3++)
            ov(t3, e3[o3], n3, r3, i3);
          return null;
        }
        return n3 = fv(n3), t3 && t3[Xg] ? t3.N(e3, n3, ug(r3) ? !!r3.capture : !!r3, i3) : sv(t3, e3, n3, false, r3, i3);
      }
      function sv(t3, e3, n3, r3, i3, o3) {
        if (!e3)
          throw Error("Invalid event type");
        var s3, a3 = ug(i3) ? !!i3.capture : !!i3, u3 = hv(t3);
        if (u3 || (t3[rv] = u3 = new tv(t3)), (n3 = u3.add(e3, n3, r3, a3, o3)).proxy)
          return n3;
        if (s3 = cv, (n3.proxy = r3 = function t4(e4) {
          return s3.call(t4.src, t4.listener, e4);
        }).src = t3, r3.listener = n3, t3.addEventListener)
          void 0 === (i3 = !zg ? a3 : i3) && (i3 = false), t3.addEventListener(e3.toString(), r3, i3);
        else if (t3.attachEvent)
          t3.attachEvent(uv(e3.toString()), r3);
        else {
          if (!t3.addListener || !t3.removeListener)
            throw Error("addEventListener and attachEvent are unavailable.");
          t3.addListener(r3);
        }
        return n3;
      }
      function av(t3) {
        var e3, n3, r3;
        "number" != typeof t3 && t3 && !t3.ca && ((e3 = t3.src) && e3[Xg] ? ev(e3.i, t3) : (n3 = t3.type, r3 = t3.proxy, e3.removeEventListener ? e3.removeEventListener(n3, r3, t3.capture) : e3.detachEvent ? e3.detachEvent(uv(n3), r3) : e3.addListener && e3.removeListener && e3.removeListener(r3), (n3 = hv(e3)) ? (ev(n3, t3), 0 == n3.h && (n3.src = null, e3[rv] = null)) : Zg(t3)));
      }
      function uv(t3) {
        return t3 in iv ? iv[t3] : iv[t3] = "on" + t3;
      }
      function cv(t3, e3) {
        var n3, r3;
        return t3 = !!t3.ca || (e3 = new Qg(e3, this), n3 = t3.listener, r3 = t3.ia || t3.src, t3.fa && av(t3), n3.call(r3, e3));
      }
      function hv(t3) {
        return (t3 = t3[rv]) instanceof tv ? t3 : null;
      }
      var lv = "__closure_events_fn_" + (1e9 * Math.random() >>> 0);
      function fv(e3) {
        return "function" == typeof e3 ? e3 : (e3[lv] || (e3[lv] = function(t3) {
          return e3.handleEvent(t3);
        }), e3[lv]);
      }
      function pv() {
        vg.call(this), this.i = new tv(this), (this.P = this).I = null;
      }
      function dv(t3, e3) {
        var n3, r3 = t3.I;
        if (r3)
          for (n3 = []; r3; r3 = r3.I)
            n3.push(r3);
        if (t3 = t3.P, r3 = e3.type || e3, "string" == typeof e3 ? e3 = new Gg(e3, t3) : e3 instanceof Gg ? e3.target = e3.target || t3 : (s3 = e3, Pg(e3 = new Gg(r3, t3), s3)), s3 = true, n3)
          for (var i3 = n3.length - 1; 0 <= i3; i3--)
            var o3 = e3.g = n3[i3], s3 = gv(o3, r3, true, e3) && s3;
        if (s3 = gv(o3 = e3.g = t3, r3, true, e3) && s3, s3 = gv(o3, r3, false, e3) && s3, n3)
          for (i3 = 0; i3 < n3.length; i3++)
            s3 = gv(o3 = e3.g = n3[i3], r3, false, e3) && s3;
      }
      function gv(t3, e3, n3, r3) {
        if (!(e3 = t3.i.g[String(e3)]))
          return true;
        e3 = e3.concat();
        for (var i3 = true, o3 = 0; o3 < e3.length; ++o3) {
          var s3, a3, u3 = e3[o3];
          u3 && !u3.ca && u3.capture == n3 && (s3 = u3.listener, a3 = u3.ia || u3.src, u3.fa && ev(t3.i, u3), i3 = false !== s3.call(a3, r3) && i3);
        }
        return i3 && !r3.defaultPrevented;
      }
      gg(pv, vg), pv.prototype[Xg] = true, pv.prototype.removeEventListener = function(t3, e3, n3, r3) {
        !function t4(e4, n4, r4, i3, o3) {
          if (Array.isArray(n4))
            for (var s3 = 0; s3 < n4.length; s3++)
              t4(e4, n4[s3], r4, i3, o3);
          else
            i3 = ug(i3) ? !!i3.capture : !!i3, r4 = fv(r4), e4 && e4[Xg] ? (e4 = e4.i, (n4 = String(n4).toString()) in e4.g && -1 < (r4 = nv(s3 = e4.g[n4], r4, i3, o3)) && (Zg(s3[r4]), Array.prototype.splice.call(s3, r4, 1), 0 == s3.length && (delete e4.g[n4], e4.h--))) : (e4 = e4 && hv(e4)) && (n4 = e4.g[n4.toString()], (r4 = (e4 = -1) < (e4 = n4 ? nv(n4, r4, i3, o3) : e4) ? n4[e4] : null) && av(r4));
        }(this, t3, e3, n3, r3);
      }, pv.prototype.M = function() {
        if (pv.Z.M.call(this), this.i) {
          var t3, e3 = this.i;
          for (t3 in e3.g) {
            for (var n3 = e3.g[t3], r3 = 0; r3 < n3.length; r3++)
              Zg(n3[r3]);
            delete e3.g[t3], e3.h--;
          }
        }
        this.I = null;
      }, pv.prototype.N = function(t3, e3, n3, r3) {
        return this.i.add(String(t3), e3, false, n3, r3);
      }, pv.prototype.O = function(t3, e3, n3, r3) {
        return this.i.add(String(t3), e3, true, n3, r3);
      };
      var vv = og.JSON.stringify;
      yv.prototype.add = function(t3, e3) {
        var n3 = mv.get();
        n3.set(t3, e3), this.h ? this.h.next = n3 : this.g = n3, this.h = n3;
      }, Qa = yv;
      function yv() {
        this.h = this.g = null;
      }
      var mv = (bv.prototype.get = function() {
        var t3;
        return 0 < this.h ? (this.h--, t3 = this.g, this.g = t3.next, t3.next = null) : t3 = this.i(), t3;
      }, new bv(function() {
        return new wv();
      }, function(t3) {
        return t3.reset();
      }));
      function bv(t3, e3) {
        this.i = t3, this.j = e3, this.h = 0, this.g = null;
      }
      var _v, wv = (Tv.prototype.set = function(t3, e3) {
        this.h = t3, this.g = e3, this.next = null;
      }, Tv.prototype.reset = function() {
        this.next = this.g = this.h = null;
      }, Tv);
      function Tv() {
        this.next = this.g = this.h = null;
      }
      function Iv(t3, e3) {
        var n3;
        _v || (n3 = og.Promise.resolve(void 0), _v = function() {
          n3.then(kv);
        }), Ev || (_v(), Ev = true), Sv.add(t3, e3);
      }
      var Ev = false, Sv = new Qa();
      function kv() {
        for (var t3; e3 = t3 = void 0, e3 = null, (t3 = Sv).g && (e3 = t3.g, t3.g = t3.g.next, t3.g || (t3.h = null), e3.next = null), t3 = e3; ) {
          try {
            t3.h.call(t3.g);
          } catch (t4) {
            !function(t5) {
              og.setTimeout(function() {
                throw t5;
              }, 0);
            }(t4);
          }
          var e3 = mv;
          e3.j(t3), e3.h < 100 && (e3.h++, t3.next = e3.g, e3.g = t3);
        }
        Ev = false;
      }
      function Cv(t3, e3) {
        pv.call(this), this.h = t3 || 1, this.g = e3 || og, this.j = pg(this.kb, this), this.l = Date.now();
      }
      function Av(t3) {
        t3.da = false, t3.S && (t3.g.clearTimeout(t3.S), t3.S = null);
      }
      function Nv(t3, e3, n3) {
        if ("function" == typeof t3)
          n3 && (t3 = pg(t3, n3));
        else {
          if (!t3 || "function" != typeof t3.handleEvent)
            throw Error("Invalid listener argument");
          t3 = pg(t3.handleEvent, t3);
        }
        return 2147483647 < Number(e3) ? -1 : og.setTimeout(t3, e3 || 0);
      }
      gg(Cv, pv), (fr = Cv.prototype).da = false, fr.S = null, fr.kb = function() {
        var t3;
        this.da && (0 < (t3 = Date.now() - this.l) && t3 < 0.8 * this.h ? this.S = this.g.setTimeout(this.j, this.h - t3) : (this.S && (this.g.clearTimeout(this.S), this.S = null), dv(this, "tick"), this.da && (Av(this), this.start())));
      }, fr.start = function() {
        this.da = true, this.S || (this.S = this.g.setTimeout(this.j, this.h), this.l = Date.now());
      }, fr.M = function() {
        Cv.Z.M.call(this), Av(this), delete this.g;
      };
      var Rv, Pv = (function(t3, e3) {
        if ("function" != typeof e3 && null !== e3)
          throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
        function n3() {
          this.constructor = t3;
        }
        ng(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (n3.prototype = e3.prototype, new n3());
      }(Ov, Rv = vg), Ov.prototype.l = function(t3) {
        this.h = arguments, this.g ? this.i = true : function t4(e3) {
          e3.g = Nv(function() {
            e3.g = null, e3.i && (e3.i = false, t4(e3));
          }, e3.j);
          var n3 = e3.h;
          e3.h = null, e3.m.apply(null, n3);
        }(this);
      }, Ov.prototype.M = function() {
        Rv.prototype.M.call(this), this.g && (og.clearTimeout(this.g), this.g = null, this.i = false, this.h = null);
      }, Ov);
      function Ov(t3, e3) {
        var n3 = Rv.call(this) || this;
        return n3.m = t3, n3.j = e3, n3.h = null, n3.i = false, n3.g = null, n3;
      }
      function Dv(t3) {
        vg.call(this), this.h = t3, this.g = {};
      }
      gg(Dv, vg);
      var xv = [];
      function Lv(t3, e3, n3, r3) {
        Array.isArray(n3) || (n3 && (xv[0] = n3.toString()), n3 = xv);
        for (var i3 = 0; i3 < n3.length; i3++) {
          var o3 = ov(e3, n3[i3], r3 || t3.handleEvent, false, t3.h || t3);
          if (!o3)
            break;
          t3.g[o3.key] = o3;
        }
      }
      function Mv(t3) {
        Ag(t3.g, function(t4, e3) {
          this.g.hasOwnProperty(e3) && av(t4);
        }, t3), t3.g = {};
      }
      function Fv() {
        this.g = true;
      }
      function jv(t3, e3, n3, r3) {
        t3.info(function() {
          return "XMLHTTP TEXT (" + e3 + "): " + function(t4, e4) {
            if (!t4.g)
              return e4;
            if (!e4)
              return null;
            try {
              var n4 = JSON.parse(e4);
              if (n4) {
                for (t4 = 0; t4 < n4.length; t4++)
                  if (Array.isArray(n4[t4])) {
                    var r4 = n4[t4];
                    if (!(r4.length < 2)) {
                      var i3 = r4[1];
                      if (Array.isArray(i3) && !(i3.length < 1)) {
                        var o3 = i3[0];
                        if ("noop" != o3 && "stop" != o3 && "close" != o3)
                          for (var s3 = 1; s3 < i3.length; s3++)
                            i3[s3] = "";
                      }
                    }
                  }
              }
              return vv(n4);
            } catch (t5) {
              return e4;
            }
          }(t3, n3) + (r3 ? " " + r3 : "");
        });
      }
      Dv.prototype.M = function() {
        Dv.Z.M.call(this), Mv(this);
      }, Dv.prototype.handleEvent = function() {
        throw Error("EventHandler.handleEvent not implemented");
      }, Fv.prototype.Aa = function() {
        this.g = false;
      }, Fv.prototype.info = function() {
      };
      var Uv = {}, qv = null;
      function Vv() {
        return qv = qv || new pv();
      }
      function Bv(t3) {
        Gg.call(this, Uv.Ma, t3);
      }
      function Kv() {
        var t3 = Vv();
        dv(t3, new Bv(t3));
      }
      function Wv(t3, e3) {
        Gg.call(this, Uv.STAT_EVENT, t3), this.stat = e3;
      }
      function Hv(t3) {
        var e3 = Vv();
        dv(e3, new Wv(e3, t3));
      }
      function zv(t3, e3) {
        Gg.call(this, Uv.Na, t3), this.size = e3;
      }
      function Gv(t3, e3) {
        if ("function" != typeof t3)
          throw Error("Fn must not be null and must be a function");
        return og.setTimeout(function() {
          t3();
        }, e3);
      }
      Uv.Ma = "serverreachability", gg(Bv, Gg), Uv.STAT_EVENT = "statevent", gg(Wv, Gg), Uv.Na = "timingevent", gg(zv, Gg);
      G = { NO_ERROR: 0, lb: 1, yb: 2, xb: 3, sb: 4, wb: 5, zb: 6, Ja: 7, TIMEOUT: 8, Cb: 9 }, Q = { qb: "complete", Mb: "success", Ka: "error", Ja: "abort", Eb: "ready", Fb: "readystatechange", TIMEOUT: "timeout", Ab: "incrementaldata", Db: "progress", tb: "downloadprogress", Ub: "uploadprogress" };
      function Qv() {
      }
      function Yv(t3) {
        return t3.h || (t3.h = t3.i());
      }
      function Xv() {
      }
      Qv.prototype.h = null;
      Qa = { OPEN: "a", pb: "b", Ka: "c", Bb: "d" };
      function $v() {
        Gg.call(this, "d");
      }
      function Jv() {
        Gg.call(this, "c");
      }
      function Zv() {
      }
      function ty(t3, e3, n3, r3) {
        this.l = t3, this.j = e3, this.m = n3, this.X = r3 || 1, this.V = new Dv(this), this.P = ry, this.W = new Cv(t3 = Fg ? 125 : void 0), this.H = null, this.i = false, this.s = this.A = this.v = this.K = this.F = this.Y = this.B = null, this.D = [], this.g = null, this.C = 0, this.o = this.u = null, this.N = -1, this.I = false, this.O = 0, this.L = null, this.aa = this.J = this.$ = this.U = false, this.h = new ey();
      }
      function ey() {
        this.i = null, this.g = "", this.h = false;
      }
      gg($v, Gg), gg(Jv, Gg), gg(Zv, Qv), Zv.prototype.g = function() {
        return new XMLHttpRequest();
      }, Zv.prototype.i = function() {
        return {};
      };
      var ny = new Zv(), ry = 45e3, iy = {}, oy = {};
      function sy(t3, e3, n3) {
        t3.K = 1, t3.v = Ay(Ty(e3)), t3.s = n3, t3.U = true, ay(t3, null);
      }
      function ay(t3, e3) {
        t3.F = Date.now(), hy(t3), t3.A = Ty(t3.v);
        var s3, a3, u3, c3, h3, l3, n3 = t3.A, r3 = t3.X;
        Array.isArray(r3) || (r3 = [String(r3)]), Vy(n3.h, "t", r3), t3.C = 0, n3 = t3.l.H, t3.h = new ey(), t3.g = Bm(t3.l, n3 ? e3 : null, !t3.s), 0 < t3.O && (t3.L = new Pv(pg(t3.Ia, t3, t3.g), t3.O)), Lv(t3.V, t3.g, "readystatechange", t3.gb), e3 = t3.H ? Ng(t3.H) : {}, t3.s ? (t3.u || (t3.u = "POST"), e3["Content-Type"] = "application/x-www-form-urlencoded", t3.g.ea(t3.A, t3.u, t3.s, e3)) : (t3.u = "GET", t3.g.ea(t3.A, t3.u, null, e3)), Kv(), s3 = t3.j, a3 = t3.u, u3 = t3.A, c3 = t3.m, h3 = t3.X, l3 = t3.s, s3.info(function() {
          if (s3.g)
            if (l3)
              for (var t4 = "", e4 = l3.split("&"), n4 = 0; n4 < e4.length; n4++) {
                var r4, i3, o3 = e4[n4].split("=");
                1 < o3.length && (r4 = o3[0], o3 = o3[1], t4 = 2 <= (i3 = r4.split("_")).length && "type" == i3[1] ? t4 + (r4 + "=") + o3 + "&" : t4 + (r4 + "=redacted&"));
              }
            else
              t4 = null;
          else
            t4 = l3;
          return "XMLHTTP REQ (" + c3 + ") [attempt " + h3 + "]: " + a3 + "\n" + u3 + "\n" + t4;
        });
      }
      function uy(t3) {
        return t3.g && ("GET" == t3.u && 2 != t3.K && t3.l.Ba);
      }
      function cy(t3, e3, n3) {
        for (var r3, i3, o3, s3, a3, u3 = true; !t3.I && t3.C < n3.length; ) {
          if (o3 = n3, a3 = s3 = void 0, s3 = (i3 = t3).C, (r3 = -1 == (a3 = o3.indexOf("\n", s3)) ? oy : (s3 = Number(o3.substring(s3, a3)), isNaN(s3) ? iy : (a3 += 1) + s3 > o3.length ? oy : (o3 = o3.substr(a3, s3), i3.C = a3 + s3, o3))) == oy) {
            4 == e3 && (t3.o = 4, Hv(14), u3 = false), jv(t3.j, t3.m, null, "[Incomplete Response]");
            break;
          }
          if (r3 == iy) {
            t3.o = 4, Hv(15), jv(t3.j, t3.m, n3, "[Invalid Chunk]"), u3 = false;
            break;
          }
          jv(t3.j, t3.m, r3, null), gy(t3, r3);
        }
        uy(t3) && r3 != oy && r3 != iy && (t3.h.g = "", t3.C = 0), 4 != e3 || 0 != n3.length || t3.h.h || (t3.o = 1, Hv(16), u3 = false), t3.i = t3.i && u3, u3 ? 0 < n3.length && !t3.aa && (t3.aa = true, (e3 = t3.l).g == t3 && e3.$ && !e3.L && (e3.h.info("Great, no buffering proxy detected. Bytes received: " + n3.length), xm(e3), e3.L = true, Hv(11))) : (jv(t3.j, t3.m, n3, "[Invalid Chunked Response]"), dy(t3), py(t3));
      }
      function hy(t3) {
        t3.Y = Date.now() + t3.P, ly(t3, t3.P);
      }
      function ly(t3, e3) {
        if (null != t3.B)
          throw Error("WatchDog timer not null");
        t3.B = Gv(pg(t3.eb, t3), e3);
      }
      function fy(t3) {
        t3.B && (og.clearTimeout(t3.B), t3.B = null);
      }
      function py(t3) {
        0 == t3.l.G || t3.I || Fm(t3.l, t3);
      }
      function dy(t3) {
        fy(t3);
        var e3 = t3.L;
        e3 && "function" == typeof e3.na && e3.na(), t3.L = null, Av(t3.W), Mv(t3.V), t3.g && (e3 = t3.g, t3.g = null, e3.abort(), e3.na());
      }
      function gy(t3, e3) {
        try {
          var n3 = t3.l;
          if (0 != n3.G && (n3.g == t3 || Yy(n3.i, t3))) {
            if (n3.I = t3.N, !t3.J && Yy(n3.i, t3) && 3 == n3.G) {
              try {
                var r3 = n3.Ca.g.parse(e3);
              } catch (g4) {
                r3 = null;
              }
              if (Array.isArray(r3) && 3 == r3.length) {
                var i3 = r3;
                if (0 == i3[0]) {
                  t:
                    if (!n3.u) {
                      if (n3.g) {
                        if (!(n3.g.F + 3e3 < t3.F))
                          break t;
                        Mm(n3), Sm(n3);
                      }
                      Dm(n3), Hv(18);
                    }
                } else
                  n3.ta = i3[1], 0 < n3.ta - n3.U && i3[2] < 37500 && n3.N && 0 == n3.A && !n3.v && (n3.v = Gv(pg(n3.ab, n3), 6e3));
                if (Qy(n3.i) <= 1 && n3.ka) {
                  try {
                    n3.ka();
                  } catch (g4) {
                  }
                  n3.ka = void 0;
                }
              } else
                Um(n3, 11);
            } else if (!t3.J && n3.g != t3 || Mm(n3), !Tg(e3))
              for (i3 = n3.Ca.g.parse(e3), e3 = 0; e3 < i3.length; e3++) {
                var o3, s3, a3, u3, c3, h3, l3, f3, p3, d3, g3 = i3[e3];
                n3.U = g3[0], g3 = g3[1], 2 == n3.G ? "c" == g3[0] ? (n3.J = g3[1], n3.la = g3[2], null != (o3 = g3[3]) && (n3.ma = o3, n3.h.info("VER=" + n3.ma)), null != (s3 = g3[4]) && (n3.za = s3, n3.h.info("SVER=" + n3.za)), null != (a3 = g3[5]) && "number" == typeof a3 && 0 < a3 && (r3 = 1.5 * a3, n3.K = r3, n3.h.info("backChannelRequestTimeoutMs_=" + r3)), r3 = n3, (u3 = t3.g) && (!(c3 = u3.g ? u3.g.getResponseHeader("X-Client-Wire-Protocol") : null) || !(h3 = r3.i).g && (Sg(c3, "spdy") || Sg(c3, "quic") || Sg(c3, "h2")) && (h3.j = h3.l, h3.g = /* @__PURE__ */ new Set(), h3.h && (Xy(h3, h3.h), h3.h = null)), !r3.D || (l3 = u3.g ? u3.g.getResponseHeader("X-HTTP-Session-Id") : null) && (r3.sa = l3, Cy(r3.F, r3.D, l3))), n3.G = 3, n3.j && n3.j.xa(), n3.$ && (n3.O = Date.now() - t3.F, n3.h.info("Handshake RTT: " + n3.O + "ms")), f3 = t3, (r3 = n3).oa = Vm(r3, r3.H ? r3.la : null, r3.W), f3.J ? ($y(r3.i, f3), p3 = f3, (d3 = r3.K) && p3.setTimeout(d3), p3.B && (fy(p3), hy(p3)), r3.g = f3) : Om(r3), 0 < n3.l.length && Am(n3)) : "stop" != g3[0] && "close" != g3[0] || Um(n3, 7) : 3 == n3.G && ("stop" == g3[0] || "close" == g3[0] ? "stop" == g3[0] ? Um(n3, 7) : Em(n3) : "noop" != g3[0] && n3.j && n3.j.wa(g3), n3.A = 0);
              }
          }
          Kv();
        } catch (g4) {
        }
      }
      function vy(t3, e3) {
        if (t3.forEach && "function" == typeof t3.forEach)
          t3.forEach(e3, void 0);
        else if (ag(t3) || "string" == typeof t3)
          bg(t3, e3, void 0);
        else {
          if (t3.T && "function" == typeof t3.T)
            var n3 = t3.T();
          else if (t3.R && "function" == typeof t3.R)
            n3 = void 0;
          else if (ag(t3) || "string" == typeof t3)
            for (var n3 = [], r3 = t3.length, i3 = 0; i3 < r3; i3++)
              n3.push(i3);
          else
            for (i3 in n3 = [], r3 = 0, t3)
              n3[r3++] = i3;
          for (var i3 = (r3 = function(t4) {
            if (t4.R && "function" == typeof t4.R)
              return t4.R();
            if ("string" == typeof t4)
              return t4.split("");
            if (ag(t4)) {
              for (var e4 = [], n4 = t4.length, r4 = 0; r4 < n4; r4++)
                e4.push(t4[r4]);
              return e4;
            }
            for (r4 in e4 = [], n4 = 0, t4)
              e4[n4++] = t4[r4];
            return e4;
          }(t3)).length, o3 = 0; o3 < i3; o3++)
            e3.call(void 0, r3[o3], n3 && n3[o3], t3);
        }
      }
      function yy(t3, e3) {
        this.h = {}, this.g = [], this.i = 0;
        var n3 = arguments.length;
        if (1 < n3) {
          if (n3 % 2)
            throw Error("Uneven number of arguments");
          for (var r3 = 0; r3 < n3; r3 += 2)
            this.set(arguments[r3], arguments[r3 + 1]);
        } else if (t3)
          if (t3 instanceof yy)
            for (n3 = t3.T(), r3 = 0; r3 < n3.length; r3++)
              this.set(n3[r3], t3.get(n3[r3]));
          else
            for (r3 in t3)
              this.set(r3, t3[r3]);
      }
      function my(t3) {
        if (t3.i != t3.g.length) {
          for (var e3 = 0, n3 = 0; e3 < t3.g.length; ) {
            var r3 = t3.g[e3];
            by(t3.h, r3) && (t3.g[n3++] = r3), e3++;
          }
          t3.g.length = n3;
        }
        if (t3.i != t3.g.length) {
          for (var i3 = {}, n3 = e3 = 0; e3 < t3.g.length; )
            by(i3, r3 = t3.g[e3]) || (i3[t3.g[n3++] = r3] = 1), e3++;
          t3.g.length = n3;
        }
      }
      function by(t3, e3) {
        return Object.prototype.hasOwnProperty.call(t3, e3);
      }
      (fr = ty.prototype).setTimeout = function(t3) {
        this.P = t3;
      }, fr.gb = function(t3) {
        t3 = t3.target;
        var e3 = this.L;
        e3 && 3 == bm(t3) ? e3.l() : this.Ia(t3);
      }, fr.Ia = function(t3) {
        try {
          if (t3 == this.g)
            t: {
              var e3 = bm(this.g), n3 = this.g.Da();
              this.g.ba();
              if (!(e3 < 3) && (3 != e3 || Fg || this.g && (this.h.h || this.g.ga() || _m(this.g)))) {
                this.I || 4 != e3 || 7 == n3 || Kv(), fy(this);
                var r3 = this.g.ba();
                this.N = r3;
                e:
                  if (uy(this)) {
                    var i3 = _m(this.g);
                    t3 = "";
                    var o3 = i3.length, s3 = 4 == bm(this.g);
                    if (!this.h.i) {
                      if ("undefined" == typeof TextDecoder) {
                        dy(this), py(this);
                        var a3 = "";
                        break e;
                      }
                      this.h.i = new og.TextDecoder();
                    }
                    for (n3 = 0; n3 < o3; n3++)
                      this.h.h = true, t3 += this.h.i.decode(i3[n3], { stream: s3 && n3 == o3 - 1 });
                    i3.splice(0, o3), this.h.g += t3, this.C = 0, a3 = this.h.g;
                  } else
                    a3 = this.g.ga();
                if (this.i = 200 == r3, l3 = this.j, f3 = this.u, p3 = this.A, d3 = this.m, g3 = this.X, v3 = e3, y3 = r3, l3.info(function() {
                  return "XMLHTTP RESP (" + d3 + ") [ attempt " + g3 + "]: " + f3 + "\n" + p3 + "\n" + v3 + " " + y3;
                }), this.i) {
                  if (this.$ && !this.J) {
                    e: {
                      if (this.g) {
                        var u3, c3 = this.g;
                        if ((u3 = c3.g ? c3.g.getResponseHeader("X-HTTP-Initial-Response") : null) && !Tg(u3)) {
                          var h3 = u3;
                          break e;
                        }
                      }
                      h3 = null;
                    }
                    if (!(r3 = h3)) {
                      this.i = false, this.o = 3, Hv(12), dy(this), py(this);
                      break t;
                    }
                    jv(this.j, this.m, r3, "Initial handshake response via X-HTTP-Initial-Response"), this.J = true, gy(this, r3);
                  }
                  this.U ? (cy(this, e3, a3), Fg && this.i && 3 == e3 && (Lv(this.V, this.W, "tick", this.fb), this.W.start())) : (jv(this.j, this.m, a3, null), gy(this, a3)), 4 == e3 && dy(this), this.i && !this.I && (4 == e3 ? Fm(this.l, this) : (this.i = false, hy(this)));
                } else
                  400 == r3 && 0 < a3.indexOf("Unknown SID") ? (this.o = 3, Hv(12)) : (this.o = 0, Hv(13)), dy(this), py(this);
              }
            }
        } catch (e4) {
        }
        var l3, f3, p3, d3, g3, v3, y3;
      }, fr.fb = function() {
        var t3, e3;
        this.g && (t3 = bm(this.g), e3 = this.g.ga(), this.C < e3.length && (fy(this), cy(this, t3, e3), this.i && 4 != t3 && hy(this)));
      }, fr.cancel = function() {
        this.I = true, dy(this);
      }, fr.eb = function() {
        this.B = null;
        var t3, e3, n3 = Date.now();
        0 <= n3 - this.Y ? (t3 = this.j, e3 = this.A, t3.info(function() {
          return "TIMEOUT: " + e3;
        }), 2 != this.K && (Kv(), Hv(17)), dy(this), this.o = 2, py(this)) : ly(this, this.Y - n3);
      }, (fr = yy.prototype).R = function() {
        my(this);
        for (var t3 = [], e3 = 0; e3 < this.g.length; e3++)
          t3.push(this.h[this.g[e3]]);
        return t3;
      }, fr.T = function() {
        return my(this), this.g.concat();
      }, fr.get = function(t3, e3) {
        return by(this.h, t3) ? this.h[t3] : e3;
      }, fr.set = function(t3, e3) {
        by(this.h, t3) || (this.i++, this.g.push(t3)), this.h[t3] = e3;
      }, fr.forEach = function(t3, e3) {
        for (var n3 = this.T(), r3 = 0; r3 < n3.length; r3++) {
          var i3 = n3[r3], o3 = this.get(i3);
          t3.call(e3, o3, i3, this);
        }
      };
      var _y = /^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;
      function wy(t3, e3) {
        var n3;
        this.i = this.s = this.j = "", this.m = null, this.o = this.l = "", this.g = false, t3 instanceof wy ? (this.g = void 0 !== e3 ? e3 : t3.g, Iy(this, t3.j), this.s = t3.s, Ey(this, t3.i), Sy(this, t3.m), this.l = t3.l, e3 = t3.h, (n3 = new Fy()).i = e3.i, e3.g && (n3.g = new yy(e3.g), n3.h = e3.h), ky(this, n3), this.o = t3.o) : t3 && (n3 = String(t3).match(_y)) ? (this.g = !!e3, Iy(this, n3[1] || "", true), this.s = Ny(n3[2] || ""), Ey(this, n3[3] || "", true), Sy(this, n3[4]), this.l = Ny(n3[5] || "", true), ky(this, n3[6] || "", true), this.o = Ny(n3[7] || "")) : (this.g = !!e3, this.h = new Fy(null, this.g));
      }
      function Ty(t3) {
        return new wy(t3);
      }
      function Iy(t3, e3, n3) {
        t3.j = n3 ? Ny(e3, true) : e3, t3.j && (t3.j = t3.j.replace(/:$/, ""));
      }
      function Ey(t3, e3, n3) {
        t3.i = n3 ? Ny(e3, true) : e3;
      }
      function Sy(t3, e3) {
        if (e3) {
          if (e3 = Number(e3), isNaN(e3) || e3 < 0)
            throw Error("Bad port number " + e3);
          t3.m = e3;
        } else
          t3.m = null;
      }
      function ky(t3, e3, n3) {
        var r3, i3;
        e3 instanceof Fy ? (t3.h = e3, r3 = t3.h, (i3 = t3.g) && !r3.j && (jy(r3), r3.i = null, r3.g.forEach(function(t4, e4) {
          var n4 = e4.toLowerCase();
          e4 != n4 && (Uy(this, e4), Vy(this, n4, t4));
        }, r3)), r3.j = i3) : (n3 || (e3 = Ry(e3, Ly)), t3.h = new Fy(e3, t3.g));
      }
      function Cy(t3, e3, n3) {
        t3.h.set(e3, n3);
      }
      function Ay(t3) {
        return Cy(t3, "zx", Math.floor(2147483648 * Math.random()).toString(36) + Math.abs(Math.floor(2147483648 * Math.random()) ^ Date.now()).toString(36)), t3;
      }
      function Ny(t3, e3) {
        return t3 ? e3 ? decodeURI(t3.replace(/%25/g, "%2525")) : decodeURIComponent(t3) : "";
      }
      function Ry(t3, e3, n3) {
        return "string" == typeof t3 ? (t3 = encodeURI(t3).replace(e3, Py), t3 = n3 ? t3.replace(/%25([0-9a-fA-F]{2})/g, "%$1") : t3) : null;
      }
      function Py(t3) {
        return "%" + ((t3 = t3.charCodeAt(0)) >> 4 & 15).toString(16) + (15 & t3).toString(16);
      }
      wy.prototype.toString = function() {
        var t3 = [], e3 = this.j;
        e3 && t3.push(Ry(e3, Oy, true), ":");
        var n3 = this.i;
        return !n3 && "file" != e3 || (t3.push("//"), (e3 = this.s) && t3.push(Ry(e3, Oy, true), "@"), t3.push(encodeURIComponent(String(n3)).replace(/%25([0-9a-fA-F]{2})/g, "%$1")), null != (n3 = this.m) && t3.push(":", String(n3))), (n3 = this.l) && (this.i && "/" != n3.charAt(0) && t3.push("/"), t3.push(Ry(n3, "/" == n3.charAt(0) ? xy : Dy, true))), (n3 = this.h.toString()) && t3.push("?", n3), (n3 = this.o) && t3.push("#", Ry(n3, My)), t3.join("");
      };
      var Oy = /[#\/\?@]/g, Dy = /[#\?:]/g, xy = /[#\?]/g, Ly = /[#\?@]/g, My = /#/g;
      function Fy(t3, e3) {
        this.h = this.g = null, this.i = t3 || null, this.j = !!e3;
      }
      function jy(n3) {
        n3.g || (n3.g = new yy(), n3.h = 0, n3.i && function(t3, e3) {
          if (t3) {
            t3 = t3.split("&");
            for (var n4 = 0; n4 < t3.length; n4++) {
              var r3, i3 = t3[n4].indexOf("="), o3 = null;
              0 <= i3 ? (r3 = t3[n4].substring(0, i3), o3 = t3[n4].substring(i3 + 1)) : r3 = t3[n4], e3(r3, o3 ? decodeURIComponent(o3.replace(/\+/g, " ")) : "");
            }
          }
        }(n3.i, function(t3, e3) {
          n3.add(decodeURIComponent(t3.replace(/\+/g, " ")), e3);
        }));
      }
      function Uy(t3, e3) {
        jy(t3), e3 = By(t3, e3), by(t3.g.h, e3) && (t3.i = null, t3.h -= t3.g.get(e3).length, by((t3 = t3.g).h, e3) && (delete t3.h[e3], t3.i--, t3.g.length > 2 * t3.i && my(t3)));
      }
      function qy(t3, e3) {
        return jy(t3), e3 = By(t3, e3), by(t3.g.h, e3);
      }
      function Vy(t3, e3, n3) {
        Uy(t3, e3), 0 < n3.length && (t3.i = null, t3.g.set(By(t3, e3), wg(n3)), t3.h += n3.length);
      }
      function By(t3, e3) {
        return e3 = String(e3), e3 = t3.j ? e3.toLowerCase() : e3;
      }
      (fr = Fy.prototype).add = function(t3, e3) {
        jy(this), this.i = null, t3 = By(this, t3);
        var n3 = this.g.get(t3);
        return n3 || this.g.set(t3, n3 = []), n3.push(e3), this.h += 1, this;
      }, fr.forEach = function(n3, r3) {
        jy(this), this.g.forEach(function(t3, e3) {
          bg(t3, function(t4) {
            n3.call(r3, t4, e3, this);
          }, this);
        }, this);
      }, fr.T = function() {
        jy(this);
        for (var t3 = this.g.R(), e3 = this.g.T(), n3 = [], r3 = 0; r3 < e3.length; r3++)
          for (var i3 = t3[r3], o3 = 0; o3 < i3.length; o3++)
            n3.push(e3[r3]);
        return n3;
      }, fr.R = function(t3) {
        jy(this);
        var e3 = [];
        if ("string" == typeof t3)
          qy(this, t3) && (e3 = _g(e3, this.g.get(By(this, t3))));
        else {
          t3 = this.g.R();
          for (var n3 = 0; n3 < t3.length; n3++)
            e3 = _g(e3, t3[n3]);
        }
        return e3;
      }, fr.set = function(t3, e3) {
        return jy(this), this.i = null, qy(this, t3 = By(this, t3)) && (this.h -= this.g.get(t3).length), this.g.set(t3, [e3]), this.h += 1, this;
      }, fr.get = function(t3, e3) {
        return t3 && 0 < (t3 = this.R(t3)).length ? String(t3[0]) : e3;
      }, fr.toString = function() {
        if (this.i)
          return this.i;
        if (!this.g)
          return "";
        for (var t3 = [], e3 = this.g.T(), n3 = 0; n3 < e3.length; n3++)
          for (var r3 = e3[n3], i3 = encodeURIComponent(String(r3)), r3 = this.R(r3), o3 = 0; o3 < r3.length; o3++) {
            var s3 = i3;
            "" !== r3[o3] && (s3 += "=" + encodeURIComponent(String(r3[o3]))), t3.push(s3);
          }
        return this.i = t3.join("&");
      };
      var Ky = function(t3, e3) {
        this.h = t3, this.g = e3;
      };
      function Wy(t3) {
        this.l = t3 || zy, t3 = og.PerformanceNavigationTiming ? 0 < (t3 = og.performance.getEntriesByType("navigation")).length && ("hq" == t3[0].nextHopProtocol || "h2" == t3[0].nextHopProtocol) : !!(og.g && og.g.Ea && og.g.Ea() && og.g.Ea().Zb), this.j = t3 ? this.l : 1, this.g = null, 1 < this.j && (this.g = /* @__PURE__ */ new Set()), this.h = null, this.i = [];
      }
      var Hy, zy = 10;
      function Gy(t3) {
        return t3.h || t3.g && t3.g.size >= t3.j;
      }
      function Qy(t3) {
        return t3.h ? 1 : t3.g ? t3.g.size : 0;
      }
      function Yy(t3, e3) {
        return t3.h ? t3.h == e3 : t3.g && t3.g.has(e3);
      }
      function Xy(t3, e3) {
        t3.g ? t3.g.add(e3) : t3.h = e3;
      }
      function $y(t3, e3) {
        t3.h && t3.h == e3 ? t3.h = null : t3.g && t3.g.has(e3) && t3.g.delete(e3);
      }
      function Jy(t3) {
        var e3, n3;
        if (null != t3.h)
          return t3.i.concat(t3.h.D);
        if (null == t3.g || 0 === t3.g.size)
          return wg(t3.i);
        var r3 = t3.i;
        try {
          for (var i3 = rg(t3.g.values()), o3 = i3.next(); !o3.done; o3 = i3.next())
            var s3 = o3.value, r3 = r3.concat(s3.D);
        } catch (t4) {
          e3 = { error: t4 };
        } finally {
          try {
            o3 && !o3.done && (n3 = i3.return) && n3.call(i3);
          } finally {
            if (e3)
              throw e3.error;
          }
        }
        return r3;
      }
      function Zy() {
      }
      function tm() {
        this.g = new Zy();
      }
      function em(t3, e3, n3, r3, i3) {
        try {
          e3.onload = null, e3.onerror = null, e3.onabort = null, e3.ontimeout = null, i3(r3);
        } catch (t4) {
        }
      }
      function nm(t3) {
        this.l = t3.$b || null, this.j = t3.ib || false;
      }
      function rm(t3, e3) {
        pv.call(this), this.D = t3, this.u = e3, this.m = void 0, this.readyState = im, this.status = 0, this.responseType = this.responseText = this.response = this.statusText = "", this.onreadystatechange = null, this.v = new Headers(), this.h = null, this.C = "GET", this.B = "", this.g = false, this.A = this.j = this.l = null;
      }
      Wy.prototype.cancel = function() {
        var e3, t3;
        if (this.i = Jy(this), this.h)
          this.h.cancel(), this.h = null;
        else if (this.g && 0 !== this.g.size) {
          try {
            for (var n3 = rg(this.g.values()), r3 = n3.next(); !r3.done; r3 = n3.next())
              r3.value.cancel();
          } catch (t4) {
            e3 = { error: t4 };
          } finally {
            try {
              r3 && !r3.done && (t3 = n3.return) && t3.call(n3);
            } finally {
              if (e3)
                throw e3.error;
            }
          }
          this.g.clear();
        }
      }, Zy.prototype.stringify = function(t3) {
        return og.JSON.stringify(t3, void 0);
      }, Zy.prototype.parse = function(t3) {
        return og.JSON.parse(t3, void 0);
      }, gg(nm, Qv), nm.prototype.g = function() {
        return new rm(this.l, this.j);
      }, nm.prototype.i = (Hy = {}, function() {
        return Hy;
      }), gg(rm, pv);
      var im = 0;
      function om(t3) {
        t3.j.read().then(t3.Sa.bind(t3)).catch(t3.ha.bind(t3));
      }
      function sm(t3) {
        t3.readyState = 4, t3.l = null, t3.j = null, t3.A = null, am(t3);
      }
      function am(t3) {
        t3.onreadystatechange && t3.onreadystatechange.call(t3);
      }
      (fr = rm.prototype).open = function(t3, e3) {
        if (this.readyState != im)
          throw this.abort(), Error("Error reopening a connection");
        this.C = t3, this.B = e3, this.readyState = 1, am(this);
      }, fr.send = function(t3) {
        if (1 != this.readyState)
          throw this.abort(), Error("need to call open() first. ");
        this.g = true;
        var e3 = { headers: this.v, method: this.C, credentials: this.m, cache: void 0 };
        t3 && (e3.body = t3), (this.D || og).fetch(new Request(this.B, e3)).then(this.Va.bind(this), this.ha.bind(this));
      }, fr.abort = function() {
        this.response = this.responseText = "", this.v = new Headers(), this.status = 0, this.j && this.j.cancel("Request was aborted."), 1 <= this.readyState && this.g && 4 != this.readyState && (this.g = false, sm(this)), this.readyState = im;
      }, fr.Va = function(t3) {
        if (this.g && (this.l = t3, this.h || (this.status = this.l.status, this.statusText = this.l.statusText, this.h = t3.headers, this.readyState = 2, am(this)), this.g && (this.readyState = 3, am(this), this.g)))
          if ("arraybuffer" === this.responseType)
            t3.arrayBuffer().then(this.Ta.bind(this), this.ha.bind(this));
          else if (void 0 !== og.ReadableStream && "body" in t3) {
            if (this.j = t3.body.getReader(), this.u) {
              if (this.responseType)
                throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');
              this.response = [];
            } else
              this.response = this.responseText = "", this.A = new TextDecoder();
            om(this);
          } else
            t3.text().then(this.Ua.bind(this), this.ha.bind(this));
      }, fr.Sa = function(t3) {
        var e3;
        this.g && (this.u && t3.value ? this.response.push(t3.value) : this.u || (e3 = t3.value || new Uint8Array(0), (e3 = this.A.decode(e3, { stream: !t3.done })) && (this.response = this.responseText += e3)), (t3.done ? sm : am)(this), 3 == this.readyState && om(this));
      }, fr.Ua = function(t3) {
        this.g && (this.response = this.responseText = t3, sm(this));
      }, fr.Ta = function(t3) {
        this.g && (this.response = t3, sm(this));
      }, fr.ha = function() {
        this.g && sm(this);
      }, fr.setRequestHeader = function(t3, e3) {
        this.v.append(t3, e3);
      }, fr.getResponseHeader = function(t3) {
        return this.h && this.h.get(t3.toLowerCase()) || "";
      }, fr.getAllResponseHeaders = function() {
        if (!this.h)
          return "";
        for (var t3 = [], e3 = this.h.entries(), n3 = e3.next(); !n3.done; )
          n3 = n3.value, t3.push(n3[0] + ": " + n3[1]), n3 = e3.next();
        return t3.join("\r\n");
      }, Object.defineProperty(rm.prototype, "withCredentials", { get: function() {
        return "include" === this.m;
      }, set: function(t3) {
        this.m = t3 ? "include" : "same-origin";
      } });
      var um = og.JSON.parse;
      function cm(t3) {
        pv.call(this), this.headers = new yy(), this.u = t3 || null, this.h = false, this.C = this.g = null, this.H = "", this.m = 0, this.j = "", this.l = this.F = this.v = this.D = false, this.B = 0, this.A = null, this.J = hm, this.K = this.L = false;
      }
      gg(cm, pv);
      var hm = "", lm = /^https?$/i, fm = ["POST", "PUT"];
      function pm(t3) {
        return "content-type" == t3.toLowerCase();
      }
      function dm(t3, e3) {
        t3.h = false, t3.g && (t3.l = true, t3.g.abort(), t3.l = false), t3.j = e3, t3.m = 5, gm(t3), ym(t3);
      }
      function gm(t3) {
        t3.D || (t3.D = true, dv(t3, "complete"), dv(t3, "error"));
      }
      function vm(t3) {
        if (t3.h && void 0 !== ig && (!t3.C[1] || 4 != bm(t3) || 2 != t3.ba())) {
          if (t3.v && 4 == bm(t3))
            Nv(t3.Fa, 0, t3);
          else if (dv(t3, "readystatechange"), 4 == bm(t3)) {
            t3.h = false;
            try {
              var e3, n3, r3, i3, o3 = t3.ba();
              t:
                switch (o3) {
                  case 200:
                  case 201:
                  case 202:
                  case 204:
                  case 206:
                  case 304:
                  case 1223:
                    var s3 = true;
                    break t;
                  default:
                    s3 = false;
                }
              if ((e3 = s3) || ((n3 = 0 === o3) && (!(i3 = String(t3.H).match(_y)[1] || null) && og.self && og.self.location && (i3 = (r3 = og.self.location.protocol).substr(0, r3.length - 1)), n3 = !lm.test(i3 ? i3.toLowerCase() : "")), e3 = n3), e3)
                dv(t3, "complete"), dv(t3, "success");
              else {
                t3.m = 6;
                try {
                  var a3 = 2 < bm(t3) ? t3.g.statusText : "";
                } catch (t4) {
                  a3 = "";
                }
                t3.j = a3 + " [" + t3.ba() + "]", gm(t3);
              }
            } finally {
              ym(t3);
            }
          }
        }
      }
      function ym(t3, e3) {
        if (t3.g) {
          mm(t3);
          var n3 = t3.g, r3 = t3.C[0] ? sg : null;
          t3.g = null, t3.C = null, e3 || dv(t3, "ready");
          try {
            n3.onreadystatechange = r3;
          } catch (t4) {
          }
        }
      }
      function mm(t3) {
        t3.g && t3.K && (t3.g.ontimeout = null), t3.A && (og.clearTimeout(t3.A), t3.A = null);
      }
      function bm(t3) {
        return t3.g ? t3.g.readyState : 0;
      }
      function _m(t3) {
        try {
          if (!t3.g)
            return null;
          if ("response" in t3.g)
            return t3.g.response;
          switch (t3.J) {
            case hm:
            case "text":
              return t3.g.responseText;
            case "arraybuffer":
              if ("mozResponseArrayBuffer" in t3.g)
                return t3.g.mozResponseArrayBuffer;
          }
          return null;
        } catch (t4) {
          return null;
        }
      }
      function wm(t3, e3, n3) {
        t: {
          for (r3 in n3) {
            var r3 = false;
            break t;
          }
          r3 = true;
        }
        var i3;
        r3 || (i3 = "", Ag(n3, function(t4, e4) {
          i3 += e4, i3 += ":", i3 += t4, i3 += "\r\n";
        }), n3 = i3, "string" == typeof t3 ? null != n3 && encodeURIComponent(String(n3)) : Cy(t3, e3, n3));
      }
      function Tm(t3, e3, n3) {
        return n3 && n3.internalChannelParams && n3.internalChannelParams[t3] || e3;
      }
      function Im(t3) {
        this.za = 0, this.l = [], this.h = new Fv(), this.la = this.oa = this.F = this.W = this.g = this.sa = this.D = this.aa = this.o = this.P = this.s = null, this.Za = this.V = 0, this.Xa = Tm("failFast", false, t3), this.N = this.v = this.u = this.m = this.j = null, this.X = true, this.I = this.ta = this.U = -1, this.Y = this.A = this.C = 0, this.Pa = Tm("baseRetryDelayMs", 5e3, t3), this.$a = Tm("retryDelaySeedMs", 1e4, t3), this.Ya = Tm("forwardChannelMaxRetries", 2, t3), this.ra = Tm("forwardChannelRequestTimeoutMs", 2e4, t3), this.qa = t3 && t3.xmlHttpFactory || void 0, this.Ba = t3 && t3.Yb || false, this.K = void 0, this.H = t3 && t3.supportsCrossDomainXhr || false, this.J = "", this.i = new Wy(t3 && t3.concurrentRequestLimit), this.Ca = new tm(), this.ja = t3 && t3.fastHandshake || false, this.Ra = t3 && t3.Wb || false, t3 && t3.Aa && this.h.Aa(), t3 && t3.forceLongPolling && (this.X = false), this.$ = !this.ja && this.X && t3 && t3.detectBufferingProxy || false, this.ka = void 0, this.O = 0, this.L = false, this.B = null, this.Wa = !t3 || false !== t3.Xb;
      }
      function Em(t3) {
        var e3, n3;
        km(t3), 3 == t3.G && (e3 = t3.V++, Cy(n3 = Ty(t3.F), "SID", t3.J), Cy(n3, "RID", e3), Cy(n3, "TYPE", "terminate"), Rm(t3, n3), (e3 = new ty(t3, t3.h, e3, void 0)).K = 2, e3.v = Ay(Ty(n3)), n3 = false, !(n3 = og.navigator && og.navigator.sendBeacon ? og.navigator.sendBeacon(e3.v.toString(), "") : n3) && og.Image && (new Image().src = e3.v, n3 = true), n3 || (e3.g = Bm(e3.l, null), e3.g.ea(e3.v)), e3.F = Date.now(), hy(e3)), qm(t3);
      }
      function Sm(t3) {
        t3.g && (xm(t3), t3.g.cancel(), t3.g = null);
      }
      function km(t3) {
        Sm(t3), t3.u && (og.clearTimeout(t3.u), t3.u = null), Mm(t3), t3.i.cancel(), t3.m && ("number" == typeof t3.m && og.clearTimeout(t3.m), t3.m = null);
      }
      function Cm(t3, e3) {
        t3.l.push(new Ky(t3.Za++, e3)), 3 == t3.G && Am(t3);
      }
      function Am(t3) {
        Gy(t3.i) || t3.m || (t3.m = true, Iv(t3.Ha, t3), t3.C = 0);
      }
      function Nm(t3, e3) {
        var n3 = e3 ? e3.m : t3.V++, r3 = Ty(t3.F);
        Cy(r3, "SID", t3.J), Cy(r3, "RID", n3), Cy(r3, "AID", t3.U), Rm(t3, r3), t3.o && t3.s && wm(r3, t3.o, t3.s), n3 = new ty(t3, t3.h, n3, t3.C + 1), null === t3.o && (n3.H = t3.s), e3 && (t3.l = e3.D.concat(t3.l)), e3 = Pm(t3, n3, 1e3), n3.setTimeout(Math.round(0.5 * t3.ra) + Math.round(0.5 * t3.ra * Math.random())), Xy(t3.i, n3), sy(n3, r3, e3);
      }
      function Rm(t3, n3) {
        t3.j && vy({}, function(t4, e3) {
          Cy(n3, e3, t4);
        });
      }
      function Pm(t3, e3, n3) {
        n3 = Math.min(t3.l.length, n3);
        var r3 = t3.j ? pg(t3.j.Oa, t3.j, t3) : null;
        t:
          for (var i3 = t3.l, o3 = -1; ; ) {
            var s3 = ["count=" + n3];
            -1 == o3 ? 0 < n3 ? (o3 = i3[0].h, s3.push("ofs=" + o3)) : o3 = 0 : s3.push("ofs=" + o3);
            for (var a3 = true, u3 = 0; u3 < n3; u3++) {
              var c3 = i3[u3].h, h3 = i3[u3].g;
              if ((c3 -= o3) < 0)
                o3 = Math.max(0, i3[u3].h - 100), a3 = false;
              else
                try {
                  !function(t4, r4, e4) {
                    var i4 = e4 || "";
                    try {
                      vy(t4, function(t5, e5) {
                        var n4 = t5;
                        ug(t5) && (n4 = vv(t5)), r4.push(i4 + e5 + "=" + encodeURIComponent(n4));
                      });
                    } catch (t5) {
                      throw r4.push(i4 + "type=" + encodeURIComponent("_badmap")), t5;
                    }
                  }(h3, s3, "req" + c3 + "_");
                } catch (t4) {
                  r3 && r3(h3);
                }
            }
            if (a3) {
              r3 = s3.join("&");
              break t;
            }
          }
        return t3 = t3.l.splice(0, n3), e3.D = t3, r3;
      }
      function Om(t3) {
        t3.g || t3.u || (t3.Y = 1, Iv(t3.Ga, t3), t3.A = 0);
      }
      function Dm(t3) {
        return !(t3.g || t3.u || 3 <= t3.A) && (t3.Y++, t3.u = Gv(pg(t3.Ga, t3), jm(t3, t3.A)), t3.A++, 1);
      }
      function xm(t3) {
        null != t3.B && (og.clearTimeout(t3.B), t3.B = null);
      }
      function Lm(t3) {
        t3.g = new ty(t3, t3.h, "rpc", t3.Y), null === t3.o && (t3.g.H = t3.s), t3.g.O = 0;
        var e3 = Ty(t3.oa);
        Cy(e3, "RID", "rpc"), Cy(e3, "SID", t3.J), Cy(e3, "CI", t3.N ? "0" : "1"), Cy(e3, "AID", t3.U), Rm(t3, e3), Cy(e3, "TYPE", "xmlhttp"), t3.o && t3.s && wm(e3, t3.o, t3.s), t3.K && t3.g.setTimeout(t3.K);
        var n3 = t3.g;
        t3 = t3.la, n3.K = 1, n3.v = Ay(Ty(e3)), n3.s = null, n3.U = true, ay(n3, t3);
      }
      function Mm(t3) {
        null != t3.v && (og.clearTimeout(t3.v), t3.v = null);
      }
      function Fm(t3, e3) {
        var n3, r3, i3, o3 = null;
        if (t3.g == e3) {
          Mm(t3), xm(t3), t3.g = null;
          var s3 = 2;
        } else {
          if (!Yy(t3.i, e3))
            return;
          o3 = e3.D, $y(t3.i, e3), s3 = 1;
        }
        if (t3.I = e3.N, 0 != t3.G) {
          if (e3.i)
            1 == s3 ? (o3 = e3.s ? e3.s.length : 0, e3 = Date.now() - e3.F, n3 = t3.C, dv(s3 = Vv(), new zv(s3, o3)), Am(t3)) : Om(t3);
          else if (3 == (n3 = e3.o) || 0 == n3 && 0 < t3.I || (1 != s3 || (i3 = e3, Qy((r3 = t3).i) >= r3.i.j - (r3.m ? 1 : 0) || (r3.m ? (r3.l = i3.D.concat(r3.l), 0) : 1 == r3.G || 2 == r3.G || r3.C >= (r3.Xa ? 0 : r3.Ya) || (r3.m = Gv(pg(r3.Ha, r3, i3), jm(r3, r3.C)), r3.C++, 0)))) && (2 != s3 || !Dm(t3)))
            switch (o3 && 0 < o3.length && (e3 = t3.i, e3.i = e3.i.concat(o3)), n3) {
              case 1:
                Um(t3, 5);
                break;
              case 4:
                Um(t3, 10);
                break;
              case 3:
                Um(t3, 6);
                break;
              default:
                Um(t3, 2);
            }
        }
      }
      function jm(t3, e3) {
        var n3 = t3.Pa + Math.floor(Math.random() * t3.$a);
        return t3.j || (n3 *= 2), n3 * e3;
      }
      function Um(t3, e3) {
        var n3, r3, i3, o3;
        t3.h.info("Error code " + e3), 2 == e3 ? (r3 = null, t3.j && (r3 = null), o3 = pg(t3.jb, t3), r3 || (r3 = new wy("//www.google.com/images/cleardot.gif"), og.location && "http" == og.location.protocol || Iy(r3, "https"), Ay(r3)), n3 = r3.toString(), r3 = o3, o3 = new Fv(), og.Image ? ((i3 = new Image()).onload = dg(em, o3, i3, "TestLoadImage: loaded", true, r3), i3.onerror = dg(em, o3, i3, "TestLoadImage: error", false, r3), i3.onabort = dg(em, o3, i3, "TestLoadImage: abort", false, r3), i3.ontimeout = dg(em, o3, i3, "TestLoadImage: timeout", false, r3), og.setTimeout(function() {
          i3.ontimeout && i3.ontimeout();
        }, 1e4), i3.src = n3) : r3(false)) : Hv(2), t3.G = 0, t3.j && t3.j.va(e3), qm(t3), km(t3);
      }
      function qm(t3) {
        t3.G = 0, t3.I = -1, t3.j && (0 == Jy(t3.i).length && 0 == t3.l.length || (t3.i.i.length = 0, wg(t3.l), t3.l.length = 0), t3.j.ua());
      }
      function Vm(t3, e3, n3) {
        var r3, i3, o3, s3, a3, u3 = (s3 = n3) instanceof wy ? Ty(s3) : new wy(s3, void 0);
        return "" != u3.i ? (e3 && Ey(u3, e3 + "." + u3.i), Sy(u3, u3.m)) : (a3 = og.location, r3 = a3.protocol, i3 = e3 ? e3 + "." + a3.hostname : a3.hostname, o3 = +a3.port, s3 = n3, a3 = new wy(null, void 0), r3 && Iy(a3, r3), i3 && Ey(a3, i3), o3 && Sy(a3, o3), s3 && (a3.l = s3), u3 = a3), t3.aa && Ag(t3.aa, function(t4, e4) {
          Cy(u3, e4, t4);
        }), e3 = t3.D, n3 = t3.sa, e3 && n3 && Cy(u3, e3, n3), Cy(u3, "VER", t3.ma), Rm(t3, u3), u3;
      }
      function Bm(t3, e3, n3) {
        if (e3 && !t3.H)
          throw Error("Can't create secondary domain capable XhrIo object.");
        return (e3 = n3 && t3.Ba && !t3.qa ? new cm(new nm({ ib: true })) : new cm(t3.qa)).L = t3.H, e3;
      }
      function Km() {
      }
      function Wm() {
        if (Lg && !(10 <= Number(Hg)))
          throw Error("Environmental error: no available transport.");
      }
      function Hm(t3, e3) {
        pv.call(this), this.g = new Im(e3), this.l = t3, this.h = e3 && e3.messageUrlParams || null, t3 = e3 && e3.messageHeaders || null, e3 && e3.clientProtocolHeaderRequired && (t3 ? t3["X-Client-Protocol"] = "webchannel" : t3 = { "X-Client-Protocol": "webchannel" }), this.g.s = t3, t3 = e3 && e3.initMessageHeaders || null, e3 && e3.messageContentType && (t3 ? t3["X-WebChannel-Content-Type"] = e3.messageContentType : t3 = { "X-WebChannel-Content-Type": e3.messageContentType }), e3 && e3.ya && (t3 ? t3["X-WebChannel-Client-Profile"] = e3.ya : t3 = { "X-WebChannel-Client-Profile": e3.ya }), this.g.P = t3, (t3 = e3 && e3.httpHeadersOverwriteParam) && !Tg(t3) && (this.g.o = t3), this.A = e3 && e3.supportsCrossDomainXhr || false, this.v = e3 && e3.sendRawJson || false, (e3 = e3 && e3.httpSessionIdParam) && !Tg(e3) && (this.g.D = e3, null !== (t3 = this.h) && e3 in t3 && (e3 in (t3 = this.h) && delete t3[e3])), this.j = new Qm(this);
      }
      function zm(t3) {
        $v.call(this);
        var e3 = t3.__sm__;
        if (e3) {
          t: {
            for (var n3 in e3) {
              t3 = n3;
              break t;
            }
            t3 = void 0;
          }
          (this.i = t3) && (t3 = this.i, e3 = null !== e3 && t3 in e3 ? e3[t3] : void 0), this.data = e3;
        } else
          this.data = t3;
      }
      function Gm() {
        Jv.call(this), this.status = 1;
      }
      function Qm(t3) {
        this.g = t3;
      }
      (fr = cm.prototype).ea = function(t3, e3, n3, r3) {
        if (this.g)
          throw Error("[goog.net.XhrIo] Object is active with another request=" + this.H + "; newUri=" + t3);
        e3 = e3 ? e3.toUpperCase() : "GET", this.H = t3, this.j = "", this.m = 0, this.D = false, this.h = true, this.g = (this.u || ny).g(), this.C = this.u ? Yv(this.u) : Yv(ny), this.g.onreadystatechange = pg(this.Fa, this);
        try {
          this.F = true, this.g.open(e3, String(t3), true), this.F = false;
        } catch (t4) {
          return void dm(this, t4);
        }
        t3 = n3 || "";
        var i3, o3 = new yy(this.headers);
        r3 && vy(r3, function(t4, e4) {
          o3.set(e4, t4);
        }), r3 = function(t4) {
          t: {
            for (var e4 = pm, n4 = t4.length, r4 = "string" == typeof t4 ? t4.split("") : t4, i4 = 0; i4 < n4; i4++)
              if (i4 in r4 && e4.call(void 0, r4[i4], i4, t4)) {
                e4 = i4;
                break t;
              }
            e4 = -1;
          }
          return e4 < 0 ? null : "string" == typeof t4 ? t4.charAt(e4) : t4[e4];
        }(o3.T()), n3 = og.FormData && t3 instanceof og.FormData, 0 <= mg(fm, e3) && !r3 && !n3 && o3.set("Content-Type", "application/x-www-form-urlencoded;charset=utf-8"), o3.forEach(function(t4, e4) {
          this.g.setRequestHeader(e4, t4);
        }, this), this.J && (this.g.responseType = this.J), "withCredentials" in this.g && this.g.withCredentials !== this.L && (this.g.withCredentials = this.L);
        try {
          mm(this), 0 < this.B && ((this.K = (i3 = this.g, Lg && Wg() && "number" == typeof i3.timeout && void 0 !== i3.ontimeout)) ? (this.g.timeout = this.B, this.g.ontimeout = pg(this.pa, this)) : this.A = Nv(this.pa, this.B, this)), this.v = true, this.g.send(t3), this.v = false;
        } catch (t4) {
          dm(this, t4);
        }
      }, fr.pa = function() {
        void 0 !== ig && this.g && (this.j = "Timed out after " + this.B + "ms, aborting", this.m = 8, dv(this, "timeout"), this.abort(8));
      }, fr.abort = function(t3) {
        this.g && this.h && (this.h = false, this.l = true, this.g.abort(), this.l = false, this.m = t3 || 7, dv(this, "complete"), dv(this, "abort"), ym(this));
      }, fr.M = function() {
        this.g && (this.h && (this.h = false, this.l = true, this.g.abort(), this.l = false), ym(this, true)), cm.Z.M.call(this);
      }, fr.Fa = function() {
        this.s || (this.F || this.v || this.l ? vm(this) : this.cb());
      }, fr.cb = function() {
        vm(this);
      }, fr.ba = function() {
        try {
          return 2 < bm(this) ? this.g.status : -1;
        } catch (t3) {
          return -1;
        }
      }, fr.ga = function() {
        try {
          return this.g ? this.g.responseText : "";
        } catch (t3) {
          return "";
        }
      }, fr.Qa = function(t3) {
        if (this.g) {
          var e3 = this.g.responseText;
          return t3 && 0 == e3.indexOf(t3) && (e3 = e3.substring(t3.length)), um(e3);
        }
      }, fr.Da = function() {
        return this.m;
      }, fr.La = function() {
        return "string" == typeof this.j ? this.j : String(this.j);
      }, (fr = Im.prototype).ma = 8, fr.G = 1, fr.hb = function(t3) {
        try {
          this.h.info("Origin Trials invoked: " + t3);
        } catch (t4) {
        }
      }, fr.Ha = function(t3) {
        if (this.m)
          if (this.m = null, 1 == this.G) {
            if (!t3) {
              this.V = Math.floor(1e5 * Math.random()), t3 = this.V++;
              var e3 = new ty(this, this.h, t3, void 0), n3 = this.s;
              if (this.P && (n3 ? Pg(n3 = Ng(n3), this.P) : n3 = this.P), null === this.o && (e3.H = n3), this.ja)
                t: {
                  for (var r3 = 0, i3 = 0; i3 < this.l.length; i3++) {
                    var o3 = this.l[i3];
                    if ("__data__" in o3.g && "string" == typeof (o3 = o3.g.__data__) ? o3 = o3.length : o3 = void 0, void 0 === o3)
                      break;
                    if (4096 < (r3 += o3)) {
                      r3 = i3;
                      break t;
                    }
                    if (4096 === r3 || i3 === this.l.length - 1) {
                      r3 = i3 + 1;
                      break t;
                    }
                  }
                  r3 = 1e3;
                }
              else
                r3 = 1e3;
              r3 = Pm(this, e3, r3), Cy(i3 = Ty(this.F), "RID", t3), Cy(i3, "CVER", 22), this.D && Cy(i3, "X-HTTP-Session-Id", this.D), Rm(this, i3), this.o && n3 && wm(i3, this.o, n3), Xy(this.i, e3), this.Ra && Cy(i3, "TYPE", "init"), this.ja ? (Cy(i3, "$req", r3), Cy(i3, "SID", "null"), e3.$ = true, sy(e3, i3, null)) : sy(e3, i3, r3), this.G = 2;
            }
          } else
            3 == this.G && (t3 ? Nm(this, t3) : 0 == this.l.length || Gy(this.i) || Nm(this));
      }, fr.Ga = function() {
        var t3;
        this.u = null, Lm(this), this.$ && !(this.L || null == this.g || this.O <= 0) && (t3 = 2 * this.O, this.h.info("BP detection timer enabled: " + t3), this.B = Gv(pg(this.bb, this), t3));
      }, fr.bb = function() {
        this.B && (this.B = null, this.h.info("BP detection timeout reached."), this.h.info("Buffering proxy detected and switch to long-polling!"), this.N = false, this.L = true, Hv(10), Sm(this), Lm(this));
      }, fr.ab = function() {
        null != this.v && (this.v = null, Sm(this), Dm(this), Hv(19));
      }, fr.jb = function(t3) {
        t3 ? (this.h.info("Successfully pinged google.com"), Hv(2)) : (this.h.info("Failed to ping google.com"), Hv(1));
      }, (fr = Km.prototype).xa = function() {
      }, fr.wa = function() {
      }, fr.va = function() {
      }, fr.ua = function() {
      }, fr.Oa = function() {
      }, Wm.prototype.g = function(t3, e3) {
        return new Hm(t3, e3);
      }, gg(Hm, pv), Hm.prototype.m = function() {
        this.g.j = this.j, this.A && (this.g.H = true);
        var t3 = this.g, e3 = this.l, n3 = this.h || void 0;
        t3.Wa && (t3.h.info("Origin Trials enabled."), Iv(pg(t3.hb, t3, e3))), Hv(0), t3.W = e3, t3.aa = n3 || {}, t3.N = t3.X, t3.F = Vm(t3, null, t3.W), Am(t3);
      }, Hm.prototype.close = function() {
        Em(this.g);
      }, Hm.prototype.u = function(t3) {
        var e3;
        "string" == typeof t3 ? ((e3 = {}).__data__ = t3, Cm(this.g, e3)) : this.v ? ((e3 = {}).__data__ = vv(t3), Cm(this.g, e3)) : Cm(this.g, t3);
      }, Hm.prototype.M = function() {
        this.g.j = null, delete this.j, Em(this.g), delete this.g, Hm.Z.M.call(this);
      }, gg(zm, $v), gg(Gm, Jv), gg(Qm, Km), Qm.prototype.xa = function() {
        dv(this.g, "a");
      }, Qm.prototype.wa = function(t3) {
        dv(this.g, new zm(t3));
      }, Qm.prototype.va = function(t3) {
        dv(this.g, new Gm());
      }, Qm.prototype.ua = function() {
        dv(this.g, "b");
      }, Wm.prototype.createWebChannel = Wm.prototype.g, Hm.prototype.send = Hm.prototype.u, Hm.prototype.open = Hm.prototype.m, G.NO_ERROR = 0, G.TIMEOUT = 8, G.HTTP_ERROR = 6, Q.COMPLETE = "complete", (Xv.EventType = Qa).OPEN = "a", Qa.CLOSE = "b", Qa.ERROR = "c", Qa.MESSAGE = "d", pv.prototype.listen = pv.prototype.N, cm.prototype.listenOnce = cm.prototype.O, cm.prototype.getLastError = cm.prototype.La, cm.prototype.getLastErrorCode = cm.prototype.Da, cm.prototype.getStatus = cm.prototype.ba, cm.prototype.getResponseJson = cm.prototype.Qa, cm.prototype.getResponseText = cm.prototype.ga, cm.prototype.send = cm.prototype.ea;
      var Ym = Vv, Xm = G, $m = Q, Jm = Uv, Zm = 10, tb = 11, eb = nm, nb = Xv, rb = cm, ib = (ob.prototype.t = function(t3) {
        return this.previousValue = Math.max(t3, this.previousValue), this.previousValue;
      }, ob.prototype.next = function() {
        var t3 = ++this.previousValue;
        return this.i && this.i(t3), t3;
      }, ob);
      function ob(t3, e3) {
        var n3 = this;
        this.previousValue = t3, e3 && (e3.sequenceNumberHandler = function(t4) {
          return n3.t(t4);
        }, this.i = function(t4) {
          return e3.writeSequenceNumber(t4);
        });
      }
      ib.o = -1;
      var sb, ab = { OK: "ok", CANCELLED: "cancelled", UNKNOWN: "unknown", INVALID_ARGUMENT: "invalid-argument", DEADLINE_EXCEEDED: "deadline-exceeded", NOT_FOUND: "not-found", ALREADY_EXISTS: "already-exists", PERMISSION_DENIED: "permission-denied", UNAUTHENTICATED: "unauthenticated", RESOURCE_EXHAUSTED: "resource-exhausted", FAILED_PRECONDITION: "failed-precondition", ABORTED: "aborted", OUT_OF_RANGE: "out-of-range", UNIMPLEMENTED: "unimplemented", INTERNAL: "internal", UNAVAILABLE: "unavailable", DATA_LOSS: "data-loss" }, ub = (Gi(hb, sb = Error), hb), cb = new ds("@firebase/firestore");
      function hb(t3, e3) {
        var n3 = this;
        return (n3 = sb.call(this, e3) || this).code = t3, n3.message = e3, n3.name = "FirebaseError", n3.toString = function() {
          return n3.name + ": [code=" + n3.code + "]: " + n3.message;
        }, n3;
      }
      function lb() {
        return cb.logLevel;
      }
      function fb(t3) {
        for (var e3, n3 = [], r3 = 1; r3 < arguments.length; r3++)
          n3[r3 - 1] = arguments[r3];
        cb.logLevel <= us.DEBUG && (e3 = n3.map(gb), cb.debug.apply(cb, Zi(["Firestore (8.10.1): " + t3], e3)));
      }
      function pb(t3) {
        for (var e3, n3 = [], r3 = 1; r3 < arguments.length; r3++)
          n3[r3 - 1] = arguments[r3];
        cb.logLevel <= us.ERROR && (e3 = n3.map(gb), cb.error.apply(cb, Zi(["Firestore (8.10.1): " + t3], e3)));
      }
      function db(t3) {
        for (var e3, n3 = [], r3 = 1; r3 < arguments.length; r3++)
          n3[r3 - 1] = arguments[r3];
        cb.logLevel <= us.WARN && (e3 = n3.map(gb), cb.warn.apply(cb, Zi(["Firestore (8.10.1): " + t3], e3)));
      }
      function gb(e3) {
        if ("string" == typeof e3)
          return e3;
        try {
          return JSON.stringify(e3);
        } catch (t3) {
          return e3;
        }
      }
      function vb(t3) {
        t3 = "FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: " + (t3 = void 0 === t3 ? "Unexpected state" : t3);
        throw pb(t3), new Error(t3);
      }
      function yb(t3) {
        t3 || vb();
      }
      var mb = (bb.u = function() {
        for (var t3 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", e3 = Math.floor(256 / t3.length) * t3.length, n3 = ""; n3.length < 20; )
          for (var r3 = function(t4) {
            var e4 = "undefined" != typeof self && (self.crypto || self.msCrypto), n4 = new Uint8Array(t4);
            if (e4 && "function" == typeof e4.getRandomValues)
              e4.getRandomValues(n4);
            else
              for (var r4 = 0; r4 < t4; r4++)
                n4[r4] = Math.floor(256 * Math.random());
            return n4;
          }(40), i3 = 0; i3 < r3.length; ++i3)
            n3.length < 20 && r3[i3] < e3 && (n3 += t3.charAt(r3[i3] % t3.length));
        return n3;
      }, bb);
      function bb() {
      }
      function _b(t3, e3) {
        return t3 < e3 ? -1 : e3 < t3 ? 1 : 0;
      }
      function wb(t3, n3, r3) {
        return t3.length === n3.length && t3.every(function(t4, e3) {
          return r3(t4, n3[e3]);
        });
      }
      function Tb(t3) {
        return t3 + "\0";
      }
      var Ib = (kb.now = function() {
        return kb.fromMillis(Date.now());
      }, kb.fromDate = function(t3) {
        return kb.fromMillis(t3.getTime());
      }, kb.fromMillis = function(t3) {
        var e3 = Math.floor(t3 / 1e3);
        return new kb(e3, Math.floor(1e6 * (t3 - 1e3 * e3)));
      }, kb.prototype.toDate = function() {
        return new Date(this.toMillis());
      }, kb.prototype.toMillis = function() {
        return 1e3 * this.seconds + this.nanoseconds / 1e6;
      }, kb.prototype._compareTo = function(t3) {
        return this.seconds === t3.seconds ? _b(this.nanoseconds, t3.nanoseconds) : _b(this.seconds, t3.seconds);
      }, kb.prototype.isEqual = function(t3) {
        return t3.seconds === this.seconds && t3.nanoseconds === this.nanoseconds;
      }, kb.prototype.toString = function() {
        return "Timestamp(seconds=" + this.seconds + ", nanoseconds=" + this.nanoseconds + ")";
      }, kb.prototype.toJSON = function() {
        return { seconds: this.seconds, nanoseconds: this.nanoseconds };
      }, kb.prototype.valueOf = function() {
        var t3 = this.seconds - -62135596800;
        return String(t3).padStart(12, "0") + "." + String(this.nanoseconds).padStart(9, "0");
      }, kb), Eb = (Sb.fromTimestamp = function(t3) {
        return new Sb(t3);
      }, Sb.min = function() {
        return new Sb(new Ib(0, 0));
      }, Sb.prototype.compareTo = function(t3) {
        return this.timestamp._compareTo(t3.timestamp);
      }, Sb.prototype.isEqual = function(t3) {
        return this.timestamp.isEqual(t3.timestamp);
      }, Sb.prototype.toMicroseconds = function() {
        return 1e6 * this.timestamp.seconds + this.timestamp.nanoseconds / 1e3;
      }, Sb.prototype.toString = function() {
        return "SnapshotVersion(" + this.timestamp.toString() + ")";
      }, Sb.prototype.toTimestamp = function() {
        return this.timestamp;
      }, Sb);
      function Sb(t3) {
        this.timestamp = t3;
      }
      function kb(t3, e3) {
        if (this.seconds = t3, (this.nanoseconds = e3) < 0)
          throw new ub(ab.INVALID_ARGUMENT, "Timestamp nanoseconds out of range: " + e3);
        if (1e9 <= e3)
          throw new ub(ab.INVALID_ARGUMENT, "Timestamp nanoseconds out of range: " + e3);
        if (t3 < -62135596800)
          throw new ub(ab.INVALID_ARGUMENT, "Timestamp seconds out of range: " + t3);
        if (253402300800 <= t3)
          throw new ub(ab.INVALID_ARGUMENT, "Timestamp seconds out of range: " + t3);
      }
      function Cb(t3) {
        var e3, n3 = 0;
        for (e3 in t3)
          Object.prototype.hasOwnProperty.call(t3, e3) && n3++;
        return n3;
      }
      function Ab(t3, e3) {
        for (var n3 in t3)
          Object.prototype.hasOwnProperty.call(t3, n3) && e3(n3, t3[n3]);
      }
      function Nb(t3) {
        for (var e3 in t3)
          if (Object.prototype.hasOwnProperty.call(t3, e3))
            return false;
        return true;
      }
      var Rb, Pb, G = (Object.defineProperty(Vb.prototype, "length", { get: function() {
        return this.len;
      }, enumerable: false, configurable: true }), Vb.prototype.isEqual = function(t3) {
        return 0 === Vb.comparator(this, t3);
      }, Vb.prototype.child = function(t3) {
        var e3 = this.segments.slice(this.offset, this.limit());
        return t3 instanceof Vb ? t3.forEach(function(t4) {
          e3.push(t4);
        }) : e3.push(t3), this.construct(e3);
      }, Vb.prototype.limit = function() {
        return this.offset + this.length;
      }, Vb.prototype.popFirst = function(t3) {
        return this.construct(this.segments, this.offset + (t3 = void 0 === t3 ? 1 : t3), this.length - t3);
      }, Vb.prototype.popLast = function() {
        return this.construct(this.segments, this.offset, this.length - 1);
      }, Vb.prototype.firstSegment = function() {
        return this.segments[this.offset];
      }, Vb.prototype.lastSegment = function() {
        return this.get(this.length - 1);
      }, Vb.prototype.get = function(t3) {
        return this.segments[this.offset + t3];
      }, Vb.prototype.isEmpty = function() {
        return 0 === this.length;
      }, Vb.prototype.isPrefixOf = function(t3) {
        if (t3.length < this.length)
          return false;
        for (var e3 = 0; e3 < this.length; e3++)
          if (this.get(e3) !== t3.get(e3))
            return false;
        return true;
      }, Vb.prototype.isImmediateParentOf = function(t3) {
        if (this.length + 1 !== t3.length)
          return false;
        for (var e3 = 0; e3 < this.length; e3++)
          if (this.get(e3) !== t3.get(e3))
            return false;
        return true;
      }, Vb.prototype.forEach = function(t3) {
        for (var e3 = this.offset, n3 = this.limit(); e3 < n3; e3++)
          t3(this.segments[e3]);
      }, Vb.prototype.toArray = function() {
        return this.segments.slice(this.offset, this.limit());
      }, Vb.comparator = function(t3, e3) {
        for (var n3 = Math.min(t3.length, e3.length), r3 = 0; r3 < n3; r3++) {
          var i3 = t3.get(r3), o3 = e3.get(r3);
          if (i3 < o3)
            return -1;
          if (o3 < i3)
            return 1;
        }
        return t3.length < e3.length ? -1 : t3.length > e3.length ? 1 : 0;
      }, Vb), Ob = (Gi(qb, Pb = G), qb.prototype.construct = function(t3, e3, n3) {
        return new qb(t3, e3, n3);
      }, qb.prototype.canonicalString = function() {
        return this.toArray().join("/");
      }, qb.prototype.toString = function() {
        return this.canonicalString();
      }, qb.fromString = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        for (var n3 = [], r3 = 0, i3 = t3; r3 < i3.length; r3++) {
          var o3 = i3[r3];
          if (0 <= o3.indexOf("//"))
            throw new ub(ab.INVALID_ARGUMENT, "Invalid segment (" + o3 + "). Paths must not contain // in them.");
          n3.push.apply(n3, o3.split("/").filter(function(t4) {
            return 0 < t4.length;
          }));
        }
        return new qb(n3);
      }, qb.emptyPath = function() {
        return new qb([]);
      }, qb), Db = /^[_a-zA-Z][_a-zA-Z0-9]*$/, xb = (Gi(Ub, Rb = G), Ub.prototype.construct = function(t3, e3, n3) {
        return new Ub(t3, e3, n3);
      }, Ub.isValidIdentifier = function(t3) {
        return Db.test(t3);
      }, Ub.prototype.canonicalString = function() {
        return this.toArray().map(function(t3) {
          return t3 = t3.replace(/\\/g, "\\\\").replace(/`/g, "\\`"), t3 = !Ub.isValidIdentifier(t3) ? "`" + t3 + "`" : t3;
        }).join(".");
      }, Ub.prototype.toString = function() {
        return this.canonicalString();
      }, Ub.prototype.isKeyField = function() {
        return 1 === this.length && "__name__" === this.get(0);
      }, Ub.keyField = function() {
        return new Ub(["__name__"]);
      }, Ub.fromServerFormat = function(t3) {
        for (var e3 = [], n3 = "", r3 = 0, i3 = function() {
          if (0 === n3.length)
            throw new ub(ab.INVALID_ARGUMENT, "Invalid field path (" + t3 + "). Paths must not be empty, begin with '.', end with '.', or contain '..'");
          e3.push(n3), n3 = "";
        }, o3 = false; r3 < t3.length; ) {
          var s3 = t3[r3];
          if ("\\" === s3) {
            if (r3 + 1 === t3.length)
              throw new ub(ab.INVALID_ARGUMENT, "Path has trailing escape character: " + t3);
            var a3 = t3[r3 + 1];
            if ("\\" !== a3 && "." !== a3 && "`" !== a3)
              throw new ub(ab.INVALID_ARGUMENT, "Path has invalid escape sequence: " + t3);
            n3 += a3, r3 += 2;
          } else
            "`" === s3 ? o3 = !o3 : "." !== s3 || o3 ? n3 += s3 : i3(), r3++;
        }
        if (i3(), o3)
          throw new ub(ab.INVALID_ARGUMENT, "Unterminated ` in path: " + t3);
        return new Ub(e3);
      }, Ub.emptyPath = function() {
        return new Ub([]);
      }, Ub), Lb = (jb.prototype.covers = function(t3) {
        for (var e3 = 0, n3 = this.fields; e3 < n3.length; e3++)
          if (n3[e3].isPrefixOf(t3))
            return true;
        return false;
      }, jb.prototype.isEqual = function(t3) {
        return wb(this.fields, t3.fields, function(t4, e3) {
          return t4.isEqual(e3);
        });
      }, jb), Mb = (Fb.fromBase64String = function(t3) {
        return new Fb(atob(t3));
      }, Fb.fromUint8Array = function(t3) {
        return new Fb(function(t4) {
          for (var e3 = "", n3 = 0; n3 < t4.length; ++n3)
            e3 += String.fromCharCode(t4[n3]);
          return e3;
        }(t3));
      }, Fb.prototype.toBase64 = function() {
        return t3 = this.binaryString, btoa(t3);
        var t3;
      }, Fb.prototype.toUint8Array = function() {
        return function(t3) {
          for (var e3 = new Uint8Array(t3.length), n3 = 0; n3 < t3.length; n3++)
            e3[n3] = t3.charCodeAt(n3);
          return e3;
        }(this.binaryString);
      }, Fb.prototype.approximateByteSize = function() {
        return 2 * this.binaryString.length;
      }, Fb.prototype.compareTo = function(t3) {
        return _b(this.binaryString, t3.binaryString);
      }, Fb.prototype.isEqual = function(t3) {
        return this.binaryString === t3.binaryString;
      }, Fb);
      function Fb(t3) {
        this.binaryString = t3;
      }
      function jb(t3) {
        (this.fields = t3).sort(xb.comparator);
      }
      function Ub() {
        return null !== Rb && Rb.apply(this, arguments) || this;
      }
      function qb() {
        return null !== Pb && Pb.apply(this, arguments) || this;
      }
      function Vb(t3, e3, n3) {
        void 0 === e3 ? e3 = 0 : e3 > t3.length && vb(), void 0 === n3 ? n3 = t3.length - e3 : n3 > t3.length - e3 && vb(), this.segments = t3, this.offset = e3, this.len = n3;
      }
      Mb.EMPTY_BYTE_STRING = new Mb("");
      var Bb = new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);
      function Kb(t3) {
        if (yb(!!t3), "string" != typeof t3)
          return { seconds: Wb(t3.seconds), nanos: Wb(t3.nanos) };
        var e3 = 0, n3 = Bb.exec(t3);
        yb(!!n3), n3[1] && (n3 = ((n3 = n3[1]) + "000000000").substr(0, 9), e3 = Number(n3));
        t3 = new Date(t3);
        return { seconds: Math.floor(t3.getTime() / 1e3), nanos: e3 };
      }
      function Wb(t3) {
        return "number" == typeof t3 ? t3 : "string" == typeof t3 ? Number(t3) : 0;
      }
      function Hb(t3) {
        return "string" == typeof t3 ? Mb.fromBase64String(t3) : Mb.fromUint8Array(t3);
      }
      function zb(t3) {
        return "server_timestamp" === (null === (t3 = ((null === (t3 = null == t3 ? void 0 : t3.mapValue) || void 0 === t3 ? void 0 : t3.fields) || {}).__type__) || void 0 === t3 ? void 0 : t3.stringValue);
      }
      function Gb(t3) {
        t3 = Kb(t3.mapValue.fields.__local_write_time__.timestampValue);
        return new Ib(t3.seconds, t3.nanos);
      }
      function Qb(t3) {
        return null == t3;
      }
      function Yb(t3) {
        return 0 === t3 && 1 / t3 == -1 / 0;
      }
      function Xb(t3) {
        return "number" == typeof t3 && Number.isInteger(t3) && !Yb(t3) && t3 <= Number.MAX_SAFE_INTEGER && t3 >= Number.MIN_SAFE_INTEGER;
      }
      var $b = (Jb.fromPath = function(t3) {
        return new Jb(Ob.fromString(t3));
      }, Jb.fromName = function(t3) {
        return new Jb(Ob.fromString(t3).popFirst(5));
      }, Jb.prototype.hasCollectionId = function(t3) {
        return 2 <= this.path.length && this.path.get(this.path.length - 2) === t3;
      }, Jb.prototype.isEqual = function(t3) {
        return null !== t3 && 0 === Ob.comparator(this.path, t3.path);
      }, Jb.prototype.toString = function() {
        return this.path.toString();
      }, Jb.comparator = function(t3, e3) {
        return Ob.comparator(t3.path, e3.path);
      }, Jb.isDocumentKey = function(t3) {
        return t3.length % 2 == 0;
      }, Jb.fromSegments = function(t3) {
        return new Jb(new Ob(t3.slice()));
      }, Jb);
      function Jb(t3) {
        this.path = t3;
      }
      function Zb(t3) {
        return "nullValue" in t3 ? 0 : "booleanValue" in t3 ? 1 : "integerValue" in t3 || "doubleValue" in t3 ? 2 : "timestampValue" in t3 ? 3 : "stringValue" in t3 ? 5 : "bytesValue" in t3 ? 6 : "referenceValue" in t3 ? 7 : "geoPointValue" in t3 ? 8 : "arrayValue" in t3 ? 9 : "mapValue" in t3 ? zb(t3) ? 4 : 10 : vb();
      }
      function t_(r3, i3) {
        var t3, e3, n3 = Zb(r3);
        if (n3 !== Zb(i3))
          return false;
        switch (n3) {
          case 0:
            return true;
          case 1:
            return r3.booleanValue === i3.booleanValue;
          case 4:
            return Gb(r3).isEqual(Gb(i3));
          case 3:
            return function(t4) {
              if ("string" == typeof r3.timestampValue && "string" == typeof t4.timestampValue && r3.timestampValue.length === t4.timestampValue.length)
                return r3.timestampValue === t4.timestampValue;
              var e4 = Kb(r3.timestampValue), t4 = Kb(t4.timestampValue);
              return e4.seconds === t4.seconds && e4.nanos === t4.nanos;
            }(i3);
          case 5:
            return r3.stringValue === i3.stringValue;
          case 6:
            return e3 = i3, Hb(r3.bytesValue).isEqual(Hb(e3.bytesValue));
          case 7:
            return r3.referenceValue === i3.referenceValue;
          case 8:
            return t3 = i3, Wb((e3 = r3).geoPointValue.latitude) === Wb(t3.geoPointValue.latitude) && Wb(e3.geoPointValue.longitude) === Wb(t3.geoPointValue.longitude);
          case 2:
            return function(t4, e4) {
              if ("integerValue" in t4 && "integerValue" in e4)
                return Wb(t4.integerValue) === Wb(e4.integerValue);
              if ("doubleValue" in t4 && "doubleValue" in e4) {
                t4 = Wb(t4.doubleValue), e4 = Wb(e4.doubleValue);
                return t4 === e4 ? Yb(t4) === Yb(e4) : isNaN(t4) && isNaN(e4);
              }
              return false;
            }(r3, i3);
          case 9:
            return wb(r3.arrayValue.values || [], i3.arrayValue.values || [], t_);
          case 10:
            return function() {
              var t4, e4 = r3.mapValue.fields || {}, n4 = i3.mapValue.fields || {};
              if (Cb(e4) !== Cb(n4))
                return false;
              for (t4 in e4)
                if (e4.hasOwnProperty(t4) && (void 0 === n4[t4] || !t_(e4[t4], n4[t4])))
                  return false;
              return true;
            }();
          default:
            return vb();
        }
      }
      function e_(t3, e3) {
        return void 0 !== (t3.values || []).find(function(t4) {
          return t_(t4, e3);
        });
      }
      function n_(t3, e3) {
        var n3, r3, i3, o3 = Zb(t3), s3 = Zb(e3);
        if (o3 !== s3)
          return _b(o3, s3);
        switch (o3) {
          case 0:
            return 0;
          case 1:
            return _b(t3.booleanValue, e3.booleanValue);
          case 2:
            return r3 = e3, i3 = Wb(t3.integerValue || t3.doubleValue), r3 = Wb(r3.integerValue || r3.doubleValue), i3 < r3 ? -1 : r3 < i3 ? 1 : i3 === r3 ? 0 : isNaN(i3) ? isNaN(r3) ? 0 : -1 : 1;
          case 3:
            return r_(t3.timestampValue, e3.timestampValue);
          case 4:
            return r_(Gb(t3), Gb(e3));
          case 5:
            return _b(t3.stringValue, e3.stringValue);
          case 6:
            return function(t4, e4) {
              t4 = Hb(t4), e4 = Hb(e4);
              return t4.compareTo(e4);
            }(t3.bytesValue, e3.bytesValue);
          case 7:
            return function(t4, e4) {
              for (var n4 = t4.split("/"), r4 = e4.split("/"), i4 = 0; i4 < n4.length && i4 < r4.length; i4++) {
                var o4 = _b(n4[i4], r4[i4]);
                if (0 !== o4)
                  return o4;
              }
              return _b(n4.length, r4.length);
            }(t3.referenceValue, e3.referenceValue);
          case 8:
            return n3 = t3.geoPointValue, i3 = e3.geoPointValue, 0 !== (r3 = _b(Wb(n3.latitude), Wb(i3.latitude))) ? r3 : _b(Wb(n3.longitude), Wb(i3.longitude));
          case 9:
            return function(t4, e4) {
              for (var n4 = t4.values || [], r4 = e4.values || [], i4 = 0; i4 < n4.length && i4 < r4.length; ++i4) {
                var o4 = n_(n4[i4], r4[i4]);
                if (o4)
                  return o4;
              }
              return _b(n4.length, r4.length);
            }(t3.arrayValue, e3.arrayValue);
          case 10:
            return function(t4, e4) {
              var n4 = t4.fields || {}, r4 = Object.keys(n4), i4 = e4.fields || {}, o4 = Object.keys(i4);
              r4.sort(), o4.sort();
              for (var s4 = 0; s4 < r4.length && s4 < o4.length; ++s4) {
                var a3 = _b(r4[s4], o4[s4]);
                if (0 !== a3)
                  return a3;
                a3 = n_(n4[r4[s4]], i4[o4[s4]]);
                if (0 !== a3)
                  return a3;
              }
              return _b(r4.length, o4.length);
            }(t3.mapValue, e3.mapValue);
          default:
            throw vb();
        }
      }
      function r_(t3, e3) {
        if ("string" == typeof t3 && "string" == typeof e3 && t3.length === e3.length)
          return _b(t3, e3);
        var n3 = Kb(t3), t3 = Kb(e3), e3 = _b(n3.seconds, t3.seconds);
        return 0 !== e3 ? e3 : _b(n3.nanos, t3.nanos);
      }
      function i_(t3) {
        return function s3(t4) {
          return "nullValue" in t4 ? "null" : "booleanValue" in t4 ? "" + t4.booleanValue : "integerValue" in t4 ? "" + t4.integerValue : "doubleValue" in t4 ? "" + t4.doubleValue : "timestampValue" in t4 ? function(t5) {
            t5 = Kb(t5);
            return "time(" + t5.seconds + "," + t5.nanos + ")";
          }(t4.timestampValue) : "stringValue" in t4 ? t4.stringValue : "bytesValue" in t4 ? Hb(t4.bytesValue).toBase64() : "referenceValue" in t4 ? (e3 = t4.referenceValue, $b.fromName(e3).toString()) : "geoPointValue" in t4 ? "geo(" + (e3 = t4.geoPointValue).latitude + "," + e3.longitude + ")" : "arrayValue" in t4 ? function(t5) {
            for (var e4 = "[", n3 = true, r3 = 0, i3 = t5.values || []; r3 < i3.length; r3++)
              n3 ? n3 = false : e4 += ",", e4 += s3(i3[r3]);
            return e4 + "]";
          }(t4.arrayValue) : "mapValue" in t4 ? function(t5) {
            for (var e4 = "{", n3 = true, r3 = 0, i3 = Object.keys(t5.fields || {}).sort(); r3 < i3.length; r3++) {
              var o3 = i3[r3];
              n3 ? n3 = false : e4 += ",", e4 += o3 + ":" + s3(t5.fields[o3]);
            }
            return e4 + "}";
          }(t4.mapValue) : vb();
          var e3;
        }(t3);
      }
      function o_(t3, e3) {
        return { referenceValue: "projects/" + t3.projectId + "/databases/" + t3.database + "/documents/" + e3.path.canonicalString() };
      }
      function s_(t3) {
        return t3 && "integerValue" in t3;
      }
      function a_(t3) {
        return !!t3 && "arrayValue" in t3;
      }
      function u_(t3) {
        return t3 && "nullValue" in t3;
      }
      function c_(t3) {
        return t3 && "doubleValue" in t3 && isNaN(Number(t3.doubleValue));
      }
      function h_(t3) {
        return t3 && "mapValue" in t3;
      }
      function l_(t3) {
        if (t3.geoPointValue)
          return { geoPointValue: Object.assign({}, t3.geoPointValue) };
        if (t3.timestampValue && "object" == typeof t3.timestampValue)
          return { timestampValue: Object.assign({}, t3.timestampValue) };
        if (t3.mapValue) {
          var n3 = { mapValue: { fields: {} } };
          return Ab(t3.mapValue.fields, function(t4, e4) {
            return n3.mapValue.fields[t4] = l_(e4);
          }), n3;
        }
        if (t3.arrayValue) {
          for (var e3 = { arrayValue: { values: [] } }, r3 = 0; r3 < (t3.arrayValue.values || []).length; ++r3)
            e3.arrayValue.values[r3] = l_(t3.arrayValue.values[r3]);
          return e3;
        }
        return Object.assign({}, t3);
      }
      var f_ = (p_.empty = function() {
        return new p_({ mapValue: {} });
      }, p_.prototype.field = function(t3) {
        if (t3.isEmpty())
          return this.value;
        for (var e3 = this.value, n3 = 0; n3 < t3.length - 1; ++n3)
          if (!h_(e3 = (e3.mapValue.fields || {})[t3.get(n3)]))
            return null;
        return (e3 = (e3.mapValue.fields || {})[t3.lastSegment()]) || null;
      }, p_.prototype.set = function(t3, e3) {
        this.getFieldsMap(t3.popLast())[t3.lastSegment()] = l_(e3);
      }, p_.prototype.setAll = function(t3) {
        var r3 = this, i3 = xb.emptyPath(), o3 = {}, s3 = [];
        t3.forEach(function(t4, e3) {
          var n3;
          i3.isImmediateParentOf(e3) || (n3 = r3.getFieldsMap(i3), r3.applyChanges(n3, o3, s3), o3 = {}, s3 = [], i3 = e3.popLast()), t4 ? o3[e3.lastSegment()] = l_(t4) : s3.push(e3.lastSegment());
        });
        t3 = this.getFieldsMap(i3);
        this.applyChanges(t3, o3, s3);
      }, p_.prototype.delete = function(t3) {
        var e3 = this.field(t3.popLast());
        h_(e3) && e3.mapValue.fields && delete e3.mapValue.fields[t3.lastSegment()];
      }, p_.prototype.isEqual = function(t3) {
        return t_(this.value, t3.value);
      }, p_.prototype.getFieldsMap = function(t3) {
        var e3 = this.value;
        e3.mapValue.fields || (e3.mapValue = { fields: {} });
        for (var n3 = 0; n3 < t3.length; ++n3) {
          var r3 = e3.mapValue.fields[t3.get(n3)];
          h_(r3) && r3.mapValue.fields || (r3 = { mapValue: { fields: {} } }, e3.mapValue.fields[t3.get(n3)] = r3), e3 = r3;
        }
        return e3.mapValue.fields;
      }, p_.prototype.applyChanges = function(n3, t3, e3) {
        Ab(t3, function(t4, e4) {
          return n3[t4] = e4;
        });
        for (var r3 = 0, i3 = e3; r3 < i3.length; r3++) {
          var o3 = i3[r3];
          delete n3[o3];
        }
      }, p_.prototype.clone = function() {
        return new p_(l_(this.value));
      }, p_);
      function p_(t3) {
        this.value = t3;
      }
      var d_ = (v_.newInvalidDocument = function(t3) {
        return new v_(t3, 0, Eb.min(), f_.empty(), 0);
      }, v_.newFoundDocument = function(t3, e3, n3) {
        return new v_(t3, 1, e3, n3, 0);
      }, v_.newNoDocument = function(t3, e3) {
        return new v_(t3, 2, e3, f_.empty(), 0);
      }, v_.newUnknownDocument = function(t3, e3) {
        return new v_(t3, 3, e3, f_.empty(), 2);
      }, v_.prototype.convertToFoundDocument = function(t3, e3) {
        return this.version = t3, this.documentType = 1, this.data = e3, this.documentState = 0, this;
      }, v_.prototype.convertToNoDocument = function(t3) {
        return this.version = t3, this.documentType = 2, this.data = f_.empty(), this.documentState = 0, this;
      }, v_.prototype.convertToUnknownDocument = function(t3) {
        return this.version = t3, this.documentType = 3, this.data = f_.empty(), this.documentState = 2, this;
      }, v_.prototype.setHasCommittedMutations = function() {
        return this.documentState = 2, this;
      }, v_.prototype.setHasLocalMutations = function() {
        return this.documentState = 1, this;
      }, Object.defineProperty(v_.prototype, "hasLocalMutations", { get: function() {
        return 1 === this.documentState;
      }, enumerable: false, configurable: true }), Object.defineProperty(v_.prototype, "hasCommittedMutations", { get: function() {
        return 2 === this.documentState;
      }, enumerable: false, configurable: true }), Object.defineProperty(v_.prototype, "hasPendingWrites", { get: function() {
        return this.hasLocalMutations || this.hasCommittedMutations;
      }, enumerable: false, configurable: true }), v_.prototype.isValidDocument = function() {
        return 0 !== this.documentType;
      }, v_.prototype.isFoundDocument = function() {
        return 1 === this.documentType;
      }, v_.prototype.isNoDocument = function() {
        return 2 === this.documentType;
      }, v_.prototype.isUnknownDocument = function() {
        return 3 === this.documentType;
      }, v_.prototype.isEqual = function(t3) {
        return t3 instanceof v_ && this.key.isEqual(t3.key) && this.version.isEqual(t3.version) && this.documentType === t3.documentType && this.documentState === t3.documentState && this.data.isEqual(t3.data);
      }, v_.prototype.clone = function() {
        return new v_(this.key, this.documentType, this.version, this.data.clone(), this.documentState);
      }, v_.prototype.toString = function() {
        return "Document(" + this.key + ", " + this.version + ", " + JSON.stringify(this.data.value) + ", {documentType: " + this.documentType + "}), {documentState: " + this.documentState + "})";
      }, v_), g_ = function(t3, e3, n3, r3, i3, o3, s3) {
        void 0 === e3 && (e3 = null), void 0 === n3 && (n3 = []), void 0 === r3 && (r3 = []), void 0 === i3 && (i3 = null), void 0 === o3 && (o3 = null), void 0 === s3 && (s3 = null), this.path = t3, this.collectionGroup = e3, this.orderBy = n3, this.filters = r3, this.limit = i3, this.startAt = o3, this.endAt = s3, this.h = null;
      };
      function v_(t3, e3, n3, r3, i3) {
        this.key = t3, this.documentType = e3, this.version = n3, this.data = r3, this.documentState = i3;
      }
      function y_(t3, e3, n3, r3, i3, o3, s3) {
        return new g_(t3, e3 = void 0 === e3 ? null : e3, n3 = void 0 === n3 ? [] : n3, r3 = void 0 === r3 ? [] : r3, i3 = void 0 === i3 ? null : i3, o3 = void 0 === o3 ? null : o3, s3 = void 0 === s3 ? null : s3);
      }
      function m_(t3) {
        var e3 = t3;
        return null === e3.h && (t3 = e3.path.canonicalString(), null !== e3.collectionGroup && (t3 += "|cg:" + e3.collectionGroup), t3 += "|f:", t3 += e3.filters.map(function(t4) {
          return (t4 = t4).field.canonicalString() + t4.op.toString() + i_(t4.value);
        }).join(","), t3 += "|ob:", t3 += e3.orderBy.map(function(t4) {
          return (t4 = t4).field.canonicalString() + t4.dir;
        }).join(","), Qb(e3.limit) || (t3 += "|l:", t3 += e3.limit), e3.startAt && (t3 += "|lb:", t3 += G_(e3.startAt)), e3.endAt && (t3 += "|ub:", t3 += G_(e3.endAt)), e3.h = t3), e3.h;
      }
      function b_(t3, e3) {
        if (t3.limit !== e3.limit)
          return false;
        if (t3.orderBy.length !== e3.orderBy.length)
          return false;
        for (var n3, r3, i3 = 0; i3 < t3.orderBy.length; i3++)
          if (n3 = t3.orderBy[i3], r3 = e3.orderBy[i3], n3.dir !== r3.dir || !n3.field.isEqual(r3.field))
            return false;
        if (t3.filters.length !== e3.filters.length)
          return false;
        for (var o3, s3, a3 = 0; a3 < t3.filters.length; a3++)
          if (o3 = t3.filters[a3], s3 = e3.filters[a3], o3.op !== s3.op || !o3.field.isEqual(s3.field) || !t_(o3.value, s3.value))
            return false;
        return t3.collectionGroup === e3.collectionGroup && !!t3.path.isEqual(e3.path) && !!X_(t3.startAt, e3.startAt) && X_(t3.endAt, e3.endAt);
      }
      function __(t3) {
        return $b.isDocumentKey(t3.path) && null === t3.collectionGroup && 0 === t3.filters.length;
      }
      var w_, T_ = (Gi(I_, w_ = function() {
      }), I_.create = function(t3, e3, n3) {
        return t3.isKeyField() ? "in" === e3 || "not-in" === e3 ? this.l(t3, e3, n3) : new C_(t3, e3, n3) : "array-contains" === e3 ? new j_(t3, n3) : "in" === e3 ? new U_(t3, n3) : "not-in" === e3 ? new q_(t3, n3) : "array-contains-any" === e3 ? new V_(t3, n3) : new I_(t3, e3, n3);
      }, I_.l = function(t3, e3, n3) {
        return new ("in" === e3 ? A_ : N_)(t3, n3);
      }, I_.prototype.matches = function(t3) {
        t3 = t3.data.field(this.field);
        return "!=" === this.op ? null !== t3 && this.m(n_(t3, this.value)) : null !== t3 && Zb(this.value) === Zb(t3) && this.m(n_(t3, this.value));
      }, I_.prototype.m = function(t3) {
        switch (this.op) {
          case "<":
            return t3 < 0;
          case "<=":
            return t3 <= 0;
          case "==":
            return 0 === t3;
          case "!=":
            return 0 !== t3;
          case ">":
            return 0 < t3;
          case ">=":
            return 0 <= t3;
          default:
            return vb();
        }
      }, I_.prototype.g = function() {
        return 0 <= ["<", "<=", ">", ">=", "!=", "not-in"].indexOf(this.op);
      }, I_);
      function I_(t3, e3, n3) {
        var r3 = this;
        return (r3 = w_.call(this) || this).field = t3, r3.op = e3, r3.value = n3, r3;
      }
      var E_, S_, k_, C_ = (Gi(O_, k_ = T_), O_.prototype.matches = function(t3) {
        t3 = $b.comparator(t3.key, this.key);
        return this.m(t3);
      }, O_), A_ = (Gi(P_, S_ = T_), P_.prototype.matches = function(e3) {
        return this.keys.some(function(t3) {
          return t3.isEqual(e3.key);
        });
      }, P_), N_ = (Gi(R_, E_ = T_), R_.prototype.matches = function(e3) {
        return !this.keys.some(function(t3) {
          return t3.isEqual(e3.key);
        });
      }, R_);
      function R_(t3, e3) {
        var n3 = this;
        return (n3 = E_.call(this, t3, "not-in", e3) || this).keys = D_(0, e3), n3;
      }
      function P_(t3, e3) {
        var n3 = this;
        return (n3 = S_.call(this, t3, "in", e3) || this).keys = D_(0, e3), n3;
      }
      function O_(t3, e3, n3) {
        var r3 = this;
        return (r3 = k_.call(this, t3, e3, n3) || this).key = $b.fromName(n3.referenceValue), r3;
      }
      function D_(t3, e3) {
        return ((null === (e3 = e3.arrayValue) || void 0 === e3 ? void 0 : e3.values) || []).map(function(t4) {
          return $b.fromName(t4.referenceValue);
        });
      }
      var x_, L_, M_, F_, j_ = (Gi(z_, F_ = T_), z_.prototype.matches = function(t3) {
        t3 = t3.data.field(this.field);
        return a_(t3) && e_(t3.arrayValue, this.value);
      }, z_), U_ = (Gi(H_, M_ = T_), H_.prototype.matches = function(t3) {
        t3 = t3.data.field(this.field);
        return null !== t3 && e_(this.value.arrayValue, t3);
      }, H_), q_ = (Gi(W_, L_ = T_), W_.prototype.matches = function(t3) {
        if (e_(this.value.arrayValue, { nullValue: "NULL_VALUE" }))
          return false;
        t3 = t3.data.field(this.field);
        return null !== t3 && !e_(this.value.arrayValue, t3);
      }, W_), V_ = (Gi(K_, x_ = T_), K_.prototype.matches = function(t3) {
        var e3 = this, t3 = t3.data.field(this.field);
        return !(!a_(t3) || !t3.arrayValue.values) && t3.arrayValue.values.some(function(t4) {
          return e_(e3.value.arrayValue, t4);
        });
      }, K_), B_ = function(t3, e3) {
        this.position = t3, this.before = e3;
      };
      function K_(t3, e3) {
        return x_.call(this, t3, "array-contains-any", e3) || this;
      }
      function W_(t3, e3) {
        return L_.call(this, t3, "not-in", e3) || this;
      }
      function H_(t3, e3) {
        return M_.call(this, t3, "in", e3) || this;
      }
      function z_(t3, e3) {
        return F_.call(this, t3, "array-contains", e3) || this;
      }
      function G_(t3) {
        return (t3.before ? "b" : "a") + ":" + t3.position.map(i_).join(",");
      }
      var Q_ = function(t3, e3) {
        void 0 === e3 && (e3 = "asc"), this.field = t3, this.dir = e3;
      };
      function Y_(t3, e3, n3) {
        for (var r3 = 0, i3 = 0; i3 < t3.position.length; i3++) {
          var o3 = e3[i3], s3 = t3.position[i3], r3 = o3.field.isKeyField() ? $b.comparator($b.fromName(s3.referenceValue), n3.key) : n_(s3, n3.data.field(o3.field));
          if ("desc" === o3.dir && (r3 *= -1), 0 !== r3)
            break;
        }
        return t3.before ? r3 <= 0 : r3 < 0;
      }
      function X_(t3, e3) {
        if (null === t3)
          return null === e3;
        if (null === e3)
          return false;
        if (t3.before !== e3.before || t3.position.length !== e3.position.length)
          return false;
        for (var n3 = 0; n3 < t3.position.length; n3++)
          if (!t_(t3.position[n3], e3.position[n3]))
            return false;
        return true;
      }
      var $_ = function(t3, e3, n3, r3, i3, o3, s3, a3) {
        void 0 === e3 && (e3 = null), void 0 === n3 && (n3 = []), void 0 === r3 && (r3 = []), void 0 === i3 && (i3 = null), void 0 === o3 && (o3 = "F"), void 0 === s3 && (s3 = null), void 0 === a3 && (a3 = null), this.path = t3, this.collectionGroup = e3, this.explicitOrderBy = n3, this.filters = r3, this.limit = i3, this.limitType = o3, this.startAt = s3, this.endAt = a3, this.p = null, this.T = null, this.startAt, this.endAt;
      };
      function J_(t3, e3, n3, r3, i3, o3, s3, a3) {
        return new $_(t3, e3, n3, r3, i3, o3, s3, a3);
      }
      function Z_(t3) {
        return new $_(t3);
      }
      function tw(t3) {
        return !Qb(t3.limit) && "F" === t3.limitType;
      }
      function ew(t3) {
        return !Qb(t3.limit) && "L" === t3.limitType;
      }
      function nw(t3) {
        return 0 < t3.explicitOrderBy.length ? t3.explicitOrderBy[0].field : null;
      }
      function rw(t3) {
        for (var e3 = 0, n3 = t3.filters; e3 < n3.length; e3++) {
          var r3 = n3[e3];
          if (r3.g())
            return r3.field;
        }
        return null;
      }
      function iw(t3) {
        return null !== t3.collectionGroup;
      }
      function ow(t3) {
        var e3 = t3;
        if (null === e3.p) {
          e3.p = [];
          var n3 = rw(e3), t3 = nw(e3);
          if (null !== n3 && null === t3)
            n3.isKeyField() || e3.p.push(new Q_(n3)), e3.p.push(new Q_(xb.keyField(), "asc"));
          else {
            for (var r3 = false, i3 = 0, o3 = e3.explicitOrderBy; i3 < o3.length; i3++) {
              var s3 = o3[i3];
              e3.p.push(s3), s3.field.isKeyField() && (r3 = true);
            }
            r3 || (n3 = 0 < e3.explicitOrderBy.length ? e3.explicitOrderBy[e3.explicitOrderBy.length - 1].dir : "asc", e3.p.push(new Q_(xb.keyField(), n3)));
          }
        }
        return e3.p;
      }
      function sw(t3) {
        var e3 = t3;
        if (!e3.T)
          if ("F" === e3.limitType)
            e3.T = y_(e3.path, e3.collectionGroup, ow(e3), e3.filters, e3.limit, e3.startAt, e3.endAt);
          else {
            for (var n3 = [], r3 = 0, i3 = ow(e3); r3 < i3.length; r3++) {
              var o3 = i3[r3], s3 = "desc" === o3.dir ? "asc" : "desc";
              n3.push(new Q_(o3.field, s3));
            }
            var a3 = e3.endAt ? new B_(e3.endAt.position, !e3.endAt.before) : null, t3 = e3.startAt ? new B_(e3.startAt.position, !e3.startAt.before) : null;
            e3.T = y_(e3.path, e3.collectionGroup, n3, e3.filters, e3.limit, a3, t3);
          }
        return e3.T;
      }
      function aw(t3, e3, n3) {
        return new $_(t3.path, t3.collectionGroup, t3.explicitOrderBy.slice(), t3.filters.slice(), e3, n3, t3.startAt, t3.endAt);
      }
      function uw(t3, e3) {
        return b_(sw(t3), sw(e3)) && t3.limitType === e3.limitType;
      }
      function cw(t3) {
        return m_(sw(t3)) + "|lt:" + t3.limitType;
      }
      function hw(t3) {
        return "Query(target=" + (e3 = sw(t3), n3 = e3.path.canonicalString(), null !== e3.collectionGroup && (n3 += " collectionGroup=" + e3.collectionGroup), 0 < e3.filters.length && (n3 += ", filters: [" + e3.filters.map(function(t4) {
          return (t4 = t4).field.canonicalString() + " " + t4.op + " " + i_(t4.value);
        }).join(", ") + "]"), Qb(e3.limit) || (n3 += ", limit: " + e3.limit), 0 < e3.orderBy.length && (n3 += ", orderBy: [" + e3.orderBy.map(function(t4) {
          return (t4 = t4).field.canonicalString() + " (" + t4.dir + ")";
        }).join(", ") + "]"), e3.startAt && (n3 += ", startAt: " + G_(e3.startAt)), e3.endAt && (n3 += ", endAt: " + G_(e3.endAt)), "Target(" + n3 + ")") + "; limitType=" + t3.limitType + ")";
        var e3, n3;
      }
      function lw(i3, t3) {
        return t3.isFoundDocument() && (e3 = i3, n3 = t3.key.path, null !== e3.collectionGroup ? t3.key.hasCollectionId(e3.collectionGroup) && e3.path.isPrefixOf(n3) : $b.isDocumentKey(e3.path) ? e3.path.isEqual(n3) : e3.path.isImmediateParentOf(n3)) && function(t4) {
          for (var e4 = 0, n4 = i3.explicitOrderBy; e4 < n4.length; e4++) {
            var r3 = n4[e4];
            if (!r3.field.isKeyField() && null === t4.data.field(r3.field))
              return;
          }
          return 1;
        }(t3) && function(t4) {
          for (var e4 = 0, n4 = i3.filters; e4 < n4.length; e4++)
            if (!n4[e4].matches(t4))
              return;
          return 1;
        }(t3) && (n3 = t3, (!(t3 = i3).startAt || Y_(t3.startAt, ow(t3), n3)) && (!t3.endAt || !Y_(t3.endAt, ow(t3), n3)));
        var e3, n3;
      }
      function fw(a3) {
        return function(t3, e3) {
          for (var n3 = false, r3 = 0, i3 = ow(a3); r3 < i3.length; r3++) {
            var o3 = i3[r3], s3 = function(t4, r4, e4) {
              var n4 = t4.field.isKeyField() ? $b.comparator(r4.key, e4.key) : function(t5, e5) {
                var n5 = r4.data.field(t5), t5 = e5.data.field(t5);
                return null !== n5 && null !== t5 ? n_(n5, t5) : vb();
              }(t4.field, e4);
              switch (t4.dir) {
                case "asc":
                  return n4;
                case "desc":
                  return -1 * n4;
                default:
                  return vb();
              }
            }(o3, t3, e3);
            if (0 !== s3)
              return s3;
            n3 = n3 || o3.field.isKeyField();
          }
          return 0;
        };
      }
      function pw(t3, e3) {
        if (t3.I) {
          if (isNaN(e3))
            return { doubleValue: "NaN" };
          if (e3 === 1 / 0)
            return { doubleValue: "Infinity" };
          if (e3 === -1 / 0)
            return { doubleValue: "-Infinity" };
        }
        return { doubleValue: Yb(e3) ? "-0" : e3 };
      }
      function dw(t3) {
        return { integerValue: "" + t3 };
      }
      function gw(t3, e3) {
        return Xb(e3) ? dw(e3) : pw(t3, e3);
      }
      Q = function() {
        this._ = void 0;
      };
      function vw(t3, e3) {
        return t3 instanceof Nw ? s_(t3 = e3) || t3 && "doubleValue" in t3 ? e3 : { integerValue: 0 } : null;
      }
      var yw, mw, bw = (Gi(Tw, mw = Q), Tw), _w = (Gi(ww, yw = Q), ww);
      function ww(t3) {
        var e3 = this;
        return (e3 = yw.call(this) || this).elements = t3, e3;
      }
      function Tw() {
        return null !== mw && mw.apply(this, arguments) || this;
      }
      function Iw(t3, e3) {
        for (var n3 = Ow(e3), r3 = 0, i3 = t3.elements; r3 < i3.length; r3++)
          !function(e4) {
            n3.some(function(t4) {
              return t_(t4, e4);
            }) || n3.push(e4);
          }(i3[r3]);
        return { arrayValue: { values: n3 } };
      }
      var Ew, Sw = (Gi(kw, Ew = Q), kw);
      function kw(t3) {
        var e3 = this;
        return (e3 = Ew.call(this) || this).elements = t3, e3;
      }
      function Cw(t3, e3) {
        for (var n3 = Ow(e3), r3 = 0, i3 = t3.elements; r3 < i3.length; r3++)
          !function(e4) {
            n3 = n3.filter(function(t4) {
              return !t_(t4, e4);
            });
          }(i3[r3]);
        return { arrayValue: { values: n3 } };
      }
      var Aw, Nw = (Gi(Rw, Aw = Q), Rw);
      function Rw(t3, e3) {
        var n3 = this;
        return (n3 = Aw.call(this) || this).R = t3, n3.A = e3, n3;
      }
      function Pw(t3) {
        return Wb(t3.integerValue || t3.doubleValue);
      }
      function Ow(t3) {
        return a_(t3) && t3.arrayValue.values ? t3.arrayValue.values.slice() : [];
      }
      function Dw(t3, e3) {
        this.version = t3, this.transformResults = e3;
      }
      var xw = function(t3, e3) {
        this.field = t3, this.transform = e3;
      }, Lw = (Mw.none = function() {
        return new Mw();
      }, Mw.exists = function(t3) {
        return new Mw(void 0, t3);
      }, Mw.updateTime = function(t3) {
        return new Mw(t3);
      }, Object.defineProperty(Mw.prototype, "isNone", { get: function() {
        return void 0 === this.updateTime && void 0 === this.exists;
      }, enumerable: false, configurable: true }), Mw.prototype.isEqual = function(t3) {
        return this.exists === t3.exists && (this.updateTime ? !!t3.updateTime && this.updateTime.isEqual(t3.updateTime) : !t3.updateTime);
      }, Mw);
      function Mw(t3, e3) {
        this.updateTime = t3, this.exists = e3;
      }
      function Fw(t3, e3) {
        return void 0 !== t3.updateTime ? e3.isFoundDocument() && e3.version.isEqual(t3.updateTime) : void 0 === t3.exists || t3.exists === e3.isFoundDocument();
      }
      G = function() {
      };
      function jw(t3, e3, n3) {
        var r3, i3, o3, s3;
        t3 instanceof Kw ? (i3 = e3, o3 = n3, Fw((r3 = t3).precondition, i3) && (s3 = r3.value.clone(), o3 = Yw(r3.fieldTransforms, o3, i3), s3.setAll(o3), i3.convertToFoundDocument(qw(i3), s3).setHasLocalMutations())) : t3 instanceof Ww ? (o3 = e3, i3 = n3, Fw((s3 = t3).precondition, o3) && (n3 = Yw(s3.fieldTransforms, i3, o3), (i3 = o3.data).setAll(Gw(s3)), i3.setAll(n3), o3.convertToFoundDocument(qw(o3), i3).setHasLocalMutations())) : (e3 = e3, Fw(t3.precondition, e3) && e3.convertToNoDocument(Eb.min()));
      }
      function Uw(t3, e3) {
        return t3.type === e3.type && !!t3.key.isEqual(e3.key) && !!t3.precondition.isEqual(e3.precondition) && (n3 = t3.fieldTransforms, r3 = e3.fieldTransforms, !!(void 0 === n3 && void 0 === r3 || n3 && r3 && wb(n3, r3, function(t4, e4) {
          return e4 = e4, (t4 = t4).field.isEqual(e4.field) && (t4 = t4.transform, e4 = e4.transform, t4 instanceof _w && e4 instanceof _w || t4 instanceof Sw && e4 instanceof Sw ? wb(t4.elements, e4.elements, t_) : t4 instanceof Nw && e4 instanceof Nw ? t_(t4.A, e4.A) : t4 instanceof bw && e4 instanceof bw);
        }))) && (0 === t3.type ? t3.value.isEqual(e3.value) : 1 !== t3.type || t3.data.isEqual(e3.data) && t3.fieldMask.isEqual(e3.fieldMask));
        var n3, r3;
      }
      function qw(t3) {
        return t3.isFoundDocument() ? t3.version : Eb.min();
      }
      var Vw, Bw, Kw = (Gi(zw, Bw = G), zw), Ww = (Gi(Hw, Vw = G), Hw);
      function Hw(t3, e3, n3, r3, i3) {
        void 0 === i3 && (i3 = []);
        var o3 = this;
        return (o3 = Vw.call(this) || this).key = t3, o3.data = e3, o3.fieldMask = n3, o3.precondition = r3, o3.fieldTransforms = i3, o3.type = 1, o3;
      }
      function zw(t3, e3, n3, r3) {
        void 0 === r3 && (r3 = []);
        var i3 = this;
        return (i3 = Bw.call(this) || this).key = t3, i3.value = e3, i3.precondition = n3, i3.fieldTransforms = r3, i3.type = 0, i3;
      }
      function Gw(n3) {
        var r3 = /* @__PURE__ */ new Map();
        return n3.fieldMask.fields.forEach(function(t3) {
          var e3;
          t3.isEmpty() || (e3 = n3.data.field(t3), r3.set(t3, e3));
        }), r3;
      }
      function Qw(t3, e3, n3) {
        var r3 = /* @__PURE__ */ new Map();
        yb(t3.length === n3.length);
        for (var i3 = 0; i3 < n3.length; i3++) {
          var o3 = t3[i3], s3 = o3.transform, a3 = e3.data.field(o3.field);
          r3.set(o3.field, (o3 = s3, s3 = a3, a3 = n3[i3], o3 instanceof _w ? Iw(o3, s3) : o3 instanceof Sw ? Cw(o3, s3) : a3));
        }
        return r3;
      }
      function Yw(t3, e3, n3) {
        for (var r3, i3 = /* @__PURE__ */ new Map(), o3 = 0, s3 = t3; o3 < s3.length; o3++) {
          var a3 = s3[o3], u3 = a3.transform, c3 = n3.data.field(a3.field);
          i3.set(a3.field, (r3 = c3, a3 = e3, c3 = void 0, (u3 = u3) instanceof bw ? (c3 = { fields: { __type__: { stringValue: "server_timestamp" }, __local_write_time__: { timestampValue: { seconds: a3.seconds, nanos: a3.nanoseconds } } } }, r3 && (c3.fields.__previous_value__ = r3), { mapValue: c3 }) : u3 instanceof _w ? Iw(u3, r3) : u3 instanceof Sw ? Cw(u3, r3) : (u3 = vw(c3 = u3, r3), r3 = Pw(u3) + Pw(c3.A), s_(u3) && s_(c3.A) ? dw(r3) : pw(c3.R, r3))));
        }
        return i3;
      }
      function Xw(t3) {
        this.count = t3;
      }
      var $w, Jw, Zw, t0 = (Gi(r0, Zw = G), r0), e0 = (Gi(n0, Jw = G), n0);
      function n0(t3, e3) {
        var n3 = this;
        return (n3 = Jw.call(this) || this).key = t3, n3.precondition = e3, n3.type = 3, n3.fieldTransforms = [], n3;
      }
      function r0(t3, e3) {
        var n3 = this;
        return (n3 = Zw.call(this) || this).key = t3, n3.precondition = e3, n3.type = 2, n3.fieldTransforms = [], n3;
      }
      function i0(t3) {
        switch (t3) {
          case ab.OK:
            return vb(), 0;
          case ab.CANCELLED:
          case ab.UNKNOWN:
          case ab.DEADLINE_EXCEEDED:
          case ab.RESOURCE_EXHAUSTED:
          case ab.INTERNAL:
          case ab.UNAVAILABLE:
          case ab.UNAUTHENTICATED:
            return;
          case ab.INVALID_ARGUMENT:
          case ab.NOT_FOUND:
          case ab.ALREADY_EXISTS:
          case ab.PERMISSION_DENIED:
          case ab.FAILED_PRECONDITION:
          case ab.ABORTED:
          case ab.OUT_OF_RANGE:
          case ab.UNIMPLEMENTED:
          case ab.DATA_LOSS:
            return 1;
          default:
            return vb(), 0;
        }
      }
      function o0(t3) {
        if (void 0 === t3)
          return pb("GRPC error has no .code"), ab.UNKNOWN;
        switch (t3) {
          case $w.OK:
            return ab.OK;
          case $w.CANCELLED:
            return ab.CANCELLED;
          case $w.UNKNOWN:
            return ab.UNKNOWN;
          case $w.DEADLINE_EXCEEDED:
            return ab.DEADLINE_EXCEEDED;
          case $w.RESOURCE_EXHAUSTED:
            return ab.RESOURCE_EXHAUSTED;
          case $w.INTERNAL:
            return ab.INTERNAL;
          case $w.UNAVAILABLE:
            return ab.UNAVAILABLE;
          case $w.UNAUTHENTICATED:
            return ab.UNAUTHENTICATED;
          case $w.INVALID_ARGUMENT:
            return ab.INVALID_ARGUMENT;
          case $w.NOT_FOUND:
            return ab.NOT_FOUND;
          case $w.ALREADY_EXISTS:
            return ab.ALREADY_EXISTS;
          case $w.PERMISSION_DENIED:
            return ab.PERMISSION_DENIED;
          case $w.FAILED_PRECONDITION:
            return ab.FAILED_PRECONDITION;
          case $w.ABORTED:
            return ab.ABORTED;
          case $w.OUT_OF_RANGE:
            return ab.OUT_OF_RANGE;
          case $w.UNIMPLEMENTED:
            return ab.UNIMPLEMENTED;
          case $w.DATA_LOSS:
            return ab.DATA_LOSS;
          default:
            return vb();
        }
      }
      (Q = $w = $w || {})[Q.OK = 0] = "OK", Q[Q.CANCELLED = 1] = "CANCELLED", Q[Q.UNKNOWN = 2] = "UNKNOWN", Q[Q.INVALID_ARGUMENT = 3] = "INVALID_ARGUMENT", Q[Q.DEADLINE_EXCEEDED = 4] = "DEADLINE_EXCEEDED", Q[Q.NOT_FOUND = 5] = "NOT_FOUND", Q[Q.ALREADY_EXISTS = 6] = "ALREADY_EXISTS", Q[Q.PERMISSION_DENIED = 7] = "PERMISSION_DENIED", Q[Q.UNAUTHENTICATED = 16] = "UNAUTHENTICATED", Q[Q.RESOURCE_EXHAUSTED = 8] = "RESOURCE_EXHAUSTED", Q[Q.FAILED_PRECONDITION = 9] = "FAILED_PRECONDITION", Q[Q.ABORTED = 10] = "ABORTED", Q[Q.OUT_OF_RANGE = 11] = "OUT_OF_RANGE", Q[Q.UNIMPLEMENTED = 12] = "UNIMPLEMENTED", Q[Q.INTERNAL = 13] = "INTERNAL", Q[Q.UNAVAILABLE = 14] = "UNAVAILABLE", Q[Q.DATA_LOSS = 15] = "DATA_LOSS";
      var s0 = (l0.prototype.insert = function(t3, e3) {
        return new l0(this.comparator, this.root.insert(t3, e3, this.comparator).copy(null, null, u0.BLACK, null, null));
      }, l0.prototype.remove = function(t3) {
        return new l0(this.comparator, this.root.remove(t3, this.comparator).copy(null, null, u0.BLACK, null, null));
      }, l0.prototype.get = function(t3) {
        for (var e3 = this.root; !e3.isEmpty(); ) {
          var n3 = this.comparator(t3, e3.key);
          if (0 === n3)
            return e3.value;
          n3 < 0 ? e3 = e3.left : 0 < n3 && (e3 = e3.right);
        }
        return null;
      }, l0.prototype.indexOf = function(t3) {
        for (var e3 = 0, n3 = this.root; !n3.isEmpty(); ) {
          var r3 = this.comparator(t3, n3.key);
          if (0 === r3)
            return e3 + n3.left.size;
          n3 = r3 < 0 ? n3.left : (e3 += n3.left.size + 1, n3.right);
        }
        return -1;
      }, l0.prototype.isEmpty = function() {
        return this.root.isEmpty();
      }, Object.defineProperty(l0.prototype, "size", { get: function() {
        return this.root.size;
      }, enumerable: false, configurable: true }), l0.prototype.minKey = function() {
        return this.root.minKey();
      }, l0.prototype.maxKey = function() {
        return this.root.maxKey();
      }, l0.prototype.inorderTraversal = function(t3) {
        return this.root.inorderTraversal(t3);
      }, l0.prototype.forEach = function(n3) {
        this.inorderTraversal(function(t3, e3) {
          return n3(t3, e3), false;
        });
      }, l0.prototype.toString = function() {
        var n3 = [];
        return this.inorderTraversal(function(t3, e3) {
          return n3.push(t3 + ":" + e3), false;
        }), "{" + n3.join(", ") + "}";
      }, l0.prototype.reverseTraversal = function(t3) {
        return this.root.reverseTraversal(t3);
      }, l0.prototype.getIterator = function() {
        return new a0(this.root, null, this.comparator, false);
      }, l0.prototype.getIteratorFrom = function(t3) {
        return new a0(this.root, t3, this.comparator, false);
      }, l0.prototype.getReverseIterator = function() {
        return new a0(this.root, null, this.comparator, true);
      }, l0.prototype.getReverseIteratorFrom = function(t3) {
        return new a0(this.root, t3, this.comparator, true);
      }, l0), a0 = (h0.prototype.getNext = function() {
        var t3 = this.nodeStack.pop(), e3 = { key: t3.key, value: t3.value };
        if (this.isReverse)
          for (t3 = t3.left; !t3.isEmpty(); )
            this.nodeStack.push(t3), t3 = t3.right;
        else
          for (t3 = t3.right; !t3.isEmpty(); )
            this.nodeStack.push(t3), t3 = t3.left;
        return e3;
      }, h0.prototype.hasNext = function() {
        return 0 < this.nodeStack.length;
      }, h0.prototype.peek = function() {
        if (0 === this.nodeStack.length)
          return null;
        var t3 = this.nodeStack[this.nodeStack.length - 1];
        return { key: t3.key, value: t3.value };
      }, h0), u0 = (c0.prototype.copy = function(t3, e3, n3, r3, i3) {
        return new c0(null != t3 ? t3 : this.key, null != e3 ? e3 : this.value, null != n3 ? n3 : this.color, null != r3 ? r3 : this.left, null != i3 ? i3 : this.right);
      }, c0.prototype.isEmpty = function() {
        return false;
      }, c0.prototype.inorderTraversal = function(t3) {
        return this.left.inorderTraversal(t3) || t3(this.key, this.value) || this.right.inorderTraversal(t3);
      }, c0.prototype.reverseTraversal = function(t3) {
        return this.right.reverseTraversal(t3) || t3(this.key, this.value) || this.left.reverseTraversal(t3);
      }, c0.prototype.min = function() {
        return this.left.isEmpty() ? this : this.left.min();
      }, c0.prototype.minKey = function() {
        return this.min().key;
      }, c0.prototype.maxKey = function() {
        return this.right.isEmpty() ? this.key : this.right.maxKey();
      }, c0.prototype.insert = function(t3, e3, n3) {
        var r3 = this, i3 = n3(t3, r3.key);
        return (r3 = i3 < 0 ? r3.copy(null, null, null, r3.left.insert(t3, e3, n3), null) : 0 === i3 ? r3.copy(null, e3, null, null, null) : r3.copy(null, null, null, null, r3.right.insert(t3, e3, n3))).fixUp();
      }, c0.prototype.removeMin = function() {
        if (this.left.isEmpty())
          return c0.EMPTY;
        var t3 = this;
        return (t3 = (t3 = !t3.left.isRed() && !t3.left.left.isRed() ? t3.moveRedLeft() : t3).copy(null, null, null, t3.left.removeMin(), null)).fixUp();
      }, c0.prototype.remove = function(t3, e3) {
        var n3, r3 = this;
        if (e3(t3, r3.key) < 0)
          r3 = (r3 = !(r3.left.isEmpty() || r3.left.isRed() || r3.left.left.isRed()) ? r3.moveRedLeft() : r3).copy(null, null, null, r3.left.remove(t3, e3), null);
        else {
          if (0 === e3(t3, (r3 = !((r3 = r3.left.isRed() ? r3.rotateRight() : r3).right.isEmpty() || r3.right.isRed() || r3.right.left.isRed()) ? r3.moveRedRight() : r3).key)) {
            if (r3.right.isEmpty())
              return c0.EMPTY;
            n3 = r3.right.min(), r3 = r3.copy(n3.key, n3.value, null, null, r3.right.removeMin());
          }
          r3 = r3.copy(null, null, null, null, r3.right.remove(t3, e3));
        }
        return r3.fixUp();
      }, c0.prototype.isRed = function() {
        return this.color;
      }, c0.prototype.fixUp = function() {
        var t3 = this;
        return t3 = (t3 = (t3 = t3.right.isRed() && !t3.left.isRed() ? t3.rotateLeft() : t3).left.isRed() && t3.left.left.isRed() ? t3.rotateRight() : t3).left.isRed() && t3.right.isRed() ? t3.colorFlip() : t3;
      }, c0.prototype.moveRedLeft = function() {
        var t3 = this.colorFlip();
        return t3 = t3.right.left.isRed() ? (t3 = (t3 = t3.copy(null, null, null, null, t3.right.rotateRight())).rotateLeft()).colorFlip() : t3;
      }, c0.prototype.moveRedRight = function() {
        var t3 = this.colorFlip();
        return t3 = t3.left.left.isRed() ? (t3 = t3.rotateRight()).colorFlip() : t3;
      }, c0.prototype.rotateLeft = function() {
        var t3 = this.copy(null, null, c0.RED, null, this.right.left);
        return this.right.copy(null, null, this.color, t3, null);
      }, c0.prototype.rotateRight = function() {
        var t3 = this.copy(null, null, c0.RED, this.left.right, null);
        return this.left.copy(null, null, this.color, null, t3);
      }, c0.prototype.colorFlip = function() {
        var t3 = this.left.copy(null, null, !this.left.color, null, null), e3 = this.right.copy(null, null, !this.right.color, null, null);
        return this.copy(null, null, !this.color, t3, e3);
      }, c0.prototype.checkMaxDepth = function() {
        var t3 = this.check();
        return Math.pow(2, t3) <= this.size + 1;
      }, c0.prototype.check = function() {
        if (this.isRed() && this.left.isRed())
          throw vb();
        if (this.right.isRed())
          throw vb();
        var t3 = this.left.check();
        if (t3 !== this.right.check())
          throw vb();
        return t3 + (this.isRed() ? 0 : 1);
      }, c0);
      function c0(t3, e3, n3, r3, i3) {
        this.key = t3, this.value = e3, this.color = null != n3 ? n3 : c0.RED, this.left = null != r3 ? r3 : c0.EMPTY, this.right = null != i3 ? i3 : c0.EMPTY, this.size = this.left.size + 1 + this.right.size;
      }
      function h0(t3, e3, n3, r3) {
        this.isReverse = r3, this.nodeStack = [];
        for (var i3 = 1; !t3.isEmpty(); )
          if (i3 = e3 ? n3(t3.key, e3) : 1, r3 && (i3 *= -1), i3 < 0)
            t3 = this.isReverse ? t3.left : t3.right;
          else {
            if (0 === i3) {
              this.nodeStack.push(t3);
              break;
            }
            this.nodeStack.push(t3), t3 = this.isReverse ? t3.right : t3.left;
          }
      }
      function l0(t3, e3) {
        this.comparator = t3, this.root = e3 || u0.EMPTY;
      }
      function f0() {
        this.size = 0;
      }
      u0.EMPTY = null, u0.RED = true, u0.BLACK = false, u0.EMPTY = (Object.defineProperty(f0.prototype, "key", { get: function() {
        throw vb();
      }, enumerable: false, configurable: true }), Object.defineProperty(f0.prototype, "value", { get: function() {
        throw vb();
      }, enumerable: false, configurable: true }), Object.defineProperty(f0.prototype, "color", { get: function() {
        throw vb();
      }, enumerable: false, configurable: true }), Object.defineProperty(f0.prototype, "left", { get: function() {
        throw vb();
      }, enumerable: false, configurable: true }), Object.defineProperty(f0.prototype, "right", { get: function() {
        throw vb();
      }, enumerable: false, configurable: true }), f0.prototype.copy = function(t3, e3, n3, r3, i3) {
        return this;
      }, f0.prototype.insert = function(t3, e3, n3) {
        return new u0(t3, e3);
      }, f0.prototype.remove = function(t3, e3) {
        return this;
      }, f0.prototype.isEmpty = function() {
        return true;
      }, f0.prototype.inorderTraversal = function(t3) {
        return false;
      }, f0.prototype.reverseTraversal = function(t3) {
        return false;
      }, f0.prototype.minKey = function() {
        return null;
      }, f0.prototype.maxKey = function() {
        return null;
      }, f0.prototype.isRed = function() {
        return false;
      }, f0.prototype.checkMaxDepth = function() {
        return true;
      }, f0.prototype.check = function() {
        return 0;
      }, new f0());
      var p0 = (y0.prototype.has = function(t3) {
        return null !== this.data.get(t3);
      }, y0.prototype.first = function() {
        return this.data.minKey();
      }, y0.prototype.last = function() {
        return this.data.maxKey();
      }, Object.defineProperty(y0.prototype, "size", { get: function() {
        return this.data.size;
      }, enumerable: false, configurable: true }), y0.prototype.indexOf = function(t3) {
        return this.data.indexOf(t3);
      }, y0.prototype.forEach = function(n3) {
        this.data.inorderTraversal(function(t3, e3) {
          return n3(t3), false;
        });
      }, y0.prototype.forEachInRange = function(t3, e3) {
        for (var n3 = this.data.getIteratorFrom(t3[0]); n3.hasNext(); ) {
          var r3 = n3.getNext();
          if (0 <= this.comparator(r3.key, t3[1]))
            return;
          e3(r3.key);
        }
      }, y0.prototype.forEachWhile = function(t3, e3) {
        for (var n3 = void 0 !== e3 ? this.data.getIteratorFrom(e3) : this.data.getIterator(); n3.hasNext(); )
          if (!t3(n3.getNext().key))
            return;
      }, y0.prototype.firstAfterOrEqual = function(t3) {
        t3 = this.data.getIteratorFrom(t3);
        return t3.hasNext() ? t3.getNext().key : null;
      }, y0.prototype.getIterator = function() {
        return new d0(this.data.getIterator());
      }, y0.prototype.getIteratorFrom = function(t3) {
        return new d0(this.data.getIteratorFrom(t3));
      }, y0.prototype.add = function(t3) {
        return this.copy(this.data.remove(t3).insert(t3, true));
      }, y0.prototype.delete = function(t3) {
        return this.has(t3) ? this.copy(this.data.remove(t3)) : this;
      }, y0.prototype.isEmpty = function() {
        return this.data.isEmpty();
      }, y0.prototype.unionWith = function(t3) {
        var e3 = this;
        return e3.size < t3.size && (e3 = t3, t3 = this), t3.forEach(function(t4) {
          e3 = e3.add(t4);
        }), e3;
      }, y0.prototype.isEqual = function(t3) {
        if (!(t3 instanceof y0))
          return false;
        if (this.size !== t3.size)
          return false;
        for (var e3 = this.data.getIterator(), n3 = t3.data.getIterator(); e3.hasNext(); ) {
          var r3 = e3.getNext().key, i3 = n3.getNext().key;
          if (0 !== this.comparator(r3, i3))
            return false;
        }
        return true;
      }, y0.prototype.toArray = function() {
        var e3 = [];
        return this.forEach(function(t3) {
          e3.push(t3);
        }), e3;
      }, y0.prototype.toString = function() {
        var e3 = [];
        return this.forEach(function(t3) {
          return e3.push(t3);
        }), "SortedSet(" + e3.toString() + ")";
      }, y0.prototype.copy = function(t3) {
        var e3 = new y0(this.comparator);
        return e3.data = t3, e3;
      }, y0), d0 = (v0.prototype.getNext = function() {
        return this.iter.getNext().key;
      }, v0.prototype.hasNext = function() {
        return this.iter.hasNext();
      }, v0), g0 = new s0($b.comparator);
      function v0(t3) {
        this.iter = t3;
      }
      function y0(t3) {
        this.comparator = t3, this.data = new s0(this.comparator);
      }
      var m0 = new s0($b.comparator);
      var b0 = new s0($b.comparator);
      var _0 = new p0($b.comparator);
      function w0() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        for (var n3 = _0, r3 = 0, i3 = t3; r3 < i3.length; r3++)
          var o3 = i3[r3], n3 = n3.add(o3);
        return n3;
      }
      var T0 = new p0(_b);
      var I0 = (D0.createSynthesizedRemoteEventForCurrentChange = function(t3, e3) {
        var n3 = /* @__PURE__ */ new Map();
        return n3.set(t3, E0.createSynthesizedTargetChangeForCurrentChange(t3, e3)), new D0(Eb.min(), n3, T0, g0, w0());
      }, D0), E0 = (O0.createSynthesizedTargetChangeForCurrentChange = function(t3, e3) {
        return new O0(Mb.EMPTY_BYTE_STRING, e3, w0(), w0(), w0());
      }, O0), S0 = function(t3, e3, n3, r3) {
        this.v = t3, this.removedTargetIds = e3, this.key = n3, this.P = r3;
      }, k0 = function(t3, e3) {
        this.targetId = t3, this.V = e3;
      }, C0 = function(t3, e3, n3, r3) {
        void 0 === n3 && (n3 = Mb.EMPTY_BYTE_STRING), void 0 === r3 && (r3 = null), this.state = t3, this.targetIds = e3, this.resumeToken = n3, this.cause = r3;
      }, A0 = (Object.defineProperty(P0.prototype, "current", { get: function() {
        return this.N;
      }, enumerable: false, configurable: true }), Object.defineProperty(P0.prototype, "resumeToken", { get: function() {
        return this.C;
      }, enumerable: false, configurable: true }), Object.defineProperty(P0.prototype, "F", { get: function() {
        return 0 !== this.S;
      }, enumerable: false, configurable: true }), Object.defineProperty(P0.prototype, "$", { get: function() {
        return this.k;
      }, enumerable: false, configurable: true }), P0.prototype.O = function(t3) {
        0 < t3.approximateByteSize() && (this.k = true, this.C = t3);
      }, P0.prototype.M = function() {
        var n3 = w0(), r3 = w0(), i3 = w0();
        return this.D.forEach(function(t3, e3) {
          switch (e3) {
            case 0:
              n3 = n3.add(t3);
              break;
            case 2:
              r3 = r3.add(t3);
              break;
            case 1:
              i3 = i3.add(t3);
              break;
            default:
              vb();
          }
        }), new E0(this.C, this.N, n3, r3, i3);
      }, P0.prototype.L = function() {
        this.k = false, this.D = L0();
      }, P0.prototype.B = function(t3, e3) {
        this.k = true, this.D = this.D.insert(t3, e3);
      }, P0.prototype.q = function(t3) {
        this.k = true, this.D = this.D.remove(t3);
      }, P0.prototype.U = function() {
        this.S += 1;
      }, P0.prototype.K = function() {
        --this.S;
      }, P0.prototype.j = function() {
        this.k = true, this.N = true;
      }, P0), N0 = (R0.prototype.X = function(t3) {
        for (var e3 = 0, n3 = t3.v; e3 < n3.length; e3++) {
          var r3 = n3[e3];
          t3.P && t3.P.isFoundDocument() ? this.Z(r3, t3.P) : this.tt(r3, t3.key, t3.P);
        }
        for (var i3 = 0, o3 = t3.removedTargetIds; i3 < o3.length; i3++)
          r3 = o3[i3], this.tt(r3, t3.key, t3.P);
      }, R0.prototype.et = function(n3) {
        var r3 = this;
        this.forEachTarget(n3, function(t3) {
          var e3 = r3.nt(t3);
          switch (n3.state) {
            case 0:
              r3.st(t3) && e3.O(n3.resumeToken);
              break;
            case 1:
              e3.K(), e3.F || e3.L(), e3.O(n3.resumeToken);
              break;
            case 2:
              e3.K(), e3.F || r3.removeTarget(t3);
              break;
            case 3:
              r3.st(t3) && (e3.j(), e3.O(n3.resumeToken));
              break;
            case 4:
              r3.st(t3) && (r3.it(t3), e3.O(n3.resumeToken));
              break;
            default:
              vb();
          }
        });
      }, R0.prototype.forEachTarget = function(t3, n3) {
        var r3 = this;
        0 < t3.targetIds.length ? t3.targetIds.forEach(n3) : this.G.forEach(function(t4, e3) {
          r3.st(e3) && n3(e3);
        });
      }, R0.prototype.rt = function(t3) {
        var e3 = t3.targetId, n3 = t3.V.count, t3 = this.ot(e3);
        t3 && (__(t3 = t3.target) ? 0 === n3 ? (t3 = new $b(t3.path), this.tt(e3, t3, d_.newNoDocument(t3, Eb.min()))) : yb(1 === n3) : this.ct(e3) !== n3 && (this.it(e3), this.Y = this.Y.add(e3)));
      }, R0.prototype.ut = function(r3) {
        var i3 = this, o3 = /* @__PURE__ */ new Map();
        this.G.forEach(function(t4, e3) {
          var n3 = i3.ot(e3);
          n3 && (t4.current && __(n3.target) && (n3 = new $b(n3.target.path), null !== i3.H.get(n3) || i3.at(e3, n3) || i3.tt(e3, n3, d_.newNoDocument(n3, r3))), t4.$ && (o3.set(e3, t4.M()), t4.L()));
        });
        var s3 = w0();
        this.J.forEach(function(t4, e3) {
          var n3 = true;
          e3.forEachWhile(function(t5) {
            t5 = i3.ot(t5);
            return !t5 || 2 === t5.purpose || (n3 = false);
          }), n3 && (s3 = s3.add(t4));
        });
        var t3 = new I0(r3, o3, this.Y, this.H, s3);
        return this.H = g0, this.J = x0(), this.Y = new p0(_b), t3;
      }, R0.prototype.Z = function(t3, e3) {
        var n3;
        this.st(t3) && (n3 = this.at(t3, e3.key) ? 2 : 0, this.nt(t3).B(e3.key, n3), this.H = this.H.insert(e3.key, e3), this.J = this.J.insert(e3.key, this.ht(e3.key).add(t3)));
      }, R0.prototype.tt = function(t3, e3, n3) {
        var r3;
        this.st(t3) && (r3 = this.nt(t3), this.at(t3, e3) ? r3.B(e3, 1) : r3.q(e3), this.J = this.J.insert(e3, this.ht(e3).delete(t3)), n3 && (this.H = this.H.insert(e3, n3)));
      }, R0.prototype.removeTarget = function(t3) {
        this.G.delete(t3);
      }, R0.prototype.ct = function(t3) {
        var e3 = this.nt(t3).M();
        return this.W.getRemoteKeysForTarget(t3).size + e3.addedDocuments.size - e3.removedDocuments.size;
      }, R0.prototype.U = function(t3) {
        this.nt(t3).U();
      }, R0.prototype.nt = function(t3) {
        var e3 = this.G.get(t3);
        return e3 || (e3 = new A0(), this.G.set(t3, e3)), e3;
      }, R0.prototype.ht = function(t3) {
        var e3 = this.J.get(t3);
        return e3 || (e3 = new p0(_b), this.J = this.J.insert(t3, e3)), e3;
      }, R0.prototype.st = function(t3) {
        var e3 = null !== this.ot(t3);
        return e3 || fb("WatchChangeAggregator", "Detected inactive target", t3), e3;
      }, R0.prototype.ot = function(t3) {
        var e3 = this.G.get(t3);
        return e3 && e3.F ? null : this.W.lt(t3);
      }, R0.prototype.it = function(e3) {
        var n3 = this;
        this.G.set(e3, new A0()), this.W.getRemoteKeysForTarget(e3).forEach(function(t3) {
          n3.tt(e3, t3, null);
        });
      }, R0.prototype.at = function(t3, e3) {
        return this.W.getRemoteKeysForTarget(t3).has(e3);
      }, R0);
      function R0(t3) {
        this.W = t3, this.G = /* @__PURE__ */ new Map(), this.H = g0, this.J = x0(), this.Y = new p0(_b);
      }
      function P0() {
        this.S = 0, this.D = L0(), this.C = Mb.EMPTY_BYTE_STRING, this.N = false, this.k = true;
      }
      function O0(t3, e3, n3, r3, i3) {
        this.resumeToken = t3, this.current = e3, this.addedDocuments = n3, this.modifiedDocuments = r3, this.removedDocuments = i3;
      }
      function D0(t3, e3, n3, r3, i3) {
        this.snapshotVersion = t3, this.targetChanges = e3, this.targetMismatches = n3, this.documentUpdates = r3, this.resolvedLimboDocuments = i3;
      }
      function x0() {
        return new s0($b.comparator);
      }
      function L0() {
        return new s0($b.comparator);
      }
      var M0 = { asc: "ASCENDING", desc: "DESCENDING" }, F0 = { "<": "LESS_THAN", "<=": "LESS_THAN_OR_EQUAL", ">": "GREATER_THAN", ">=": "GREATER_THAN_OR_EQUAL", "==": "EQUAL", "!=": "NOT_EQUAL", "array-contains": "ARRAY_CONTAINS", in: "IN", "not-in": "NOT_IN", "array-contains-any": "ARRAY_CONTAINS_ANY" }, j0 = function(t3, e3) {
        this.databaseId = t3, this.I = e3;
      };
      function U0(t3, e3) {
        return t3.I ? new Date(1e3 * e3.seconds).toISOString().replace(/\.\d*/, "").replace("Z", "") + "." + ("000000000" + e3.nanoseconds).slice(-9) + "Z" : { seconds: "" + e3.seconds, nanos: e3.nanoseconds };
      }
      function q0(t3, e3) {
        return t3.I ? e3.toBase64() : e3.toUint8Array();
      }
      function V0(t3) {
        return yb(!!t3), Eb.fromTimestamp((t3 = Kb(t3), new Ib(t3.seconds, t3.nanos)));
      }
      function B0(t3, e3) {
        return new Ob(["projects", t3.projectId, "databases", t3.database]).child("documents").child(e3).canonicalString();
      }
      function K0(t3) {
        t3 = Ob.fromString(t3);
        return yb(cT(t3)), t3;
      }
      function W0(t3, e3) {
        return B0(t3.databaseId, e3.path);
      }
      function H0(t3, e3) {
        e3 = K0(e3);
        if (e3.get(1) !== t3.databaseId.projectId)
          throw new ub(ab.INVALID_ARGUMENT, "Tried to deserialize key from different project: " + e3.get(1) + " vs " + t3.databaseId.projectId);
        if (e3.get(3) !== t3.databaseId.database)
          throw new ub(ab.INVALID_ARGUMENT, "Tried to deserialize key from different database: " + e3.get(3) + " vs " + t3.databaseId.database);
        return new $b(Y0(e3));
      }
      function z0(t3, e3) {
        return B0(t3.databaseId, e3);
      }
      function G0(t3) {
        t3 = K0(t3);
        return 4 === t3.length ? Ob.emptyPath() : Y0(t3);
      }
      function Q0(t3) {
        return new Ob(["projects", t3.databaseId.projectId, "databases", t3.databaseId.database]).canonicalString();
      }
      function Y0(t3) {
        return yb(4 < t3.length && "documents" === t3.get(4)), t3.popFirst(5);
      }
      function X0(t3, e3, n3) {
        return { name: W0(t3, e3), fields: n3.value.mapValue.fields };
      }
      function $0(t3, e3, n3) {
        var r3 = H0(t3, e3.name), t3 = V0(e3.updateTime), e3 = new f_({ mapValue: { fields: e3.fields } }), e3 = d_.newFoundDocument(r3, t3, e3);
        return n3 && e3.setHasCommittedMutations(), n3 ? e3.setHasCommittedMutations() : e3;
      }
      function J0(t3, e3) {
        var n3, r3, i3;
        if (e3 instanceof Kw)
          n3 = { update: X0(t3, e3.key, e3.value) };
        else if (e3 instanceof t0)
          n3 = { delete: W0(t3, e3.key) };
        else if (e3 instanceof Ww)
          n3 = { update: X0(t3, e3.key, e3.data), updateMask: (r3 = e3.fieldMask, i3 = [], r3.fields.forEach(function(t4) {
            return i3.push(t4.canonicalString());
          }), { fieldPaths: i3 }) };
        else {
          if (!(e3 instanceof e0))
            return vb();
          n3 = { verify: W0(t3, e3.key) };
        }
        return 0 < e3.fieldTransforms.length && (n3.updateTransforms = e3.fieldTransforms.map(function(t4) {
          var e4 = t4.transform;
          if (e4 instanceof bw)
            return { fieldPath: t4.field.canonicalString(), setToServerValue: "REQUEST_TIME" };
          if (e4 instanceof _w)
            return { fieldPath: t4.field.canonicalString(), appendMissingElements: { values: e4.elements } };
          if (e4 instanceof Sw)
            return { fieldPath: t4.field.canonicalString(), removeAllFromArray: { values: e4.elements } };
          if (e4 instanceof Nw)
            return { fieldPath: t4.field.canonicalString(), increment: e4.A };
          throw vb();
        })), e3.precondition.isNone || (n3.currentDocument = void 0 !== (e3 = e3.precondition).updateTime ? { updateTime: U0(t3, e3.updateTime.toTimestamp()) } : void 0 !== e3.exists ? { exists: e3.exists } : vb()), n3;
      }
      function Z0(e3, t3) {
        var n3 = t3.currentDocument ? void 0 !== (s3 = t3.currentDocument).updateTime ? Lw.updateTime(V0(s3.updateTime)) : void 0 !== s3.exists ? Lw.exists(s3.exists) : Lw.none() : Lw.none(), r3 = t3.updateTransforms ? t3.updateTransforms.map(function(t4) {
          return function(t5, e4) {
            var n4, r4 = null;
            "setToServerValue" in e4 ? (yb("REQUEST_TIME" === e4.setToServerValue), r4 = new bw()) : "appendMissingElements" in e4 ? (n4 = e4.appendMissingElements.values || [], r4 = new _w(n4)) : "removeAllFromArray" in e4 ? (n4 = e4.removeAllFromArray.values || [], r4 = new Sw(n4)) : "increment" in e4 ? r4 = new Nw(t5, e4.increment) : vb();
            e4 = xb.fromServerFormat(e4.fieldPath);
            return new xw(e4, r4);
          }(e3, t4);
        }) : [];
        if (t3.update) {
          t3.update.name;
          var i3 = H0(e3, t3.update.name), o3 = new f_({ mapValue: { fields: t3.update.fields } });
          if (t3.updateMask) {
            var s3 = (s3 = t3.updateMask.fieldPaths || [], new Lb(s3.map(function(t4) {
              return xb.fromServerFormat(t4);
            })));
            return new Ww(i3, o3, s3, n3, r3);
          }
          return new Kw(i3, o3, n3, r3);
        }
        if (t3.delete) {
          r3 = H0(e3, t3.delete);
          return new t0(r3, n3);
        }
        if (t3.verify) {
          t3 = H0(e3, t3.verify);
          return new e0(t3, n3);
        }
        return vb();
      }
      function tT(t3, e3) {
        return { documents: [z0(t3, e3.path)] };
      }
      function eT(t3, e3) {
        var n3 = { structuredQuery: {} }, r3 = e3.path;
        null !== e3.collectionGroup ? (n3.parent = z0(t3, r3), n3.structuredQuery.from = [{ collectionId: e3.collectionGroup, allDescendants: true }]) : (n3.parent = z0(t3, r3.popLast()), n3.structuredQuery.from = [{ collectionId: r3.lastSegment() }]);
        r3 = function(t4) {
          if (0 !== t4.length) {
            t4 = t4.map(function(t5) {
              if ("==" === t5.op) {
                if (c_(t5.value))
                  return { unaryFilter: { field: oT(t5.field), op: "IS_NAN" } };
                if (u_(t5.value))
                  return { unaryFilter: { field: oT(t5.field), op: "IS_NULL" } };
              } else if ("!=" === t5.op) {
                if (c_(t5.value))
                  return { unaryFilter: { field: oT(t5.field), op: "IS_NOT_NAN" } };
                if (u_(t5.value))
                  return { unaryFilter: { field: oT(t5.field), op: "IS_NOT_NULL" } };
              }
              return { fieldFilter: { field: oT(t5.field), op: (e4 = t5.op, F0[e4]), value: t5.value } };
              var e4;
            });
            return 1 === t4.length ? t4[0] : { compositeFilter: { op: "AND", filters: t4 } };
          }
        }(e3.filters);
        r3 && (n3.structuredQuery.where = r3);
        r3 = function(t4) {
          if (0 !== t4.length)
            return t4.map(function(t5) {
              return { field: oT((t5 = t5).field), direction: (t5 = t5.dir, M0[t5]) };
            });
        }(e3.orderBy);
        r3 && (n3.structuredQuery.orderBy = r3);
        r3 = e3.limit, r3 = t3.I || Qb(r3) ? r3 : { value: r3 };
        return null !== r3 && (n3.structuredQuery.limit = r3), e3.startAt && (n3.structuredQuery.startAt = rT(e3.startAt)), e3.endAt && (n3.structuredQuery.endAt = rT(e3.endAt)), n3;
      }
      function nT(t3) {
        var e3 = G0(t3.parent), n3 = t3.structuredQuery, r3 = n3.from ? n3.from.length : 0, i3 = null;
        0 < r3 && (yb(1 === r3), (a3 = n3.from[0]).allDescendants ? i3 = a3.collectionId : e3 = e3.child(a3.collectionId));
        var o3 = [];
        n3.where && (o3 = function e4(t4) {
          return t4 ? void 0 !== t4.unaryFilter ? [uT(t4)] : void 0 !== t4.fieldFilter ? [aT(t4)] : void 0 !== t4.compositeFilter ? t4.compositeFilter.filters.map(function(t5) {
            return e4(t5);
          }).reduce(function(t5, e5) {
            return t5.concat(e5);
          }) : vb() : [];
        }(n3.where));
        var s3 = [], t3 = null, r3 = null, a3 = null;
        return J_(e3, i3, s3 = n3.orderBy ? n3.orderBy.map(function(t4) {
          return new Q_(sT((e4 = t4).field), function() {
            switch (e4.direction) {
              case "ASCENDING":
                return "asc";
              case "DESCENDING":
                return "desc";
              default:
                return;
            }
          }());
          var e4;
        }) : s3, o3, t3 = n3.limit ? Qb(o3 = "object" == typeof (o3 = n3.limit) ? o3.value : o3) ? null : o3 : t3, "F", r3 = n3.startAt ? iT(n3.startAt) : r3, a3 = n3.endAt ? iT(n3.endAt) : a3);
      }
      function rT(t3) {
        return { before: t3.before, values: t3.position };
      }
      function iT(t3) {
        var e3 = !!t3.before, t3 = t3.values || [];
        return new B_(t3, e3);
      }
      function oT(t3) {
        return { fieldPath: t3.canonicalString() };
      }
      function sT(t3) {
        return xb.fromServerFormat(t3.fieldPath);
      }
      function aT(t3) {
        return T_.create(sT(t3.fieldFilter.field), function() {
          switch (t3.fieldFilter.op) {
            case "EQUAL":
              return "==";
            case "NOT_EQUAL":
              return "!=";
            case "GREATER_THAN":
              return ">";
            case "GREATER_THAN_OR_EQUAL":
              return ">=";
            case "LESS_THAN":
              return "<";
            case "LESS_THAN_OR_EQUAL":
              return "<=";
            case "ARRAY_CONTAINS":
              return "array-contains";
            case "IN":
              return "in";
            case "NOT_IN":
              return "not-in";
            case "ARRAY_CONTAINS_ANY":
              return "array-contains-any";
            case "OPERATOR_UNSPECIFIED":
            default:
              return vb();
          }
        }(), t3.fieldFilter.value);
      }
      function uT(t3) {
        switch (t3.unaryFilter.op) {
          case "IS_NAN":
            var e3 = sT(t3.unaryFilter.field);
            return T_.create(e3, "==", { doubleValue: NaN });
          case "IS_NULL":
            e3 = sT(t3.unaryFilter.field);
            return T_.create(e3, "==", { nullValue: "NULL_VALUE" });
          case "IS_NOT_NAN":
            var n3 = sT(t3.unaryFilter.field);
            return T_.create(n3, "!=", { doubleValue: NaN });
          case "IS_NOT_NULL":
            n3 = sT(t3.unaryFilter.field);
            return T_.create(n3, "!=", { nullValue: "NULL_VALUE" });
          case "OPERATOR_UNSPECIFIED":
          default:
            return vb();
        }
      }
      function cT(t3) {
        return 4 <= t3.length && "projects" === t3.get(0) && "databases" === t3.get(2);
      }
      function hT(t3) {
        for (var e3 = "", n3 = 0; n3 < t3.length; n3++)
          0 < e3.length && (e3 = lT(e3)), e3 = function(t4, e4) {
            for (var n4 = e4, r3 = t4.length, i3 = 0; i3 < r3; i3++) {
              var o3 = t4.charAt(i3);
              switch (o3) {
                case "\0":
                  n4 += "";
                  break;
                case "":
                  n4 += "";
                  break;
                default:
                  n4 += o3;
              }
            }
            return n4;
          }(t3.get(n3), e3);
        return lT(e3);
      }
      function lT(t3) {
        return t3 + "";
      }
      function fT(t3) {
        var e3 = t3.length;
        if (yb(2 <= e3), 2 === e3)
          return yb("" === t3.charAt(0) && "" === t3.charAt(1)), Ob.emptyPath();
        for (var n3 = e3 - 2, r3 = [], i3 = "", o3 = 0; o3 < e3; ) {
          var s3 = t3.indexOf("", o3);
          switch ((s3 < 0 || n3 < s3) && vb(), t3.charAt(s3 + 1)) {
            case "":
              var a3 = t3.substring(o3, s3), u3 = void 0;
              0 === i3.length ? u3 = a3 : (u3 = i3 += a3, i3 = ""), r3.push(u3);
              break;
            case "":
              i3 += t3.substring(o3, s3), i3 += "\0";
              break;
            case "":
              i3 += t3.substring(o3, s3 + 1);
              break;
            default:
              vb();
          }
          o3 = s3 + 2;
        }
        return new Ob(r3);
      }
      function pT(t3, e3, n3) {
        this.ownerId = t3, this.allowTabSynchronization = e3, this.leaseTimestampMs = n3;
      }
      var dT = function(t3, e3) {
        this.seconds = t3, this.nanoseconds = e3;
      };
      pT.store = "owner", pT.key = "owner";
      function gT(t3, e3, n3) {
        this.userId = t3, this.lastAcknowledgedBatchId = e3, this.lastStreamToken = n3;
      }
      gT.store = "mutationQueues", gT.keyPath = "userId";
      function vT(t3, e3, n3, r3, i3) {
        this.userId = t3, this.batchId = e3, this.localWriteTimeMs = n3, this.baseMutations = r3, this.mutations = i3;
      }
      vT.store = "mutations", vT.keyPath = "batchId", vT.userMutationsIndex = "userMutationsIndex", vT.userMutationsKeyPath = ["userId", "batchId"];
      var yT = (mT.prefixForUser = function(t3) {
        return [t3];
      }, mT.prefixForPath = function(t3, e3) {
        return [t3, hT(e3)];
      }, mT.key = function(t3, e3, n3) {
        return [t3, hT(e3), n3];
      }, mT);
      function mT() {
      }
      yT.store = "documentMutations", yT.PLACEHOLDER = new yT();
      function bT(t3, e3) {
        this.path = t3, this.readTime = e3;
      }
      function _T(t3, e3) {
        this.path = t3, this.version = e3;
      }
      var wT = function(t3, e3, n3, r3, i3, o3) {
        this.unknownDocument = t3, this.noDocument = e3, this.document = n3, this.hasCommittedMutations = r3, this.readTime = i3, this.parentPath = o3;
      };
      wT.store = "remoteDocuments", wT.readTimeIndex = "readTimeIndex", wT.readTimeIndexPath = "readTime", wT.collectionReadTimeIndex = "collectionReadTimeIndex", wT.collectionReadTimeIndexPath = ["parentPath", "readTime"];
      function TT(t3) {
        this.byteSize = t3;
      }
      TT.store = "remoteDocumentGlobal", TT.key = "remoteDocumentGlobalKey";
      function IT(t3, e3, n3, r3, i3, o3, s3) {
        this.targetId = t3, this.canonicalId = e3, this.readTime = n3, this.resumeToken = r3, this.lastListenSequenceNumber = i3, this.lastLimboFreeSnapshotVersion = o3, this.query = s3;
      }
      IT.store = "targets", IT.keyPath = "targetId", IT.queryTargetsIndexName = "queryTargetsIndex", IT.queryTargetsKeyPath = ["canonicalId", "targetId"];
      var ET = function(t3, e3, n3) {
        this.targetId = t3, this.path = e3, this.sequenceNumber = n3;
      };
      ET.store = "targetDocuments", ET.keyPath = ["targetId", "path"], ET.documentTargetsIndex = "documentTargetsIndex", ET.documentTargetsKeyPath = ["path", "targetId"];
      function ST(t3, e3, n3, r3) {
        this.highestTargetId = t3, this.highestListenSequenceNumber = e3, this.lastRemoteSnapshotVersion = n3, this.targetCount = r3;
      }
      ST.key = "targetGlobalKey", ST.store = "targetGlobal";
      function kT(t3, e3) {
        this.collectionId = t3, this.parent = e3;
      }
      kT.store = "collectionParents", kT.keyPath = ["collectionId", "parent"];
      function CT(t3, e3, n3, r3) {
        this.clientId = t3, this.updateTimeMs = e3, this.networkEnabled = n3, this.inForeground = r3;
      }
      CT.store = "clientMetadata", CT.keyPath = "clientId";
      function AT(t3, e3, n3) {
        this.bundleId = t3, this.createTime = e3, this.version = n3;
      }
      AT.store = "bundles", AT.keyPath = "bundleId";
      function NT(t3, e3, n3) {
        this.name = t3, this.readTime = e3, this.bundledQuery = n3;
      }
      NT.store = "namedQueries", NT.keyPath = "name";
      var RT, PT = Zi(Zi([], Zi(Zi([], Zi(Zi([], Zi(Zi([], [gT.store, vT.store, yT.store, wT.store, IT.store, pT.store, ST.store, ET.store]), [CT.store])), [TT.store])), [kT.store])), [AT.store, NT.store]), OT = "The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.", G = (WT.prototype.addOnCommittedListener = function(t3) {
        this.onCommittedListeners.push(t3);
      }, WT.prototype.raiseOnCommittedEvent = function() {
        this.onCommittedListeners.forEach(function(t3) {
          return t3();
        });
      }, WT), DT = function() {
        var n3 = this;
        this.promise = new Promise(function(t3, e3) {
          n3.resolve = t3, n3.reject = e3;
        });
      }, xT = (KT.prototype.catch = function(t3) {
        return this.next(void 0, t3);
      }, KT.prototype.next = function(r3, i3) {
        var o3 = this;
        return this.callbackAttached && vb(), this.callbackAttached = true, this.isDone ? this.error ? this.wrapFailure(i3, this.error) : this.wrapSuccess(r3, this.result) : new KT(function(e3, n3) {
          o3.nextCallback = function(t3) {
            o3.wrapSuccess(r3, t3).next(e3, n3);
          }, o3.catchCallback = function(t3) {
            o3.wrapFailure(i3, t3).next(e3, n3);
          };
        });
      }, KT.prototype.toPromise = function() {
        var n3 = this;
        return new Promise(function(t3, e3) {
          n3.next(t3, e3);
        });
      }, KT.prototype.wrapUserFunction = function(t3) {
        try {
          var e3 = t3();
          return e3 instanceof KT ? e3 : KT.resolve(e3);
        } catch (t4) {
          return KT.reject(t4);
        }
      }, KT.prototype.wrapSuccess = function(t3, e3) {
        return t3 ? this.wrapUserFunction(function() {
          return t3(e3);
        }) : KT.resolve(e3);
      }, KT.prototype.wrapFailure = function(t3, e3) {
        return t3 ? this.wrapUserFunction(function() {
          return t3(e3);
        }) : KT.reject(e3);
      }, KT.resolve = function(n3) {
        return new KT(function(t3, e3) {
          t3(n3);
        });
      }, KT.reject = function(n3) {
        return new KT(function(t3, e3) {
          e3(n3);
        });
      }, KT.waitFor = function(t3) {
        return new KT(function(e3, n3) {
          var r3 = 0, i3 = 0, o3 = false;
          t3.forEach(function(t4) {
            ++r3, t4.next(function() {
              ++i3, o3 && i3 === r3 && e3();
            }, function(t5) {
              return n3(t5);
            });
          }), o3 = true, i3 === r3 && e3();
        });
      }, KT.or = function(t3) {
        for (var n3 = KT.resolve(false), e3 = 0, r3 = t3; e3 < r3.length; e3++)
          !function(e4) {
            n3 = n3.next(function(t4) {
              return t4 ? KT.resolve(t4) : e4();
            });
          }(r3[e3]);
        return n3;
      }, KT.forEach = function(t3, n3) {
        var r3 = this, i3 = [];
        return t3.forEach(function(t4, e3) {
          i3.push(n3.call(r3, t4, e3));
        }), this.waitFor(i3);
      }, KT), LT = (BT.open = function(t3, e3, n3, r3) {
        try {
          return new BT(e3, t3.transaction(r3, n3));
        } catch (t4) {
          throw new jT(e3, t4);
        }
      }, Object.defineProperty(BT.prototype, "dt", { get: function() {
        return this.ft.promise;
      }, enumerable: false, configurable: true }), BT.prototype.abort = function(t3) {
        t3 && this.ft.reject(t3), this.aborted || (fb("SimpleDb", "Aborting transaction:", t3 ? t3.message : "Client-initiated abort"), this.aborted = true, this.transaction.abort());
      }, BT.prototype.store = function(t3) {
        t3 = this.transaction.objectStore(t3);
        return new zT(t3);
      }, BT), MT = (VT.delete = function(t3) {
        return fb("SimpleDb", "Removing database:", t3), QT(window.indexedDB.deleteDatabase(t3)).toPromise();
      }, VT.yt = function() {
        if ("undefined" == typeof indexedDB)
          return false;
        if (VT.gt())
          return true;
        var t3 = po(), e3 = VT._t(t3), n3 = 0 < e3 && e3 < 10, e3 = VT.Et(t3), e3 = 0 < e3 && e3 < 4.5;
        return !(0 < t3.indexOf("MSIE ") || 0 < t3.indexOf("Trident/") || 0 < t3.indexOf("Edge/") || n3 || e3);
      }, VT.gt = function() {
        var t3;
        return "undefined" != typeof process && "YES" === (null === (t3 = process.env) || void 0 === t3 ? void 0 : t3.Tt);
      }, VT.It = function(t3, e3) {
        return t3.store(e3);
      }, VT._t = function(t3) {
        t3 = t3.match(/i(?:phone|pad|pod) os ([\d_]+)/i), t3 = t3 ? t3[1].split("_").slice(0, 2).join(".") : "-1";
        return Number(t3);
      }, VT.Et = function(t3) {
        t3 = t3.match(/Android ([\d.]+)/i), t3 = t3 ? t3[1].split(".").slice(0, 2).join(".") : "-1";
        return Number(t3);
      }, VT.prototype.At = function(o3) {
        return Yi(this, void 0, void 0, function() {
          var e3, i3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return this.db ? [3, 2] : (fb("SimpleDb", "Opening database:", this.name), e3 = this, [4, new Promise(function(e4, n3) {
                  var r3 = indexedDB.open(i3.name, i3.version);
                  r3.onsuccess = function(t4) {
                    t4 = t4.target.result;
                    e4(t4);
                  }, r3.onblocked = function() {
                    n3(new jT(o3, "Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."));
                  }, r3.onerror = function(t4) {
                    t4 = t4.target.error;
                    "VersionError" === t4.name ? n3(new ub(ab.FAILED_PRECONDITION, "A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")) : n3(new jT(o3, t4));
                  }, r3.onupgradeneeded = function(t4) {
                    fb("SimpleDb", 'Database "' + i3.name + '" requires upgrade from version:', t4.oldVersion);
                    var e5 = t4.target.result;
                    i3.wt.Rt(e5, r3.transaction, t4.oldVersion, i3.version).next(function() {
                      fb("SimpleDb", "Database upgrade to version " + i3.version + " complete");
                    });
                  };
                })]);
              case 1:
                e3.db = t3.sent(), t3.label = 2;
              case 2:
                return [2, (this.bt && (this.db.onversionchange = function(t4) {
                  return i3.bt(t4);
                }), this.db)];
            }
          });
        });
      }, VT.prototype.vt = function(e3) {
        this.bt = e3, this.db && (this.db.onversionchange = function(t3) {
          return e3(t3);
        });
      }, VT.prototype.runTransaction = function(a3, n3, u3, c3) {
        return Yi(this, void 0, void 0, function() {
          var i3, o3, s3, e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                i3 = "readonly" === n3, o3 = 0, e3 = function() {
                  var e4, n4, r3;
                  return Xi(this, function(t4) {
                    switch (t4.label) {
                      case 0:
                        ++o3, t4.label = 1;
                      case 1:
                        return t4.trys.push([1, 4, , 5]), [4, s3.At(a3)];
                      case 2:
                        return s3.db = t4.sent(), e4 = LT.open(s3.db, a3, i3 ? "readonly" : "readwrite", u3), n4 = c3(e4).catch(function(t5) {
                          return e4.abort(t5), xT.reject(t5);
                        }).toPromise(), r3 = {}, n4.catch(function() {
                        }), [4, e4.dt];
                      case 3:
                        return [2, (r3.value = (t4.sent(), n4), r3)];
                      case 4:
                        return n4 = t4.sent(), r3 = "FirebaseError" !== n4.name && o3 < 3, fb("SimpleDb", "Transaction failed with error:", n4.message, "Retrying:", r3), s3.close(), r3 ? [3, 5] : [2, { value: Promise.reject(n4) }];
                      case 5:
                        return [2];
                    }
                  });
                }, s3 = this, t3.label = 1;
              case 1:
                return [5, e3()];
              case 2:
                if ("object" == typeof (e3 = t3.sent()))
                  return [2, e3.value];
                t3.label = 3;
              case 3:
                return [3, 1];
              case 4:
                return [2];
            }
          });
        });
      }, VT.prototype.close = function() {
        this.db && this.db.close(), this.db = void 0;
      }, VT), FT = (Object.defineProperty(qT.prototype, "isDone", { get: function() {
        return this.Vt;
      }, enumerable: false, configurable: true }), Object.defineProperty(qT.prototype, "Dt", { get: function() {
        return this.St;
      }, enumerable: false, configurable: true }), Object.defineProperty(qT.prototype, "cursor", { set: function(t3) {
        this.Pt = t3;
      }, enumerable: false, configurable: true }), qT.prototype.done = function() {
        this.Vt = true;
      }, qT.prototype.Ct = function(t3) {
        this.St = t3;
      }, qT.prototype.delete = function() {
        return QT(this.Pt.delete());
      }, qT), jT = (Gi(UT, RT = ub), UT);
      function UT(t3, e3) {
        var n3 = this;
        return (n3 = RT.call(this, ab.UNAVAILABLE, "IndexedDB transaction '" + t3 + "' failed: " + e3) || this).name = "IndexedDbTransactionError", n3;
      }
      function qT(t3) {
        this.Pt = t3, this.Vt = false, this.St = null;
      }
      function VT(t3, e3, n3) {
        this.name = t3, this.version = e3, this.wt = n3, 12.2 === VT._t(po()) && pb("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");
      }
      function BT(e3, t3) {
        var n3 = this;
        this.action = e3, this.transaction = t3, this.aborted = false, this.ft = new DT(), this.transaction.oncomplete = function() {
          n3.ft.resolve();
        }, this.transaction.onabort = function() {
          t3.error ? n3.ft.reject(new jT(e3, t3.error)) : n3.ft.resolve();
        }, this.transaction.onerror = function(t4) {
          t4 = XT(t4.target.error);
          n3.ft.reject(new jT(e3, t4));
        };
      }
      function KT(t3) {
        var e3 = this;
        this.nextCallback = null, this.catchCallback = null, this.result = void 0, this.error = void 0, this.isDone = false, this.callbackAttached = false, t3(function(t4) {
          e3.isDone = true, e3.result = t4, e3.nextCallback && e3.nextCallback(t4);
        }, function(t4) {
          e3.isDone = true, e3.error = t4, e3.catchCallback && e3.catchCallback(t4);
        });
      }
      function WT() {
        this.onCommittedListeners = [];
      }
      function HT(t3) {
        return "IndexedDbTransactionError" === t3.name;
      }
      var zT = (GT.prototype.put = function(t3, e3) {
        t3 = void 0 !== e3 ? (fb("SimpleDb", "PUT", this.store.name, t3, e3), this.store.put(e3, t3)) : (fb("SimpleDb", "PUT", this.store.name, "<auto-key>", t3), this.store.put(t3));
        return QT(t3);
      }, GT.prototype.add = function(t3) {
        return fb("SimpleDb", "ADD", this.store.name, t3, t3), QT(this.store.add(t3));
      }, GT.prototype.get = function(e3) {
        var n3 = this;
        return QT(this.store.get(e3)).next(function(t3) {
          return fb("SimpleDb", "GET", n3.store.name, e3, t3 = void 0 === t3 ? null : t3), t3;
        });
      }, GT.prototype.delete = function(t3) {
        return fb("SimpleDb", "DELETE", this.store.name, t3), QT(this.store.delete(t3));
      }, GT.prototype.count = function() {
        return fb("SimpleDb", "COUNT", this.store.name), QT(this.store.count());
      }, GT.prototype.Nt = function(t3, e3) {
        var e3 = this.cursor(this.options(t3, e3)), n3 = [];
        return this.xt(e3, function(t4, e4) {
          n3.push(e4);
        }).next(function() {
          return n3;
        });
      }, GT.prototype.kt = function(t3, e3) {
        fb("SimpleDb", "DELETE ALL", this.store.name);
        e3 = this.options(t3, e3);
        e3.Ft = false;
        e3 = this.cursor(e3);
        return this.xt(e3, function(t4, e4, n3) {
          return n3.delete();
        });
      }, GT.prototype.$t = function(t3, e3) {
        e3 ? n3 = t3 : (n3 = {}, e3 = t3);
        var n3 = this.cursor(n3);
        return this.xt(n3, e3);
      }, GT.prototype.Ot = function(r3) {
        var t3 = this.cursor({});
        return new xT(function(n3, e3) {
          t3.onerror = function(t4) {
            t4 = XT(t4.target.error);
            e3(t4);
          }, t3.onsuccess = function(t4) {
            var e4 = t4.target.result;
            e4 ? r3(e4.primaryKey, e4.value).next(function(t5) {
              t5 ? e4.continue() : n3();
            }) : n3();
          };
        });
      }, GT.prototype.xt = function(t3, i3) {
        var o3 = [];
        return new xT(function(r3, e3) {
          t3.onerror = function(t4) {
            e3(t4.target.error);
          }, t3.onsuccess = function(t4) {
            var e4, n3 = t4.target.result;
            n3 ? (e4 = new FT(n3), (t4 = i3(n3.primaryKey, n3.value, e4)) instanceof xT && (t4 = t4.catch(function(t5) {
              return e4.done(), xT.reject(t5);
            }), o3.push(t4)), e4.isDone ? r3() : null === e4.Dt ? n3.continue() : n3.continue(e4.Dt)) : r3();
          };
        }).next(function() {
          return xT.waitFor(o3);
        });
      }, GT.prototype.options = function(t3, e3) {
        var n3;
        return void 0 !== t3 && ("string" == typeof t3 ? n3 = t3 : e3 = t3), { index: n3, range: e3 };
      }, GT.prototype.cursor = function(t3) {
        var e3 = "next";
        if (t3.reverse && (e3 = "prev"), t3.index) {
          var n3 = this.store.index(t3.index);
          return t3.Ft ? n3.openKeyCursor(t3.range, e3) : n3.openCursor(t3.range, e3);
        }
        return this.store.openCursor(t3.range, e3);
      }, GT);
      function GT(t3) {
        this.store = t3;
      }
      function QT(t3) {
        return new xT(function(e3, n3) {
          t3.onsuccess = function(t4) {
            t4 = t4.target.result;
            e3(t4);
          }, t3.onerror = function(t4) {
            t4 = XT(t4.target.error);
            n3(t4);
          };
        });
      }
      var YT = false;
      function XT(t3) {
        var e3 = MT._t(po());
        if (12.2 <= e3 && e3 < 13) {
          e3 = "An internal error was encountered in the Indexed Database server";
          if (0 <= t3.message.indexOf(e3)) {
            var n3 = new ub("internal", "IOS_INDEXEDDB_BUG1: IndexedDb has thrown '" + e3 + "'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");
            return YT || (YT = true, setTimeout(function() {
              throw n3;
            }, 0)), n3;
          }
        }
        return t3;
      }
      var $T, JT = (Gi(ZT, $T = G), ZT);
      function ZT(t3, e3) {
        var n3 = this;
        return (n3 = $T.call(this) || this).Mt = t3, n3.currentSequenceNumber = e3, n3;
      }
      function tI(t3, e3) {
        return MT.It(t3.Mt, e3);
      }
      var eI = (aI.prototype.applyToRemoteDocument = function(t3, e3) {
        for (var n3, r3, i3, o3, s3, a3, u3 = e3.mutationResults, c3 = 0; c3 < this.mutations.length; c3++) {
          var h3 = this.mutations[c3];
          h3.key.isEqual(t3.key) && (n3 = h3, r3 = t3, i3 = u3[c3], h3 = a3 = s3 = o3 = void 0, n3 instanceof Kw ? (s3 = r3, a3 = i3, h3 = (o3 = n3).value.clone(), o3 = Qw(o3.fieldTransforms, s3, a3.transformResults), h3.setAll(o3), s3.convertToFoundDocument(a3.version, h3).setHasCommittedMutations()) : n3 instanceof Ww ? (o3 = r3, s3 = i3, Fw((a3 = n3).precondition, o3) ? (h3 = Qw(a3.fieldTransforms, o3, s3.transformResults), (n3 = o3.data).setAll(Gw(a3)), n3.setAll(h3), o3.convertToFoundDocument(s3.version, n3).setHasCommittedMutations()) : o3.convertToUnknownDocument(s3.version)) : r3.convertToNoDocument(i3.version).setHasCommittedMutations());
        }
      }, aI.prototype.applyToLocalView = function(t3) {
        for (var e3 = 0, n3 = this.baseMutations; e3 < n3.length; e3++)
          (r3 = n3[e3]).key.isEqual(t3.key) && jw(r3, t3, this.localWriteTime);
        for (var r3, i3 = 0, o3 = this.mutations; i3 < o3.length; i3++)
          (r3 = o3[i3]).key.isEqual(t3.key) && jw(r3, t3, this.localWriteTime);
      }, aI.prototype.applyToLocalDocumentSet = function(n3) {
        var r3 = this;
        this.mutations.forEach(function(t3) {
          var e3 = n3.get(t3.key), t3 = e3;
          r3.applyToLocalView(t3), e3.isValidDocument() || t3.convertToNoDocument(Eb.min());
        });
      }, aI.prototype.keys = function() {
        return this.mutations.reduce(function(t3, e3) {
          return t3.add(e3.key);
        }, w0());
      }, aI.prototype.isEqual = function(t3) {
        return this.batchId === t3.batchId && wb(this.mutations, t3.mutations, Uw) && wb(this.baseMutations, t3.baseMutations, Uw);
      }, aI), nI = (sI.from = function(t3, e3, n3) {
        yb(t3.mutations.length === n3.length);
        for (var r3 = b0, i3 = t3.mutations, o3 = 0; o3 < i3.length; o3++)
          r3 = r3.insert(i3[o3].key, n3[o3].version);
        return new sI(t3, e3, n3, r3);
      }, sI), rI = (oI.prototype.withSequenceNumber = function(t3) {
        return new oI(this.target, this.targetId, this.purpose, t3, this.snapshotVersion, this.lastLimboFreeSnapshotVersion, this.resumeToken);
      }, oI.prototype.withResumeToken = function(t3, e3) {
        return new oI(this.target, this.targetId, this.purpose, this.sequenceNumber, e3, this.lastLimboFreeSnapshotVersion, t3);
      }, oI.prototype.withLastLimboFreeSnapshotVersion = function(t3) {
        return new oI(this.target, this.targetId, this.purpose, this.sequenceNumber, this.snapshotVersion, t3, this.resumeToken);
      }, oI), iI = function(t3) {
        this.Lt = t3;
      };
      function oI(t3, e3, n3, r3, i3, o3, s3) {
        void 0 === i3 && (i3 = Eb.min()), void 0 === o3 && (o3 = Eb.min()), void 0 === s3 && (s3 = Mb.EMPTY_BYTE_STRING), this.target = t3, this.targetId = e3, this.purpose = n3, this.sequenceNumber = r3, this.snapshotVersion = i3, this.lastLimboFreeSnapshotVersion = o3, this.resumeToken = s3;
      }
      function sI(t3, e3, n3, r3) {
        this.batch = t3, this.commitVersion = e3, this.mutationResults = n3, this.docVersions = r3;
      }
      function aI(t3, e3, n3, r3) {
        this.batchId = t3, this.localWriteTime = e3, this.baseMutations = n3, this.mutations = r3;
      }
      function uI(t3, e3) {
        if (e3.document)
          return $0(t3.Lt, e3.document, !!e3.hasCommittedMutations);
        if (e3.noDocument) {
          var n3 = $b.fromSegments(e3.noDocument.path), r3 = pI(e3.noDocument.readTime), n3 = d_.newNoDocument(n3, r3);
          return e3.hasCommittedMutations ? n3.setHasCommittedMutations() : n3;
        }
        if (e3.unknownDocument) {
          n3 = $b.fromSegments(e3.unknownDocument.path), r3 = pI(e3.unknownDocument.version);
          return d_.newUnknownDocument(n3, r3);
        }
        return vb();
      }
      function cI(t3, e3, n3) {
        var r3 = hI(n3), n3 = e3.key.path.popLast().toArray();
        if (e3.isFoundDocument()) {
          var i3 = { name: W0(o3 = t3.Lt, (s3 = e3).key), fields: s3.data.value.mapValue.fields, updateTime: U0(o3, s3.version.toTimestamp()) }, o3 = e3.hasCommittedMutations;
          return new wT(null, null, i3, o3, r3, n3);
        }
        if (e3.isNoDocument()) {
          var s3 = e3.key.path.toArray(), i3 = fI(e3.version), o3 = e3.hasCommittedMutations;
          return new wT(null, new bT(s3, i3), null, o3, r3, n3);
        }
        if (e3.isUnknownDocument()) {
          o3 = e3.key.path.toArray(), e3 = fI(e3.version);
          return new wT(new _T(o3, e3), null, null, true, r3, n3);
        }
        return vb();
      }
      function hI(t3) {
        t3 = t3.toTimestamp();
        return [t3.seconds, t3.nanoseconds];
      }
      function lI(t3) {
        t3 = new Ib(t3[0], t3[1]);
        return Eb.fromTimestamp(t3);
      }
      function fI(t3) {
        t3 = t3.toTimestamp();
        return new dT(t3.seconds, t3.nanoseconds);
      }
      function pI(t3) {
        t3 = new Ib(t3.seconds, t3.nanoseconds);
        return Eb.fromTimestamp(t3);
      }
      function dI(e3, t3) {
        for (var n3 = (t3.baseMutations || []).map(function(t4) {
          return Z0(e3.Lt, t4);
        }), r3 = 0; r3 < t3.mutations.length - 1; ++r3) {
          var i3, o3 = t3.mutations[r3];
          r3 + 1 < t3.mutations.length && void 0 !== t3.mutations[r3 + 1].transform && (i3 = t3.mutations[r3 + 1], o3.updateTransforms = i3.transform.fieldTransforms, t3.mutations.splice(r3 + 1, 1), ++r3);
        }
        var s3 = t3.mutations.map(function(t4) {
          return Z0(e3.Lt, t4);
        }), a3 = Ib.fromMillis(t3.localWriteTimeMs);
        return new eI(t3.batchId, a3, n3, s3);
      }
      function gI(t3) {
        var e3 = pI(t3.readTime), n3 = void 0 !== t3.lastLimboFreeSnapshotVersion ? pI(t3.lastLimboFreeSnapshotVersion) : Eb.min(), r3 = void 0 !== t3.query.documents ? (yb(1 === (r3 = t3.query).documents.length), sw(Z_(G0(r3.documents[0])))) : sw(nT(t3.query));
        return new rI(r3, t3.targetId, 0, t3.lastListenSequenceNumber, e3, n3, Mb.fromBase64String(t3.resumeToken));
      }
      function vI(t3, e3) {
        var n3 = fI(e3.snapshotVersion), r3 = fI(e3.lastLimboFreeSnapshotVersion), i3 = (__(e3.target) ? tT : eT)(t3.Lt, e3.target), t3 = e3.resumeToken.toBase64();
        return new IT(e3.targetId, m_(e3.target), n3, t3, e3.sequenceNumber, r3, i3);
      }
      function yI(t3) {
        var e3 = nT({ parent: t3.parent, structuredQuery: t3.structuredQuery });
        return "LAST" === t3.limitType ? aw(e3, e3.limit, "L") : e3;
      }
      var mI = (bI.prototype.getBundleMetadata = function(t3, e3) {
        return _I(t3).get(e3).next(function(t4) {
          if (t4)
            return { id: (t4 = t4).bundleId, createTime: pI(t4.createTime), version: t4.version };
        });
      }, bI.prototype.saveBundleMetadata = function(t3, e3) {
        return _I(t3).put({ bundleId: (e3 = e3).id, createTime: fI(V0(e3.createTime)), version: e3.version });
      }, bI.prototype.getNamedQuery = function(t3, e3) {
        return wI(t3).get(e3).next(function(t4) {
          if (t4)
            return { name: (t4 = t4).name, query: yI(t4.bundledQuery), readTime: pI(t4.readTime) };
        });
      }, bI.prototype.saveNamedQuery = function(t3, e3) {
        return wI(t3).put({ name: (e3 = e3).name, readTime: fI(V0(e3.readTime)), bundledQuery: e3.bundledQuery });
      }, bI);
      function bI() {
      }
      function _I(t3) {
        return tI(t3, AT.store);
      }
      function wI(t3) {
        return tI(t3, NT.store);
      }
      var TI = (CI.prototype.addToCollectionParentIndex = function(t3, e3) {
        return this.Bt.add(e3), xT.resolve();
      }, CI.prototype.getCollectionParents = function(t3, e3) {
        return xT.resolve(this.Bt.getEntries(e3));
      }, CI), II = (kI.prototype.add = function(t3) {
        var e3 = t3.lastSegment(), n3 = t3.popLast(), r3 = this.index[e3] || new p0(Ob.comparator), t3 = !r3.has(n3);
        return this.index[e3] = r3.add(n3), t3;
      }, kI.prototype.has = function(t3) {
        var e3 = t3.lastSegment(), t3 = t3.popLast(), e3 = this.index[e3];
        return e3 && e3.has(t3);
      }, kI.prototype.getEntries = function(t3) {
        return (this.index[t3] || new p0(Ob.comparator)).toArray();
      }, kI), EI = (SI.prototype.addToCollectionParentIndex = function(t3, e3) {
        var n3 = this;
        if (this.qt.has(e3))
          return xT.resolve();
        var r3 = e3.lastSegment(), i3 = e3.popLast();
        t3.addOnCommittedListener(function() {
          n3.qt.add(e3);
        });
        i3 = { collectionId: r3, parent: hT(i3) };
        return AI(t3).put(i3);
      }, SI.prototype.getCollectionParents = function(t3, i3) {
        var o3 = [], e3 = IDBKeyRange.bound([i3, ""], [Tb(i3), ""], false, true);
        return AI(t3).Nt(e3).next(function(t4) {
          for (var e4 = 0, n3 = t4; e4 < n3.length; e4++) {
            var r3 = n3[e4];
            if (r3.collectionId !== i3)
              break;
            o3.push(fT(r3.parent));
          }
          return o3;
        });
      }, SI);
      function SI() {
        this.qt = new II();
      }
      function kI() {
        this.index = {};
      }
      function CI() {
        this.Bt = new II();
      }
      function AI(t3) {
        return tI(t3, kT.store);
      }
      var NI = { didRun: false, sequenceNumbersCollected: 0, targetsRemoved: 0, documentsRemoved: 0 }, RI = (PI.withCacheSize = function(t3) {
        return new PI(t3, PI.DEFAULT_COLLECTION_PERCENTILE, PI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT);
      }, PI);
      function PI(t3, e3, n3) {
        this.cacheSizeCollectionThreshold = t3, this.percentileToCollect = e3, this.maximumSequenceNumbersToCollect = n3;
      }
      function OI(t3, e3, n3) {
        var r3 = t3.store(vT.store), i3 = t3.store(yT.store), o3 = [], t3 = IDBKeyRange.only(n3.batchId), s3 = 0, t3 = r3.$t({ range: t3 }, function(t4, e4, n4) {
          return s3++, n4.delete();
        });
        o3.push(t3.next(function() {
          yb(1 === s3);
        }));
        for (var a3 = [], u3 = 0, c3 = n3.mutations; u3 < c3.length; u3++) {
          var h3 = c3[u3], l3 = yT.key(e3, h3.key.path, n3.batchId);
          o3.push(i3.delete(l3)), a3.push(h3.key);
        }
        return xT.waitFor(o3).next(function() {
          return a3;
        });
      }
      function DI(t3) {
        if (!t3)
          return 0;
        var e3;
        if (t3.document)
          e3 = t3.document;
        else if (t3.unknownDocument)
          e3 = t3.unknownDocument;
        else {
          if (!t3.noDocument)
            throw vb();
          e3 = t3.noDocument;
        }
        return JSON.stringify(e3).length;
      }
      RI.DEFAULT_COLLECTION_PERCENTILE = 10, RI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT = 1e3, RI.DEFAULT = new RI(41943040, RI.DEFAULT_COLLECTION_PERCENTILE, RI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT), RI.DISABLED = new RI(-1, 0, 0);
      var xI = (LI.Qt = function(t3, e3, n3, r3) {
        return yb("" !== t3.uid), new LI(t3.isAuthenticated() ? t3.uid : "", e3, n3, r3);
      }, LI.prototype.checkEmpty = function(t3) {
        var r3 = true, e3 = IDBKeyRange.bound([this.userId, Number.NEGATIVE_INFINITY], [this.userId, Number.POSITIVE_INFINITY]);
        return FI(t3).$t({ index: vT.userMutationsIndex, range: e3 }, function(t4, e4, n3) {
          r3 = false, n3.done();
        }).next(function() {
          return r3;
        });
      }, LI.prototype.addMutationBatch = function(d3, g3, v3, y3) {
        var m3 = this, b3 = jI(d3), _3 = FI(d3);
        return _3.add({}).next(function(t3) {
          yb("number" == typeof t3);
          for (var e3, n3, r3, i3, o3, s3 = new eI(t3, g3, v3, y3), a3 = (e3 = m3.R, n3 = m3.userId, i3 = (r3 = s3).baseMutations.map(function(t4) {
            return J0(e3.Lt, t4);
          }), o3 = r3.mutations.map(function(t4) {
            return J0(e3.Lt, t4);
          }), new vT(n3, r3.batchId, r3.localWriteTime.toMillis(), i3, o3)), u3 = [], c3 = new p0(function(t4, e4) {
            return _b(t4.canonicalString(), e4.canonicalString());
          }), h3 = 0, l3 = y3; h3 < l3.length; h3++) {
            var f3 = l3[h3], p3 = yT.key(m3.userId, f3.key.path, t3), c3 = c3.add(f3.key.path.popLast());
            u3.push(_3.put(a3)), u3.push(b3.put(p3, yT.PLACEHOLDER));
          }
          return c3.forEach(function(t4) {
            u3.push(m3.Ut.addToCollectionParentIndex(d3, t4));
          }), d3.addOnCommittedListener(function() {
            m3.Kt[t3] = s3.keys();
          }), xT.waitFor(u3).next(function() {
            return s3;
          });
        });
      }, LI.prototype.lookupMutationBatch = function(t3, e3) {
        var n3 = this;
        return FI(t3).get(e3).next(function(t4) {
          return t4 ? (yb(t4.userId === n3.userId), dI(n3.R, t4)) : null;
        });
      }, LI.prototype.jt = function(t3, e3) {
        var n3 = this;
        return this.Kt[e3] ? xT.resolve(this.Kt[e3]) : this.lookupMutationBatch(t3, e3).next(function(t4) {
          if (t4) {
            t4 = t4.keys();
            return n3.Kt[e3] = t4;
          }
          return null;
        });
      }, LI.prototype.getNextMutationBatchAfterBatchId = function(t3, e3) {
        var r3 = this, i3 = e3 + 1, e3 = IDBKeyRange.lowerBound([this.userId, i3]), o3 = null;
        return FI(t3).$t({ index: vT.userMutationsIndex, range: e3 }, function(t4, e4, n3) {
          e4.userId === r3.userId && (yb(e4.batchId >= i3), o3 = dI(r3.R, e4)), n3.done();
        }).next(function() {
          return o3;
        });
      }, LI.prototype.getHighestUnacknowledgedBatchId = function(t3) {
        var e3 = IDBKeyRange.upperBound([this.userId, Number.POSITIVE_INFINITY]), r3 = -1;
        return FI(t3).$t({ index: vT.userMutationsIndex, range: e3, reverse: true }, function(t4, e4, n3) {
          r3 = e4.batchId, n3.done();
        }).next(function() {
          return r3;
        });
      }, LI.prototype.getAllMutationBatches = function(t3) {
        var e3 = this, n3 = IDBKeyRange.bound([this.userId, -1], [this.userId, Number.POSITIVE_INFINITY]);
        return FI(t3).Nt(vT.userMutationsIndex, n3).next(function(t4) {
          return t4.map(function(t5) {
            return dI(e3.R, t5);
          });
        });
      }, LI.prototype.getAllMutationBatchesAffectingDocumentKey = function(o3, s3) {
        var a3 = this, t3 = yT.prefixForPath(this.userId, s3.path), t3 = IDBKeyRange.lowerBound(t3), u3 = [];
        return jI(o3).$t({ range: t3 }, function(t4, e3, n3) {
          var r3 = t4[0], i3 = t4[1], t4 = t4[2], i3 = fT(i3);
          if (r3 === a3.userId && s3.path.isEqual(i3))
            return FI(o3).get(t4).next(function(t5) {
              if (!t5)
                throw vb();
              yb(t5.userId === a3.userId), u3.push(dI(a3.R, t5));
            });
          n3.done();
        }).next(function() {
          return u3;
        });
      }, LI.prototype.getAllMutationBatchesAffectingDocumentKeys = function(e3, t3) {
        var s3 = this, a3 = new p0(_b), n3 = [];
        return t3.forEach(function(o3) {
          var t4 = yT.prefixForPath(s3.userId, o3.path), t4 = IDBKeyRange.lowerBound(t4), t4 = jI(e3).$t({ range: t4 }, function(t5, e4, n4) {
            var r3 = t5[0], i3 = t5[1], t5 = t5[2], i3 = fT(i3);
            r3 === s3.userId && o3.path.isEqual(i3) ? a3 = a3.add(t5) : n4.done();
          });
          n3.push(t4);
        }), xT.waitFor(n3).next(function() {
          return s3.Wt(e3, a3);
        });
      }, LI.prototype.getAllMutationBatchesAffectingQuery = function(t3, e3) {
        var o3 = this, s3 = e3.path, a3 = s3.length + 1, e3 = yT.prefixForPath(this.userId, s3), e3 = IDBKeyRange.lowerBound(e3), u3 = new p0(_b);
        return jI(t3).$t({ range: e3 }, function(t4, e4, n3) {
          var r3 = t4[0], i3 = t4[1], t4 = t4[2], i3 = fT(i3);
          r3 === o3.userId && s3.isPrefixOf(i3) ? i3.length === a3 && (u3 = u3.add(t4)) : n3.done();
        }).next(function() {
          return o3.Wt(t3, u3);
        });
      }, LI.prototype.Wt = function(e3, t3) {
        var n3 = this, r3 = [], i3 = [];
        return t3.forEach(function(t4) {
          i3.push(FI(e3).get(t4).next(function(t5) {
            if (null === t5)
              throw vb();
            yb(t5.userId === n3.userId), r3.push(dI(n3.R, t5));
          }));
        }), xT.waitFor(i3).next(function() {
          return r3;
        });
      }, LI.prototype.removeMutationBatch = function(e3, n3) {
        var r3 = this;
        return OI(e3.Mt, this.userId, n3).next(function(t3) {
          return e3.addOnCommittedListener(function() {
            r3.Gt(n3.batchId);
          }), xT.forEach(t3, function(t4) {
            return r3.referenceDelegate.markPotentiallyOrphaned(e3, t4);
          });
        });
      }, LI.prototype.Gt = function(t3) {
        delete this.Kt[t3];
      }, LI.prototype.performConsistencyCheck = function(e3) {
        var i3 = this;
        return this.checkEmpty(e3).next(function(t3) {
          if (!t3)
            return xT.resolve();
          var t3 = IDBKeyRange.lowerBound(yT.prefixForUser(i3.userId)), r3 = [];
          return jI(e3).$t({ range: t3 }, function(t4, e4, n3) {
            t4[0] === i3.userId ? (t4 = fT(t4[1]), r3.push(t4)) : n3.done();
          }).next(function() {
            yb(0 === r3.length);
          });
        });
      }, LI.prototype.containsKey = function(t3, e3) {
        return MI(t3, this.userId, e3);
      }, LI.prototype.zt = function(t3) {
        var e3 = this;
        return UI(t3).get(this.userId).next(function(t4) {
          return t4 || new gT(e3.userId, -1, "");
        });
      }, LI);
      function LI(t3, e3, n3, r3) {
        this.userId = t3, this.R = e3, this.Ut = n3, this.referenceDelegate = r3, this.Kt = {};
      }
      function MI(t3, o3, e3) {
        var e3 = yT.prefixForPath(o3, e3.path), s3 = e3[1], e3 = IDBKeyRange.lowerBound(e3), a3 = false;
        return jI(t3).$t({ range: e3, Ft: true }, function(t4, e4, n3) {
          var r3 = t4[0], i3 = t4[1];
          t4[2], r3 === o3 && i3 === s3 && (a3 = true), n3.done();
        }).next(function() {
          return a3;
        });
      }
      function FI(t3) {
        return tI(t3, vT.store);
      }
      function jI(t3) {
        return tI(t3, yT.store);
      }
      function UI(t3) {
        return tI(t3, gT.store);
      }
      var qI = (KI.prototype.next = function() {
        return this.Ht += 2, this.Ht;
      }, KI.Jt = function() {
        return new KI(0);
      }, KI.Yt = function() {
        return new KI(-1);
      }, KI), VI = (BI.prototype.allocateTargetId = function(n3) {
        var r3 = this;
        return this.Xt(n3).next(function(t3) {
          var e3 = new qI(t3.highestTargetId);
          return t3.highestTargetId = e3.next(), r3.Zt(n3, t3).next(function() {
            return t3.highestTargetId;
          });
        });
      }, BI.prototype.getLastRemoteSnapshotVersion = function(t3) {
        return this.Xt(t3).next(function(t4) {
          return Eb.fromTimestamp(new Ib(t4.lastRemoteSnapshotVersion.seconds, t4.lastRemoteSnapshotVersion.nanoseconds));
        });
      }, BI.prototype.getHighestSequenceNumber = function(t3) {
        return this.Xt(t3).next(function(t4) {
          return t4.highestListenSequenceNumber;
        });
      }, BI.prototype.setTargetsMetadata = function(e3, n3, r3) {
        var i3 = this;
        return this.Xt(e3).next(function(t3) {
          return t3.highestListenSequenceNumber = n3, r3 && (t3.lastRemoteSnapshotVersion = r3.toTimestamp()), n3 > t3.highestListenSequenceNumber && (t3.highestListenSequenceNumber = n3), i3.Zt(e3, t3);
        });
      }, BI.prototype.addTargetData = function(e3, n3) {
        var r3 = this;
        return this.te(e3, n3).next(function() {
          return r3.Xt(e3).next(function(t3) {
            return t3.targetCount += 1, r3.ee(n3, t3), r3.Zt(e3, t3);
          });
        });
      }, BI.prototype.updateTargetData = function(t3, e3) {
        return this.te(t3, e3);
      }, BI.prototype.removeTargetData = function(e3, t3) {
        var n3 = this;
        return this.removeMatchingKeysForTargetId(e3, t3.targetId).next(function() {
          return WI(e3).delete(t3.targetId);
        }).next(function() {
          return n3.Xt(e3);
        }).next(function(t4) {
          return yb(0 < t4.targetCount), --t4.targetCount, n3.Zt(e3, t4);
        });
      }, BI.prototype.removeTargets = function(n3, r3, i3) {
        var o3 = this, s3 = 0, a3 = [];
        return WI(n3).$t(function(t3, e3) {
          e3 = gI(e3);
          e3.sequenceNumber <= r3 && null === i3.get(e3.targetId) && (s3++, a3.push(o3.removeTargetData(n3, e3)));
        }).next(function() {
          return xT.waitFor(a3);
        }).next(function() {
          return s3;
        });
      }, BI.prototype.forEachTarget = function(t3, n3) {
        return WI(t3).$t(function(t4, e3) {
          e3 = gI(e3);
          n3(e3);
        });
      }, BI.prototype.Xt = function(t3) {
        return HI(t3).get(ST.key).next(function(t4) {
          return yb(null !== t4), t4;
        });
      }, BI.prototype.Zt = function(t3, e3) {
        return HI(t3).put(ST.key, e3);
      }, BI.prototype.te = function(t3, e3) {
        return WI(t3).put(vI(this.R, e3));
      }, BI.prototype.ee = function(t3, e3) {
        var n3 = false;
        return t3.targetId > e3.highestTargetId && (e3.highestTargetId = t3.targetId, n3 = true), t3.sequenceNumber > e3.highestListenSequenceNumber && (e3.highestListenSequenceNumber = t3.sequenceNumber, n3 = true), n3;
      }, BI.prototype.getTargetCount = function(t3) {
        return this.Xt(t3).next(function(t4) {
          return t4.targetCount;
        });
      }, BI.prototype.getTargetData = function(t3, r3) {
        var e3 = m_(r3), e3 = IDBKeyRange.bound([e3, Number.NEGATIVE_INFINITY], [e3, Number.POSITIVE_INFINITY]), i3 = null;
        return WI(t3).$t({ range: e3, index: IT.queryTargetsIndexName }, function(t4, e4, n3) {
          e4 = gI(e4);
          b_(r3, e4.target) && (i3 = e4, n3.done());
        }).next(function() {
          return i3;
        });
      }, BI.prototype.addMatchingKeys = function(n3, t3, r3) {
        var i3 = this, o3 = [], s3 = zI(n3);
        return t3.forEach(function(t4) {
          var e3 = hT(t4.path);
          o3.push(s3.put(new ET(r3, e3))), o3.push(i3.referenceDelegate.addReference(n3, r3, t4));
        }), xT.waitFor(o3);
      }, BI.prototype.removeMatchingKeys = function(n3, t3, r3) {
        var i3 = this, o3 = zI(n3);
        return xT.forEach(t3, function(t4) {
          var e3 = hT(t4.path);
          return xT.waitFor([o3.delete([r3, e3]), i3.referenceDelegate.removeReference(n3, r3, t4)]);
        });
      }, BI.prototype.removeMatchingKeysForTargetId = function(t3, e3) {
        t3 = zI(t3), e3 = IDBKeyRange.bound([e3], [e3 + 1], false, true);
        return t3.delete(e3);
      }, BI.prototype.getMatchingKeysForTargetId = function(t3, e3) {
        var e3 = IDBKeyRange.bound([e3], [e3 + 1], false, true), t3 = zI(t3), r3 = w0();
        return t3.$t({ range: e3, Ft: true }, function(t4, e4, n3) {
          t4 = fT(t4[1]), t4 = new $b(t4);
          r3 = r3.add(t4);
        }).next(function() {
          return r3;
        });
      }, BI.prototype.containsKey = function(t3, e3) {
        var e3 = hT(e3.path), e3 = IDBKeyRange.bound([e3], [Tb(e3)], false, true), i3 = 0;
        return zI(t3).$t({ index: ET.documentTargetsIndex, Ft: true, range: e3 }, function(t4, e4, n3) {
          var r3 = t4[0];
          t4[1], 0 !== r3 && (i3++, n3.done());
        }).next(function() {
          return 0 < i3;
        });
      }, BI.prototype.lt = function(t3, e3) {
        return WI(t3).get(e3).next(function(t4) {
          return t4 ? gI(t4) : null;
        });
      }, BI);
      function BI(t3, e3) {
        this.referenceDelegate = t3, this.R = e3;
      }
      function KI(t3) {
        this.Ht = t3;
      }
      function WI(t3) {
        return tI(t3, IT.store);
      }
      function HI(t3) {
        return tI(t3, ST.store);
      }
      function zI(t3) {
        return tI(t3, ET.store);
      }
      function GI(e3) {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            if (e3.code !== ab.FAILED_PRECONDITION || e3.message !== OT)
              throw e3;
            return fb("LocalStore", "Unexpectedly lost primary lease"), [2];
          });
        });
      }
      function QI(t3, e3) {
        var n3 = t3[0], r3 = t3[1], t3 = e3[0], e3 = e3[1], t3 = _b(n3, t3);
        return 0 === t3 ? _b(r3, e3) : t3;
      }
      var YI = (nE.prototype.ie = function() {
        return ++this.se;
      }, nE.prototype.re = function(t3) {
        var e3 = [t3, this.ie()];
        this.buffer.size < this.ne ? this.buffer = this.buffer.add(e3) : QI(e3, t3 = this.buffer.last()) < 0 && (this.buffer = this.buffer.delete(t3).add(e3));
      }, Object.defineProperty(nE.prototype, "maxValue", { get: function() {
        return this.buffer.last()[0];
      }, enumerable: false, configurable: true }), nE), XI = (eE.prototype.start = function(t3) {
        -1 !== this.garbageCollector.params.cacheSizeCollectionThreshold && this.ue(t3);
      }, eE.prototype.stop = function() {
        this.ce && (this.ce.cancel(), this.ce = null);
      }, Object.defineProperty(eE.prototype, "started", { get: function() {
        return null !== this.ce;
      }, enumerable: false, configurable: true }), eE.prototype.ue = function(n3) {
        var t3 = this, e3 = this.oe ? 3e5 : 6e4;
        fb("LruGarbageCollector", "Garbage collection scheduled in " + e3 + "ms"), this.ce = this.asyncQueue.enqueueAfterDelay("lru_garbage_collection", e3, function() {
          return Yi(t3, void 0, void 0, function() {
            var e4;
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  this.ce = null, this.oe = true, t4.label = 1;
                case 1:
                  return t4.trys.push([1, 3, , 7]), [4, n3.collectGarbage(this.garbageCollector)];
                case 2:
                  return t4.sent(), [3, 7];
                case 3:
                  return HT(e4 = t4.sent()) ? (fb("LruGarbageCollector", "Ignoring IndexedDB error during garbage collection: ", e4), [3, 6]) : [3, 4];
                case 4:
                  return [4, GI(e4)];
                case 5:
                  t4.sent(), t4.label = 6;
                case 6:
                  return [3, 7];
                case 7:
                  return [4, this.ue(n3)];
                case 8:
                  return t4.sent(), [2];
              }
            });
          });
        });
      }, eE), $I = (tE.prototype.calculateTargetCount = function(t3, e3) {
        return this.ae.he(t3).next(function(t4) {
          return Math.floor(e3 / 100 * t4);
        });
      }, tE.prototype.nthSequenceNumber = function(t3, e3) {
        var n3 = this;
        if (0 === e3)
          return xT.resolve(ib.o);
        var r3 = new YI(e3);
        return this.ae.forEachTarget(t3, function(t4) {
          return r3.re(t4.sequenceNumber);
        }).next(function() {
          return n3.ae.le(t3, function(t4) {
            return r3.re(t4);
          });
        }).next(function() {
          return r3.maxValue;
        });
      }, tE.prototype.removeTargets = function(t3, e3, n3) {
        return this.ae.removeTargets(t3, e3, n3);
      }, tE.prototype.removeOrphanedDocuments = function(t3, e3) {
        return this.ae.removeOrphanedDocuments(t3, e3);
      }, tE.prototype.collect = function(e3, n3) {
        var r3 = this;
        return -1 === this.params.cacheSizeCollectionThreshold ? (fb("LruGarbageCollector", "Garbage collection skipped; disabled"), xT.resolve(NI)) : this.getCacheSize(e3).next(function(t3) {
          return t3 < r3.params.cacheSizeCollectionThreshold ? (fb("LruGarbageCollector", "Garbage collection skipped; Cache size " + t3 + " is lower than threshold " + r3.params.cacheSizeCollectionThreshold), NI) : r3.fe(e3, n3);
        });
      }, tE.prototype.getCacheSize = function(t3) {
        return this.ae.getCacheSize(t3);
      }, tE.prototype.fe = function(e3, n3) {
        var r3, i3, o3, s3, a3, u3, c3, h3 = this, l3 = Date.now();
        return this.calculateTargetCount(e3, this.params.percentileToCollect).next(function(t3) {
          return i3 = t3 > h3.params.maximumSequenceNumbersToCollect ? (fb("LruGarbageCollector", "Capping sequence numbers to collect down to the maximum of " + h3.params.maximumSequenceNumbersToCollect + " from " + t3), h3.params.maximumSequenceNumbersToCollect) : t3, s3 = Date.now(), h3.nthSequenceNumber(e3, i3);
        }).next(function(t3) {
          return r3 = t3, a3 = Date.now(), h3.removeTargets(e3, r3, n3);
        }).next(function(t3) {
          return o3 = t3, u3 = Date.now(), h3.removeOrphanedDocuments(e3, r3);
        }).next(function(t3) {
          return c3 = Date.now(), lb() <= us.DEBUG && fb("LruGarbageCollector", "LRU Garbage Collection\n	Counted targets in " + (s3 - l3) + "ms\n	Determined least recently used " + i3 + " in " + (a3 - s3) + "ms\n	Removed " + o3 + " targets in " + (u3 - a3) + "ms\n	Removed " + t3 + " documents in " + (c3 - u3) + "ms\nTotal Duration: " + (c3 - l3) + "ms"), xT.resolve({ didRun: true, sequenceNumbersCollected: i3, targetsRemoved: o3, documentsRemoved: t3 });
        });
      }, tE), JI = (ZI.prototype.he = function(t3) {
        var n3 = this.de(t3);
        return this.db.getTargetCache().getTargetCount(t3).next(function(e3) {
          return n3.next(function(t4) {
            return e3 + t4;
          });
        });
      }, ZI.prototype.de = function(t3) {
        var e3 = 0;
        return this.le(t3, function(t4) {
          e3++;
        }).next(function() {
          return e3;
        });
      }, ZI.prototype.forEachTarget = function(t3, e3) {
        return this.db.getTargetCache().forEachTarget(t3, e3);
      }, ZI.prototype.le = function(t3, n3) {
        return this.we(t3, function(t4, e3) {
          return n3(e3);
        });
      }, ZI.prototype.addReference = function(t3, e3, n3) {
        return rE(t3, n3);
      }, ZI.prototype.removeReference = function(t3, e3, n3) {
        return rE(t3, n3);
      }, ZI.prototype.removeTargets = function(t3, e3, n3) {
        return this.db.getTargetCache().removeTargets(t3, e3, n3);
      }, ZI.prototype.markPotentiallyOrphaned = rE, ZI.prototype._e = function(t3, e3) {
        return r3 = e3, i3 = false, UI(n3 = t3).Ot(function(t4) {
          return MI(n3, t4, r3).next(function(t5) {
            return t5 && (i3 = true), xT.resolve(!t5);
          });
        }).next(function() {
          return i3;
        });
        var n3, r3, i3;
      }, ZI.prototype.removeOrphanedDocuments = function(n3, r3) {
        var i3 = this, o3 = this.db.getRemoteDocumentCache().newChangeBuffer(), s3 = [], a3 = 0;
        return this.we(n3, function(e3, t3) {
          t3 <= r3 && (t3 = i3._e(n3, e3).next(function(t4) {
            if (!t4)
              return a3++, o3.getEntry(n3, e3).next(function() {
                return o3.removeEntry(e3), zI(n3).delete([0, hT(e3.path)]);
              });
          }), s3.push(t3));
        }).next(function() {
          return xT.waitFor(s3);
        }).next(function() {
          return o3.apply(n3);
        }).next(function() {
          return a3;
        });
      }, ZI.prototype.removeTarget = function(t3, e3) {
        e3 = e3.withSequenceNumber(t3.currentSequenceNumber);
        return this.db.getTargetCache().updateTargetData(t3, e3);
      }, ZI.prototype.updateLimboDocument = rE, ZI.prototype.we = function(t3, r3) {
        var i3, t3 = zI(t3), o3 = ib.o;
        return t3.$t({ index: ET.documentTargetsIndex }, function(t4, e3) {
          var n3 = t4[0];
          t4[1];
          t4 = e3.path, e3 = e3.sequenceNumber;
          0 === n3 ? (o3 !== ib.o && r3(new $b(fT(i3)), o3), o3 = e3, i3 = t4) : o3 = ib.o;
        }).next(function() {
          o3 !== ib.o && r3(new $b(fT(i3)), o3);
        });
      }, ZI.prototype.getCacheSize = function(t3) {
        return this.db.getRemoteDocumentCache().getSize(t3);
      }, ZI);
      function ZI(t3, e3) {
        this.db = t3, this.garbageCollector = new $I(this, e3);
      }
      function tE(t3, e3) {
        this.ae = t3, this.params = e3;
      }
      function eE(t3, e3) {
        this.garbageCollector = t3, this.asyncQueue = e3, this.oe = false, this.ce = null;
      }
      function nE(t3) {
        this.ne = t3, this.buffer = new p0(QI), this.se = 0;
      }
      function rE(t3, e3) {
        return zI(t3).put((t3 = t3.currentSequenceNumber, new ET(0, hT(e3.path), t3)));
      }
      var iE, oE = (lE.prototype.get = function(t3) {
        var e3 = this.mapKeyFn(t3), e3 = this.inner[e3];
        if (void 0 !== e3)
          for (var n3 = 0, r3 = e3; n3 < r3.length; n3++) {
            var i3 = r3[n3], o3 = i3[0], i3 = i3[1];
            if (this.equalsFn(o3, t3))
              return i3;
          }
      }, lE.prototype.has = function(t3) {
        return void 0 !== this.get(t3);
      }, lE.prototype.set = function(t3, e3) {
        var n3 = this.mapKeyFn(t3), r3 = this.inner[n3];
        if (void 0 !== r3) {
          for (var i3 = 0; i3 < r3.length; i3++)
            if (this.equalsFn(r3[i3][0], t3))
              return void (r3[i3] = [t3, e3]);
          r3.push([t3, e3]);
        } else
          this.inner[n3] = [[t3, e3]];
      }, lE.prototype.delete = function(t3) {
        var e3 = this.mapKeyFn(t3), n3 = this.inner[e3];
        if (void 0 === n3)
          return false;
        for (var r3 = 0; r3 < n3.length; r3++)
          if (this.equalsFn(n3[r3][0], t3))
            return 1 === n3.length ? delete this.inner[e3] : n3.splice(r3, 1), true;
        return false;
      }, lE.prototype.forEach = function(s3) {
        Ab(this.inner, function(t3, e3) {
          for (var n3 = 0, r3 = e3; n3 < r3.length; n3++) {
            var i3 = r3[n3], o3 = i3[0], i3 = i3[1];
            s3(o3, i3);
          }
        });
      }, lE.prototype.isEmpty = function() {
        return Nb(this.inner);
      }, lE), Q = (hE.prototype.getReadTime = function(t3) {
        t3 = this.changes.get(t3);
        return t3 ? t3.readTime : Eb.min();
      }, hE.prototype.addEntry = function(t3, e3) {
        this.assertNotApplied(), this.changes.set(t3.key, { document: t3, readTime: e3 });
      }, hE.prototype.removeEntry = function(t3, e3) {
        void 0 === e3 && (e3 = null), this.assertNotApplied(), this.changes.set(t3, { document: d_.newInvalidDocument(t3), readTime: e3 });
      }, hE.prototype.getEntry = function(t3, e3) {
        this.assertNotApplied();
        var n3 = this.changes.get(e3);
        return void 0 !== n3 ? xT.resolve(n3.document) : this.getFromCache(t3, e3);
      }, hE.prototype.getEntries = function(t3, e3) {
        return this.getAllFromCache(t3, e3);
      }, hE.prototype.apply = function(t3) {
        return this.assertNotApplied(), this.changesApplied = true, this.applyChanges(t3);
      }, hE.prototype.assertNotApplied = function() {
      }, hE), sE = (cE.prototype.addEntry = function(t3, e3, n3) {
        return pE(t3).put(dE(e3), n3);
      }, cE.prototype.removeEntry = function(t3, e3) {
        t3 = pE(t3), e3 = dE(e3);
        return t3.delete(e3);
      }, cE.prototype.updateMetadata = function(e3, n3) {
        var r3 = this;
        return this.getMetadata(e3).next(function(t3) {
          return t3.byteSize += n3, r3.me(e3, t3);
        });
      }, cE.prototype.getEntry = function(t3, e3) {
        var n3 = this;
        return pE(t3).get(dE(e3)).next(function(t4) {
          return n3.ye(e3, t4);
        });
      }, cE.prototype.ge = function(t3, e3) {
        var n3 = this;
        return pE(t3).get(dE(e3)).next(function(t4) {
          return { document: n3.ye(e3, t4), size: DI(t4) };
        });
      }, cE.prototype.getEntries = function(t3, e3) {
        var n3 = this, r3 = g0;
        return this.pe(t3, e3, function(t4, e4) {
          e4 = n3.ye(t4, e4);
          r3 = r3.insert(t4, e4);
        }).next(function() {
          return r3;
        });
      }, cE.prototype.Ee = function(t3, e3) {
        var r3 = this, i3 = g0, o3 = new s0($b.comparator);
        return this.pe(t3, e3, function(t4, e4) {
          var n3 = r3.ye(t4, e4);
          i3 = i3.insert(t4, n3), o3 = o3.insert(t4, DI(e4));
        }).next(function() {
          return { documents: i3, Te: o3 };
        });
      }, cE.prototype.pe = function(t3, e3, i3) {
        if (e3.isEmpty())
          return xT.resolve();
        var n3 = IDBKeyRange.bound(e3.first().path.toArray(), e3.last().path.toArray()), o3 = e3.getIterator(), s3 = o3.getNext();
        return pE(t3).$t({ range: n3 }, function(t4, e4, n4) {
          for (var r3 = $b.fromSegments(t4); s3 && $b.comparator(s3, r3) < 0; )
            i3(s3, null), s3 = o3.getNext();
          s3 && s3.isEqual(r3) && (i3(s3, e4), s3 = o3.hasNext() ? o3.getNext() : null), s3 ? n4.Ct(s3.path.toArray()) : n4.done();
        }).next(function() {
          for (; s3; )
            i3(s3, null), s3 = o3.hasNext() ? o3.getNext() : null;
        });
      }, cE.prototype.getDocumentsMatchingQuery = function(t3, r3, e3) {
        var n3, i3 = this, o3 = g0, s3 = r3.path.length + 1, a3 = {};
        return e3.isEqual(Eb.min()) ? (n3 = r3.path.toArray(), a3.range = IDBKeyRange.lowerBound(n3)) : (n3 = r3.path.toArray(), e3 = hI(e3), a3.range = IDBKeyRange.lowerBound([n3, e3], true), a3.index = wT.collectionReadTimeIndex), pE(t3).$t(a3, function(t4, e4, n4) {
          t4.length === s3 && (e4 = uI(i3.R, e4), r3.path.isPrefixOf(e4.key.path) ? lw(r3, e4) && (o3 = o3.insert(e4.key, e4)) : n4.done());
        }).next(function() {
          return o3;
        });
      }, cE.prototype.newChangeBuffer = function(t3) {
        return new aE(this, !!t3 && t3.trackRemovals);
      }, cE.prototype.getSize = function(t3) {
        return this.getMetadata(t3).next(function(t4) {
          return t4.byteSize;
        });
      }, cE.prototype.getMetadata = function(t3) {
        return fE(t3).get(TT.key).next(function(t4) {
          return yb(!!t4), t4;
        });
      }, cE.prototype.me = function(t3, e3) {
        return fE(t3).put(TT.key, e3);
      }, cE.prototype.ye = function(t3, e3) {
        if (e3) {
          e3 = uI(this.R, e3);
          if (!e3.isNoDocument() || !e3.version.isEqual(Eb.min()))
            return e3;
        }
        return d_.newInvalidDocument(t3);
      }, cE), aE = (Gi(uE, iE = Q), uE.prototype.applyChanges = function(i3) {
        var o3 = this, s3 = [], a3 = 0, u3 = new p0(function(t3, e3) {
          return _b(t3.canonicalString(), e3.canonicalString());
        });
        return this.changes.forEach(function(t3, e3) {
          var n3, r3 = o3.Ae.get(t3);
          e3.document.isValidDocument() ? (n3 = cI(o3.Ie.R, e3.document, o3.getReadTime(t3)), u3 = u3.add(t3.path.popLast()), e3 = DI(n3), a3 += e3 - r3, s3.push(o3.Ie.addEntry(i3, t3, n3))) : (a3 -= r3, o3.trackRemovals ? (r3 = cI(o3.Ie.R, d_.newNoDocument(t3, Eb.min()), o3.getReadTime(t3)), s3.push(o3.Ie.addEntry(i3, t3, r3))) : s3.push(o3.Ie.removeEntry(i3, t3)));
        }), u3.forEach(function(t3) {
          s3.push(o3.Ie.Ut.addToCollectionParentIndex(i3, t3));
        }), s3.push(this.Ie.updateMetadata(i3, a3)), xT.waitFor(s3);
      }, uE.prototype.getFromCache = function(t3, e3) {
        var n3 = this;
        return this.Ie.ge(t3, e3).next(function(t4) {
          return n3.Ae.set(e3, t4.size), t4.document;
        });
      }, uE.prototype.getAllFromCache = function(t3, e3) {
        var n3 = this;
        return this.Ie.Ee(t3, e3).next(function(t4) {
          var e4 = t4.documents;
          return t4.Te.forEach(function(t5, e5) {
            n3.Ae.set(t5, e5);
          }), e4;
        });
      }, uE);
      function uE(t3, e3) {
        var n3 = this;
        return (n3 = iE.call(this) || this).Ie = t3, n3.trackRemovals = e3, n3.Ae = new oE(function(t4) {
          return t4.toString();
        }, function(t4, e4) {
          return t4.isEqual(e4);
        }), n3;
      }
      function cE(t3, e3) {
        this.R = t3, this.Ut = e3;
      }
      function hE() {
        this.changes = new oE(function(t3) {
          return t3.toString();
        }, function(t3, e3) {
          return t3.isEqual(e3);
        }), this.changesApplied = false;
      }
      function lE(t3, e3) {
        this.mapKeyFn = t3, this.equalsFn = e3, this.inner = {};
      }
      function fE(t3) {
        return tI(t3, TT.store);
      }
      function pE(t3) {
        return tI(t3, wT.store);
      }
      function dE(t3) {
        return t3.path.toArray();
      }
      var gE = (vE.prototype.Rt = function(e3, n3, t3, r3) {
        var i3 = this;
        yb(t3 < r3 && 0 <= t3 && r3 <= 11);
        var o3 = new LT("createOrUpgrade", n3);
        t3 < 1 && 1 <= r3 && (e3.createObjectStore(pT.store), (s3 = e3).createObjectStore(gT.store, { keyPath: gT.keyPath }), s3.createObjectStore(vT.store, { keyPath: vT.keyPath, autoIncrement: true }).createIndex(vT.userMutationsIndex, vT.userMutationsKeyPath, { unique: true }), s3.createObjectStore(yT.store), yE(e3), e3.createObjectStore(wT.store));
        var s3, a3 = xT.resolve();
        return t3 < 3 && 3 <= r3 && (0 !== t3 && ((s3 = e3).deleteObjectStore(ET.store), s3.deleteObjectStore(IT.store), s3.deleteObjectStore(ST.store), yE(e3)), a3 = a3.next(function() {
          return t4 = o3.store(ST.store), e4 = new ST(0, 0, Eb.min().toTimestamp(), 0), t4.put(ST.key, e4);
          var t4, e4;
        })), t3 < 4 && 4 <= r3 && (a3 = (a3 = 0 !== t3 ? a3.next(function() {
          return n4 = e3, (r4 = o3).store(vT.store).Nt().next(function(t4) {
            n4.deleteObjectStore(vT.store), n4.createObjectStore(vT.store, { keyPath: vT.keyPath, autoIncrement: true }).createIndex(vT.userMutationsIndex, vT.userMutationsKeyPath, { unique: true });
            var e4 = r4.store(vT.store), t4 = t4.map(function(t5) {
              return e4.put(t5);
            });
            return xT.waitFor(t4);
          });
          var n4, r4;
        }) : a3).next(function() {
          e3.createObjectStore(CT.store, { keyPath: CT.keyPath });
        })), t3 < 5 && 5 <= r3 && (a3 = a3.next(function() {
          return i3.Re(o3);
        })), t3 < 6 && 6 <= r3 && (a3 = a3.next(function() {
          return e3.createObjectStore(TT.store), i3.be(o3);
        })), t3 < 7 && 7 <= r3 && (a3 = a3.next(function() {
          return i3.ve(o3);
        })), t3 < 8 && 8 <= r3 && (a3 = a3.next(function() {
          return i3.Pe(e3, o3);
        })), t3 < 9 && 9 <= r3 && (a3 = a3.next(function() {
          var t4;
          (t4 = e3).objectStoreNames.contains("remoteDocumentChanges") && t4.deleteObjectStore("remoteDocumentChanges"), (t4 = n3.objectStore(wT.store)).createIndex(wT.readTimeIndex, wT.readTimeIndexPath, { unique: false }), t4.createIndex(wT.collectionReadTimeIndex, wT.collectionReadTimeIndexPath, { unique: false });
        })), t3 < 10 && 10 <= r3 && (a3 = a3.next(function() {
          return i3.Ve(o3);
        })), a3 = t3 < 11 && 11 <= r3 ? a3.next(function() {
          e3.createObjectStore(AT.store, { keyPath: AT.keyPath }), e3.createObjectStore(NT.store, { keyPath: NT.keyPath });
        }) : a3;
      }, vE.prototype.be = function(e3) {
        var n3 = 0;
        return e3.store(wT.store).$t(function(t3, e4) {
          n3 += DI(e4);
        }).next(function() {
          var t3 = new TT(n3);
          return e3.store(TT.store).put(TT.key, t3);
        });
      }, vE.prototype.Re = function(n3) {
        var r3 = this, t3 = n3.store(gT.store), i3 = n3.store(vT.store);
        return t3.Nt().next(function(t4) {
          return xT.forEach(t4, function(e3) {
            var t5 = IDBKeyRange.bound([e3.userId, -1], [e3.userId, e3.lastAcknowledgedBatchId]);
            return i3.Nt(vT.userMutationsIndex, t5).next(function(t6) {
              return xT.forEach(t6, function(t7) {
                yb(t7.userId === e3.userId);
                t7 = dI(r3.R, t7);
                return OI(n3, e3.userId, t7).next(function() {
                });
              });
            });
          });
        });
      }, vE.prototype.ve = function(t3) {
        var o3 = t3.store(ET.store), e3 = t3.store(wT.store);
        return t3.store(ST.store).get(ST.key).next(function(r3) {
          var i3 = [];
          return e3.$t(function(t4, e4) {
            var n3 = new Ob(t4), t4 = [0, hT(n3)];
            i3.push(o3.get(t4).next(function(t5) {
              return t5 ? xT.resolve() : o3.put(new ET(0, hT(n3), r3.highestListenSequenceNumber));
            }));
          }).next(function() {
            return xT.waitFor(i3);
          });
        });
      }, vE.prototype.Pe = function(t3, e3) {
        t3.createObjectStore(kT.store, { keyPath: kT.keyPath });
        function r3(t4) {
          if (i3.add(t4)) {
            var e4 = t4.lastSegment(), t4 = t4.popLast();
            return n3.put({ collectionId: e4, parent: hT(t4) });
          }
        }
        var n3 = e3.store(kT.store), i3 = new II();
        return e3.store(wT.store).$t({ Ft: true }, function(t4, e4) {
          t4 = new Ob(t4);
          return r3(t4.popLast());
        }).next(function() {
          return e3.store(yT.store).$t({ Ft: true }, function(t4, e4) {
            t4[0];
            var n4 = t4[1];
            t4[2];
            n4 = fT(n4);
            return r3(n4.popLast());
          });
        });
      }, vE.prototype.Ve = function(t3) {
        var n3 = this, r3 = t3.store(IT.store);
        return r3.$t(function(t4, e3) {
          e3 = gI(e3), e3 = vI(n3.R, e3);
          return r3.put(e3);
        });
      }, vE);
      function vE(t3) {
        this.R = t3;
      }
      function yE(t3) {
        t3.createObjectStore(ET.store, { keyPath: ET.keyPath }).createIndex(ET.documentTargetsIndex, ET.documentTargetsKeyPath, { unique: true }), t3.createObjectStore(IT.store, { keyPath: IT.keyPath }).createIndex(IT.queryTargetsIndexName, IT.queryTargetsKeyPath, { unique: true }), t3.createObjectStore(ST.store);
      }
      var mE = "Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.", bE = (_E.prototype.start = function() {
        var e3 = this;
        return this.je().then(function() {
          if (!e3.isPrimary && !e3.allowTabSynchronization)
            throw new ub(ab.FAILED_PRECONDITION, mE);
          return e3.We(), e3.Ge(), e3.ze(), e3.runTransaction("getHighestListenSequenceNumber", "readonly", function(t3) {
            return e3.qe.getHighestSequenceNumber(t3);
          });
        }).then(function(t3) {
          e3.Ne = new ib(t3, e3.De);
        }).then(function() {
          e3.xe = true;
        }).catch(function(t3) {
          return e3.Be && e3.Be.close(), Promise.reject(t3);
        });
      }, _E.prototype.He = function(n3) {
        var t3 = this;
        return this.Me = function(e3) {
          return Yi(t3, void 0, void 0, function() {
            return Xi(this, function(t4) {
              return this.started ? [2, n3(e3)] : [2];
            });
          });
        }, n3(this.isPrimary);
      }, _E.prototype.setDatabaseDeletedListener = function(n3) {
        var t3 = this;
        this.Be.vt(function(e3) {
          return Yi(t3, void 0, void 0, function() {
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return null === e3.newVersion ? [4, n3()] : [3, 2];
                case 1:
                  t4.sent(), t4.label = 2;
                case 2:
                  return [2];
              }
            });
          });
        });
      }, _E.prototype.setNetworkEnabled = function(t3) {
        var e3 = this;
        this.networkEnabled !== t3 && (this.networkEnabled = t3, this.Se.enqueueAndForget(function() {
          return Yi(e3, void 0, void 0, function() {
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return this.started ? [4, this.je()] : [3, 2];
                case 1:
                  t4.sent(), t4.label = 2;
                case 2:
                  return [2];
              }
            });
          });
        }));
      }, _E.prototype.je = function() {
        var n3 = this;
        return this.runTransaction("updateClientMetadataAndTryBecomePrimary", "readwrite", function(e3) {
          return TE(e3).put(new CT(n3.clientId, Date.now(), n3.networkEnabled, n3.inForeground)).next(function() {
            if (n3.isPrimary)
              return n3.Je(e3).next(function(t3) {
                t3 || (n3.isPrimary = false, n3.Se.enqueueRetryable(function() {
                  return n3.Me(false);
                }));
              });
          }).next(function() {
            return n3.Ye(e3);
          }).next(function(t3) {
            return n3.isPrimary && !t3 ? n3.Xe(e3).next(function() {
              return false;
            }) : !!t3 && n3.Ze(e3).next(function() {
              return true;
            });
          });
        }).catch(function(t3) {
          if (HT(t3))
            return fb("IndexedDbPersistence", "Failed to extend owner lease: ", t3), n3.isPrimary;
          if (!n3.allowTabSynchronization)
            throw t3;
          return fb("IndexedDbPersistence", "Releasing owner lease after error during lease refresh", t3), false;
        }).then(function(t3) {
          n3.isPrimary !== t3 && n3.Se.enqueueRetryable(function() {
            return n3.Me(t3);
          }), n3.isPrimary = t3;
        });
      }, _E.prototype.Je = function(t3) {
        var e3 = this;
        return wE(t3).get(pT.key).next(function(t4) {
          return xT.resolve(e3.tn(t4));
        });
      }, _E.prototype.en = function(t3) {
        return TE(t3).delete(this.clientId);
      }, _E.prototype.nn = function() {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3, i3, o3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return !this.isPrimary || this.sn(this.Oe, 18e5) ? [3, 2] : (this.Oe = Date.now(), [4, this.runTransaction("maybeGarbageCollectMultiClientState", "readwrite-primary", function(t4) {
                  var r4 = tI(t4, CT.store);
                  return r4.Nt().next(function(t5) {
                    var e4 = o3.rn(t5, 18e5), n4 = t5.filter(function(t6) {
                      return -1 === e4.indexOf(t6);
                    });
                    return xT.forEach(n4, function(t6) {
                      return r4.delete(t6.clientId);
                    }).next(function() {
                      return n4;
                    });
                  });
                }).catch(function() {
                  return [];
                })]);
              case 1:
                if (e3 = t3.sent(), this.Qe)
                  for (n3 = 0, r3 = e3; n3 < r3.length; n3++)
                    i3 = r3[n3], this.Qe.removeItem(this.on(i3.clientId));
                t3.label = 2;
              case 2:
                return [2];
            }
          });
        });
      }, _E.prototype.ze = function() {
        var t3 = this;
        this.$e = this.Se.enqueueAfterDelay("client_metadata_refresh", 4e3, function() {
          return t3.je().then(function() {
            return t3.nn();
          }).then(function() {
            return t3.ze();
          });
        });
      }, _E.prototype.tn = function(t3) {
        return !!t3 && t3.ownerId === this.clientId;
      }, _E.prototype.Ye = function(e3) {
        var r3 = this;
        return this.Ce ? xT.resolve(true) : wE(e3).get(pT.key).next(function(t3) {
          if (null !== t3 && r3.sn(t3.leaseTimestampMs, 5e3) && !r3.cn(t3.ownerId)) {
            if (r3.tn(t3) && r3.networkEnabled)
              return true;
            if (!r3.tn(t3)) {
              if (!t3.allowTabSynchronization)
                throw new ub(ab.FAILED_PRECONDITION, mE);
              return false;
            }
          }
          return !(!r3.networkEnabled || !r3.inForeground) || TE(e3).Nt().next(function(t4) {
            return void 0 === r3.rn(t4, 5e3).find(function(t5) {
              if (r3.clientId !== t5.clientId) {
                var e4 = !r3.networkEnabled && t5.networkEnabled, n3 = !r3.inForeground && t5.inForeground, t5 = r3.networkEnabled === t5.networkEnabled;
                if (e4 || n3 && t5)
                  return true;
              }
              return false;
            });
          });
        }).next(function(t3) {
          return r3.isPrimary !== t3 && fb("IndexedDbPersistence", "Client " + (t3 ? "is" : "is not") + " eligible for a primary lease."), t3;
        });
      }, _E.prototype.shutdown = function() {
        return Yi(this, void 0, void 0, function() {
          var n3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return this.xe = false, this.un(), this.$e && (this.$e.cancel(), this.$e = null), this.an(), this.hn(), [4, this.Be.runTransaction("shutdown", "readwrite", [pT.store, CT.store], function(t4) {
                  var e3 = new JT(t4, ib.o);
                  return n3.Xe(e3).next(function() {
                    return n3.en(e3);
                  });
                })];
              case 1:
                return t3.sent(), this.Be.close(), this.ln(), [2];
            }
          });
        });
      }, _E.prototype.rn = function(t3, e3) {
        var n3 = this;
        return t3.filter(function(t4) {
          return n3.sn(t4.updateTimeMs, e3) && !n3.cn(t4.clientId);
        });
      }, _E.prototype.fn = function() {
        var e3 = this;
        return this.runTransaction("getActiveClients", "readonly", function(t3) {
          return TE(t3).Nt().next(function(t4) {
            return e3.rn(t4, 18e5).map(function(t5) {
              return t5.clientId;
            });
          });
        });
      }, Object.defineProperty(_E.prototype, "started", { get: function() {
        return this.xe;
      }, enumerable: false, configurable: true }), _E.prototype.getMutationQueue = function(t3) {
        return xI.Qt(t3, this.R, this.Ut, this.referenceDelegate);
      }, _E.prototype.getTargetCache = function() {
        return this.qe;
      }, _E.prototype.getRemoteDocumentCache = function() {
        return this.Ue;
      }, _E.prototype.getIndexManager = function() {
        return this.Ut;
      }, _E.prototype.getBundleCache = function() {
        return this.Ke;
      }, _E.prototype.runTransaction = function(e3, n3, r3) {
        var i3, o3 = this;
        return fb("IndexedDbPersistence", "Starting transaction:", e3), this.Be.runTransaction(e3, "readonly" === n3 ? "readonly" : "readwrite", PT, function(t3) {
          return i3 = new JT(t3, o3.Ne ? o3.Ne.next() : ib.o), "readwrite-primary" === n3 ? o3.Je(i3).next(function(t4) {
            return !!t4 || o3.Ye(i3);
          }).next(function(t4) {
            if (!t4)
              throw pb("Failed to obtain primary lease for action '" + e3 + "'."), o3.isPrimary = false, o3.Se.enqueueRetryable(function() {
                return o3.Me(false);
              }), new ub(ab.FAILED_PRECONDITION, OT);
            return r3(i3);
          }).next(function(t4) {
            return o3.Ze(i3).next(function() {
              return t4;
            });
          }) : o3.dn(i3).next(function() {
            return r3(i3);
          });
        }).then(function(t3) {
          return i3.raiseOnCommittedEvent(), t3;
        });
      }, _E.prototype.dn = function(t3) {
        var e3 = this;
        return wE(t3).get(pT.key).next(function(t4) {
          if (null !== t4 && e3.sn(t4.leaseTimestampMs, 5e3) && !e3.cn(t4.ownerId) && !e3.tn(t4) && !(e3.Ce || e3.allowTabSynchronization && t4.allowTabSynchronization))
            throw new ub(ab.FAILED_PRECONDITION, mE);
        });
      }, _E.prototype.Ze = function(t3) {
        var e3 = new pT(this.clientId, this.allowTabSynchronization, Date.now());
        return wE(t3).put(pT.key, e3);
      }, _E.yt = function() {
        return MT.yt();
      }, _E.prototype.Xe = function(t3) {
        var e3 = this, n3 = wE(t3);
        return n3.get(pT.key).next(function(t4) {
          return e3.tn(t4) ? (fb("IndexedDbPersistence", "Releasing primary lease."), n3.delete(pT.key)) : xT.resolve();
        });
      }, _E.prototype.sn = function(t3, e3) {
        var n3 = Date.now();
        return !(t3 < n3 - e3 || n3 < t3 && (pb("Detected an update time that is in the future: " + t3 + " > " + n3), 1));
      }, _E.prototype.We = function() {
        var t3 = this;
        null !== this.document && "function" == typeof this.document.addEventListener && (this.Fe = function() {
          t3.Se.enqueueAndForget(function() {
            return t3.inForeground = "visible" === t3.document.visibilityState, t3.je();
          });
        }, this.document.addEventListener("visibilitychange", this.Fe), this.inForeground = "visible" === this.document.visibilityState);
      }, _E.prototype.an = function() {
        this.Fe && (this.document.removeEventListener("visibilitychange", this.Fe), this.Fe = null);
      }, _E.prototype.Ge = function() {
        var t3, e3 = this;
        "function" == typeof (null === (t3 = this.window) || void 0 === t3 ? void 0 : t3.addEventListener) && (this.ke = function() {
          e3.un(), !vo() && navigator.userAgent.includes("Safari") && !navigator.userAgent.includes("Chrome") && navigator.appVersion.match("Version/14") && e3.Se.enterRestrictedMode(true), e3.Se.enqueueAndForget(function() {
            return e3.shutdown();
          });
        }, this.window.addEventListener("pagehide", this.ke));
      }, _E.prototype.hn = function() {
        this.ke && (this.window.removeEventListener("pagehide", this.ke), this.ke = null);
      }, _E.prototype.cn = function(t3) {
        var e3;
        try {
          var n3 = null !== (null === (e3 = this.Qe) || void 0 === e3 ? void 0 : e3.getItem(this.on(t3)));
          return fb("IndexedDbPersistence", "Client '" + t3 + "' " + (n3 ? "is" : "is not") + " zombied in LocalStorage"), n3;
        } catch (t4) {
          return pb("IndexedDbPersistence", "Failed to get zombied client id.", t4), false;
        }
      }, _E.prototype.un = function() {
        if (this.Qe)
          try {
            this.Qe.setItem(this.on(this.clientId), String(Date.now()));
          } catch (t3) {
            pb("Failed to set zombie client id.", t3);
          }
      }, _E.prototype.ln = function() {
        if (this.Qe)
          try {
            this.Qe.removeItem(this.on(this.clientId));
          } catch (t3) {
          }
      }, _E.prototype.on = function(t3) {
        return "firestore_zombie_" + this.persistenceKey + "_" + t3;
      }, _E);
      function _E(t3, e3, n3, r3, i3, o3, s3, a3, u3, c3) {
        if (this.allowTabSynchronization = t3, this.persistenceKey = e3, this.clientId = n3, this.Se = i3, this.window = o3, this.document = s3, this.De = u3, this.Ce = c3, this.Ne = null, this.xe = false, this.isPrimary = false, this.networkEnabled = true, this.ke = null, this.inForeground = false, this.Fe = null, this.$e = null, this.Oe = Number.NEGATIVE_INFINITY, this.Me = function(t4) {
          return Promise.resolve();
        }, !_E.yt())
          throw new ub(ab.UNIMPLEMENTED, "This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");
        this.referenceDelegate = new JI(this, r3), this.Le = e3 + "main", this.R = new iI(a3), this.Be = new MT(this.Le, 11, new gE(this.R)), this.qe = new VI(this.referenceDelegate, this.R), this.Ut = new EI(), this.Ue = (e3 = this.R, a3 = this.Ut, new sE(e3, a3)), this.Ke = new mI(), this.window && this.window.localStorage ? this.Qe = this.window.localStorage : (this.Qe = null, false === c3 && pb("IndexedDbPersistence", "LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."));
      }
      function wE(t3) {
        return tI(t3, pT.store);
      }
      function TE(t3) {
        return tI(t3, CT.store);
      }
      function IE(t3, e3) {
        var n3 = t3.projectId;
        return t3.isDefaultDatabase || (n3 += "." + t3.database), "firestore/" + e3 + "/" + n3 + "/";
      }
      function EE(t3, e3) {
        this.progress = t3, this.wn = e3;
      }
      var SE = (OE.prototype.mn = function(e3, n3) {
        var r3 = this;
        return this._n.getAllMutationBatchesAffectingDocumentKey(e3, n3).next(function(t3) {
          return r3.yn(e3, n3, t3);
        });
      }, OE.prototype.yn = function(t3, e3, r3) {
        return this.Ue.getEntry(t3, e3).next(function(t4) {
          for (var e4 = 0, n3 = r3; e4 < n3.length; e4++)
            n3[e4].applyToLocalView(t4);
          return t4;
        });
      }, OE.prototype.gn = function(t3, i3) {
        t3.forEach(function(t4, e3) {
          for (var n3 = 0, r3 = i3; n3 < r3.length; n3++)
            r3[n3].applyToLocalView(e3);
        });
      }, OE.prototype.pn = function(e3, t3) {
        var n3 = this;
        return this.Ue.getEntries(e3, t3).next(function(t4) {
          return n3.En(e3, t4).next(function() {
            return t4;
          });
        });
      }, OE.prototype.En = function(t3, e3) {
        var n3 = this;
        return this._n.getAllMutationBatchesAffectingDocumentKeys(t3, e3).next(function(t4) {
          return n3.gn(e3, t4);
        });
      }, OE.prototype.getDocumentsMatchingQuery = function(t3, e3, n3) {
        return r3 = e3, $b.isDocumentKey(r3.path) && null === r3.collectionGroup && 0 === r3.filters.length ? this.Tn(t3, e3.path) : iw(e3) ? this.In(t3, e3, n3) : this.An(t3, e3, n3);
        var r3;
      }, OE.prototype.Tn = function(t3, e3) {
        return this.mn(t3, new $b(e3)).next(function(t4) {
          var e4 = m0;
          return e4 = t4.isFoundDocument() ? e4.insert(t4.key, t4) : e4;
        });
      }, OE.prototype.In = function(n3, r3, i3) {
        var o3 = this, s3 = r3.collectionGroup, a3 = m0;
        return this.Ut.getCollectionParents(n3, s3).next(function(t3) {
          return xT.forEach(t3, function(t4) {
            var e3, e3 = (e3 = r3, t4 = t4.child(s3), new $_(t4, null, e3.explicitOrderBy.slice(), e3.filters.slice(), e3.limit, e3.limitType, e3.startAt, e3.endAt));
            return o3.An(n3, e3, i3).next(function(t5) {
              t5.forEach(function(t6, e4) {
                a3 = a3.insert(t6, e4);
              });
            });
          }).next(function() {
            return a3;
          });
        });
      }, OE.prototype.An = function(e3, n3, t3) {
        var c3, h3, r3 = this;
        return this.Ue.getDocumentsMatchingQuery(e3, n3, t3).next(function(t4) {
          return c3 = t4, r3._n.getAllMutationBatchesAffectingQuery(e3, n3);
        }).next(function(t4) {
          return h3 = t4, r3.Rn(e3, h3, c3).next(function(t5) {
            c3 = t5;
            for (var e4 = 0, n4 = h3; e4 < n4.length; e4++)
              for (var r4 = n4[e4], i3 = 0, o3 = r4.mutations; i3 < o3.length; i3++) {
                var s3 = o3[i3], a3 = s3.key, u3 = c3.get(a3);
                null == u3 && (u3 = d_.newInvalidDocument(a3), c3 = c3.insert(a3, u3)), jw(s3, u3, r4.localWriteTime), u3.isFoundDocument() || (c3 = c3.remove(a3));
              }
          });
        }).next(function() {
          return c3.forEach(function(t4, e4) {
            lw(n3, e4) || (c3 = c3.remove(t4));
          }), c3;
        });
      }, OE.prototype.Rn = function(t3, e3, n3) {
        for (var r3 = w0(), i3 = 0, o3 = e3; i3 < o3.length; i3++)
          for (var s3 = 0, a3 = o3[i3].mutations; s3 < a3.length; s3++) {
            var u3 = a3[s3];
            u3 instanceof Ww && null === n3.get(u3.key) && (r3 = r3.add(u3.key));
          }
        var c3 = n3;
        return this.Ue.getEntries(t3, r3).next(function(t4) {
          return t4.forEach(function(t5, e4) {
            e4.isFoundDocument() && (c3 = c3.insert(t5, e4));
          }), c3;
        });
      }, OE), kE = (PE.Pn = function(t3, e3) {
        for (var n3 = w0(), r3 = w0(), i3 = 0, o3 = e3.docChanges; i3 < o3.length; i3++) {
          var s3 = o3[i3];
          switch (s3.type) {
            case 0:
              n3 = n3.add(s3.doc.key);
              break;
            case 1:
              r3 = r3.add(s3.doc.key);
          }
        }
        return new PE(t3, e3.fromCache, n3, r3);
      }, PE), CE = (RE.prototype.Vn = function(t3) {
        this.Sn = t3;
      }, RE.prototype.getDocumentsMatchingQuery = function(e3, r3, i3, o3) {
        var s3 = this;
        return 0 === r3.filters.length && null === r3.limit && null == r3.startAt && null == r3.endAt && (0 === r3.explicitOrderBy.length || 1 === r3.explicitOrderBy.length && r3.explicitOrderBy[0].field.isKeyField()) || i3.isEqual(Eb.min()) ? this.Dn(e3, r3) : this.Sn.pn(e3, o3).next(function(t3) {
          var n3 = s3.Cn(r3, t3);
          return (tw(r3) || ew(r3)) && s3.Nn(r3.limitType, n3, o3, i3) ? s3.Dn(e3, r3) : (lb() <= us.DEBUG && fb("QueryEngine", "Re-using previous result from %s to execute query: %s", i3.toString(), hw(r3)), s3.Sn.getDocumentsMatchingQuery(e3, r3, i3).next(function(e4) {
            return n3.forEach(function(t4) {
              e4 = e4.insert(t4.key, t4);
            }), e4;
          }));
        });
      }, RE.prototype.Cn = function(n3, t3) {
        var r3 = new p0(fw(n3));
        return t3.forEach(function(t4, e3) {
          lw(n3, e3) && (r3 = r3.add(e3));
        }), r3;
      }, RE.prototype.Nn = function(t3, e3, n3, r3) {
        if (n3.size !== e3.size)
          return true;
        e3 = "F" === t3 ? e3.last() : e3.first();
        return !!e3 && (e3.hasPendingWrites || 0 < e3.version.compareTo(r3));
      }, RE.prototype.Dn = function(t3, e3) {
        return lb() <= us.DEBUG && fb("QueryEngine", "Using full collection scan to execute query:", hw(e3)), this.Sn.getDocumentsMatchingQuery(t3, e3, Eb.min());
      }, RE), AE = (NE.prototype.collectGarbage = function(e3) {
        var n3 = this;
        return this.persistence.runTransaction("Collect garbage", "readwrite-primary", function(t3) {
          return e3.collect(t3, n3.kn);
        });
      }, NE);
      function NE(t3, e3, n3, r3) {
        this.persistence = t3, this.xn = e3, this.R = r3, this.kn = new s0(_b), this.Fn = new oE(m_, b_), this.$n = Eb.min(), this._n = t3.getMutationQueue(n3), this.On = t3.getRemoteDocumentCache(), this.qe = t3.getTargetCache(), this.Mn = new SE(this.On, this._n, this.persistence.getIndexManager()), this.Ke = t3.getBundleCache(), this.xn.Vn(this.Mn);
      }
      function RE() {
      }
      function PE(t3, e3, n3, r3) {
        this.targetId = t3, this.fromCache = e3, this.bn = n3, this.vn = r3;
      }
      function OE(t3, e3, n3) {
        this.Ue = t3, this._n = e3, this.Ut = n3;
      }
      function DE(t3, e3, n3, r3) {
        return new AE(t3, e3, n3, r3);
      }
      function xE(i3, o3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, m3, r3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return n3 = (e3 = i3)._n, m3 = e3.Mn, [4, e3.persistence.runTransaction("Handle user change", "readonly", function(v3) {
                  var y3;
                  return e3._n.getAllMutationBatches(v3).next(function(t4) {
                    return y3 = t4, n3 = e3.persistence.getMutationQueue(o3), m3 = new SE(e3.On, n3, e3.persistence.getIndexManager()), n3.getAllMutationBatches(v3);
                  }).next(function(t4) {
                    for (var e4 = [], n4 = [], r4 = w0(), i4 = 0, o4 = y3; i4 < o4.length; i4++) {
                      var s3 = o4[i4];
                      e4.push(s3.batchId);
                      for (var a3 = 0, u3 = s3.mutations; a3 < u3.length; a3++)
                        var c3 = u3[a3], r4 = r4.add(c3.key);
                    }
                    for (var h3 = 0, l3 = t4; h3 < l3.length; h3++) {
                      var f3 = l3[h3];
                      n4.push(f3.batchId);
                      for (var p3 = 0, d3 = f3.mutations; p3 < d3.length; p3++) {
                        var g3 = d3[p3];
                        r4 = r4.add(g3.key);
                      }
                    }
                    return m3.pn(v3, r4).next(function(t5) {
                      return { Ln: t5, removedBatchIds: e4, addedBatchIds: n4 };
                    });
                  });
                })];
              case 1:
                return r3 = t3.sent(), [2, (e3._n = n3, e3.Mn = m3, e3.xn.Vn(e3.Mn), r3)];
            }
          });
        });
      }
      function LE(t3, h3) {
        var l3 = t3;
        return l3.persistence.runTransaction("Acknowledge batch", "readwrite-primary", function(t4) {
          var e3, r3, i3, o3, s3, n3, a3, u3 = h3.batch.keys(), c3 = l3.On.newChangeBuffer({ trackRemovals: true });
          return e3 = l3, r3 = t4, o3 = c3, s3 = (i3 = h3).batch, n3 = s3.keys(), a3 = xT.resolve(), n3.forEach(function(n4) {
            a3 = a3.next(function() {
              return o3.getEntry(r3, n4);
            }).next(function(t5) {
              var e4 = i3.docVersions.get(n4);
              yb(null !== e4), t5.version.compareTo(e4) < 0 && (s3.applyToRemoteDocument(t5, i3), t5.isValidDocument() && o3.addEntry(t5, i3.commitVersion));
            });
          }), a3.next(function() {
            return e3._n.removeMutationBatch(r3, s3);
          }).next(function() {
            return c3.apply(t4);
          }).next(function() {
            return l3._n.performConsistencyCheck(t4);
          }).next(function() {
            return l3.Mn.pn(t4, u3);
          });
        });
      }
      function ME(t3) {
        var e3 = t3;
        return e3.persistence.runTransaction("Get last remote snapshot version", "readonly", function(t4) {
          return e3.qe.getLastRemoteSnapshotVersion(t4);
        });
      }
      function FE(t3, r3) {
        var u3 = t3, c3 = r3.snapshotVersion, h3 = u3.kn;
        return u3.persistence.runTransaction("Apply remote event", "readwrite-primary", function(s3) {
          var t4 = u3.On.newChangeBuffer({ trackRemovals: true });
          h3 = u3.kn;
          var a3 = [];
          r3.targetChanges.forEach(function(t5, e4) {
            var n4, r4, i3, o3 = h3.get(e4);
            o3 && (a3.push(u3.qe.removeMatchingKeys(s3, t5.removedDocuments, e4).next(function() {
              return u3.qe.addMatchingKeys(s3, t5.addedDocuments, e4);
            })), 0 < (i3 = t5.resumeToken).approximateByteSize() && (n4 = o3.withResumeToken(i3, c3).withSequenceNumber(s3.currentSequenceNumber), h3 = h3.insert(e4, n4), r4 = o3, i3 = t5, yb(0 < (o3 = n4).resumeToken.approximateByteSize()), (0 === r4.resumeToken.approximateByteSize() || 3e8 <= o3.snapshotVersion.toMicroseconds() - r4.snapshotVersion.toMicroseconds() || 0 < i3.addedDocuments.size + i3.modifiedDocuments.size + i3.removedDocuments.size) && a3.push(u3.qe.updateTargetData(s3, n4))));
          });
          var e3, n3 = g0;
          return r3.documentUpdates.forEach(function(t5, e4) {
            r3.resolvedLimboDocuments.has(t5) && a3.push(u3.persistence.referenceDelegate.updateLimboDocument(s3, t5));
          }), a3.push(jE(s3, t4, r3.documentUpdates, c3, void 0).next(function(t5) {
            n3 = t5;
          })), c3.isEqual(Eb.min()) || (e3 = u3.qe.getLastRemoteSnapshotVersion(s3).next(function(t5) {
            return u3.qe.setTargetsMetadata(s3, s3.currentSequenceNumber, c3);
          }), a3.push(e3)), xT.waitFor(a3).next(function() {
            return t4.apply(s3);
          }).next(function() {
            return u3.Mn.En(s3, n3);
          }).next(function() {
            return n3;
          });
        }).then(function(t4) {
          return u3.kn = h3, t4;
        });
      }
      function jE(t3, s3, e3, a3, u3) {
        var n3 = w0();
        return e3.forEach(function(t4) {
          return n3 = n3.add(t4);
        }), s3.getEntries(t3, n3).next(function(i3) {
          var o3 = g0;
          return e3.forEach(function(t4, e4) {
            var n4 = i3.get(t4), r3 = (null == u3 ? void 0 : u3.get(t4)) || a3;
            e4.isNoDocument() && e4.version.isEqual(Eb.min()) ? (s3.removeEntry(t4, r3), o3 = o3.insert(t4, e4)) : !n4.isValidDocument() || 0 < e4.version.compareTo(n4.version) || 0 === e4.version.compareTo(n4.version) && n4.hasPendingWrites ? (s3.addEntry(e4, r3), o3 = o3.insert(t4, e4)) : fb("LocalStore", "Ignoring outdated watch update for ", t4, ". Current version:", n4.version, " Watch version:", e4.version);
          }), o3;
        });
      }
      function UE(t3, r3) {
        var i3 = t3;
        return i3.persistence.runTransaction("Allocate target", "readwrite", function(e3) {
          var n3;
          return i3.qe.getTargetData(e3, r3).next(function(t4) {
            return t4 ? (n3 = t4, xT.resolve(n3)) : i3.qe.allocateTargetId(e3).next(function(t5) {
              return n3 = new rI(r3, t5, 0, e3.currentSequenceNumber), i3.qe.addTargetData(e3, n3).next(function() {
                return n3;
              });
            });
          });
        }).then(function(t4) {
          var e3 = i3.kn.get(t4.targetId);
          return (null === e3 || 0 < t4.snapshotVersion.compareTo(e3.snapshotVersion)) && (i3.kn = i3.kn.insert(t4.targetId, t4), i3.Fn.set(r3, t4.targetId)), t4;
        });
      }
      function qE(i3, o3, s3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                n3 = (e3 = i3).kn.get(o3), r3 = s3 ? "readwrite" : "readwrite-primary", t3.label = 1;
              case 1:
                return t3.trys.push([1, 4, , 5]), s3 ? [3, 3] : [4, e3.persistence.runTransaction("Release target", r3, function(t4) {
                  return e3.persistence.referenceDelegate.removeTarget(t4, n3);
                })];
              case 2:
                t3.sent(), t3.label = 3;
              case 3:
                return [3, 5];
              case 4:
                if (!HT(r3 = t3.sent()))
                  throw r3;
                return fb("LocalStore", "Failed to update sequence numbers for target " + o3 + ": " + r3), [3, 5];
              case 5:
                return e3.kn = e3.kn.remove(o3), e3.Fn.delete(n3.target), [2];
            }
          });
        });
      }
      function VE(t3, o3, s3) {
        var a3 = t3, u3 = Eb.min(), c3 = w0();
        return a3.persistence.runTransaction("Execute query", "readonly", function(e3) {
          return t4 = a3, n3 = e3, r3 = sw(o3), (void 0 !== (t4 = (i3 = t4).Fn.get(r3)) ? xT.resolve(i3.kn.get(t4)) : i3.qe.getTargetData(n3, r3)).next(function(t5) {
            if (t5)
              return u3 = t5.lastLimboFreeSnapshotVersion, a3.qe.getMatchingKeysForTargetId(e3, t5.targetId).next(function(t6) {
                c3 = t6;
              });
          }).next(function() {
            return a3.xn.getDocumentsMatchingQuery(e3, o3, s3 ? u3 : Eb.min(), s3 ? c3 : w0());
          }).next(function(t5) {
            return { documents: t5, Bn: c3 };
          });
          var t4, n3, r3, i3;
        });
      }
      function BE(t3, e3) {
        var n3 = t3, r3 = n3.qe, t3 = n3.kn.get(e3);
        return t3 ? Promise.resolve(t3.target) : n3.persistence.runTransaction("Get target data", "readonly", function(t4) {
          return r3.lt(t4, e3).next(function(t5) {
            return t5 ? t5.target : null;
          });
        });
      }
      function KE(t3) {
        var s3 = t3;
        return s3.persistence.runTransaction("Get new document changes", "readonly", function(t4) {
          return e3 = s3.On, n3 = t4, t4 = s3.$n, r3 = e3, i3 = g0, o3 = hI(t4), t4 = pE(n3), n3 = IDBKeyRange.lowerBound(o3, true), t4.$t({ index: wT.readTimeIndex, range: n3 }, function(t5, e4) {
            var n4 = uI(r3.R, e4);
            i3 = i3.insert(n4.key, n4), o3 = e4.readTime;
          }).next(function() {
            return { wn: i3, readTime: lI(o3) };
          });
          var e3, n3, r3, i3, o3;
        }).then(function(t4) {
          var e3 = t4.wn, t4 = t4.readTime;
          return s3.$n = t4, e3;
        });
      }
      function WE(n3) {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            return [2, (e3 = n3).persistence.runTransaction("Synchronize last document change read time", "readonly", function(t4) {
              return t4 = pE(t4), r3 = Eb.min(), t4.$t({ index: wT.readTimeIndex, reverse: true }, function(t5, e4, n4) {
                e4.readTime && (r3 = lI(e4.readTime)), n4.done();
              }).next(function() {
                return r3;
              });
              var r3;
            }).then(function(t4) {
              e3.$n = t4;
            })];
          });
        });
      }
      var HE, zE, GE = (dS.prototype.getBundleMetadata = function(t3, e3) {
        return xT.resolve(this.Qn.get(e3));
      }, dS.prototype.saveBundleMetadata = function(t3, e3) {
        return this.Qn.set(e3.id, { id: e3.id, version: e3.version, createTime: V0(e3.createTime) }), xT.resolve();
      }, dS.prototype.getNamedQuery = function(t3, e3) {
        return xT.resolve(this.jn.get(e3));
      }, dS.prototype.saveNamedQuery = function(t3, e3) {
        return this.jn.set(e3.name, { name: (e3 = e3).name, query: yI(e3.bundledQuery), readTime: V0(e3.readTime) }), xT.resolve();
      }, dS), QE = (pS.prototype.isEmpty = function() {
        return this.Wn.isEmpty();
      }, pS.prototype.addReference = function(t3, e3) {
        e3 = new YE(t3, e3);
        this.Wn = this.Wn.add(e3), this.zn = this.zn.add(e3);
      }, pS.prototype.Jn = function(t3, e3) {
        var n3 = this;
        t3.forEach(function(t4) {
          return n3.addReference(t4, e3);
        });
      }, pS.prototype.removeReference = function(t3, e3) {
        this.Yn(new YE(t3, e3));
      }, pS.prototype.Xn = function(t3, e3) {
        var n3 = this;
        t3.forEach(function(t4) {
          return n3.removeReference(t4, e3);
        });
      }, pS.prototype.Zn = function(t3) {
        var e3 = this, n3 = new $b(new Ob([])), r3 = new YE(n3, t3), t3 = new YE(n3, t3 + 1), i3 = [];
        return this.zn.forEachInRange([r3, t3], function(t4) {
          e3.Yn(t4), i3.push(t4.key);
        }), i3;
      }, pS.prototype.ts = function() {
        var e3 = this;
        this.Wn.forEach(function(t3) {
          return e3.Yn(t3);
        });
      }, pS.prototype.Yn = function(t3) {
        this.Wn = this.Wn.delete(t3), this.zn = this.zn.delete(t3);
      }, pS.prototype.es = function(t3) {
        var e3 = new $b(new Ob([])), n3 = new YE(e3, t3), t3 = new YE(e3, t3 + 1), r3 = w0();
        return this.zn.forEachInRange([n3, t3], function(t4) {
          r3 = r3.add(t4.key);
        }), r3;
      }, pS.prototype.containsKey = function(t3) {
        var e3 = new YE(t3, 0), e3 = this.Wn.firstAfterOrEqual(e3);
        return null !== e3 && t3.isEqual(e3.key);
      }, pS), YE = (fS.Gn = function(t3, e3) {
        return $b.comparator(t3.key, e3.key) || _b(t3.ns, e3.ns);
      }, fS.Hn = function(t3, e3) {
        return _b(t3.ns, e3.ns) || $b.comparator(t3.key, e3.key);
      }, fS), XE = (lS.prototype.checkEmpty = function(t3) {
        return xT.resolve(0 === this._n.length);
      }, lS.prototype.addMutationBatch = function(t3, e3, n3, r3) {
        var i3 = this.ss;
        this.ss++, 0 < this._n.length && this._n[this._n.length - 1];
        n3 = new eI(i3, e3, n3, r3);
        this._n.push(n3);
        for (var o3 = 0, s3 = r3; o3 < s3.length; o3++) {
          var a3 = s3[o3];
          this.rs = this.rs.add(new YE(a3.key, i3)), this.Ut.addToCollectionParentIndex(t3, a3.key.path.popLast());
        }
        return xT.resolve(n3);
      }, lS.prototype.lookupMutationBatch = function(t3, e3) {
        return xT.resolve(this.os(e3));
      }, lS.prototype.getNextMutationBatchAfterBatchId = function(t3, e3) {
        e3 = this.cs(e3 + 1), e3 = e3 < 0 ? 0 : e3;
        return xT.resolve(this._n.length > e3 ? this._n[e3] : null);
      }, lS.prototype.getHighestUnacknowledgedBatchId = function() {
        return xT.resolve(0 === this._n.length ? -1 : this.ss - 1);
      }, lS.prototype.getAllMutationBatches = function(t3) {
        return xT.resolve(this._n.slice());
      }, lS.prototype.getAllMutationBatchesAffectingDocumentKey = function(t3, e3) {
        var n3 = this, r3 = new YE(e3, 0), e3 = new YE(e3, Number.POSITIVE_INFINITY), i3 = [];
        return this.rs.forEachInRange([r3, e3], function(t4) {
          t4 = n3.os(t4.ns);
          i3.push(t4);
        }), xT.resolve(i3);
      }, lS.prototype.getAllMutationBatchesAffectingDocumentKeys = function(t3, e3) {
        var n3 = this, r3 = new p0(_b);
        return e3.forEach(function(t4) {
          var e4 = new YE(t4, 0), t4 = new YE(t4, Number.POSITIVE_INFINITY);
          n3.rs.forEachInRange([e4, t4], function(t5) {
            r3 = r3.add(t5.ns);
          });
        }), xT.resolve(this.us(r3));
      }, lS.prototype.getAllMutationBatchesAffectingQuery = function(t3, e3) {
        var n3 = e3.path, r3 = n3.length + 1, e3 = n3;
        $b.isDocumentKey(e3) || (e3 = e3.child(""));
        var e3 = new YE(new $b(e3), 0), i3 = new p0(_b);
        return this.rs.forEachWhile(function(t4) {
          var e4 = t4.key.path;
          return !!n3.isPrefixOf(e4) && (e4.length === r3 && (i3 = i3.add(t4.ns)), true);
        }, e3), xT.resolve(this.us(i3));
      }, lS.prototype.us = function(t3) {
        var e3 = this, n3 = [];
        return t3.forEach(function(t4) {
          t4 = e3.os(t4);
          null !== t4 && n3.push(t4);
        }), n3;
      }, lS.prototype.removeMutationBatch = function(n3, r3) {
        var i3 = this;
        yb(0 === this.hs(r3.batchId, "removed")), this._n.shift();
        var o3 = this.rs;
        return xT.forEach(r3.mutations, function(t3) {
          var e3 = new YE(t3.key, r3.batchId);
          return o3 = o3.delete(e3), i3.referenceDelegate.markPotentiallyOrphaned(n3, t3.key);
        }).next(function() {
          i3.rs = o3;
        });
      }, lS.prototype.Gt = function(t3) {
      }, lS.prototype.containsKey = function(t3, e3) {
        var n3 = new YE(e3, 0), n3 = this.rs.firstAfterOrEqual(n3);
        return xT.resolve(e3.isEqual(n3 && n3.key));
      }, lS.prototype.performConsistencyCheck = function(t3) {
        return this._n.length, xT.resolve();
      }, lS.prototype.hs = function(t3, e3) {
        return this.cs(t3);
      }, lS.prototype.cs = function(t3) {
        return 0 === this._n.length ? 0 : t3 - this._n[0].batchId;
      }, lS.prototype.os = function(t3) {
        t3 = this.cs(t3);
        return t3 < 0 || t3 >= this._n.length ? null : this._n[t3];
      }, lS), $E = (hS.prototype.addEntry = function(t3, e3, n3) {
        var r3 = e3.key, i3 = this.docs.get(r3), o3 = i3 ? i3.size : 0, i3 = this.ls(e3);
        return this.docs = this.docs.insert(r3, { document: e3.clone(), size: i3, readTime: n3 }), this.size += i3 - o3, this.Ut.addToCollectionParentIndex(t3, r3.path.popLast());
      }, hS.prototype.removeEntry = function(t3) {
        var e3 = this.docs.get(t3);
        e3 && (this.docs = this.docs.remove(t3), this.size -= e3.size);
      }, hS.prototype.getEntry = function(t3, e3) {
        var n3 = this.docs.get(e3);
        return xT.resolve(n3 ? n3.document.clone() : d_.newInvalidDocument(e3));
      }, hS.prototype.getEntries = function(t3, e3) {
        var n3 = this, r3 = g0;
        return e3.forEach(function(t4) {
          var e4 = n3.docs.get(t4);
          r3 = r3.insert(t4, e4 ? e4.document.clone() : d_.newInvalidDocument(t4));
        }), xT.resolve(r3);
      }, hS.prototype.getDocumentsMatchingQuery = function(t3, e3, n3) {
        for (var r3 = g0, i3 = new $b(e3.path.child("")), o3 = this.docs.getIteratorFrom(i3); o3.hasNext(); ) {
          var s3 = o3.getNext(), a3 = s3.key, u3 = s3.value, s3 = u3.document, u3 = u3.readTime;
          if (!e3.path.isPrefixOf(a3.path))
            break;
          u3.compareTo(n3) <= 0 || lw(e3, s3) && (r3 = r3.insert(s3.key, s3.clone()));
        }
        return xT.resolve(r3);
      }, hS.prototype.fs = function(t3, e3) {
        return xT.forEach(this.docs, function(t4) {
          return e3(t4);
        });
      }, hS.prototype.newChangeBuffer = function(t3) {
        return new JE(this);
      }, hS.prototype.getSize = function(t3) {
        return xT.resolve(this.size);
      }, hS), JE = (Gi(cS, zE = Q), cS.prototype.applyChanges = function(n3) {
        var r3 = this, i3 = [];
        return this.changes.forEach(function(t3, e3) {
          e3.document.isValidDocument() ? i3.push(r3.Ie.addEntry(n3, e3.document, r3.getReadTime(t3))) : r3.Ie.removeEntry(t3);
        }), xT.waitFor(i3);
      }, cS.prototype.getFromCache = function(t3, e3) {
        return this.Ie.getEntry(t3, e3);
      }, cS.prototype.getAllFromCache = function(t3, e3) {
        return this.Ie.getEntries(t3, e3);
      }, cS), ZE = (uS.prototype.forEachTarget = function(t3, n3) {
        return this.ds.forEach(function(t4, e3) {
          return n3(e3);
        }), xT.resolve();
      }, uS.prototype.getLastRemoteSnapshotVersion = function(t3) {
        return xT.resolve(this.lastRemoteSnapshotVersion);
      }, uS.prototype.getHighestSequenceNumber = function(t3) {
        return xT.resolve(this.ws);
      }, uS.prototype.allocateTargetId = function(t3) {
        return this.highestTargetId = this.ys.next(), xT.resolve(this.highestTargetId);
      }, uS.prototype.setTargetsMetadata = function(t3, e3, n3) {
        return n3 && (this.lastRemoteSnapshotVersion = n3), e3 > this.ws && (this.ws = e3), xT.resolve();
      }, uS.prototype.te = function(t3) {
        this.ds.set(t3.target, t3);
        var e3 = t3.targetId;
        e3 > this.highestTargetId && (this.ys = new qI(e3), this.highestTargetId = e3), t3.sequenceNumber > this.ws && (this.ws = t3.sequenceNumber);
      }, uS.prototype.addTargetData = function(t3, e3) {
        return this.te(e3), this.targetCount += 1, xT.resolve();
      }, uS.prototype.updateTargetData = function(t3, e3) {
        return this.te(e3), xT.resolve();
      }, uS.prototype.removeTargetData = function(t3, e3) {
        return this.ds.delete(e3.target), this._s.Zn(e3.targetId), --this.targetCount, xT.resolve();
      }, uS.prototype.removeTargets = function(n3, r3, i3) {
        var o3 = this, s3 = 0, a3 = [];
        return this.ds.forEach(function(t3, e3) {
          e3.sequenceNumber <= r3 && null === i3.get(e3.targetId) && (o3.ds.delete(t3), a3.push(o3.removeMatchingKeysForTargetId(n3, e3.targetId)), s3++);
        }), xT.waitFor(a3).next(function() {
          return s3;
        });
      }, uS.prototype.getTargetCount = function(t3) {
        return xT.resolve(this.targetCount);
      }, uS.prototype.getTargetData = function(t3, e3) {
        e3 = this.ds.get(e3) || null;
        return xT.resolve(e3);
      }, uS.prototype.addMatchingKeys = function(t3, e3, n3) {
        return this._s.Jn(e3, n3), xT.resolve();
      }, uS.prototype.removeMatchingKeys = function(e3, t3, n3) {
        this._s.Xn(t3, n3);
        var r3 = this.persistence.referenceDelegate, i3 = [];
        return r3 && t3.forEach(function(t4) {
          i3.push(r3.markPotentiallyOrphaned(e3, t4));
        }), xT.waitFor(i3);
      }, uS.prototype.removeMatchingKeysForTargetId = function(t3, e3) {
        return this._s.Zn(e3), xT.resolve();
      }, uS.prototype.getMatchingKeysForTargetId = function(t3, e3) {
        e3 = this._s.es(e3);
        return xT.resolve(e3);
      }, uS.prototype.containsKey = function(t3, e3) {
        return xT.resolve(this._s.containsKey(e3));
      }, uS), tS = (aS.prototype.start = function() {
        return Promise.resolve();
      }, aS.prototype.shutdown = function() {
        return this.xe = false, Promise.resolve();
      }, Object.defineProperty(aS.prototype, "started", { get: function() {
        return this.xe;
      }, enumerable: false, configurable: true }), aS.prototype.setDatabaseDeletedListener = function() {
      }, aS.prototype.setNetworkEnabled = function() {
      }, aS.prototype.getIndexManager = function() {
        return this.Ut;
      }, aS.prototype.getMutationQueue = function(t3) {
        var e3 = this.gs[t3.toKey()];
        return e3 || (e3 = new XE(this.Ut, this.referenceDelegate), this.gs[t3.toKey()] = e3), e3;
      }, aS.prototype.getTargetCache = function() {
        return this.qe;
      }, aS.prototype.getRemoteDocumentCache = function() {
        return this.Ue;
      }, aS.prototype.getBundleCache = function() {
        return this.Ke;
      }, aS.prototype.runTransaction = function(t3, e3, n3) {
        var r3 = this;
        fb("MemoryPersistence", "Starting transaction:", t3);
        var i3 = new eS(this.Ne.next());
        return this.referenceDelegate.Es(), n3(i3).next(function(t4) {
          return r3.referenceDelegate.Ts(i3).next(function() {
            return t4;
          });
        }).toPromise().then(function(t4) {
          return i3.raiseOnCommittedEvent(), t4;
        });
      }, aS.prototype.Is = function(e3, n3) {
        return xT.or(Object.values(this.gs).map(function(t3) {
          return function() {
            return t3.containsKey(e3, n3);
          };
        }));
      }, aS), eS = (Gi(sS, HE = G), sS), nS = (oS.bs = function(t3) {
        return new oS(t3);
      }, Object.defineProperty(oS.prototype, "vs", { get: function() {
        if (this.Rs)
          return this.Rs;
        throw vb();
      }, enumerable: false, configurable: true }), oS.prototype.addReference = function(t3, e3, n3) {
        return this.As.addReference(n3, e3), this.vs.delete(n3.toString()), xT.resolve();
      }, oS.prototype.removeReference = function(t3, e3, n3) {
        return this.As.removeReference(n3, e3), this.vs.add(n3.toString()), xT.resolve();
      }, oS.prototype.markPotentiallyOrphaned = function(t3, e3) {
        return this.vs.add(e3.toString()), xT.resolve();
      }, oS.prototype.removeTarget = function(t3, e3) {
        var n3 = this;
        this.As.Zn(e3.targetId).forEach(function(t4) {
          return n3.vs.add(t4.toString());
        });
        var r3 = this.persistence.getTargetCache();
        return r3.getMatchingKeysForTargetId(t3, e3.targetId).next(function(t4) {
          t4.forEach(function(t5) {
            return n3.vs.add(t5.toString());
          });
        }).next(function() {
          return r3.removeTargetData(t3, e3);
        });
      }, oS.prototype.Es = function() {
        this.Rs = /* @__PURE__ */ new Set();
      }, oS.prototype.Ts = function(n3) {
        var r3 = this, i3 = this.persistence.getRemoteDocumentCache().newChangeBuffer();
        return xT.forEach(this.vs, function(t3) {
          var e3 = $b.fromPath(t3);
          return r3.Ps(n3, e3).next(function(t4) {
            t4 || i3.removeEntry(e3);
          });
        }).next(function() {
          return r3.Rs = null, i3.apply(n3);
        });
      }, oS.prototype.updateLimboDocument = function(t3, e3) {
        var n3 = this;
        return this.Ps(t3, e3).next(function(t4) {
          t4 ? n3.vs.delete(e3.toString()) : n3.vs.add(e3.toString());
        });
      }, oS.prototype.ps = function(t3) {
        return 0;
      }, oS.prototype.Ps = function(t3, e3) {
        var n3 = this;
        return xT.or([function() {
          return xT.resolve(n3.As.containsKey(e3));
        }, function() {
          return n3.persistence.getTargetCache().containsKey(t3, e3);
        }, function() {
          return n3.persistence.Is(t3, e3);
        }]);
      }, oS), rS = (iS.prototype.isAuthenticated = function() {
        return null != this.uid;
      }, iS.prototype.toKey = function() {
        return this.isAuthenticated() ? "uid:" + this.uid : "anonymous-user";
      }, iS.prototype.isEqual = function(t3) {
        return t3.uid === this.uid;
      }, iS);
      function iS(t3) {
        this.uid = t3;
      }
      function oS(t3) {
        this.persistence = t3, this.As = new QE(), this.Rs = null;
      }
      function sS(t3) {
        var e3 = this;
        return (e3 = HE.call(this) || this).currentSequenceNumber = t3, e3;
      }
      function aS(t3, e3) {
        var n3 = this;
        this.gs = {}, this.Ne = new ib(0), this.xe = false, this.xe = true, this.referenceDelegate = t3(this), this.qe = new ZE(this), this.Ut = new TI(), this.Ue = (t3 = this.Ut, new $E(t3, function(t4) {
          return n3.referenceDelegate.ps(t4);
        })), this.R = new iI(e3), this.Ke = new GE(this.R);
      }
      function uS(t3) {
        this.persistence = t3, this.ds = new oE(m_, b_), this.lastRemoteSnapshotVersion = Eb.min(), this.highestTargetId = 0, this.ws = 0, this._s = new QE(), this.targetCount = 0, this.ys = qI.Jt();
      }
      function cS(t3) {
        var e3 = this;
        return (e3 = zE.call(this) || this).Ie = t3, e3;
      }
      function hS(t3, e3) {
        this.Ut = t3, this.ls = e3, this.docs = new s0($b.comparator), this.size = 0;
      }
      function lS(t3, e3) {
        this.Ut = t3, this.referenceDelegate = e3, this._n = [], this.ss = 1, this.rs = new p0(YE.Gn);
      }
      function fS(t3, e3) {
        this.key = t3, this.ns = e3;
      }
      function pS() {
        this.Wn = new p0(YE.Gn), this.zn = new p0(YE.Hn);
      }
      function dS(t3) {
        this.R = t3, this.Qn = /* @__PURE__ */ new Map(), this.jn = /* @__PURE__ */ new Map();
      }
      function gS(t3, e3) {
        return "firestore_clients_" + t3 + "_" + e3;
      }
      function vS(t3, e3, n3) {
        n3 = "firestore_mutations_" + t3 + "_" + n3;
        return e3.isAuthenticated() && (n3 += "_" + e3.uid), n3;
      }
      function yS(t3, e3) {
        return "firestore_targets_" + t3 + "_" + e3;
      }
      rS.UNAUTHENTICATED = new rS(null), rS.GOOGLE_CREDENTIALS = new rS("google-credentials-uid"), rS.FIRST_PARTY = new rS("first-party-uid"), rS.MOCK_USER = new rS("mock-user");
      var mS, bS = (BS.Vs = function(t3, e3, n3) {
        var r3, i3 = JSON.parse(n3), o3 = "object" == typeof i3 && -1 !== ["pending", "acknowledged", "rejected"].indexOf(i3.state) && (void 0 === i3.error || "object" == typeof i3.error);
        return o3 && i3.error && (o3 = "string" == typeof i3.error.message && "string" == typeof i3.error.code) && (r3 = new ub(i3.error.code, i3.error.message)), o3 ? new BS(t3, e3, i3.state, r3) : (pb("SharedClientState", "Failed to parse mutation state for ID '" + e3 + "': " + n3), null);
      }, BS.prototype.Ss = function() {
        var t3 = { state: this.state, updateTimeMs: Date.now() };
        return this.error && (t3.error = { code: this.error.code, message: this.error.message }), JSON.stringify(t3);
      }, BS), _S = (VS.Vs = function(t3, e3) {
        var n3, r3 = JSON.parse(e3), i3 = "object" == typeof r3 && -1 !== ["not-current", "current", "rejected"].indexOf(r3.state) && (void 0 === r3.error || "object" == typeof r3.error);
        return i3 && r3.error && (i3 = "string" == typeof r3.error.message && "string" == typeof r3.error.code) && (n3 = new ub(r3.error.code, r3.error.message)), i3 ? new VS(t3, r3.state, n3) : (pb("SharedClientState", "Failed to parse target state for ID '" + t3 + "': " + e3), null);
      }, VS.prototype.Ss = function() {
        var t3 = { state: this.state, updateTimeMs: Date.now() };
        return this.error && (t3.error = { code: this.error.code, message: this.error.message }), JSON.stringify(t3);
      }, VS), wS = (qS.Vs = function(t3, e3) {
        for (var n3 = JSON.parse(e3), r3 = "object" == typeof n3 && n3.activeTargetIds instanceof Array, i3 = T0, o3 = 0; r3 && o3 < n3.activeTargetIds.length; ++o3)
          r3 = Xb(n3.activeTargetIds[o3]), i3 = i3.add(n3.activeTargetIds[o3]);
        return r3 ? new qS(t3, i3) : (pb("SharedClientState", "Failed to parse client data for instance '" + t3 + "': " + e3), null);
      }, qS), TS = (US.Vs = function(t3) {
        var e3 = JSON.parse(t3);
        return "object" == typeof e3 && -1 !== ["Unknown", "Online", "Offline"].indexOf(e3.onlineState) && "string" == typeof e3.clientId ? new US(e3.clientId, e3.onlineState) : (pb("SharedClientState", "Failed to parse online state: " + t3), null);
      }, US), IS = (jS.prototype.Ds = function(t3) {
        this.activeTargetIds = this.activeTargetIds.add(t3);
      }, jS.prototype.Cs = function(t3) {
        this.activeTargetIds = this.activeTargetIds.delete(t3);
      }, jS.prototype.Ss = function() {
        var t3 = { activeTargetIds: this.activeTargetIds.toArray(), updateTimeMs: Date.now() };
        return JSON.stringify(t3);
      }, jS), ES = (FS.yt = function(t3) {
        return !(!t3 || !t3.localStorage);
      }, FS.prototype.start = function() {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3, i3, o3, s3, a3, u3, c3, h3, l3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, this.syncEngine.fn()];
              case 1:
                for (s3 = t3.sent(), e3 = 0, n3 = s3; e3 < n3.length; e3++)
                  (r3 = n3[e3]) !== this.Ns && (i3 = this.getItem(gS(this.persistenceKey, r3))) && (o3 = wS.Vs(r3, i3)) && (this.Fs = this.Fs.insert(o3.clientId, o3));
                for (this.Qs(), (s3 = this.storage.getItem(this.Us)) && (a3 = this.js(s3)) && this.Ws(a3), u3 = 0, c3 = this.$s; u3 < c3.length; u3++)
                  h3 = c3[u3], this.ks(h3);
                return this.$s = [], this.window.addEventListener("pagehide", function() {
                  return l3.shutdown();
                }), this.started = true, [2];
            }
          });
        });
      }, FS.prototype.writeSequenceNumber = function(t3) {
        this.setItem(this.Ms, JSON.stringify(t3));
      }, FS.prototype.getAllActiveQueryTargets = function() {
        return this.Gs(this.Fs);
      }, FS.prototype.isActiveQueryTarget = function(n3) {
        var r3 = false;
        return this.Fs.forEach(function(t3, e3) {
          e3.activeTargetIds.has(n3) && (r3 = true);
        }), r3;
      }, FS.prototype.addPendingMutation = function(t3) {
        this.zs(t3, "pending");
      }, FS.prototype.updateMutationState = function(t3, e3, n3) {
        this.zs(t3, e3, n3), this.Hs(t3);
      }, FS.prototype.addLocalQueryTarget = function(t3) {
        var e3, n3 = "not-current";
        return this.isActiveQueryTarget(t3) && (!(e3 = this.storage.getItem(yS(this.persistenceKey, t3))) || (e3 = _S.Vs(t3, e3)) && (n3 = e3.state)), this.Js.Ds(t3), this.Qs(), n3;
      }, FS.prototype.removeLocalQueryTarget = function(t3) {
        this.Js.Cs(t3), this.Qs();
      }, FS.prototype.isLocalQueryTarget = function(t3) {
        return this.Js.activeTargetIds.has(t3);
      }, FS.prototype.clearQueryState = function(t3) {
        this.removeItem(yS(this.persistenceKey, t3));
      }, FS.prototype.updateQueryState = function(t3, e3, n3) {
        this.Ys(t3, e3, n3);
      }, FS.prototype.handleUserChange = function(t3, e3, n3) {
        var r3 = this;
        e3.forEach(function(t4) {
          r3.Hs(t4);
        }), this.currentUser = t3, n3.forEach(function(t4) {
          r3.addPendingMutation(t4);
        });
      }, FS.prototype.setOnlineState = function(t3) {
        this.Xs(t3);
      }, FS.prototype.notifyBundleLoaded = function() {
        this.Zs();
      }, FS.prototype.shutdown = function() {
        this.started && (this.window.removeEventListener("storage", this.xs), this.removeItem(this.Os), this.started = false);
      }, FS.prototype.getItem = function(t3) {
        var e3 = this.storage.getItem(t3);
        return fb("SharedClientState", "READ", t3, e3), e3;
      }, FS.prototype.setItem = function(t3, e3) {
        fb("SharedClientState", "SET", t3, e3), this.storage.setItem(t3, e3);
      }, FS.prototype.removeItem = function(t3) {
        fb("SharedClientState", "REMOVE", t3), this.storage.removeItem(t3);
      }, FS.prototype.ks = function(t3) {
        var e3 = this, o3 = t3;
        o3.storageArea === this.storage && (fb("SharedClientState", "EVENT", o3.key, o3.newValue), o3.key !== this.Os ? this.Se.enqueueRetryable(function() {
          return Yi(e3, void 0, void 0, function() {
            var e4, n3, r3, i3;
            return Xi(this, function(t4) {
              if (this.started) {
                if (null !== o3.key) {
                  if (this.Ls.test(o3.key)) {
                    if (null == o3.newValue)
                      return e4 = this.ti(o3.key), [2, this.ei(e4, null)];
                    if (e4 = this.ni(o3.key, o3.newValue))
                      return [2, this.ei(e4.clientId, e4)];
                  } else if (this.Bs.test(o3.key)) {
                    if (null !== o3.newValue && (n3 = this.si(o3.key, o3.newValue)))
                      return [2, this.ii(n3)];
                  } else if (this.qs.test(o3.key)) {
                    if (null !== o3.newValue && (r3 = this.ri(o3.key, o3.newValue)))
                      return [2, this.oi(r3)];
                  } else if (o3.key === this.Us) {
                    if (null !== o3.newValue && (i3 = this.js(o3.newValue)))
                      return [2, this.Ws(i3)];
                  } else if (o3.key === this.Ms)
                    (i3 = function(t5) {
                      var e5 = ib.o;
                      if (null != t5)
                        try {
                          var n4 = JSON.parse(t5);
                          yb("number" == typeof n4), e5 = n4;
                        } catch (t6) {
                          pb("SharedClientState", "Failed to read sequence number from WebStorage", t6);
                        }
                      return e5;
                    }(o3.newValue)) !== ib.o && this.sequenceNumberHandler(i3);
                  else if (o3.key === this.Ks)
                    return [2, this.syncEngine.ci()];
                }
              } else
                this.$s.push(o3);
              return [2];
            });
          });
        }) : pb("Received WebStorage notification for local change. Another client might have garbage-collected our state"));
      }, Object.defineProperty(FS.prototype, "Js", { get: function() {
        return this.Fs.get(this.Ns);
      }, enumerable: false, configurable: true }), FS.prototype.Qs = function() {
        this.setItem(this.Os, this.Js.Ss());
      }, FS.prototype.zs = function(t3, e3, n3) {
        n3 = new bS(this.currentUser, t3, e3, n3), t3 = vS(this.persistenceKey, this.currentUser, t3);
        this.setItem(t3, n3.Ss());
      }, FS.prototype.Hs = function(t3) {
        t3 = vS(this.persistenceKey, this.currentUser, t3);
        this.removeItem(t3);
      }, FS.prototype.Xs = function(t3) {
        t3 = { clientId: this.Ns, onlineState: t3 };
        this.storage.setItem(this.Us, JSON.stringify(t3));
      }, FS.prototype.Ys = function(t3, e3, n3) {
        var r3 = yS(this.persistenceKey, t3), n3 = new _S(t3, e3, n3);
        this.setItem(r3, n3.Ss());
      }, FS.prototype.Zs = function() {
        this.setItem(this.Ks, "value-not-used");
      }, FS.prototype.ti = function(t3) {
        t3 = this.Ls.exec(t3);
        return t3 ? t3[1] : null;
      }, FS.prototype.ni = function(t3, e3) {
        t3 = this.ti(t3);
        return wS.Vs(t3, e3);
      }, FS.prototype.si = function(t3, e3) {
        var n3 = this.Bs.exec(t3), t3 = Number(n3[1]), n3 = void 0 !== n3[2] ? n3[2] : null;
        return bS.Vs(new rS(n3), t3, e3);
      }, FS.prototype.ri = function(t3, e3) {
        t3 = this.qs.exec(t3), t3 = Number(t3[1]);
        return _S.Vs(t3, e3);
      }, FS.prototype.js = function(t3) {
        return TS.Vs(t3);
      }, FS.prototype.ii = function(e3) {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            return e3.user.uid === this.currentUser.uid ? [2, this.syncEngine.ui(e3.batchId, e3.state, e3.error)] : (fb("SharedClientState", "Ignoring mutation for non-active user " + e3.user.uid), [2]);
          });
        });
      }, FS.prototype.oi = function(t3) {
        return this.syncEngine.ai(t3.targetId, t3.state, t3.error);
      }, FS.prototype.ei = function(t3, e3) {
        var n3 = this, r3 = e3 ? this.Fs.insert(t3, e3) : this.Fs.remove(t3), i3 = this.Gs(this.Fs), o3 = this.Gs(r3), s3 = [], a3 = [];
        return o3.forEach(function(t4) {
          i3.has(t4) || s3.push(t4);
        }), i3.forEach(function(t4) {
          o3.has(t4) || a3.push(t4);
        }), this.syncEngine.hi(s3, a3).then(function() {
          n3.Fs = r3;
        });
      }, FS.prototype.Ws = function(t3) {
        this.Fs.get(t3.clientId) && this.onlineStateHandler(t3.onlineState);
      }, FS.prototype.Gs = function(t3) {
        var n3 = T0;
        return t3.forEach(function(t4, e3) {
          n3 = n3.unionWith(e3.activeTargetIds);
        }), n3;
      }, FS), SS = (MS.prototype.addPendingMutation = function(t3) {
      }, MS.prototype.updateMutationState = function(t3, e3, n3) {
      }, MS.prototype.addLocalQueryTarget = function(t3) {
        return this.li.Ds(t3), this.fi[t3] || "not-current";
      }, MS.prototype.updateQueryState = function(t3, e3, n3) {
        this.fi[t3] = e3;
      }, MS.prototype.removeLocalQueryTarget = function(t3) {
        this.li.Cs(t3);
      }, MS.prototype.isLocalQueryTarget = function(t3) {
        return this.li.activeTargetIds.has(t3);
      }, MS.prototype.clearQueryState = function(t3) {
        delete this.fi[t3];
      }, MS.prototype.getAllActiveQueryTargets = function() {
        return this.li.activeTargetIds;
      }, MS.prototype.isActiveQueryTarget = function(t3) {
        return this.li.activeTargetIds.has(t3);
      }, MS.prototype.start = function() {
        return this.li = new IS(), Promise.resolve();
      }, MS.prototype.handleUserChange = function(t3, e3, n3) {
      }, MS.prototype.setOnlineState = function(t3) {
      }, MS.prototype.shutdown = function() {
      }, MS.prototype.writeSequenceNumber = function(t3) {
      }, MS.prototype.notifyBundleLoaded = function() {
      }, MS), kS = (LS.prototype.di = function(t3) {
      }, LS.prototype.shutdown = function() {
      }, LS), CS = (xS.prototype.di = function(t3) {
        this.gi.push(t3);
      }, xS.prototype.shutdown = function() {
        window.removeEventListener("online", this.wi), window.removeEventListener("offline", this.mi);
      }, xS.prototype.pi = function() {
        window.addEventListener("online", this.wi), window.addEventListener("offline", this.mi);
      }, xS.prototype._i = function() {
        fb("ConnectivityMonitor", "Network connectivity changed: AVAILABLE");
        for (var t3 = 0, e3 = this.gi; t3 < e3.length; t3++)
          (0, e3[t3])(0);
      }, xS.prototype.yi = function() {
        fb("ConnectivityMonitor", "Network connectivity changed: UNAVAILABLE");
        for (var t3 = 0, e3 = this.gi; t3 < e3.length; t3++)
          (0, e3[t3])(1);
      }, xS.yt = function() {
        return "undefined" != typeof window && void 0 !== window.addEventListener && void 0 !== window.removeEventListener;
      }, xS), AS = { BatchGetDocuments: "batchGet", Commit: "commit", RunQuery: "runQuery" }, NS = (DS.prototype.Ii = function(t3) {
        this.Ai = t3;
      }, DS.prototype.Ri = function(t3) {
        this.bi = t3;
      }, DS.prototype.onMessage = function(t3) {
        this.vi = t3;
      }, DS.prototype.close = function() {
        this.Ti();
      }, DS.prototype.send = function(t3) {
        this.Ei(t3);
      }, DS.prototype.Pi = function() {
        this.Ai();
      }, DS.prototype.Vi = function(t3) {
        this.bi(t3);
      }, DS.prototype.Si = function(t3) {
        this.vi(t3);
      }, DS), RS = (OS.prototype.Ni = function(e3, t3, n3, r3) {
        var i3 = this.xi(e3, t3);
        fb("RestConnection", "Sending: ", i3, n3);
        t3 = {};
        return this.ki(t3, r3), this.Fi(e3, i3, t3, n3).then(function(t4) {
          return fb("RestConnection", "Received: ", t4), t4;
        }, function(t4) {
          throw db("RestConnection", e3 + " failed with error: ", t4, "url: ", i3, "request:", n3), t4;
        });
      }, OS.prototype.$i = function(t3, e3, n3, r3) {
        return this.Ni(t3, e3, n3, r3);
      }, OS.prototype.ki = function(t3, e3) {
        if (t3["X-Goog-Api-Client"] = "gl-js/ fire/8.10.1", t3["Content-Type"] = "text/plain", this.databaseInfo.appId && (t3["X-Firebase-GMPID"] = this.databaseInfo.appId), e3)
          for (var n3 in e3.authHeaders)
            e3.authHeaders.hasOwnProperty(n3) && (t3[n3] = e3.authHeaders[n3]);
      }, OS.prototype.xi = function(t3, e3) {
        return this.Di + "/v1/" + e3 + ":" + AS[t3];
      }, Gi(PS, mS = OS), PS.prototype.Fi = function(u3, e3, n3, r3) {
        return new Promise(function(o3, s3) {
          var a3 = new rb();
          a3.listenOnce($m.COMPLETE, function() {
            try {
              switch (a3.getLastErrorCode()) {
                case Xm.NO_ERROR:
                  var t4 = a3.getResponseJson();
                  fb("Connection", "XHR received:", JSON.stringify(t4)), o3(t4);
                  break;
                case Xm.TIMEOUT:
                  fb("Connection", 'RPC "' + u3 + '" timed out'), s3(new ub(ab.DEADLINE_EXCEEDED, "Request time out"));
                  break;
                case Xm.HTTP_ERROR:
                  var e4, n4, r4 = a3.getStatus();
                  fb("Connection", 'RPC "' + u3 + '" failed with status:', r4, "response text:", a3.getResponseText()), 0 < r4 ? (e4 = a3.getResponseJson().error) && e4.status && e4.message ? (i3 = e4.status.toLowerCase().replace(/_/g, "-"), n4 = 0 <= Object.values(ab).indexOf(i3) ? i3 : ab.UNKNOWN, s3(new ub(n4, e4.message))) : s3(new ub(ab.UNKNOWN, "Server responded with status " + a3.getStatus())) : s3(new ub(ab.UNAVAILABLE, "Connection failed."));
                  break;
                default:
                  vb();
              }
            } finally {
              fb("Connection", 'RPC "' + u3 + '" completed.');
            }
            var i3;
          });
          var t3 = JSON.stringify(r3);
          a3.send(e3, "POST", t3, n3, 15);
        });
      }, PS.prototype.Oi = function(t3, e3) {
        var n3 = [this.Di, "/", "google.firestore.v1.Firestore", "/", t3, "/channel"], r3 = new Wm(), i3 = Ym(), t3 = { httpSessionIdParam: "gsessionid", initMessageHeaders: {}, messageUrlParams: { database: "projects/" + this.databaseId.projectId + "/databases/" + this.databaseId.database }, sendRawJson: true, supportsCrossDomainXhr: true, internalChannelParams: { forwardChannelRequestTimeoutMs: 6e5 }, forceLongPolling: this.forceLongPolling, detectBufferingProxy: this.autoDetectLongPolling };
        this.useFetchStreams && (t3.xmlHttpFactory = new eb({})), this.ki(t3.initMessageHeaders, e3), go() || mo() || 0 <= po().indexOf("Electron/") || (0 <= (e3 = po()).indexOf("MSIE ") || 0 <= e3.indexOf("Trident/")) || 0 <= po().indexOf("MSAppHost/") || yo() || (t3.httpHeadersOverwriteParam = "$httpHeaders");
        n3 = n3.join("");
        fb("Connection", "Creating WebChannel: " + n3, t3);
        var o3 = r3.createWebChannel(n3, t3), s3 = false, a3 = false, u3 = new NS({ Ei: function(t4) {
          a3 ? fb("Connection", "Not sending because WebChannel is closed:", t4) : (s3 || (fb("Connection", "Opening WebChannel transport."), o3.open(), s3 = true), fb("Connection", "WebChannel sending:", t4), o3.send(t4));
        }, Ti: function() {
          return o3.close();
        } }), t3 = function(t4, e4, n4) {
          t4.listen(e4, function(t5) {
            try {
              n4(t5);
            } catch (t6) {
              setTimeout(function() {
                throw t6;
              }, 0);
            }
          });
        };
        return t3(o3, nb.EventType.OPEN, function() {
          a3 || fb("Connection", "WebChannel transport opened.");
        }), t3(o3, nb.EventType.CLOSE, function() {
          a3 || (a3 = true, fb("Connection", "WebChannel transport closed"), u3.Vi());
        }), t3(o3, nb.EventType.ERROR, function(t4) {
          a3 || (a3 = true, db("Connection", "WebChannel transport errored:", t4), u3.Vi(new ub(ab.UNAVAILABLE, "The operation could not be completed")));
        }), t3(o3, nb.EventType.MESSAGE, function(t4) {
          var e4, n4, r4, i4;
          a3 || (yb(!!(e4 = t4.data[0])), (n4 = e4.error || (null === (i4 = e4[0]) || void 0 === i4 ? void 0 : i4.error)) ? (fb("Connection", "WebChannel received error:", n4), r4 = n4.status, t4 = function() {
            var t5 = $w[r4];
            if (void 0 !== t5)
              return o0(t5);
          }(), i4 = n4.message, void 0 === t4 && (t4 = ab.INTERNAL, i4 = "Unknown error status: " + r4 + " with message " + n4.message), a3 = true, u3.Vi(new ub(t4, i4)), o3.close()) : (fb("Connection", "WebChannel received:", e4), u3.Si(e4)));
        }), t3(i3, Jm.STAT_EVENT, function(t4) {
          t4.stat === Zm ? fb("Connection", "Detected buffering proxy") : t4.stat === tb && fb("Connection", "Detected no buffering proxy");
        }), setTimeout(function() {
          u3.Pi();
        }, 0), u3;
      }, PS);
      function PS(t3) {
        var e3 = this;
        return (e3 = mS.call(this, t3) || this).forceLongPolling = t3.forceLongPolling, e3.autoDetectLongPolling = t3.autoDetectLongPolling, e3.useFetchStreams = t3.useFetchStreams, e3;
      }
      function OS(t3) {
        this.databaseInfo = t3, this.databaseId = t3.databaseId;
        var e3 = t3.ssl ? "https" : "http";
        this.Di = e3 + "://" + t3.host, this.Ci = "projects/" + this.databaseId.projectId + "/databases/" + this.databaseId.database + "/documents";
      }
      function DS(t3) {
        this.Ei = t3.Ei, this.Ti = t3.Ti;
      }
      function xS() {
        var t3 = this;
        this.wi = function() {
          return t3._i();
        }, this.mi = function() {
          return t3.yi();
        }, this.gi = [], this.pi();
      }
      function LS() {
      }
      function MS() {
        this.li = new IS(), this.fi = {}, this.onlineStateHandler = null, this.sequenceNumberHandler = null;
      }
      function FS(t3, e3, n3, r3, i3) {
        this.window = t3, this.Se = e3, this.persistenceKey = n3, this.Ns = r3, this.syncEngine = null, this.onlineStateHandler = null, this.sequenceNumberHandler = null, this.xs = this.ks.bind(this), this.Fs = new s0(_b), this.started = false, this.$s = [];
        n3 = n3.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
        this.storage = this.window.localStorage, this.currentUser = i3, this.Os = gS(this.persistenceKey, this.Ns), this.Ms = "firestore_sequence_number_" + this.persistenceKey, this.Fs = this.Fs.insert(this.Ns, new IS()), this.Ls = new RegExp("^firestore_clients_" + n3 + "_([^_]*)$"), this.Bs = new RegExp("^firestore_mutations_" + n3 + "_(\\d+)(?:_(.*))?$"), this.qs = new RegExp("^firestore_targets_" + n3 + "_(\\d+)$"), this.Us = "firestore_online_state_" + this.persistenceKey, this.Ks = "firestore_bundle_loaded_" + this.persistenceKey, this.window.addEventListener("storage", this.xs);
      }
      function jS() {
        this.activeTargetIds = T0;
      }
      function US(t3, e3) {
        this.clientId = t3, this.onlineState = e3;
      }
      function qS(t3, e3) {
        this.clientId = t3, this.activeTargetIds = e3;
      }
      function VS(t3, e3, n3) {
        this.targetId = t3, this.state = e3, this.error = n3;
      }
      function BS(t3, e3, n3, r3) {
        this.user = t3, this.batchId = e3, this.state = n3, this.error = r3;
      }
      function KS() {
        return "undefined" != typeof window ? window : null;
      }
      function WS() {
        return "undefined" != typeof document ? document : null;
      }
      function HS(t3) {
        return new j0(t3, true);
      }
      function zS(t3, e3, n3, r3, i3) {
        var o3 = this;
        this.localStore = t3, this.datastore = e3, this.asyncQueue = n3, this.remoteSyncer = {}, this.Fr = [], this.$r = /* @__PURE__ */ new Map(), this.Or = /* @__PURE__ */ new Set(), this.Mr = [], this.Lr = i3, this.Lr.di(function(t4) {
          n3.enqueueAndForget(function() {
            return Yi(o3, void 0, void 0, function() {
              return Xi(this, function(t5) {
                switch (t5.label) {
                  case 0:
                    return g1(this) ? (fb("RemoteStore", "Restarting streams for network reachability change."), [4, function(n4) {
                      return Yi(this, void 0, void 0, function() {
                        var e4;
                        return Xi(this, function(t6) {
                          switch (t6.label) {
                            case 0:
                              return (e4 = n4).Or.add(4), [4, u1(e4)];
                            case 1:
                              return t6.sent(), e4.Br.set("Unknown"), e4.Or.delete(4), [4, a1(e4)];
                            case 2:
                              return t6.sent(), [2];
                          }
                        });
                      });
                    }(this)]) : [3, 2];
                  case 1:
                    t5.sent(), t5.label = 2;
                  case 2:
                    return [2];
                }
              });
            });
          });
        }), this.Br = new t1(n3, r3);
      }
      var GS, QS, YS, XS = (s1.prototype.reset = function() {
        this.qi = 0;
      }, s1.prototype.Qi = function() {
        this.qi = this.Bi;
      }, s1.prototype.ji = function(t3) {
        var e3 = this;
        this.cancel();
        var n3 = Math.floor(this.qi + this.Wi()), r3 = Math.max(0, Date.now() - this.Ki), i3 = Math.max(0, n3 - r3);
        0 < i3 && fb("ExponentialBackoff", "Backing off for " + i3 + " ms (base delay: " + this.qi + " ms, delay with jitter: " + n3 + " ms, last attempt: " + r3 + " ms ago)"), this.Ui = this.Se.enqueueAfterDelay(this.timerId, i3, function() {
          return e3.Ki = Date.now(), t3();
        }), this.qi *= this.Li, this.qi < this.Mi && (this.qi = this.Mi), this.qi > this.Bi && (this.qi = this.Bi);
      }, s1.prototype.Gi = function() {
        null !== this.Ui && (this.Ui.skipDelay(), this.Ui = null);
      }, s1.prototype.cancel = function() {
        null !== this.Ui && (this.Ui.cancel(), this.Ui = null);
      }, s1.prototype.Wi = function() {
        return (Math.random() - 0.5) * this.qi;
      }, s1), Q = (o1.prototype.tr = function() {
        return 1 === this.state || 2 === this.state || 4 === this.state;
      }, o1.prototype.er = function() {
        return 2 === this.state;
      }, o1.prototype.start = function() {
        3 !== this.state ? this.auth() : this.nr();
      }, o1.prototype.stop = function() {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return this.tr() ? [4, this.close(0)] : [3, 2];
              case 1:
                t3.sent(), t3.label = 2;
              case 2:
                return [2];
            }
          });
        });
      }, o1.prototype.sr = function() {
        this.state = 0, this.Zi.reset();
      }, o1.prototype.ir = function() {
        var t3 = this;
        this.er() && null === this.Xi && (this.Xi = this.Se.enqueueAfterDelay(this.zi, 6e4, function() {
          return t3.rr();
        }));
      }, o1.prototype.cr = function(t3) {
        this.ur(), this.stream.send(t3);
      }, o1.prototype.rr = function() {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            return this.er() ? [2, this.close(0)] : [2];
          });
        });
      }, o1.prototype.ur = function() {
        this.Xi && (this.Xi.cancel(), this.Xi = null);
      }, o1.prototype.close = function(e3, n3) {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return this.ur(), this.Zi.cancel(), this.Yi++, 3 !== e3 ? this.Zi.reset() : n3 && n3.code === ab.RESOURCE_EXHAUSTED ? (pb(n3.toString()), pb("Using maximum backoff delay to prevent overloading the backend."), this.Zi.Qi()) : n3 && n3.code === ab.UNAUTHENTICATED && this.Ji.invalidateToken(), null !== this.stream && (this.ar(), this.stream.close(), this.stream = null), this.state = e3, [4, this.listener.Ri(n3)];
              case 1:
                return t3.sent(), [2];
            }
          });
        });
      }, o1.prototype.ar = function() {
      }, o1.prototype.auth = function() {
        var n3 = this;
        this.state = 1;
        var t3 = this.hr(this.Yi), e3 = this.Yi;
        this.Ji.getToken().then(function(t4) {
          n3.Yi === e3 && n3.lr(t4);
        }, function(e4) {
          t3(function() {
            var t4 = new ub(ab.UNKNOWN, "Fetching auth token failed: " + e4.message);
            return n3.dr(t4);
          });
        });
      }, o1.prototype.lr = function(t3) {
        var e3 = this, n3 = this.hr(this.Yi);
        this.stream = this.wr(t3), this.stream.Ii(function() {
          n3(function() {
            return e3.state = 2, e3.listener.Ii();
          });
        }), this.stream.Ri(function(t4) {
          n3(function() {
            return e3.dr(t4);
          });
        }), this.stream.onMessage(function(t4) {
          n3(function() {
            return e3.onMessage(t4);
          });
        });
      }, o1.prototype.nr = function() {
        var t3 = this;
        this.state = 4, this.Zi.ji(function() {
          return Yi(t3, void 0, void 0, function() {
            return Xi(this, function(t4) {
              return this.state = 0, this.start(), [2];
            });
          });
        });
      }, o1.prototype.dr = function(t3) {
        return fb("PersistentStream", "close with error: " + t3), this.stream = null, this.close(3, t3);
      }, o1.prototype.hr = function(e3) {
        var n3 = this;
        return function(t3) {
          n3.Se.enqueueAndForget(function() {
            return n3.Yi === e3 ? t3() : (fb("PersistentStream", "stream callback skipped by getCloseGuardedDispatcher."), Promise.resolve());
          });
        };
      }, o1), $S = (Gi(i1, YS = Q), i1.prototype.wr = function(t3) {
        return this.Hi.Oi("Listen", t3);
      }, i1.prototype.onMessage = function(t3) {
        this.Zi.reset();
        var e3 = function(t4, e4) {
          if ("targetChange" in e4) {
            e4.targetChange;
            var n3 = "NO_CHANGE" === (o3 = e4.targetChange.targetChangeType || "NO_CHANGE") ? 0 : "ADD" === o3 ? 1 : "REMOVE" === o3 ? 2 : "CURRENT" === o3 ? 3 : "RESET" === o3 ? 4 : vb(), r3 = e4.targetChange.targetIds || [], i3 = (s3 = e4.targetChange.resumeToken, t4.I ? (yb(void 0 === s3 || "string" == typeof s3), Mb.fromBase64String(s3 || "")) : (yb(void 0 === s3 || s3 instanceof Uint8Array), Mb.fromUint8Array(s3 || new Uint8Array()))), o3 = (a3 = e4.targetChange.cause) && (u3 = void 0 === (c3 = a3).code ? ab.UNKNOWN : o0(c3.code), new ub(u3, c3.message || "")), s3 = new C0(n3, r3, i3, o3 || null);
          } else if ("documentChange" in e4) {
            e4.documentChange, (n3 = e4.documentChange).document, n3.document.name, n3.document.updateTime;
            var r3 = H0(t4, n3.document.name), i3 = V0(n3.document.updateTime), a3 = new f_({ mapValue: { fields: n3.document.fields } }), u3 = (o3 = d_.newFoundDocument(r3, i3, a3), n3.targetIds || []), c3 = n3.removedTargetIds || [];
            s3 = new S0(u3, c3, o3.key, o3);
          } else if ("documentDelete" in e4)
            e4.documentDelete, (n3 = e4.documentDelete).document, r3 = H0(t4, n3.document), i3 = n3.readTime ? V0(n3.readTime) : Eb.min(), a3 = d_.newNoDocument(r3, i3), o3 = n3.removedTargetIds || [], s3 = new S0([], o3, a3.key, a3);
          else if ("documentRemove" in e4)
            e4.documentRemove, (n3 = e4.documentRemove).document, r3 = H0(t4, n3.document), i3 = n3.removedTargetIds || [], s3 = new S0([], i3, r3, null);
          else {
            if (!("filter" in e4))
              return vb();
            e4.filter;
            e4 = e4.filter;
            e4.targetId, n3 = e4.count || 0, r3 = new Xw(n3), i3 = e4.targetId, s3 = new k0(i3, r3);
          }
          return s3;
        }(this.R, t3), t3 = function(t4) {
          if (!("targetChange" in t4))
            return Eb.min();
          t4 = t4.targetChange;
          return (!t4.targetIds || !t4.targetIds.length) && t4.readTime ? V0(t4.readTime) : Eb.min();
        }(t3);
        return this.listener._r(e3, t3);
      }, i1.prototype.mr = function(t3) {
        var e3, n3, r3, i3 = {};
        i3.database = Q0(this.R), i3.addTarget = (e3 = this.R, (r3 = __(r3 = (n3 = t3).target) ? { documents: tT(e3, r3) } : { query: eT(e3, r3) }).targetId = n3.targetId, 0 < n3.resumeToken.approximateByteSize() ? r3.resumeToken = q0(e3, n3.resumeToken) : 0 < n3.snapshotVersion.compareTo(Eb.min()) && (r3.readTime = U0(e3, n3.snapshotVersion.toTimestamp())), r3);
        var o3, t3 = (this.R, o3 = t3, null == (t3 = function() {
          switch (o3.purpose) {
            case 0:
              return null;
            case 1:
              return "existence-filter-mismatch";
            case 2:
              return "limbo-document";
            default:
              return vb();
          }
        }()) ? null : { "goog-listen-tags": t3 });
        t3 && (i3.labels = t3), this.cr(i3);
      }, i1.prototype.yr = function(t3) {
        var e3 = {};
        e3.database = Q0(this.R), e3.removeTarget = t3, this.cr(e3);
      }, i1), JS = (Gi(r1, QS = Q), Object.defineProperty(r1.prototype, "pr", { get: function() {
        return this.gr;
      }, enumerable: false, configurable: true }), r1.prototype.start = function() {
        this.gr = false, this.lastStreamToken = void 0, QS.prototype.start.call(this);
      }, r1.prototype.ar = function() {
        this.gr && this.Er([]);
      }, r1.prototype.wr = function(t3) {
        return this.Hi.Oi("Write", t3);
      }, r1.prototype.onMessage = function(t3) {
        if (yb(!!t3.streamToken), this.lastStreamToken = t3.streamToken, this.gr) {
          this.Zi.reset();
          var e3 = (n3 = t3.writeResults, r3 = t3.commitTime, n3 && 0 < n3.length ? (yb(void 0 !== r3), n3.map(function(t4) {
            return n4 = r3, (t4 = (e4 = t4).updateTime ? V0(e4.updateTime) : V0(n4)).isEqual(Eb.min()) && (t4 = V0(n4)), new Dw(t4, e4.transformResults || []);
            var e4, n4;
          })) : []), n3 = V0(t3.commitTime);
          return this.listener.Tr(n3, e3);
        }
        var n3, r3;
        return yb(!t3.writeResults || 0 === t3.writeResults.length), this.gr = true, this.listener.Ir();
      }, r1.prototype.Ar = function() {
        var t3 = {};
        t3.database = Q0(this.R), this.cr(t3);
      }, r1.prototype.Er = function(t3) {
        var e3 = this, t3 = { streamToken: this.lastStreamToken, writes: t3.map(function(t4) {
          return J0(e3.R, t4);
        }) };
        this.cr(t3);
      }, r1), ZS = (Gi(n1, GS = function() {
      }), n1.prototype.br = function() {
        if (this.Rr)
          throw new ub(ab.FAILED_PRECONDITION, "The client has already been terminated.");
      }, n1.prototype.Ni = function(e3, n3, r3) {
        var i3 = this;
        return this.br(), this.credentials.getToken().then(function(t3) {
          return i3.Hi.Ni(e3, n3, r3, t3);
        }).catch(function(t3) {
          throw "FirebaseError" === t3.name ? (t3.code === ab.UNAUTHENTICATED && i3.credentials.invalidateToken(), t3) : new ub(ab.UNKNOWN, t3.toString());
        });
      }, n1.prototype.$i = function(e3, n3, r3) {
        var i3 = this;
        return this.br(), this.credentials.getToken().then(function(t3) {
          return i3.Hi.$i(e3, n3, r3, t3);
        }).catch(function(t3) {
          throw "FirebaseError" === t3.name ? (t3.code === ab.UNAUTHENTICATED && i3.credentials.invalidateToken(), t3) : new ub(ab.UNKNOWN, t3.toString());
        });
      }, n1.prototype.terminate = function() {
        this.Rr = true;
      }, n1), t1 = (e1.prototype.Sr = function() {
        var t3 = this;
        0 === this.vr && (this.Dr("Unknown"), this.Pr = this.asyncQueue.enqueueAfterDelay("online_state_timeout", 1e4, function() {
          return t3.Pr = null, t3.Cr("Backend didn't respond within 10 seconds."), t3.Dr("Offline"), Promise.resolve();
        }));
      }, e1.prototype.Nr = function(t3) {
        "Online" === this.state ? this.Dr("Unknown") : (this.vr++, 1 <= this.vr && (this.kr(), this.Cr("Connection failed 1 times. Most recent error: " + t3.toString()), this.Dr("Offline")));
      }, e1.prototype.set = function(t3) {
        this.kr(), this.vr = 0, "Online" === t3 && (this.Vr = false), this.Dr(t3);
      }, e1.prototype.Dr = function(t3) {
        t3 !== this.state && (this.state = t3, this.onlineStateHandler(t3));
      }, e1.prototype.Cr = function(t3) {
        t3 = "Could not reach Cloud Firestore backend. " + t3 + "\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";
        this.Vr ? (pb(t3), this.Vr = false) : fb("OnlineStateTracker", t3);
      }, e1.prototype.kr = function() {
        null !== this.Pr && (this.Pr.cancel(), this.Pr = null);
      }, e1);
      function e1(t3, e3) {
        this.asyncQueue = t3, this.onlineStateHandler = e3, this.state = "Unknown", this.vr = 0, this.Pr = null, this.Vr = true;
      }
      function n1(t3, e3, n3) {
        var r3 = this;
        return (r3 = GS.call(this) || this).credentials = t3, r3.Hi = e3, r3.R = n3, r3.Rr = false, r3;
      }
      function r1(t3, e3, n3, r3, i3) {
        var o3 = this;
        return (o3 = QS.call(this, t3, "write_stream_connection_backoff", "write_stream_idle", e3, n3, i3) || this).R = r3, o3.gr = false, o3;
      }
      function i1(t3, e3, n3, r3, i3) {
        var o3 = this;
        return (o3 = YS.call(this, t3, "listen_stream_connection_backoff", "listen_stream_idle", e3, n3, i3) || this).R = r3, o3;
      }
      function o1(t3, e3, n3, r3, i3, o3) {
        this.Se = t3, this.zi = n3, this.Hi = r3, this.Ji = i3, this.listener = o3, this.state = 0, this.Yi = 0, this.Xi = null, this.stream = null, this.Zi = new XS(t3, e3);
      }
      function s1(t3, e3, n3, r3, i3) {
        void 0 === n3 && (n3 = 1e3), void 0 === r3 && (r3 = 1.5), void 0 === i3 && (i3 = 6e4), this.Se = t3, this.timerId = e3, this.Mi = n3, this.Li = r3, this.Bi = i3, this.qi = 0, this.Ui = null, this.Ki = Date.now(), this.reset();
      }
      function a1(r3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if (!g1(r3))
                  return [3, 4];
                e3 = 0, n3 = r3.Mr, t3.label = 1;
              case 1:
                return e3 < n3.length ? [4, (0, n3[e3])(true)] : [3, 4];
              case 2:
                t3.sent(), t3.label = 3;
              case 3:
                return e3++, [3, 1];
              case 4:
                return [2];
            }
          });
        });
      }
      function u1(r3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                e3 = 0, n3 = r3.Mr, t3.label = 1;
              case 1:
                return e3 < n3.length ? [4, (0, n3[e3])(false)] : [3, 4];
              case 2:
                t3.sent(), t3.label = 3;
              case 3:
                return e3++, [3, 1];
              case 4:
                return [2];
            }
          });
        });
      }
      function c1(t3, e3) {
        t3.$r.has(e3.targetId) || (t3.$r.set(e3.targetId, e3), d1(t3) ? p1(t3) : E1(t3).er() && l1(t3, e3));
      }
      function h1(t3, e3) {
        var n3 = t3, t3 = E1(n3);
        n3.$r.delete(e3), t3.er() && f1(n3, e3), 0 === n3.$r.size && (t3.er() ? t3.ir() : g1(n3) && n3.Br.set("Unknown"));
      }
      function l1(t3, e3) {
        t3.qr.U(e3.targetId), E1(t3).mr(e3);
      }
      function f1(t3, e3) {
        t3.qr.U(e3), E1(t3).yr(e3);
      }
      function p1(e3) {
        e3.qr = new N0({ getRemoteKeysForTarget: function(t3) {
          return e3.remoteSyncer.getRemoteKeysForTarget(t3);
        }, lt: function(t3) {
          return e3.$r.get(t3) || null;
        } }), E1(e3).start(), e3.Br.Sr();
      }
      function d1(t3) {
        return g1(t3) && !E1(t3).tr() && 0 < t3.$r.size;
      }
      function g1(t3) {
        return 0 === t3.Or.size;
      }
      function v1(t3) {
        t3.qr = void 0;
      }
      function y1(s3, a3, u3) {
        return Yi(this, void 0, void 0, function() {
          var n3, o3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if (s3.Br.set("Online"), !(a3 instanceof C0 && 2 === a3.state && a3.cause))
                  return [3, 6];
                t3.label = 1;
              case 1:
                return t3.trys.push([1, 3, , 5]), [4, function(o4, s4) {
                  return Yi(this, void 0, void 0, function() {
                    var e4, n4, r4, i4;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          e4 = s4.cause, n4 = 0, r4 = s4.targetIds, t4.label = 1;
                        case 1:
                          return n4 < r4.length ? (i4 = r4[n4], o4.$r.has(i4) ? [4, o4.remoteSyncer.rejectListen(i4, e4)] : [3, 3]) : [3, 5];
                        case 2:
                          t4.sent(), o4.$r.delete(i4), o4.qr.removeTarget(i4), t4.label = 3;
                        case 3:
                          t4.label = 4;
                        case 4:
                          return n4++, [3, 1];
                        case 5:
                          return [2];
                      }
                    });
                  });
                }(s3, a3)];
              case 2:
                return t3.sent(), [3, 5];
              case 3:
                return n3 = t3.sent(), fb("RemoteStore", "Failed to remove targets %s: %s ", a3.targetIds.join(","), n3), [4, m1(s3, n3)];
              case 4:
                return t3.sent(), [3, 5];
              case 5:
                return [3, 13];
              case 6:
                if (a3 instanceof S0 ? s3.qr.X(a3) : a3 instanceof k0 ? s3.qr.rt(a3) : s3.qr.et(a3), u3.isEqual(Eb.min()))
                  return [3, 13];
                t3.label = 7;
              case 7:
                return t3.trys.push([7, 11, , 13]), [4, ME(s3.localStore)];
              case 8:
                return o3 = t3.sent(), 0 <= u3.compareTo(o3) ? [4, (i3 = u3, (e3 = (r3 = s3).qr.ut(i3)).targetChanges.forEach(function(t4, e4) {
                  var n4;
                  0 < t4.resumeToken.approximateByteSize() && ((n4 = r3.$r.get(e4)) && r3.$r.set(e4, n4.withResumeToken(t4.resumeToken, i3)));
                }), e3.targetMismatches.forEach(function(t4) {
                  var e4 = r3.$r.get(t4);
                  e4 && (r3.$r.set(t4, e4.withResumeToken(Mb.EMPTY_BYTE_STRING, e4.snapshotVersion)), f1(r3, t4), e4 = new rI(e4.target, t4, 1, e4.sequenceNumber), l1(r3, e4));
                }), r3.remoteSyncer.applyRemoteEvent(e3))] : [3, 10];
              case 9:
                t3.sent(), t3.label = 10;
              case 10:
                return [3, 13];
              case 11:
                return fb("RemoteStore", "Failed to raise snapshot:", o3 = t3.sent()), [4, m1(s3, o3)];
              case 12:
                return t3.sent(), [3, 13];
              case 13:
                return [2];
            }
            var r3, i3, e3;
          });
        });
      }
      function m1(n3, r3, i3) {
        return Yi(this, void 0, void 0, function() {
          var e3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if (!HT(r3))
                  throw r3;
                return n3.Or.add(1), [4, u1(n3)];
              case 1:
                return t3.sent(), n3.Br.set("Offline"), i3 = i3 || function() {
                  return ME(n3.localStore);
                }, n3.asyncQueue.enqueueRetryable(function() {
                  return Yi(e3, void 0, void 0, function() {
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return fb("RemoteStore", "Retrying IndexedDB access"), [4, i3()];
                        case 1:
                          return t4.sent(), n3.Or.delete(1), [4, a1(n3)];
                        case 2:
                          return t4.sent(), [2];
                      }
                    });
                  });
                }), [2];
            }
          });
        });
      }
      function b1(e3, n3) {
        return n3().catch(function(t3) {
          return m1(e3, t3, n3);
        });
      }
      function _1(u3) {
        return Yi(this, void 0, void 0, function() {
          var i3, o3, s3, a3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                o3 = S1(i3 = u3), s3 = 0 < i3.Fr.length ? i3.Fr[i3.Fr.length - 1].batchId : -1, t3.label = 1;
              case 1:
                if (!(g1(i3) && i3.Fr.length < 10))
                  return [3, 7];
                t3.label = 2;
              case 2:
                return t3.trys.push([2, 4, , 6]), [4, (e3 = i3.localStore, n3 = s3, (r3 = e3).persistence.runTransaction("Get next mutation batch", "readonly", function(t4) {
                  return void 0 === n3 && (n3 = -1), r3._n.getNextMutationBatchAfterBatchId(t4, n3);
                }))];
              case 3:
                return null === (a3 = t3.sent()) ? (0 === i3.Fr.length && o3.ir(), [3, 7]) : (s3 = a3.batchId, function(t4, e4) {
                  t4.Fr.push(e4);
                  t4 = S1(t4);
                  t4.er() && t4.pr && t4.Er(e4.mutations);
                }(i3, a3), [3, 6]);
              case 4:
                return a3 = t3.sent(), [4, m1(i3, a3)];
              case 5:
                return t3.sent(), [3, 6];
              case 6:
                return [3, 1];
              case 7:
                return w1(i3) && T1(i3), [2];
            }
            var e3, n3, r3;
          });
        });
      }
      function w1(t3) {
        return g1(t3) && !S1(t3).tr() && 0 < t3.Fr.length;
      }
      function T1(t3) {
        S1(t3).start();
      }
      function I1(n3, r3) {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e3 = n3, r3 ? (e3.Or.delete(2), [4, a1(e3)]) : [3, 2];
              case 1:
                return t3.sent(), [3, 5];
              case 2:
                return r3 ? [3, 4] : (e3.Or.add(2), [4, u1(e3)]);
              case 3:
                t3.sent(), e3.Br.set("Unknown"), t3.label = 4;
              case 4:
                t3.label = 5;
              case 5:
                return [2];
            }
          });
        });
      }
      function E1(n3) {
        var t3, e3, r3, i3 = this;
        return n3.Ur || (n3.Ur = (t3 = n3.datastore, e3 = n3.asyncQueue, r3 = { Ii: function(n4) {
          return Yi(this, void 0, void 0, function() {
            return Xi(this, function(t4) {
              return n4.$r.forEach(function(t5, e4) {
                l1(n4, t5);
              }), [2];
            });
          });
        }.bind(null, n3), Ri: function(e4, n4) {
          return Yi(this, void 0, void 0, function() {
            return Xi(this, function(t4) {
              return v1(e4), d1(e4) ? (e4.Br.Nr(n4), p1(e4)) : e4.Br.set("Unknown"), [2];
            });
          });
        }.bind(null, n3), _r: y1.bind(null, n3) }, t3.br(), new $S(e3, t3.Hi, t3.credentials, t3.R, r3)), n3.Mr.push(function(e4) {
          return Yi(i3, void 0, void 0, function() {
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return e4 ? (n3.Ur.sr(), d1(n3) ? p1(n3) : n3.Br.set("Unknown"), [3, 3]) : [3, 1];
                case 1:
                  return [4, n3.Ur.stop()];
                case 2:
                  t4.sent(), v1(n3), t4.label = 3;
                case 3:
                  return [2];
              }
            });
          });
        })), n3.Ur;
      }
      function S1(n3) {
        var t3, e3, r3, i3 = this;
        return n3.Kr || (n3.Kr = (t3 = n3.datastore, e3 = n3.asyncQueue, r3 = { Ii: function(e4) {
          return Yi(this, void 0, void 0, function() {
            return Xi(this, function(t4) {
              return S1(e4).Ar(), [2];
            });
          });
        }.bind(null, n3), Ri: function(e4, n4) {
          return Yi(this, void 0, void 0, function() {
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return n4 && S1(e4).pr ? [4, function(r4, i4) {
                    return Yi(this, void 0, void 0, function() {
                      var e5, n5;
                      return Xi(this, function(t5) {
                        switch (t5.label) {
                          case 0:
                            return i0(n5 = i4.code) && n5 !== ab.ABORTED ? (e5 = r4.Fr.shift(), S1(r4).sr(), [4, b1(r4, function() {
                              return r4.remoteSyncer.rejectFailedWrite(e5.batchId, i4);
                            })]) : [3, 3];
                          case 1:
                            return t5.sent(), [4, _1(r4)];
                          case 2:
                            t5.sent(), t5.label = 3;
                          case 3:
                            return [2];
                        }
                      });
                    });
                  }(e4, n4)] : [3, 2];
                case 1:
                  t4.sent(), t4.label = 2;
                case 2:
                  return w1(e4) && T1(e4), [2];
              }
            });
          });
        }.bind(null, n3), Ir: function(o3) {
          return Yi(this, void 0, void 0, function() {
            var e4, n4, r4, i4;
            return Xi(this, function(t4) {
              for (e4 = S1(o3), n4 = 0, r4 = o3.Fr; n4 < r4.length; n4++)
                i4 = r4[n4], e4.Er(i4.mutations);
              return [2];
            });
          });
        }.bind(null, n3), Tr: function(r4, i4, o3) {
          return Yi(this, void 0, void 0, function() {
            var e4, n4;
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return e4 = r4.Fr.shift(), n4 = nI.from(e4, i4, o3), [4, b1(r4, function() {
                    return r4.remoteSyncer.applySuccessfulWrite(n4);
                  })];
                case 1:
                  return t4.sent(), [4, _1(r4)];
                case 2:
                  return t4.sent(), [2];
              }
            });
          });
        }.bind(null, n3) }, t3.br(), new JS(e3, t3.Hi, t3.credentials, t3.R, r3)), n3.Mr.push(function(e4) {
          return Yi(i3, void 0, void 0, function() {
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return e4 ? (n3.Kr.sr(), [4, _1(n3)]) : [3, 2];
                case 1:
                  return t4.sent(), [3, 4];
                case 2:
                  return [4, n3.Kr.stop()];
                case 3:
                  t4.sent(), 0 < n3.Fr.length && (fb("RemoteStore", "Stopping write stream with " + n3.Fr.length + " pending writes"), n3.Fr = []), t4.label = 4;
                case 4:
                  return [2];
              }
            });
          });
        })), n3.Kr;
      }
      var k1 = (C1.createAndSchedule = function(t3, e3, n3, r3, i3) {
        i3 = new C1(t3, e3, Date.now() + n3, r3, i3);
        return i3.start(n3), i3;
      }, C1.prototype.start = function(t3) {
        var e3 = this;
        this.timerHandle = setTimeout(function() {
          return e3.handleDelayElapsed();
        }, t3);
      }, C1.prototype.skipDelay = function() {
        return this.handleDelayElapsed();
      }, C1.prototype.cancel = function(t3) {
        null !== this.timerHandle && (this.clearTimeout(), this.deferred.reject(new ub(ab.CANCELLED, "Operation cancelled" + (t3 ? ": " + t3 : ""))));
      }, C1.prototype.handleDelayElapsed = function() {
        var e3 = this;
        this.asyncQueue.enqueueAndForget(function() {
          return null !== e3.timerHandle ? (e3.clearTimeout(), e3.op().then(function(t3) {
            return e3.deferred.resolve(t3);
          })) : Promise.resolve();
        });
      }, C1.prototype.clearTimeout = function() {
        null !== this.timerHandle && (this.removalCallback(this), clearTimeout(this.timerHandle), this.timerHandle = null);
      }, C1);
      function C1(t3, e3, n3, r3, i3) {
        this.asyncQueue = t3, this.timerId = e3, this.targetTimeMs = n3, this.op = r3, this.removalCallback = i3, this.deferred = new DT(), this.then = this.deferred.promise.then.bind(this.deferred.promise), this.deferred.promise.catch(function(t4) {
        });
      }
      function A1(t3, e3) {
        if (pb("AsyncQueue", e3 + ": " + t3), HT(t3))
          return new ub(ab.UNAVAILABLE, e3 + ": " + t3);
        throw t3;
      }
      function N1() {
        this.queries = new oE(cw, uw), this.onlineState = "Unknown", this.Gr = /* @__PURE__ */ new Set();
      }
      var R1 = (M1.emptySet = function(t3) {
        return new M1(t3.comparator);
      }, M1.prototype.has = function(t3) {
        return null != this.keyedMap.get(t3);
      }, M1.prototype.get = function(t3) {
        return this.keyedMap.get(t3);
      }, M1.prototype.first = function() {
        return this.sortedSet.minKey();
      }, M1.prototype.last = function() {
        return this.sortedSet.maxKey();
      }, M1.prototype.isEmpty = function() {
        return this.sortedSet.isEmpty();
      }, M1.prototype.indexOf = function(t3) {
        t3 = this.keyedMap.get(t3);
        return t3 ? this.sortedSet.indexOf(t3) : -1;
      }, Object.defineProperty(M1.prototype, "size", { get: function() {
        return this.sortedSet.size;
      }, enumerable: false, configurable: true }), M1.prototype.forEach = function(n3) {
        this.sortedSet.inorderTraversal(function(t3, e3) {
          return n3(t3), false;
        });
      }, M1.prototype.add = function(t3) {
        var e3 = this.delete(t3.key);
        return e3.copy(e3.keyedMap.insert(t3.key, t3), e3.sortedSet.insert(t3, null));
      }, M1.prototype.delete = function(t3) {
        var e3 = this.get(t3);
        return e3 ? this.copy(this.keyedMap.remove(t3), this.sortedSet.remove(e3)) : this;
      }, M1.prototype.isEqual = function(t3) {
        if (!(t3 instanceof M1))
          return false;
        if (this.size !== t3.size)
          return false;
        for (var e3 = this.sortedSet.getIterator(), n3 = t3.sortedSet.getIterator(); e3.hasNext(); ) {
          var r3 = e3.getNext().key, i3 = n3.getNext().key;
          if (!r3.isEqual(i3))
            return false;
        }
        return true;
      }, M1.prototype.toString = function() {
        var e3 = [];
        return this.forEach(function(t3) {
          e3.push(t3.toString());
        }), 0 === e3.length ? "DocumentSet ()" : "DocumentSet (\n  " + e3.join("  \n") + "\n)";
      }, M1.prototype.copy = function(t3, e3) {
        var n3 = new M1();
        return n3.comparator = this.comparator, n3.keyedMap = t3, n3.sortedSet = e3, n3;
      }, M1), P1 = (L1.prototype.track = function(t3) {
        var e3 = t3.doc.key, n3 = this.Qr.get(e3);
        !n3 || 0 !== t3.type && 3 === n3.type ? this.Qr = this.Qr.insert(e3, t3) : 3 === t3.type && 1 !== n3.type ? this.Qr = this.Qr.insert(e3, { type: n3.type, doc: t3.doc }) : 2 === t3.type && 2 === n3.type ? this.Qr = this.Qr.insert(e3, { type: 2, doc: t3.doc }) : 2 === t3.type && 0 === n3.type ? this.Qr = this.Qr.insert(e3, { type: 0, doc: t3.doc }) : 1 === t3.type && 0 === n3.type ? this.Qr = this.Qr.remove(e3) : 1 === t3.type && 2 === n3.type ? this.Qr = this.Qr.insert(e3, { type: 1, doc: n3.doc }) : 0 === t3.type && 1 === n3.type ? this.Qr = this.Qr.insert(e3, { type: 2, doc: t3.doc }) : vb();
      }, L1.prototype.jr = function() {
        var n3 = [];
        return this.Qr.inorderTraversal(function(t3, e3) {
          n3.push(e3);
        }), n3;
      }, L1), O1 = (x1.fromInitialDocuments = function(t3, e3, n3, r3) {
        var i3 = [];
        return e3.forEach(function(t4) {
          i3.push({ type: 0, doc: t4 });
        }), new x1(t3, e3, R1.emptySet(e3), i3, n3, r3, true, false);
      }, Object.defineProperty(x1.prototype, "hasPendingWrites", { get: function() {
        return !this.mutatedKeys.isEmpty();
      }, enumerable: false, configurable: true }), x1.prototype.isEqual = function(t3) {
        if (!(this.fromCache === t3.fromCache && this.syncStateChanged === t3.syncStateChanged && this.mutatedKeys.isEqual(t3.mutatedKeys) && uw(this.query, t3.query) && this.docs.isEqual(t3.docs) && this.oldDocs.isEqual(t3.oldDocs)))
          return false;
        var e3 = this.docChanges, n3 = t3.docChanges;
        if (e3.length !== n3.length)
          return false;
        for (var r3 = 0; r3 < e3.length; r3++)
          if (e3[r3].type !== n3[r3].type || !e3[r3].doc.isEqual(n3[r3].doc))
            return false;
        return true;
      }, x1), D1 = function() {
        this.Wr = void 0, this.listeners = [];
      };
      function x1(t3, e3, n3, r3, i3, o3, s3, a3) {
        this.query = t3, this.docs = e3, this.oldDocs = n3, this.docChanges = r3, this.mutatedKeys = i3, this.fromCache = o3, this.syncStateChanged = s3, this.excludesMetadataChanges = a3;
      }
      function L1() {
        this.Qr = new s0($b.comparator);
      }
      function M1(n3) {
        this.comparator = n3 ? function(t3, e3) {
          return n3(t3, e3) || $b.comparator(t3.key, e3.key);
        } : function(t3, e3) {
          return $b.comparator(t3.key, e3.key);
        }, this.keyedMap = m0, this.sortedSet = new s0(this.comparator);
      }
      function F1(s3, a3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3, i3, o3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if (e3 = s3, n3 = a3.query, r3 = false, (i3 = e3.queries.get(n3)) || (r3 = true, i3 = new D1()), !r3)
                  return [3, 4];
                t3.label = 1;
              case 1:
                return t3.trys.push([1, 3, , 4]), o3 = i3, [4, e3.onListen(n3)];
              case 2:
                return o3.Wr = t3.sent(), [3, 4];
              case 3:
                return o3 = t3.sent(), o3 = A1(o3, "Initialization of query '" + hw(a3.query) + "' failed"), [2, void a3.onError(o3)];
              case 4:
                return e3.queries.set(n3, i3), i3.listeners.push(a3), a3.zr(e3.onlineState), i3.Wr && a3.Hr(i3.Wr) && U1(e3), [2];
            }
          });
        });
      }
      function j1(s3, a3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3, i3, o3;
          return Xi(this, function(t3) {
            return e3 = s3, n3 = a3.query, r3 = false, (i3 = e3.queries.get(n3)) && 0 <= (o3 = i3.listeners.indexOf(a3)) && (i3.listeners.splice(o3, 1), r3 = 0 === i3.listeners.length), r3 ? [2, (e3.queries.delete(n3), e3.onUnlisten(n3))] : [2];
          });
        });
      }
      function U1(t3) {
        t3.Gr.forEach(function(t4) {
          t4.next();
        });
      }
      var q1 = (G1.prototype.Hr = function(t3) {
        if (!this.options.includeMetadataChanges) {
          for (var e3 = [], n3 = 0, r3 = t3.docChanges; n3 < r3.length; n3++) {
            var i3 = r3[n3];
            3 !== i3.type && e3.push(i3);
          }
          t3 = new O1(t3.query, t3.docs, t3.oldDocs, e3, t3.mutatedKeys, t3.fromCache, t3.syncStateChanged, true);
        }
        var o3 = false;
        return this.Yr ? this.Zr(t3) && (this.Jr.next(t3), o3 = true) : this.eo(t3, this.onlineState) && (this.no(t3), o3 = true), this.Xr = t3, o3;
      }, G1.prototype.onError = function(t3) {
        this.Jr.error(t3);
      }, G1.prototype.zr = function(t3) {
        this.onlineState = t3;
        var e3 = false;
        return this.Xr && !this.Yr && this.eo(this.Xr, t3) && (this.no(this.Xr), e3 = true), e3;
      }, G1.prototype.eo = function(t3, e3) {
        return !t3.fromCache || !(this.options.so && "Offline" !== e3 || t3.docs.isEmpty() && "Offline" !== e3);
      }, G1.prototype.Zr = function(t3) {
        if (0 < t3.docChanges.length)
          return true;
        var e3 = this.Xr && this.Xr.hasPendingWrites !== t3.hasPendingWrites;
        return !(!t3.syncStateChanged && !e3) && true === this.options.includeMetadataChanges;
      }, G1.prototype.no = function(t3) {
        t3 = O1.fromInitialDocuments(t3.query, t3.docs, t3.mutatedKeys, t3.fromCache), this.Yr = true, this.Jr.next(t3);
      }, G1), V1 = (z1.prototype.io = function() {
        return "metadata" in this.payload;
      }, z1), B1 = (H1.prototype.qn = function(t3) {
        return H0(this.R, t3);
      }, H1.prototype.Un = function(t3) {
        return t3.metadata.exists ? $0(this.R, t3.document, false) : d_.newNoDocument(this.qn(t3.metadata.name), this.Kn(t3.metadata.readTime));
      }, H1.prototype.Kn = V0, H1), K1 = (W1.prototype.oo = function(t3) {
        this.progress.bytesLoaded += t3.byteLength;
        var e3 = this.progress.documentsLoaded;
        return t3.payload.namedQuery ? this.queries.push(t3.payload.namedQuery) : t3.payload.documentMetadata ? (this.documents.push({ metadata: t3.payload.documentMetadata }), t3.payload.documentMetadata.exists || ++e3) : t3.payload.document && (this.documents[this.documents.length - 1].document = t3.payload.document, ++e3), e3 !== this.progress.documentsLoaded ? (this.progress.documentsLoaded = e3, Object.assign({}, this.progress)) : null;
      }, W1.prototype.co = function(t3) {
        for (var e3 = /* @__PURE__ */ new Map(), n3 = new B1(this.R), r3 = 0, i3 = t3; r3 < i3.length; r3++) {
          var o3 = i3[r3];
          if (o3.metadata.queries)
            for (var s3 = n3.qn(o3.metadata.name), a3 = 0, u3 = o3.metadata.queries; a3 < u3.length; a3++) {
              var c3 = u3[a3], h3 = (e3.get(c3) || w0()).add(s3);
              e3.set(c3, h3);
            }
        }
        return e3;
      }, W1.prototype.complete = function() {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3, i3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, function(l3, f3, p3, d3) {
                  return Yi(this, void 0, void 0, function() {
                    var n4, r4, i4, o3, e4, s3, a3, u3, c3, h3;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          for (n4 = l3, r4 = w0(), i4 = g0, o3 = b0, e4 = 0, s3 = p3; e4 < s3.length; e4++)
                            a3 = s3[e4], u3 = f3.qn(a3.metadata.name), a3.document && (r4 = r4.add(u3)), i4 = i4.insert(u3, f3.Un(a3)), o3 = o3.insert(u3, f3.Kn(a3.metadata.readTime));
                          return c3 = n4.On.newChangeBuffer({ trackRemovals: true }), [4, UE(n4, sw(Z_(Ob.fromString("__bundle__/docs/" + d3))))];
                        case 1:
                          return h3 = t4.sent(), [2, n4.persistence.runTransaction("Apply bundle documents", "readwrite", function(e5) {
                            return jE(e5, c3, i4, Eb.min(), o3).next(function(t5) {
                              return c3.apply(e5), t5;
                            }).next(function(t5) {
                              return n4.qe.removeMatchingKeysForTargetId(e5, h3.targetId).next(function() {
                                return n4.qe.addMatchingKeys(e5, r4, h3.targetId);
                              }).next(function() {
                                return n4.Mn.En(e5, t5);
                              }).next(function() {
                                return t5;
                              });
                            });
                          })];
                      }
                    });
                  });
                }(this.localStore, new B1(this.R), this.documents, this.ro.id)];
              case 1:
                e3 = t3.sent(), n3 = this.co(this.documents), r3 = 0, i3 = this.queries, t3.label = 2;
              case 2:
                return r3 < i3.length ? (i3 = i3[r3], [4, function(e4, i4, o3) {
                  return void 0 === o3 && (o3 = w0()), Yi(this, void 0, void 0, function() {
                    var n4, r4;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return [4, UE(e4, sw(yI(i4.bundledQuery)))];
                        case 1:
                          return n4 = t4.sent(), [2, (r4 = e4).persistence.runTransaction("Save named query", "readwrite", function(t5) {
                            var e5 = V0(i4.readTime);
                            if (0 <= n4.snapshotVersion.compareTo(e5))
                              return r4.Ke.saveNamedQuery(t5, i4);
                            e5 = n4.withResumeToken(Mb.EMPTY_BYTE_STRING, e5);
                            return r4.kn = r4.kn.insert(e5.targetId, e5), r4.qe.updateTargetData(t5, e5).next(function() {
                              return r4.qe.removeMatchingKeysForTargetId(t5, n4.targetId);
                            }).next(function() {
                              return r4.qe.addMatchingKeys(t5, o3, n4.targetId);
                            }).next(function() {
                              return r4.Ke.saveNamedQuery(t5, i4);
                            });
                          })];
                      }
                    });
                  });
                }(this.localStore, i3, n3.get(i3.name))]) : [3, 5];
              case 3:
                t3.sent(), t3.label = 4;
              case 4:
                return r3++, [3, 2];
              case 5:
                return [2, (this.progress.taskState = "Success", new EE(Object.assign({}, this.progress), e3))];
            }
          });
        });
      }, W1);
      function W1(t3, e3, n3) {
        this.ro = t3, this.localStore = e3, this.R = n3, this.queries = [], this.documents = [], this.progress = Q1(t3);
      }
      function H1(t3) {
        this.R = t3;
      }
      function z1(t3, e3) {
        this.payload = t3, this.byteLength = e3;
      }
      function G1(t3, e3, n3) {
        this.query = t3, this.Jr = e3, this.Yr = false, this.Xr = null, this.onlineState = "Unknown", this.options = n3 || {};
      }
      function Q1(t3) {
        return { taskState: "Running", documentsLoaded: 0, bytesLoaded: 0, totalDocuments: t3.totalDocuments, totalBytes: t3.totalBytes };
      }
      var Y1 = function(t3) {
        this.key = t3;
      }, X1 = function(t3) {
        this.key = t3;
      }, $1 = (Object.defineProperty(nk.prototype, "wo", { get: function() {
        return this.uo;
      }, enumerable: false, configurable: true }), nk.prototype._o = function(t3, e3) {
        var s3 = this, a3 = e3 ? e3.mo : new P1(), u3 = (e3 || this).fo, c3 = (e3 || this).mutatedKeys, h3 = u3, l3 = false, f3 = tw(this.query) && u3.size === this.query.limit ? u3.last() : null, p3 = ew(this.query) && u3.size === this.query.limit ? u3.first() : null;
        if (t3.inorderTraversal(function(t4, e4) {
          var n4 = u3.get(t4), r3 = lw(s3.query, e4) ? e4 : null, i3 = !!n4 && s3.mutatedKeys.has(n4.key), o3 = !!r3 && (r3.hasLocalMutations || s3.mutatedKeys.has(r3.key) && r3.hasCommittedMutations), e4 = false;
          n4 && r3 ? n4.data.isEqual(r3.data) ? i3 !== o3 && (a3.track({ type: 3, doc: r3 }), e4 = true) : s3.yo(n4, r3) || (a3.track({ type: 2, doc: r3 }), e4 = true, (f3 && 0 < s3.lo(r3, f3) || p3 && s3.lo(r3, p3) < 0) && (l3 = true)) : !n4 && r3 ? (a3.track({ type: 0, doc: r3 }), e4 = true) : n4 && !r3 && (a3.track({ type: 1, doc: n4 }), e4 = true, (f3 || p3) && (l3 = true)), e4 && (c3 = r3 ? (h3 = h3.add(r3), o3 ? c3.add(t4) : c3.delete(t4)) : (h3 = h3.delete(t4), c3.delete(t4)));
        }), tw(this.query) || ew(this.query))
          for (; h3.size > this.query.limit; ) {
            var n3 = tw(this.query) ? h3.last() : h3.first(), h3 = h3.delete(n3.key), c3 = c3.delete(n3.key);
            a3.track({ type: 1, doc: n3 });
          }
        return { fo: h3, mo: a3, Nn: l3, mutatedKeys: c3 };
      }, nk.prototype.yo = function(t3, e3) {
        return t3.hasLocalMutations && e3.hasCommittedMutations && !e3.hasLocalMutations;
      }, nk.prototype.applyChanges = function(t3, e3, n3) {
        var o3 = this, r3 = this.fo;
        this.fo = t3.fo, this.mutatedKeys = t3.mutatedKeys;
        var i3 = t3.mo.jr();
        i3.sort(function(t4, e4) {
          return r4 = t4.type, i4 = e4.type, n4(r4) - n4(i4) || o3.lo(t4.doc, e4.doc);
          function n4(t5) {
            switch (t5) {
              case 0:
                return 1;
              case 2:
              case 3:
                return 2;
              case 1:
                return 0;
              default:
                return vb();
            }
          }
          var r4, i4;
        }), this.po(n3);
        var s3 = e3 ? this.Eo() : [], n3 = 0 === this.ho.size && this.current ? 1 : 0, e3 = n3 !== this.ao;
        return this.ao = n3, 0 !== i3.length || e3 ? { snapshot: new O1(this.query, t3.fo, r3, i3, t3.mutatedKeys, 0 == n3, e3, false), To: s3 } : { To: s3 };
      }, nk.prototype.zr = function(t3) {
        return this.current && "Offline" === t3 ? (this.current = false, this.applyChanges({ fo: this.fo, mo: new P1(), mutatedKeys: this.mutatedKeys, Nn: false }, false)) : { To: [] };
      }, nk.prototype.Io = function(t3) {
        return !this.uo.has(t3) && !!this.fo.has(t3) && !this.fo.get(t3).hasLocalMutations;
      }, nk.prototype.po = function(t3) {
        var e3 = this;
        t3 && (t3.addedDocuments.forEach(function(t4) {
          return e3.uo = e3.uo.add(t4);
        }), t3.modifiedDocuments.forEach(function(t4) {
        }), t3.removedDocuments.forEach(function(t4) {
          return e3.uo = e3.uo.delete(t4);
        }), this.current = t3.current);
      }, nk.prototype.Eo = function() {
        var e3 = this;
        if (!this.current)
          return [];
        var n3 = this.ho;
        this.ho = w0(), this.fo.forEach(function(t3) {
          e3.Io(t3.key) && (e3.ho = e3.ho.add(t3.key));
        });
        var r3 = [];
        return n3.forEach(function(t3) {
          e3.ho.has(t3) || r3.push(new X1(t3));
        }), this.ho.forEach(function(t3) {
          n3.has(t3) || r3.push(new Y1(t3));
        }), r3;
      }, nk.prototype.Ao = function(t3) {
        this.uo = t3.Bn, this.ho = w0();
        t3 = this._o(t3.documents);
        return this.applyChanges(t3, true);
      }, nk.prototype.Ro = function() {
        return O1.fromInitialDocuments(this.query, this.fo, this.mutatedKeys, 0 === this.ao);
      }, nk), J1 = function(t3, e3, n3) {
        this.query = t3, this.targetId = e3, this.view = n3;
      }, Z1 = function(t3) {
        this.key = t3, this.bo = false;
      }, tk = (Object.defineProperty(ek.prototype, "isPrimaryClient", { get: function() {
        return true === this.$o;
      }, enumerable: false, configurable: true }), ek);
      function ek(t3, e3, n3, r3, i3, o3) {
        this.localStore = t3, this.remoteStore = e3, this.eventManager = n3, this.sharedClientState = r3, this.currentUser = i3, this.maxConcurrentLimboResolutions = o3, this.vo = {}, this.Po = new oE(cw, uw), this.Vo = /* @__PURE__ */ new Map(), this.So = /* @__PURE__ */ new Set(), this.Do = new s0($b.comparator), this.Co = /* @__PURE__ */ new Map(), this.No = new QE(), this.xo = {}, this.ko = /* @__PURE__ */ new Map(), this.Fo = qI.Yt(), this.onlineState = "Unknown", this.$o = void 0;
      }
      function nk(t3, e3) {
        this.query = t3, this.uo = e3, this.ao = null, this.current = false, this.ho = w0(), this.mutatedKeys = w0(), this.lo = fw(t3), this.fo = new R1(this.lo);
      }
      function rk(i3, o3, s3, a3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return i3.Oo = function(t4, e4, n4) {
                  return function(r4, i4, o4, s4) {
                    return Yi(this, void 0, void 0, function() {
                      var e5, n5;
                      return Xi(this, function(t5) {
                        switch (t5.label) {
                          case 0:
                            return (e5 = i4.view._o(o4)).Nn ? [4, VE(r4.localStore, i4.query, false).then(function(t6) {
                              t6 = t6.documents;
                              return i4.view._o(t6, e5);
                            })] : [3, 2];
                          case 1:
                            e5 = t5.sent(), t5.label = 2;
                          case 2:
                            return n5 = s4 && s4.targetChanges.get(i4.targetId), n5 = i4.view.applyChanges(e5, r4.isPrimaryClient, n5), [2, (pk(r4, i4.targetId, n5.To), n5.snapshot)];
                        }
                      });
                    });
                  }(i3, t4, e4, n4);
                }, [4, VE(i3.localStore, o3, true)];
              case 1:
                return n3 = t3.sent(), r3 = new $1(o3, n3.Bn), e3 = r3._o(n3.documents), n3 = E0.createSynthesizedTargetChangeForCurrentChange(s3, a3 && "Offline" !== i3.onlineState), n3 = r3.applyChanges(e3, i3.isPrimaryClient, n3), pk(i3, s3, n3.To), r3 = new J1(o3, s3, r3), [2, (i3.Po.set(o3, r3), i3.Vo.has(s3) ? i3.Vo.get(s3).push(o3) : i3.Vo.set(s3, [o3]), n3.snapshot)];
            }
          });
        });
      }
      function ik(f3, p3, d3) {
        return Yi(this, void 0, void 0, function() {
          var s3, l3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                l3 = Tk(f3), t3.label = 1;
              case 1:
                return t3.trys.push([1, 5, , 6]), [4, (i3 = l3.localStore, a3 = p3, c3 = i3, h3 = Ib.now(), o3 = a3.reduce(function(t4, e4) {
                  return t4.add(e4.key);
                }, w0()), c3.persistence.runTransaction("Locally write mutations", "readwrite", function(s4) {
                  return c3.Mn.pn(s4, o3).next(function(t4) {
                    u3 = t4;
                    for (var e4 = [], n4 = 0, r4 = a3; n4 < r4.length; n4++) {
                      var i4 = r4[n4], o4 = function(t5, e5) {
                        for (var n5 = null, r5 = 0, i5 = t5.fieldTransforms; r5 < i5.length; r5++) {
                          var o5 = i5[r5], s5 = e5.data.field(o5.field), s5 = vw(o5.transform, s5 || null);
                          null != s5 && (n5 = null == n5 ? f_.empty() : n5).set(o5.field, s5);
                        }
                        return n5 || null;
                      }(i4, u3.get(i4.key));
                      null != o4 && e4.push(new Ww(i4.key, o4, function s5(t5) {
                        var a4 = [];
                        return Ab(t5.fields, function(t6, e5) {
                          var n5 = new xb([t6]);
                          if (h_(e5))
                            if (0 === (e5 = s5(e5.mapValue).fields).length)
                              a4.push(n5);
                            else
                              for (var r5 = 0, i5 = e5; r5 < i5.length; r5++) {
                                var o5 = i5[r5];
                                a4.push(n5.child(o5));
                              }
                          else
                            a4.push(n5);
                        }), new Lb(a4);
                      }(o4.value.mapValue), Lw.exists(true)));
                    }
                    return c3._n.addMutationBatch(s4, h3, e4, a3);
                  });
                }).then(function(t4) {
                  return t4.applyToLocalDocumentSet(u3), { batchId: t4.batchId, changes: u3 };
                }))];
              case 2:
                return s3 = t3.sent(), l3.sharedClientState.addPendingMutation(s3.batchId), e3 = l3, n3 = s3.batchId, r3 = d3, i3 = (i3 = (i3 = e3.xo[e3.currentUser.toKey()]) || new s0(_b)).insert(n3, r3), e3.xo[e3.currentUser.toKey()] = i3, [4, gk(l3, s3.changes)];
              case 3:
                return t3.sent(), [4, _1(l3.remoteStore)];
              case 4:
                return t3.sent(), [3, 6];
              case 5:
                return l3 = t3.sent(), l3 = A1(l3, "Failed to persist write"), d3.reject(l3), [3, 6];
              case 6:
                return [2];
            }
            var e3, n3, r3, i3, a3, u3, c3, h3, o3;
          });
        });
      }
      function ok(r3, i3) {
        return Yi(this, void 0, void 0, function() {
          var n3, e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                n3 = r3, t3.label = 1;
              case 1:
                return t3.trys.push([1, 4, , 6]), [4, FE(n3.localStore, i3)];
              case 2:
                return e3 = t3.sent(), i3.targetChanges.forEach(function(t4, e4) {
                  e4 = n3.Co.get(e4);
                  e4 && (yb(t4.addedDocuments.size + t4.modifiedDocuments.size + t4.removedDocuments.size <= 1), 0 < t4.addedDocuments.size ? e4.bo = true : 0 < t4.modifiedDocuments.size ? yb(e4.bo) : 0 < t4.removedDocuments.size && (yb(e4.bo), e4.bo = false));
                }), [4, gk(n3, e3, i3)];
              case 3:
                return t3.sent(), [3, 6];
              case 4:
                return [4, GI(t3.sent())];
              case 5:
                return t3.sent(), [3, 6];
              case 6:
                return [2];
            }
          });
        });
      }
      function sk(t3, n3, e3) {
        var r3, t3 = t3;
        (t3.isPrimaryClient && 0 === e3 || !t3.isPrimaryClient && 1 === e3) && (r3 = [], t3.Po.forEach(function(t4, e4) {
          e4 = e4.view.zr(n3);
          e4.snapshot && r3.push(e4.snapshot);
        }), function(t4, i3) {
          t4.onlineState = i3;
          var o3 = false;
          t4.queries.forEach(function(t5, e4) {
            for (var n4 = 0, r4 = e4.listeners; n4 < r4.length; n4++)
              r4[n4].zr(i3) && (o3 = true);
          }), o3 && U1(t4);
        }(t3.eventManager, n3), r3.length && t3.vo._r(r3), t3.onlineState = n3, t3.isPrimaryClient && t3.sharedClientState.setOnlineState(n3));
      }
      function ak(s3, a3, u3) {
        return Yi(this, void 0, void 0, function() {
          var n3, o3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                n3 = s3, t3.label = 1;
              case 1:
                return t3.trys.push([1, 4, , 6]), [4, (e3 = n3.localStore, r3 = a3, (i3 = e3).persistence.runTransaction("Reject batch", "readwrite-primary", function(e4) {
                  var n4;
                  return i3._n.lookupMutationBatch(e4, r3).next(function(t4) {
                    return yb(null !== t4), n4 = t4.keys(), i3._n.removeMutationBatch(e4, t4);
                  }).next(function() {
                    return i3._n.performConsistencyCheck(e4);
                  }).next(function() {
                    return i3.Mn.pn(e4, n4);
                  });
                }))];
              case 2:
                return o3 = t3.sent(), hk(n3, a3, u3), ck(n3, a3), n3.sharedClientState.updateMutationState(a3, "rejected", u3), [4, gk(n3, o3)];
              case 3:
                return t3.sent(), [3, 6];
              case 4:
                return [4, GI(t3.sent())];
              case 5:
                return t3.sent(), [3, 6];
              case 6:
                return [2];
            }
            var e3, r3, i3;
          });
        });
      }
      function uk(o3, s3) {
        return Yi(this, void 0, void 0, function() {
          var n3, r3, i3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                g1((n3 = o3).remoteStore) || fb("SyncEngine", "The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."), t3.label = 1;
              case 1:
                return t3.trys.push([1, 3, , 4]), [4, (e3 = n3.localStore).persistence.runTransaction("Get highest unacknowledged batch id", "readonly", function(t4) {
                  return e3._n.getHighestUnacknowledgedBatchId(t4);
                })];
              case 2:
                return -1 === (r3 = t3.sent()) ? [2, void s3.resolve()] : ((i3 = n3.ko.get(r3) || []).push(s3), n3.ko.set(r3, i3), [3, 4]);
              case 3:
                return i3 = t3.sent(), i3 = A1(i3, "Initialization of waitForPendingWrites() operation failed"), s3.reject(i3), [3, 4];
              case 4:
                return [2];
            }
            var e3;
          });
        });
      }
      function ck(t3, e3) {
        (t3.ko.get(e3) || []).forEach(function(t4) {
          t4.resolve();
        }), t3.ko.delete(e3);
      }
      function hk(t3, e3, n3) {
        var r3 = t3, i3 = r3.xo[r3.currentUser.toKey()];
        i3 && ((t3 = i3.get(e3)) && (n3 ? t3.reject(n3) : t3.resolve(), i3 = i3.remove(e3)), r3.xo[r3.currentUser.toKey()] = i3);
      }
      function lk(e3, t3, n3) {
        void 0 === n3 && (n3 = null), e3.sharedClientState.removeLocalQueryTarget(t3);
        for (var r3 = 0, i3 = e3.Vo.get(t3); r3 < i3.length; r3++) {
          var o3 = i3[r3];
          e3.Po.delete(o3), n3 && e3.vo.Mo(o3, n3);
        }
        e3.Vo.delete(t3), e3.isPrimaryClient && e3.No.Zn(t3).forEach(function(t4) {
          e3.No.containsKey(t4) || fk(e3, t4);
        });
      }
      function fk(t3, e3) {
        t3.So.delete(e3.path.canonicalString());
        var n3 = t3.Do.get(e3);
        null !== n3 && (h1(t3.remoteStore, n3), t3.Do = t3.Do.remove(e3), t3.Co.delete(n3), dk(t3));
      }
      function pk(t3, e3, n3) {
        for (var r3, i3, o3, s3 = 0, a3 = n3; s3 < a3.length; s3++) {
          var u3 = a3[s3];
          u3 instanceof Y1 ? (t3.No.addReference(u3.key, e3), r3 = t3, o3 = void 0, i3 = (o3 = (i3 = u3).key).path.canonicalString(), r3.Do.get(o3) || r3.So.has(i3) || (fb("SyncEngine", "New document in limbo: " + o3), r3.So.add(i3), dk(r3))) : u3 instanceof X1 ? (fb("SyncEngine", "Document no longer in limbo: " + u3.key), t3.No.removeReference(u3.key, e3), t3.No.containsKey(u3.key) || fk(t3, u3.key)) : vb();
        }
      }
      function dk(t3) {
        for (; 0 < t3.So.size && t3.Do.size < t3.maxConcurrentLimboResolutions; ) {
          var e3 = t3.So.values().next().value;
          t3.So.delete(e3);
          var n3 = new $b(Ob.fromString(e3)), e3 = t3.Fo.next();
          t3.Co.set(e3, new Z1(n3)), t3.Do = t3.Do.insert(n3, e3), c1(t3.remoteStore, new rI(sw(Z_(n3.path)), e3, 2, ib.o));
        }
      }
      function gk(e3, s3, a3) {
        return Yi(this, void 0, void 0, function() {
          var n3, r3, i3, o3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return r3 = [], i3 = [], o3 = [], (n3 = e3).Po.isEmpty() ? [3, 3] : (n3.Po.forEach(function(t4, e4) {
                  o3.push(n3.Oo(e4, s3, a3).then(function(t5) {
                    t5 && (n3.isPrimaryClient && n3.sharedClientState.updateQueryState(e4.targetId, t5.fromCache ? "not-current" : "current"), r3.push(t5), t5 = kE.Pn(e4.targetId, t5), i3.push(t5));
                  }));
                }), [4, Promise.all(o3)]);
              case 1:
                return t3.sent(), n3.vo._r(r3), [4, function(u3, c3) {
                  return Yi(this, void 0, void 0, function() {
                    var r4, e4, n4, i4, o4, s4, a4;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          r4 = u3, t4.label = 1;
                        case 1:
                          return t4.trys.push([1, 3, , 4]), [4, r4.persistence.runTransaction("notifyLocalViewChanges", "readwrite", function(n5) {
                            return xT.forEach(c3, function(e5) {
                              return xT.forEach(e5.bn, function(t5) {
                                return r4.persistence.referenceDelegate.addReference(n5, e5.targetId, t5);
                              }).next(function() {
                                return xT.forEach(e5.vn, function(t5) {
                                  return r4.persistence.referenceDelegate.removeReference(n5, e5.targetId, t5);
                                });
                              });
                            });
                          })];
                        case 2:
                          return t4.sent(), [3, 4];
                        case 3:
                          if (!HT(e4 = t4.sent()))
                            throw e4;
                          return fb("LocalStore", "Failed to update sequence numbers: " + e4), [3, 4];
                        case 4:
                          for (n4 = 0, i4 = c3; n4 < i4.length; n4++)
                            a4 = i4[n4], o4 = a4.targetId, a4.fromCache || (s4 = r4.kn.get(o4), a4 = s4.snapshotVersion, a4 = s4.withLastLimboFreeSnapshotVersion(a4), r4.kn = r4.kn.insert(o4, a4));
                          return [2];
                      }
                    });
                  });
                }(n3.localStore, i3)];
              case 2:
                t3.sent(), t3.label = 3;
              case 3:
                return [2];
            }
          });
        });
      }
      function vk(i3, o3) {
        return Yi(this, void 0, void 0, function() {
          var n3, r3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return (n3 = i3).currentUser.isEqual(o3) ? [3, 3] : (fb("SyncEngine", "User change. New user:", o3.toKey()), [4, xE(n3.localStore, o3)]);
              case 1:
                return r3 = t3.sent(), n3.currentUser = o3, (e3 = n3).ko.forEach(function(t4) {
                  t4.forEach(function(t5) {
                    t5.reject(new ub(ab.CANCELLED, "'waitForPendingWrites' promise is rejected due to a user change."));
                  });
                }), e3.ko.clear(), n3.sharedClientState.handleUserChange(o3, r3.removedBatchIds, r3.addedBatchIds), [4, gk(n3, r3.Ln)];
              case 2:
                t3.sent(), t3.label = 3;
              case 3:
                return [2];
            }
            var e3;
          });
        });
      }
      function yk(a3, u3, c3, h3) {
        return Yi(this, void 0, void 0, function() {
          var o3, s3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, (e3 = (o3 = a3).localStore, n3 = u3, i3 = (r3 = e3)._n, r3.persistence.runTransaction("Lookup mutation documents", "readonly", function(e4) {
                  return i3.jt(e4, n3).next(function(t4) {
                    return t4 ? r3.Mn.pn(e4, t4) : xT.resolve(null);
                  });
                }))];
              case 1:
                return null === (s3 = t3.sent()) ? [3, 6] : "pending" !== c3 ? [3, 3] : [4, _1(o3.remoteStore)];
              case 2:
                return t3.sent(), [3, 4];
              case 3:
                "acknowledged" === c3 || "rejected" === c3 ? (hk(o3, u3, h3 || null), ck(o3, u3), o3.localStore._n.Gt(u3)) : vb(), t3.label = 4;
              case 4:
                return [4, gk(o3, s3)];
              case 5:
                return t3.sent(), [3, 7];
              case 6:
                fb("SyncEngine", "Cannot apply mutation batch with id: " + u3), t3.label = 7;
              case 7:
                return [2];
            }
            var e3, n3, r3, i3;
          });
        });
      }
      function mk(h3, l3) {
        return Yi(this, void 0, void 0, function() {
          var r3, e3, i3, o3, s3, a3, u3, c3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return wk(r3 = h3), Tk(r3), true !== l3 || true === r3.$o ? [3, 3] : (e3 = r3.sharedClientState.getAllActiveQueryTargets(), [4, bk(r3, e3.toArray())]);
              case 1:
                return i3 = t3.sent(), r3.$o = true, [4, I1(r3.remoteStore, true)];
              case 2:
                for (t3.sent(), o3 = 0, s3 = i3; o3 < s3.length; o3++)
                  a3 = s3[o3], c1(r3.remoteStore, a3);
                return [3, 7];
              case 3:
                return false !== l3 || false === r3.$o ? [3, 7] : (u3 = [], c3 = Promise.resolve(), r3.Vo.forEach(function(t4, e4) {
                  r3.sharedClientState.isLocalQueryTarget(e4) ? u3.push(e4) : c3 = c3.then(function() {
                    return lk(r3, e4), qE(r3.localStore, e4, true);
                  }), h1(r3.remoteStore, e4);
                }), [4, c3]);
              case 4:
                return t3.sent(), [4, bk(r3, u3)];
              case 5:
                return t3.sent(), (n3 = r3).Co.forEach(function(t4, e4) {
                  h1(n3.remoteStore, e4);
                }), n3.No.ts(), n3.Co = /* @__PURE__ */ new Map(), n3.Do = new s0($b.comparator), r3.$o = false, [4, I1(r3.remoteStore, false)];
              case 6:
                t3.sent(), t3.label = 7;
              case 7:
                return [2];
            }
            var n3;
          });
        });
      }
      function bk(p3, d3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3, i3, o3, s3, a3, u3, c3, h3, l3, f3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                e3 = p3, n3 = [], r3 = [], i3 = 0, o3 = d3, t3.label = 1;
              case 1:
                return i3 < o3.length ? (s3 = o3[i3], a3 = void 0, (u3 = e3.Vo.get(s3)) && 0 !== u3.length ? [4, UE(e3.localStore, sw(u3[0]))] : [3, 7]) : [3, 13];
              case 2:
                a3 = t3.sent(), c3 = 0, h3 = u3, t3.label = 3;
              case 3:
                return c3 < h3.length ? (l3 = h3[c3], l3 = e3.Po.get(l3), [4, function(r4, i4) {
                  return Yi(this, void 0, void 0, function() {
                    var e4, n4;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return [4, VE((e4 = r4).localStore, i4.query, true)];
                        case 1:
                          return n4 = t4.sent(), n4 = i4.view.Ao(n4), [2, (e4.isPrimaryClient && pk(e4, i4.targetId, n4.To), n4)];
                      }
                    });
                  });
                }(e3, l3)]) : [3, 6];
              case 4:
                (l3 = t3.sent()).snapshot && r3.push(l3.snapshot), t3.label = 5;
              case 5:
                return c3++, [3, 3];
              case 6:
                return [3, 11];
              case 7:
                return [4, BE(e3.localStore, s3)];
              case 8:
                return f3 = t3.sent(), [4, UE(e3.localStore, f3)];
              case 9:
                return a3 = t3.sent(), [4, rk(e3, _k(f3), s3, false)];
              case 10:
                t3.sent(), t3.label = 11;
              case 11:
                n3.push(a3), t3.label = 12;
              case 12:
                return i3++, [3, 1];
              case 13:
                return [2, (e3.vo._r(r3), n3)];
            }
          });
        });
      }
      function _k(t3) {
        return J_(t3.path, t3.collectionGroup, t3.orderBy, t3.filters, t3.limit, "F", t3.startAt, t3.endAt);
      }
      function wk(t3) {
        return t3.remoteStore.remoteSyncer.applyRemoteEvent = ok.bind(null, t3), t3.remoteStore.remoteSyncer.getRemoteKeysForTarget = function(t4, e3) {
          var n3 = t4;
          if ((t4 = n3.Co.get(e3)) && t4.bo)
            return w0().add(t4.key);
          var r3 = w0();
          if (!(e3 = n3.Vo.get(e3)))
            return r3;
          for (var i3 = 0, o3 = e3; i3 < o3.length; i3++)
            var s3 = o3[i3], s3 = n3.Po.get(s3), r3 = r3.unionWith(s3.view.wo);
          return r3;
        }.bind(null, t3), t3.remoteStore.remoteSyncer.rejectListen = function(o3, s3, a3) {
          return Yi(this, void 0, void 0, function() {
            var e3, n3, r3, i3;
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return (e3 = o3).sharedClientState.updateQueryState(s3, "rejected", a3), i3 = e3.Co.get(s3), (n3 = i3 && i3.key) ? (r3 = (r3 = new s0($b.comparator)).insert(n3, d_.newNoDocument(n3, Eb.min())), i3 = w0().add(n3), i3 = new I0(Eb.min(), /* @__PURE__ */ new Map(), new p0(_b), r3, i3), [4, ok(e3, i3)]) : [3, 2];
                case 1:
                  return t4.sent(), e3.Do = e3.Do.remove(n3), e3.Co.delete(s3), dk(e3), [3, 4];
                case 2:
                  return [4, qE(e3.localStore, s3, false).then(function() {
                    return lk(e3, s3, a3);
                  }).catch(GI)];
                case 3:
                  t4.sent(), t4.label = 4;
                case 4:
                  return [2];
              }
            });
          });
        }.bind(null, t3), t3.vo._r = function(t4, e3) {
          for (var n3 = t4, r3 = false, i3 = 0, o3 = e3; i3 < o3.length; i3++) {
            var s3 = o3[i3], a3 = s3.query, a3 = n3.queries.get(a3);
            if (a3) {
              for (var u3 = 0, c3 = a3.listeners; u3 < c3.length; u3++)
                c3[u3].Hr(s3) && (r3 = true);
              a3.Wr = s3;
            }
          }
          r3 && U1(n3);
        }.bind(null, t3.eventManager), t3.vo.Mo = function(t4, e3, n3) {
          var r3 = t4;
          if (t4 = r3.queries.get(e3))
            for (var i3 = 0, o3 = t4.listeners; i3 < o3.length; i3++)
              o3[i3].onError(n3);
          r3.queries.delete(e3);
        }.bind(null, t3.eventManager), t3;
      }
      function Tk(t3) {
        return t3.remoteStore.remoteSyncer.applySuccessfulWrite = function(i3, o3) {
          return Yi(this, void 0, void 0, function() {
            var e3, n3, r3;
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  e3 = i3, n3 = o3.batch.batchId, t4.label = 1;
                case 1:
                  return t4.trys.push([1, 4, , 6]), [4, LE(e3.localStore, o3)];
                case 2:
                  return r3 = t4.sent(), hk(e3, n3, null), ck(e3, n3), e3.sharedClientState.updateMutationState(n3, "acknowledged"), [4, gk(e3, r3)];
                case 3:
                  return t4.sent(), [3, 6];
                case 4:
                  return [4, GI(t4.sent())];
                case 5:
                  return t4.sent(), [3, 6];
                case 6:
                  return [2];
              }
            });
          });
        }.bind(null, t3), t3.remoteStore.remoteSyncer.rejectFailedWrite = ak.bind(null, t3), t3;
      }
      function Ik(t3, e3, n3) {
        var r3 = t3;
        !function(f3, p3, d3) {
          return Yi(this, void 0, void 0, function() {
            var a3, u3, c3, h3, l3;
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return t4.trys.push([0, 14, , 15]), [4, p3.getMetadata()];
                case 1:
                  return a3 = t4.sent(), [4, (r4 = f3.localStore, o3 = r4, s3 = V0((i3 = a3).createTime), o3.persistence.runTransaction("hasNewerBundle", "readonly", function(t5) {
                    return o3.Ke.getBundleMetadata(t5, i3.id);
                  }).then(function(t5) {
                    return !!t5 && 0 <= t5.createTime.compareTo(s3);
                  }))];
                case 2:
                  return t4.sent() ? [4, p3.close()] : [3, 4];
                case 3:
                  return [2, (t4.sent(), void d3._completeWith({ taskState: "Success", documentsLoaded: a3.totalDocuments, bytesLoaded: a3.totalBytes, totalDocuments: a3.totalDocuments, totalBytes: a3.totalBytes }))];
                case 4:
                  return d3._updateProgress(Q1(a3)), u3 = new K1(a3, f3.localStore, p3.R), [4, p3.Lo()];
                case 5:
                  c3 = t4.sent(), t4.label = 6;
                case 6:
                  return c3 ? [4, u3.oo(c3)] : [3, 10];
                case 7:
                  return (h3 = t4.sent()) && d3._updateProgress(h3), [4, p3.Lo()];
                case 8:
                  c3 = t4.sent(), t4.label = 9;
                case 9:
                  return [3, 6];
                case 10:
                  return [4, u3.complete()];
                case 11:
                  return l3 = t4.sent(), [4, gk(f3, l3.wn, void 0)];
                case 12:
                  return t4.sent(), [4, (r4 = f3.localStore, e4 = a3, (n4 = r4).persistence.runTransaction("Save bundle", "readwrite", function(t5) {
                    return n4.Ke.saveBundleMetadata(t5, e4);
                  }))];
                case 13:
                  return t4.sent(), d3._completeWith(l3.progress), [3, 15];
                case 14:
                  return db("SyncEngine", "Loading bundle failed with " + (l3 = t4.sent())), d3._failWith(l3), [3, 15];
                case 15:
                  return [2];
              }
              var e4, n4, r4, i3, o3, s3;
            });
          });
        }(r3, e3, n3).then(function() {
          r3.sharedClientState.notifyBundleLoaded();
        });
      }
      var Ek, Sk, kk = (Dk.prototype.initialize = function(e3) {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return this.R = HS(e3.databaseInfo.databaseId), this.sharedClientState = this.Bo(e3), this.persistence = this.qo(e3), [4, this.persistence.start()];
              case 1:
                return t3.sent(), this.gcScheduler = this.Uo(e3), this.localStore = this.Ko(e3), [2];
            }
          });
        });
      }, Dk.prototype.Uo = function(t3) {
        return null;
      }, Dk.prototype.Ko = function(t3) {
        return DE(this.persistence, new CE(), t3.initialUser, this.R);
      }, Dk.prototype.qo = function(t3) {
        return new tS(nS.bs, this.R);
      }, Dk.prototype.Bo = function(t3) {
        return new SS();
      }, Dk.prototype.terminate = function() {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return this.gcScheduler && this.gcScheduler.stop(), [4, this.sharedClientState.shutdown()];
              case 1:
                return t3.sent(), [4, this.persistence.shutdown()];
              case 2:
                return t3.sent(), [2];
            }
          });
        });
      }, Dk), Ck = (Gi(Ok, Sk = kk), Ok.prototype.initialize = function(n3) {
        return Yi(this, void 0, void 0, function() {
          var e3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, Sk.prototype.initialize.call(this, n3)];
              case 1:
                return t3.sent(), [4, WE(this.localStore)];
              case 2:
                return t3.sent(), [4, this.Qo.initialize(this, n3)];
              case 3:
                return t3.sent(), [4, Tk(this.Qo.syncEngine)];
              case 4:
                return t3.sent(), [4, _1(this.Qo.remoteStore)];
              case 5:
                return t3.sent(), [4, this.persistence.He(function() {
                  return e3.gcScheduler && !e3.gcScheduler.started && e3.gcScheduler.start(e3.localStore), Promise.resolve();
                })];
              case 6:
                return t3.sent(), [2];
            }
          });
        });
      }, Ok.prototype.Ko = function(t3) {
        return DE(this.persistence, new CE(), t3.initialUser, this.R);
      }, Ok.prototype.Uo = function(t3) {
        var e3 = this.persistence.referenceDelegate.garbageCollector;
        return new XI(e3, t3.asyncQueue);
      }, Ok.prototype.qo = function(t3) {
        var e3 = IE(t3.databaseInfo.databaseId, t3.databaseInfo.persistenceKey), n3 = void 0 !== this.cacheSizeBytes ? RI.withCacheSize(this.cacheSizeBytes) : RI.DEFAULT;
        return new bE(this.synchronizeTabs, e3, t3.clientId, n3, t3.asyncQueue, KS(), WS(), this.R, this.sharedClientState, !!this.forceOwnership);
      }, Ok.prototype.Bo = function(t3) {
        return new SS();
      }, Ok), Ak = (Gi(Pk, Ek = Ck), Pk.prototype.initialize = function(r3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, Ek.prototype.initialize.call(this, r3)];
              case 1:
                return t3.sent(), e3 = this.Qo.syncEngine, this.sharedClientState instanceof ES ? (this.sharedClientState.syncEngine = { ui: yk.bind(null, e3), ai: function(i3, o3, s3, a3) {
                  return Yi(this, void 0, void 0, function() {
                    var e4, n4, r4;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return (e4 = i3).$o ? (fb("SyncEngine", "Ignoring unexpected query state notification."), [3, 8]) : [3, 1];
                        case 1:
                          if (!e4.Vo.has(o3))
                            return [3, 8];
                          switch (s3) {
                            case "current":
                            case "not-current":
                              return [3, 2];
                            case "rejected":
                              return [3, 5];
                          }
                          return [3, 7];
                        case 2:
                          return [4, KE(e4.localStore)];
                        case 3:
                          return n4 = t4.sent(), r4 = I0.createSynthesizedRemoteEventForCurrentChange(o3, "current" === s3), [4, gk(e4, n4, r4)];
                        case 4:
                          return t4.sent(), [3, 8];
                        case 5:
                          return [4, qE(e4.localStore, o3, true)];
                        case 6:
                          return t4.sent(), lk(e4, o3, a3), [3, 8];
                        case 7:
                          vb(), t4.label = 8;
                        case 8:
                          return [2];
                      }
                    });
                  });
                }.bind(null, e3), hi: function(c3, h3, l3) {
                  return Yi(this, void 0, void 0, function() {
                    var n4, e4, r4, i3, o3, s3, a3, u3;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          if (!(n4 = wk(c3)).$o)
                            return [3, 10];
                          e4 = 0, r4 = h3, t4.label = 1;
                        case 1:
                          return e4 < r4.length ? (r4 = r4[e4], n4.Vo.has(r4) ? (fb("SyncEngine", "Adding an already active target " + r4), [3, 5]) : [4, BE(n4.localStore, r4)]) : [3, 6];
                        case 2:
                          return i3 = t4.sent(), [4, UE(n4.localStore, i3)];
                        case 3:
                          return o3 = t4.sent(), [4, rk(n4, _k(i3), o3.targetId, false)];
                        case 4:
                          t4.sent(), c1(n4.remoteStore, o3), t4.label = 5;
                        case 5:
                          return e4++, [3, 1];
                        case 6:
                          s3 = function(e5) {
                            return Xi(this, function(t5) {
                              switch (t5.label) {
                                case 0:
                                  return n4.Vo.has(e5) ? [4, qE(n4.localStore, e5, false).then(function() {
                                    h1(n4.remoteStore, e5), lk(n4, e5);
                                  }).catch(GI)] : [3, 2];
                                case 1:
                                  t5.sent(), t5.label = 2;
                                case 2:
                                  return [2];
                              }
                            });
                          }, a3 = 0, u3 = l3, t4.label = 7;
                        case 7:
                          return a3 < u3.length ? (u3 = u3[a3], [5, s3(u3)]) : [3, 10];
                        case 8:
                          t4.sent(), t4.label = 9;
                        case 9:
                          return a3++, [3, 7];
                        case 10:
                          return [2];
                      }
                    });
                  });
                }.bind(null, e3), fn: function(t4) {
                  return t4.localStore.persistence.fn();
                }.bind(null, e3), ci: function(n4) {
                  return Yi(this, void 0, void 0, function() {
                    var e4;
                    return Xi(this, function(t4) {
                      return [2, KE((e4 = n4).localStore).then(function(t5) {
                        return gk(e4, t5);
                      })];
                    });
                  });
                }.bind(null, e3) }, [4, this.sharedClientState.start()]) : [3, 3];
              case 2:
                t3.sent(), t3.label = 3;
              case 3:
                return [4, this.persistence.He(function(e4) {
                  return Yi(n3, void 0, void 0, function() {
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return [4, mk(this.Qo.syncEngine, e4)];
                        case 1:
                          return t4.sent(), this.gcScheduler && (e4 && !this.gcScheduler.started ? this.gcScheduler.start(this.localStore) : e4 || this.gcScheduler.stop()), [2];
                      }
                    });
                  });
                })];
              case 4:
                return t3.sent(), [2];
            }
          });
        });
      }, Pk.prototype.Bo = function(t3) {
        var e3 = KS();
        if (!ES.yt(e3))
          throw new ub(ab.UNIMPLEMENTED, "IndexedDB persistence is only available on platforms that support LocalStorage.");
        var n3 = IE(t3.databaseInfo.databaseId, t3.databaseInfo.persistenceKey);
        return new ES(e3, t3.asyncQueue, n3, t3.clientId, t3.initialUser);
      }, Pk), Nk = (Rk.prototype.initialize = function(n3, r3) {
        return Yi(this, void 0, void 0, function() {
          var e3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return this.localStore ? [3, 2] : (this.localStore = n3.localStore, this.sharedClientState = n3.sharedClientState, this.datastore = this.createDatastore(r3), this.remoteStore = this.createRemoteStore(r3), this.eventManager = this.createEventManager(r3), this.syncEngine = this.createSyncEngine(r3, !n3.synchronizeTabs), this.sharedClientState.onlineStateHandler = function(t4) {
                  return sk(e3.syncEngine, t4, 1);
                }, this.remoteStore.remoteSyncer.handleCredentialChange = vk.bind(null, this.syncEngine), [4, I1(this.remoteStore, this.syncEngine.isPrimaryClient)]);
              case 1:
                t3.sent(), t3.label = 2;
              case 2:
                return [2];
            }
          });
        });
      }, Rk.prototype.createEventManager = function(t3) {
        return new N1();
      }, Rk.prototype.createDatastore = function(t3) {
        var e3 = HS(t3.databaseInfo.databaseId), n3 = (n3 = t3.databaseInfo, new RS(n3));
        return t3 = t3.credentials, new ZS(t3, n3, e3);
      }, Rk.prototype.createRemoteStore = function(t3) {
        var e3 = this, n3 = this.localStore, r3 = this.datastore, i3 = t3.asyncQueue, o3 = function(t4) {
          return sk(e3.syncEngine, t4, 0);
        }, t3 = new (CS.yt() ? CS : kS)();
        return new zS(n3, r3, i3, o3, t3);
      }, Rk.prototype.createSyncEngine = function(t3, e3) {
        return function(t4, e4, n3, r3, i3, o3, s3) {
          o3 = new tk(t4, e4, n3, r3, i3, o3);
          return s3 && (o3.$o = true), o3;
        }(this.localStore, this.remoteStore, this.eventManager, this.sharedClientState, t3.initialUser, t3.maxConcurrentLimboResolutions, e3);
      }, Rk.prototype.terminate = function() {
        return function(n3) {
          return Yi(this, void 0, void 0, function() {
            var e3;
            return Xi(this, function(t3) {
              switch (t3.label) {
                case 0:
                  return e3 = n3, fb("RemoteStore", "RemoteStore shutting down."), e3.Or.add(5), [4, u1(e3)];
                case 1:
                  return t3.sent(), e3.Lr.shutdown(), e3.Br.set("Unknown"), [2];
              }
            });
          });
        }(this.remoteStore);
      }, Rk);
      function Rk() {
      }
      function Pk(t3, e3) {
        var n3 = this;
        return (n3 = Ek.call(this, t3, e3, false) || this).Qo = t3, n3.cacheSizeBytes = e3, n3.synchronizeTabs = true, n3;
      }
      function Ok(t3, e3, n3) {
        var r3 = this;
        return (r3 = Sk.call(this) || this).Qo = t3, r3.cacheSizeBytes = e3, r3.forceOwnership = n3, r3.synchronizeTabs = false, r3;
      }
      function Dk() {
        this.synchronizeTabs = false;
      }
      function xk(n3, r3) {
        void 0 === r3 && (r3 = 10240);
        var i3 = 0;
        return { read: function() {
          return Yi(this, void 0, void 0, function() {
            var e3;
            return Xi(this, function(t3) {
              return i3 < n3.byteLength ? (e3 = { value: n3.slice(i3, i3 + r3), done: false }, [2, (i3 += r3, e3)]) : [2, { done: true }];
            });
          });
        }, cancel: function() {
          return Yi(this, void 0, void 0, function() {
            return Xi(this, function(t3) {
              return [2];
            });
          });
        }, releaseLock: function() {
        }, closed: Promise.reject("unimplemented") };
      }
      var Lk = (Wk.prototype.next = function(t3) {
        this.observer.next && this.jo(this.observer.next, t3);
      }, Wk.prototype.error = function(t3) {
        this.observer.error ? this.jo(this.observer.error, t3) : console.error("Uncaught Error in snapshot listener:", t3);
      }, Wk.prototype.Wo = function() {
        this.muted = true;
      }, Wk.prototype.jo = function(t3, e3) {
        var n3 = this;
        this.muted || setTimeout(function() {
          n3.muted || t3(e3);
        }, 0);
      }, Wk), Mk = (Kk.prototype.close = function() {
        return this.Go.cancel();
      }, Kk.prototype.getMetadata = function() {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            return [2, this.metadata.promise];
          });
        });
      }, Kk.prototype.Lo = function() {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, this.getMetadata()];
              case 1:
                return [2, (t3.sent(), this.Ho())];
            }
          });
        });
      }, Kk.prototype.Ho = function() {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, this.Jo()];
              case 1:
                return null === (e3 = t3.sent()) ? [2, null] : (r3 = this.zo.decode(e3), n3 = Number(r3), isNaN(n3) && this.Yo("length string (" + r3 + ") is not valid number"), [4, this.Xo(n3)]);
              case 2:
                return r3 = t3.sent(), [2, new V1(JSON.parse(r3), e3.length + n3)];
            }
          });
        });
      }, Kk.prototype.Zo = function() {
        return this.buffer.findIndex(function(t3) {
          return t3 === "{".charCodeAt(0);
        });
      }, Kk.prototype.Jo = function() {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return this.Zo() < 0 ? [4, this.tc()] : [3, 3];
              case 1:
                if (t3.sent())
                  return [3, 3];
                t3.label = 2;
              case 2:
                return [3, 0];
              case 3:
                return 0 === this.buffer.length ? [2, null] : ((e3 = this.Zo()) < 0 && this.Yo("Reached the end of bundle when a length string is expected."), n3 = this.buffer.slice(0, e3), [2, (this.buffer = this.buffer.slice(e3), n3)]);
            }
          });
        });
      }, Kk.prototype.Xo = function(n3) {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return this.buffer.length < n3 ? [4, this.tc()] : [3, 3];
              case 1:
                t3.sent() && this.Yo("Reached the end of bundle when more is expected."), t3.label = 2;
              case 2:
                return [3, 0];
              case 3:
                return e3 = this.zo.decode(this.buffer.slice(0, n3)), [2, (this.buffer = this.buffer.slice(n3), e3)];
            }
          });
        });
      }, Kk.prototype.Yo = function(t3) {
        throw this.Go.cancel(), new Error("Invalid bundle format: " + t3);
      }, Kk.prototype.tc = function() {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, this.Go.read()];
              case 1:
                return (e3 = t3.sent()).done || ((n3 = new Uint8Array(this.buffer.length + e3.value.length)).set(this.buffer), n3.set(e3.value, this.buffer.length), this.buffer = n3), [2, e3.done];
            }
          });
        });
      }, Kk), Fk = (Bk.prototype.lookup = function(r3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if (this.ensureCommitNotCalled(), 0 < this.mutations.length)
                  throw new ub(ab.INVALID_ARGUMENT, "Firestore transactions require all reads to be executed before all writes.");
                return [4, function(s3, a3) {
                  return Yi(this, void 0, void 0, function() {
                    var n4, e4, r4, i3, o3;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return e4 = Q0((n4 = s3).R) + "/documents", r4 = { documents: a3.map(function(t5) {
                            return W0(n4.R, t5);
                          }) }, [4, n4.$i("BatchGetDocuments", e4, r4)];
                        case 1:
                          return r4 = t4.sent(), i3 = /* @__PURE__ */ new Map(), r4.forEach(function(t5) {
                            var e5, t5 = (e5 = n4.R, "found" in (t5 = t5) ? function(t6, e6) {
                              yb(!!e6.found), e6.found.name, e6.found.updateTime;
                              var n5 = H0(t6, e6.found.name), t6 = V0(e6.found.updateTime), e6 = new f_({ mapValue: { fields: e6.found.fields } });
                              return d_.newFoundDocument(n5, t6, e6);
                            }(e5, t5) : "missing" in t5 ? function(t6, e6) {
                              yb(!!e6.missing), yb(!!e6.readTime);
                              t6 = H0(t6, e6.missing), e6 = V0(e6.readTime);
                              return d_.newNoDocument(t6, e6);
                            }(e5, t5) : vb());
                            i3.set(t5.key.toString(), t5);
                          }), o3 = [], [2, (a3.forEach(function(t5) {
                            t5 = i3.get(t5.toString());
                            yb(!!t5), o3.push(t5);
                          }), o3)];
                      }
                    });
                  });
                }(this.datastore, r3)];
              case 1:
                return [2, ((e3 = t3.sent()).forEach(function(t4) {
                  return n3.recordVersion(t4);
                }), e3)];
            }
          });
        });
      }, Bk.prototype.set = function(t3, e3) {
        this.write(e3.toMutation(t3, this.precondition(t3))), this.writtenDocs.add(t3.toString());
      }, Bk.prototype.update = function(t3, e3) {
        try {
          this.write(e3.toMutation(t3, this.preconditionForUpdate(t3)));
        } catch (t4) {
          this.lastWriteError = t4;
        }
        this.writtenDocs.add(t3.toString());
      }, Bk.prototype.delete = function(t3) {
        this.write(new t0(t3, this.precondition(t3))), this.writtenDocs.add(t3.toString());
      }, Bk.prototype.commit = function() {
        return Yi(this, void 0, void 0, function() {
          var e3, n3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if (this.ensureCommitNotCalled(), this.lastWriteError)
                  throw this.lastWriteError;
                return e3 = this.readVersions, this.mutations.forEach(function(t4) {
                  e3.delete(t4.key.toString());
                }), e3.forEach(function(t4, e4) {
                  e4 = $b.fromPath(e4);
                  n3.mutations.push(new e0(e4, n3.precondition(e4)));
                }), [4, function(i3, o3) {
                  return Yi(this, void 0, void 0, function() {
                    var e4, n4, r3;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return n4 = Q0((e4 = i3).R) + "/documents", r3 = { writes: o3.map(function(t5) {
                            return J0(e4.R, t5);
                          }) }, [4, e4.Ni("Commit", n4, r3)];
                        case 1:
                          return t4.sent(), [2];
                      }
                    });
                  });
                }(this.datastore, this.mutations)];
              case 1:
                return t3.sent(), this.committed = true, [2];
            }
          });
        });
      }, Bk.prototype.recordVersion = function(t3) {
        var e3;
        if (t3.isFoundDocument())
          e3 = t3.version;
        else {
          if (!t3.isNoDocument())
            throw vb();
          e3 = Eb.min();
        }
        var n3 = this.readVersions.get(t3.key.toString());
        if (n3) {
          if (!e3.isEqual(n3))
            throw new ub(ab.ABORTED, "Document version changed between two reads.");
        } else
          this.readVersions.set(t3.key.toString(), e3);
      }, Bk.prototype.precondition = function(t3) {
        var e3 = this.readVersions.get(t3.toString());
        return !this.writtenDocs.has(t3.toString()) && e3 ? Lw.updateTime(e3) : Lw.none();
      }, Bk.prototype.preconditionForUpdate = function(t3) {
        var e3 = this.readVersions.get(t3.toString());
        if (this.writtenDocs.has(t3.toString()) || !e3)
          return Lw.exists(true);
        if (e3.isEqual(Eb.min()))
          throw new ub(ab.INVALID_ARGUMENT, "Can't update a document that doesn't exist.");
        return Lw.updateTime(e3);
      }, Bk.prototype.write = function(t3) {
        this.ensureCommitNotCalled(), this.mutations.push(t3);
      }, Bk.prototype.ensureCommitNotCalled = function() {
      }, Bk), jk = (Vk.prototype.run = function() {
        --this.ec, this.nc();
      }, Vk.prototype.nc = function() {
        var t3 = this;
        this.Zi.ji(function() {
          return Yi(t3, void 0, void 0, function() {
            var e3, n3, r3 = this;
            return Xi(this, function(t4) {
              return e3 = new Fk(this.datastore), (n3 = this.sc(e3)) && n3.then(function(t5) {
                r3.asyncQueue.enqueueAndForget(function() {
                  return e3.commit().then(function() {
                    r3.deferred.resolve(t5);
                  }).catch(function(t6) {
                    r3.ic(t6);
                  });
                });
              }).catch(function(t5) {
                r3.ic(t5);
              }), [2];
            });
          });
        });
      }, Vk.prototype.sc = function(t3) {
        try {
          var e3 = this.updateFunction(t3);
          return !Qb(e3) && e3.catch && e3.then ? e3 : (this.deferred.reject(Error("Transaction callback must return a Promise")), null);
        } catch (t4) {
          return this.deferred.reject(t4), null;
        }
      }, Vk.prototype.ic = function(t3) {
        var e3 = this;
        0 < this.ec && this.rc(t3) ? (--this.ec, this.asyncQueue.enqueueAndForget(function() {
          return e3.nc(), Promise.resolve();
        })) : this.deferred.reject(t3);
      }, Vk.prototype.rc = function(t3) {
        if ("FirebaseError" !== t3.name)
          return false;
        t3 = t3.code;
        return "aborted" === t3 || "failed-precondition" === t3 || !i0(t3);
      }, Vk), Uk = (qk.prototype.getConfiguration = function() {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            return [2, { asyncQueue: this.asyncQueue, databaseInfo: this.databaseInfo, clientId: this.clientId, credentials: this.credentials, initialUser: this.user, maxConcurrentLimboResolutions: 100 }];
          });
        });
      }, qk.prototype.setCredentialChangeListener = function(t3) {
        this.credentialListener = t3;
      }, qk.prototype.verifyNotTerminated = function() {
        if (this.asyncQueue.isShuttingDown)
          throw new ub(ab.FAILED_PRECONDITION, "The client has already been terminated.");
      }, qk.prototype.terminate = function() {
        var t3 = this;
        this.asyncQueue.enterRestrictedMode();
        var n3 = new DT();
        return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function() {
          return Yi(t3, void 0, void 0, function() {
            var e3;
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return t4.trys.push([0, 5, , 6]), this.onlineComponents ? [4, this.onlineComponents.terminate()] : [3, 2];
                case 1:
                  t4.sent(), t4.label = 2;
                case 2:
                  return this.offlineComponents ? [4, this.offlineComponents.terminate()] : [3, 4];
                case 3:
                  t4.sent(), t4.label = 4;
                case 4:
                  return this.credentials.removeChangeListener(), n3.resolve(), [3, 6];
                case 5:
                  return e3 = t4.sent(), e3 = A1(e3, "Failed to shutdown persistence"), n3.reject(e3), [3, 6];
                case 6:
                  return [2];
              }
            });
          });
        }), n3.promise;
      }, qk);
      function qk(t3, e3, n3) {
        var r3 = this;
        this.credentials = t3, this.asyncQueue = e3, this.databaseInfo = n3, this.user = rS.UNAUTHENTICATED, this.clientId = mb.u(), this.credentialListener = function() {
          return Promise.resolve();
        }, this.credentials.setChangeListener(e3, function(e4) {
          return Yi(r3, void 0, void 0, function() {
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return fb("FirestoreClient", "Received user=", e4.uid), [4, this.credentialListener(e4)];
                case 1:
                  return t4.sent(), this.user = e4, [2];
              }
            });
          });
        });
      }
      function Vk(t3, e3, n3, r3) {
        this.asyncQueue = t3, this.datastore = e3, this.updateFunction = n3, this.deferred = r3, this.ec = 5, this.Zi = new XS(this.asyncQueue, "transaction_retry");
      }
      function Bk(t3) {
        this.datastore = t3, this.readVersions = /* @__PURE__ */ new Map(), this.mutations = [], this.committed = false, this.lastWriteError = null, this.writtenDocs = /* @__PURE__ */ new Set();
      }
      function Kk(t3, e3) {
        var n3 = this;
        this.Go = t3, this.R = e3, this.metadata = new DT(), this.buffer = new Uint8Array(), this.zo = new TextDecoder("utf-8"), this.Ho().then(function(t4) {
          t4 && t4.io() ? n3.metadata.resolve(t4.payload.metadata) : n3.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             " + JSON.stringify(null == t4 ? void 0 : t4.payload)));
        }, function(t4) {
          return n3.metadata.reject(t4);
        });
      }
      function Wk(t3) {
        this.observer = t3, this.muted = false;
      }
      function Hk(i3, o3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return i3.asyncQueue.verifyOperationInProgress(), fb("FirestoreClient", "Initializing OfflineComponentProvider"), [4, i3.getConfiguration()];
              case 1:
                return e3 = t3.sent(), [4, o3.initialize(e3)];
              case 2:
                return t3.sent(), n3 = e3.initialUser, i3.setCredentialChangeListener(function(e4) {
                  return Yi(r3, void 0, void 0, function() {
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return n3.isEqual(e4) ? [3, 2] : [4, xE(o3.localStore, e4)];
                        case 1:
                          t4.sent(), n3 = e4, t4.label = 2;
                        case 2:
                          return [2];
                      }
                    });
                  });
                }), o3.persistence.setDatabaseDeletedListener(function() {
                  return i3.terminate();
                }), i3.offlineComponents = o3, [2];
            }
          });
        });
      }
      function zk(r3, i3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return r3.asyncQueue.verifyOperationInProgress(), [4, Gk(r3)];
              case 1:
                return e3 = t3.sent(), fb("FirestoreClient", "Initializing OnlineComponentProvider"), [4, r3.getConfiguration()];
              case 2:
                return n3 = t3.sent(), [4, i3.initialize(e3, n3)];
              case 3:
                return t3.sent(), r3.setCredentialChangeListener(function(t4) {
                  return function(r4, i4) {
                    return Yi(this, void 0, void 0, function() {
                      var e4, n4;
                      return Xi(this, function(t5) {
                        switch (t5.label) {
                          case 0:
                            return (e4 = r4).asyncQueue.verifyOperationInProgress(), fb("RemoteStore", "RemoteStore received new credentials"), n4 = g1(e4), e4.Or.add(3), [4, u1(e4)];
                          case 1:
                            return t5.sent(), n4 && e4.Br.set("Unknown"), [4, e4.remoteSyncer.handleCredentialChange(i4)];
                          case 2:
                            return t5.sent(), e4.Or.delete(3), [4, a1(e4)];
                          case 3:
                            return t5.sent(), [2];
                        }
                      });
                    });
                  }(i3.remoteStore, t4);
                }), r3.onlineComponents = i3, [2];
            }
          });
        });
      }
      function Gk(e3) {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e3.offlineComponents ? [3, 2] : (fb("FirestoreClient", "Using default OfflineComponentProvider"), [4, Hk(e3, new kk())]);
              case 1:
                t3.sent(), t3.label = 2;
              case 2:
                return [2, e3.offlineComponents];
            }
          });
        });
      }
      function Qk(e3) {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e3.onlineComponents ? [3, 2] : (fb("FirestoreClient", "Using default OnlineComponentProvider"), [4, zk(e3, new Nk())]);
              case 1:
                t3.sent(), t3.label = 2;
              case 2:
                return [2, e3.onlineComponents];
            }
          });
        });
      }
      function Yk(t3) {
        return Gk(t3).then(function(t4) {
          return t4.persistence;
        });
      }
      function Xk(t3) {
        return Gk(t3).then(function(t4) {
          return t4.localStore;
        });
      }
      function $k(t3) {
        return Qk(t3).then(function(t4) {
          return t4.remoteStore;
        });
      }
      function Jk(t3) {
        return Qk(t3).then(function(t4) {
          return t4.syncEngine;
        });
      }
      function Zk(r3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, Qk(r3)];
              case 1:
                return e3 = t3.sent(), [2, ((n3 = e3.eventManager).onListen = function(s3, a3) {
                  return Yi(this, void 0, void 0, function() {
                    var e4, n4, r4, i3, o3;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return e4 = wk(s3), (o3 = e4.Po.get(a3)) ? (n4 = o3.targetId, e4.sharedClientState.addLocalQueryTarget(n4), r4 = o3.view.Ro(), [3, 4]) : [3, 1];
                        case 1:
                          return [4, UE(e4.localStore, sw(a3))];
                        case 2:
                          return i3 = t4.sent(), o3 = e4.sharedClientState.addLocalQueryTarget(i3.targetId), n4 = i3.targetId, [4, rk(e4, a3, n4, "current" === o3)];
                        case 3:
                          r4 = t4.sent(), e4.isPrimaryClient && c1(e4.remoteStore, i3), t4.label = 4;
                        case 4:
                          return [2, r4];
                      }
                    });
                  });
                }.bind(null, e3.syncEngine), n3.onUnlisten = function(i3, o3) {
                  return Yi(this, void 0, void 0, function() {
                    var e4, n4, r4;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return n4 = (e4 = i3).Po.get(o3), 1 < (r4 = e4.Vo.get(n4.targetId)).length ? [2, (e4.Vo.set(n4.targetId, r4.filter(function(t5) {
                            return !uw(t5, o3);
                          })), void e4.Po.delete(o3))] : e4.isPrimaryClient ? (e4.sharedClientState.removeLocalQueryTarget(n4.targetId), e4.sharedClientState.isActiveQueryTarget(n4.targetId) ? [3, 2] : [4, qE(e4.localStore, n4.targetId, false).then(function() {
                            e4.sharedClientState.clearQueryState(n4.targetId), h1(e4.remoteStore, n4.targetId), lk(e4, n4.targetId);
                          }).catch(GI)]) : [3, 3];
                        case 1:
                          t4.sent(), t4.label = 2;
                        case 2:
                          return [3, 5];
                        case 3:
                          return lk(e4, n4.targetId), [4, qE(e4.localStore, n4.targetId, true)];
                        case 4:
                          t4.sent(), t4.label = 5;
                        case 5:
                          return [2];
                      }
                    });
                  });
                }.bind(null, e3.syncEngine), n3)];
            }
          });
        });
      }
      function tC(n3, r3, i3) {
        var t3 = this;
        void 0 === i3 && (i3 = {});
        var o3 = new DT();
        return n3.asyncQueue.enqueueAndForget(function() {
          return Yi(t3, void 0, void 0, function() {
            var e3;
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return e3 = function(n4, r4, i4, o4, s3) {
                    var t5 = new Lk({ next: function(t6) {
                      r4.enqueueAndForget(function() {
                        return j1(n4, a3);
                      });
                      var e4 = t6.docs.has(i4);
                      !e4 && t6.fromCache ? s3.reject(new ub(ab.UNAVAILABLE, "Failed to get document because the client is offline.")) : e4 && t6.fromCache && o4 && "server" === o4.source ? s3.reject(new ub(ab.UNAVAILABLE, 'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')) : s3.resolve(t6);
                    }, error: function(t6) {
                      return s3.reject(t6);
                    } }), a3 = new q1(Z_(i4.path), t5, { includeMetadataChanges: true, so: true });
                    return F1(n4, a3);
                  }, [4, Zk(n3)];
                case 1:
                  return [2, e3.apply(void 0, [t4.sent(), n3.asyncQueue, r3, i3, o3])];
              }
            });
          });
        }), o3.promise;
      }
      function eC(n3, r3, i3) {
        var t3 = this;
        void 0 === i3 && (i3 = {});
        var o3 = new DT();
        return n3.asyncQueue.enqueueAndForget(function() {
          return Yi(t3, void 0, void 0, function() {
            var e3;
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return e3 = function(e4, n4, t5, r4, i4) {
                    var o4 = new Lk({ next: function(t6) {
                      n4.enqueueAndForget(function() {
                        return j1(e4, s3);
                      }), t6.fromCache && "server" === r4.source ? i4.reject(new ub(ab.UNAVAILABLE, 'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')) : i4.resolve(t6);
                    }, error: function(t6) {
                      return i4.reject(t6);
                    } }), s3 = new q1(t5, o4, { includeMetadataChanges: true, so: true });
                    return F1(e4, s3);
                  }, [4, Zk(n3)];
                case 1:
                  return [2, e3.apply(void 0, [t4.sent(), n3.asyncQueue, r3, i3, o3])];
              }
            });
          });
        }), o3.promise;
      }
      function nC(t3, e3) {
        this.user = e3, this.type = "OAuth", this.authHeaders = {}, this.authHeaders.Authorization = "Bearer " + t3;
      }
      var rC = function(t3, e3, n3, r3, i3, o3, s3, a3) {
        this.databaseId = t3, this.appId = e3, this.persistenceKey = n3, this.host = r3, this.ssl = i3, this.forceLongPolling = o3, this.autoDetectLongPolling = s3, this.useFetchStreams = a3;
      }, iC = (Object.defineProperty(vC.prototype, "isDefaultDatabase", { get: function() {
        return "(default)" === this.database;
      }, enumerable: false, configurable: true }), vC.prototype.isEqual = function(t3) {
        return t3 instanceof vC && t3.projectId === this.projectId && t3.database === this.database;
      }, vC), oC = /* @__PURE__ */ new Map(), sC = (gC.prototype.getToken = function() {
        return Promise.resolve(null);
      }, gC.prototype.invalidateToken = function() {
      }, gC.prototype.setChangeListener = function(t3, e3) {
        this.changeListener = e3, t3.enqueueRetryable(function() {
          return e3(rS.UNAUTHENTICATED);
        });
      }, gC.prototype.removeChangeListener = function() {
        this.changeListener = null;
      }, gC), aC = (dC.prototype.getToken = function() {
        return Promise.resolve(this.token);
      }, dC.prototype.invalidateToken = function() {
      }, dC.prototype.setChangeListener = function(t3, e3) {
        var n3 = this;
        this.changeListener = e3, t3.enqueueRetryable(function() {
          return e3(n3.token.user);
        });
      }, dC.prototype.removeChangeListener = function() {
        this.changeListener = null;
      }, dC), uC = (pC.prototype.getToken = function() {
        var e3 = this, n3 = this.cc, t3 = this.forceRefresh;
        return this.forceRefresh = false, this.auth ? this.auth.getToken(t3).then(function(t4) {
          return e3.cc !== n3 ? (fb("FirebaseCredentialsProvider", "getToken aborted due to token change."), e3.getToken()) : t4 ? (yb("string" == typeof t4.accessToken), new nC(t4.accessToken, e3.currentUser)) : null;
        }) : Promise.resolve(null);
      }, pC.prototype.invalidateToken = function() {
        this.forceRefresh = true;
      }, pC.prototype.setChangeListener = function(t3, e3) {
        var n3 = this;
        this.asyncQueue = t3, this.asyncQueue.enqueueRetryable(function() {
          return Yi(n3, void 0, void 0, function() {
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return [4, this.oc.promise];
                case 1:
                  return t4.sent(), [4, e3(this.currentUser)];
                case 2:
                  return t4.sent(), this.changeListener = e3, [2];
              }
            });
          });
        });
      }, pC.prototype.removeChangeListener = function() {
        this.auth && this.auth.removeAuthTokenListener(this.uc), this.changeListener = function() {
          return Promise.resolve();
        };
      }, pC.prototype.ac = function() {
        var t3 = this.auth && this.auth.getUid();
        return yb(null === t3 || "string" == typeof t3), new rS(t3);
      }, pC), cC = (Object.defineProperty(fC.prototype, "authHeaders", { get: function() {
        var t3 = { "X-Goog-AuthUser": this.lc }, e3 = this.hc.auth.getAuthHeaderValueForFirstParty([]);
        return e3 && (t3.Authorization = e3), this.fc && (t3["X-Goog-Iam-Authorization-Token"] = this.fc), t3;
      }, enumerable: false, configurable: true }), fC), hC = (lC.prototype.getToken = function() {
        return Promise.resolve(new cC(this.hc, this.lc, this.fc));
      }, lC.prototype.setChangeListener = function(t3, e3) {
        t3.enqueueRetryable(function() {
          return e3(rS.FIRST_PARTY);
        });
      }, lC.prototype.removeChangeListener = function() {
      }, lC.prototype.invalidateToken = function() {
      }, lC);
      function lC(t3, e3, n3) {
        this.hc = t3, this.lc = e3, this.fc = n3;
      }
      function fC(t3, e3, n3) {
        this.hc = t3, this.lc = e3, this.fc = n3, this.type = "FirstParty", this.user = rS.FIRST_PARTY;
      }
      function pC(e3) {
        var n3 = this;
        this.currentUser = rS.UNAUTHENTICATED, this.oc = new DT(), this.cc = 0, this.forceRefresh = false, this.auth = null, this.asyncQueue = null, this.uc = function() {
          n3.cc++, n3.currentUser = n3.ac(), n3.oc.resolve(), n3.changeListener && n3.asyncQueue.enqueueRetryable(function() {
            return n3.changeListener(n3.currentUser);
          });
        };
        function r3(t3) {
          fb("FirebaseCredentialsProvider", "Auth detected"), n3.auth = t3, n3.auth.addAuthTokenListener(n3.uc);
        }
        e3.onInit(r3), setTimeout(function() {
          var t3;
          n3.auth || ((t3 = e3.getImmediate({ optional: true })) ? r3(t3) : (fb("FirebaseCredentialsProvider", "Auth not yet detected"), n3.oc.resolve()));
        }, 0);
      }
      function dC(t3) {
        this.token = t3, this.changeListener = null;
      }
      function gC() {
        this.changeListener = null;
      }
      function vC(t3, e3) {
        this.projectId = t3, this.database = e3 || "(default)";
      }
      function yC(t3, e3, n3) {
        if (!n3)
          throw new ub(ab.INVALID_ARGUMENT, "Function " + t3 + "() cannot be called with an empty " + e3 + ".");
      }
      function mC(t3, e3) {
        if (void 0 === e3)
          return { merge: false };
        if (void 0 !== e3.mergeFields && void 0 !== e3.merge)
          throw new ub(ab.INVALID_ARGUMENT, "Invalid options passed to function " + t3 + '(): You cannot specify both "merge" and "mergeFields".');
        return e3;
      }
      function bC(t3, e3, n3, r3) {
        if (true === e3 && true === r3)
          throw new ub(ab.INVALID_ARGUMENT, t3 + " and " + n3 + " cannot be used together.");
      }
      function _C(t3) {
        if (!$b.isDocumentKey(t3))
          throw new ub(ab.INVALID_ARGUMENT, "Invalid document reference. Document references must have an even number of segments, but " + t3 + " has " + t3.length + ".");
      }
      function wC(t3) {
        if ($b.isDocumentKey(t3))
          throw new ub(ab.INVALID_ARGUMENT, "Invalid collection reference. Collection references must have an odd number of segments, but " + t3 + " has " + t3.length + ".");
      }
      function TC(e3) {
        if (void 0 === e3)
          return "undefined";
        if (null === e3)
          return "null";
        if ("string" == typeof e3)
          return 20 < e3.length && (e3 = e3.substring(0, 20) + "..."), JSON.stringify(e3);
        if ("number" == typeof e3 || "boolean" == typeof e3)
          return "" + e3;
        if ("object" != typeof e3)
          return "function" == typeof e3 ? "a function" : vb();
        if (e3 instanceof Array)
          return "an array";
        var t3 = function() {
          if (e3.constructor) {
            var t4 = /function\s+([^\s(]+)\s*\(/.exec(e3.constructor.toString());
            if (t4 && 1 < t4.length)
              return t4[1];
          }
          return null;
        }();
        return t3 ? "a custom " + t3 + " object" : "an object";
      }
      function IC(t3, e3) {
        if ((t3 = "_delegate" in t3 ? t3._delegate : t3) instanceof e3)
          return t3;
        if (e3.name === t3.constructor.name)
          throw new ub(ab.INVALID_ARGUMENT, "Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");
        t3 = TC(t3);
        throw new ub(ab.INVALID_ARGUMENT, "Expected type '" + e3.name + "', but it was: " + t3);
      }
      function EC(t3, e3) {
        if (e3 <= 0)
          throw new ub(ab.INVALID_ARGUMENT, "Function " + t3 + "() requires a positive number, but it was: " + e3 + ".");
      }
      var SC, kC = (LC.prototype.isEqual = function(t3) {
        return this.host === t3.host && this.ssl === t3.ssl && this.credentials === t3.credentials && this.cacheSizeBytes === t3.cacheSizeBytes && this.experimentalForceLongPolling === t3.experimentalForceLongPolling && this.experimentalAutoDetectLongPolling === t3.experimentalAutoDetectLongPolling && this.ignoreUndefinedProperties === t3.ignoreUndefinedProperties && this.useFetchStreams === t3.useFetchStreams;
      }, LC), CC = (Object.defineProperty(xC.prototype, "app", { get: function() {
        if (!this._app)
          throw new ub(ab.FAILED_PRECONDITION, "Firestore was not initialized using the Firebase SDK. 'app' is not available");
        return this._app;
      }, enumerable: false, configurable: true }), Object.defineProperty(xC.prototype, "_initialized", { get: function() {
        return this._settingsFrozen;
      }, enumerable: false, configurable: true }), Object.defineProperty(xC.prototype, "_terminated", { get: function() {
        return void 0 !== this._terminateTask;
      }, enumerable: false, configurable: true }), xC.prototype._setSettings = function(t3) {
        if (this._settingsFrozen)
          throw new ub(ab.FAILED_PRECONDITION, "Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");
        this._settings = new kC(t3), void 0 !== t3.credentials && (this._credentials = function(t4) {
          if (!t4)
            return new sC();
          switch (t4.type) {
            case "gapi":
              var e3 = t4.client;
              return yb(!("object" != typeof e3 || null === e3 || !e3.auth || !e3.auth.getAuthHeaderValueForFirstParty)), new hC(e3, t4.sessionIndex || "0", t4.iamToken || null);
            case "provider":
              return t4.client;
            default:
              throw new ub(ab.INVALID_ARGUMENT, "makeCredentialsProvider failed due to invalid credential type");
          }
        }(t3.credentials));
      }, xC.prototype._getSettings = function() {
        return this._settings;
      }, xC.prototype._freezeSettings = function() {
        return this._settingsFrozen = true, this._settings;
      }, xC.prototype._delete = function() {
        return this._terminateTask || (this._terminateTask = this._terminate()), this._terminateTask;
      }, xC.prototype.toJSON = function() {
        return { app: this._app, databaseId: this._databaseId, settings: this._settings };
      }, xC.prototype._terminate = function() {
        return (t3 = oC.get(this)) && (fb("ComponentProvider", "Removing Datastore"), oC.delete(this), t3.terminate()), Promise.resolve();
        var t3;
      }, xC), AC = (Object.defineProperty(DC.prototype, "_path", { get: function() {
        return this._key.path;
      }, enumerable: false, configurable: true }), Object.defineProperty(DC.prototype, "id", { get: function() {
        return this._key.path.lastSegment();
      }, enumerable: false, configurable: true }), Object.defineProperty(DC.prototype, "path", { get: function() {
        return this._key.path.canonicalString();
      }, enumerable: false, configurable: true }), Object.defineProperty(DC.prototype, "parent", { get: function() {
        return new RC(this.firestore, this.converter, this._key.path.popLast());
      }, enumerable: false, configurable: true }), DC.prototype.withConverter = function(t3) {
        return new DC(this.firestore, t3, this._key);
      }, DC), NC = (OC.prototype.withConverter = function(t3) {
        return new OC(this.firestore, t3, this._query);
      }, OC), RC = (Gi(PC, SC = NC), Object.defineProperty(PC.prototype, "id", { get: function() {
        return this._query.path.lastSegment();
      }, enumerable: false, configurable: true }), Object.defineProperty(PC.prototype, "path", { get: function() {
        return this._query.path.canonicalString();
      }, enumerable: false, configurable: true }), Object.defineProperty(PC.prototype, "parent", { get: function() {
        var t3 = this._path.popLast();
        return t3.isEmpty() ? null : new AC(this.firestore, null, new $b(t3));
      }, enumerable: false, configurable: true }), PC.prototype.withConverter = function(t3) {
        return new PC(this.firestore, t3, this._path);
      }, PC);
      function PC(t3, e3, n3) {
        var r3 = this;
        return (r3 = SC.call(this, t3, e3, Z_(n3)) || this)._path = n3, r3.type = "collection", r3;
      }
      function OC(t3, e3, n3) {
        this.converter = e3, this._query = n3, this.type = "query", this.firestore = t3;
      }
      function DC(t3, e3, n3) {
        this.converter = e3, this._key = n3, this.type = "document", this.firestore = t3;
      }
      function xC(t3, e3) {
        this.type = "firestore-lite", this._persistenceKey = "(lite)", this._settings = new kC({}), this._settingsFrozen = false, t3 instanceof iC ? (this._databaseId = t3, this._credentials = new sC()) : (this._app = t3, this._databaseId = function(t4) {
          if (!Object.prototype.hasOwnProperty.apply(t4.options, ["projectId"]))
            throw new ub(ab.INVALID_ARGUMENT, '"projectId" not provided in firebase.initializeApp.');
          return new iC(t4.options.projectId);
        }(t3), this._credentials = new uC(e3));
      }
      function LC(t3) {
        var e3;
        if (void 0 === t3.host) {
          if (void 0 !== t3.ssl)
            throw new ub(ab.INVALID_ARGUMENT, "Can't provide ssl option if host option is not set");
          this.host = "firestore.googleapis.com", this.ssl = true;
        } else
          this.host = t3.host, this.ssl = null === (e3 = t3.ssl) || void 0 === e3 || e3;
        if (this.credentials = t3.credentials, this.ignoreUndefinedProperties = !!t3.ignoreUndefinedProperties, void 0 === t3.cacheSizeBytes)
          this.cacheSizeBytes = 41943040;
        else {
          if (-1 !== t3.cacheSizeBytes && t3.cacheSizeBytes < 1048576)
            throw new ub(ab.INVALID_ARGUMENT, "cacheSizeBytes must be at least 1048576");
          this.cacheSizeBytes = t3.cacheSizeBytes;
        }
        this.experimentalForceLongPolling = !!t3.experimentalForceLongPolling, this.experimentalAutoDetectLongPolling = !!t3.experimentalAutoDetectLongPolling, this.useFetchStreams = !!t3.useFetchStreams, bC("experimentalForceLongPolling", t3.experimentalForceLongPolling, "experimentalAutoDetectLongPolling", t3.experimentalAutoDetectLongPolling);
      }
      function MC(t3, e3) {
        for (var n3, r3 = [], i3 = 2; i3 < arguments.length; i3++)
          r3[i3 - 2] = arguments[i3];
        if (t3 = ts(t3), yC("collection", "path", e3), t3 instanceof CC)
          return wC(n3 = Ob.fromString.apply(Ob, Zi([e3], r3))), new RC(t3, null, n3);
        if (!(t3 instanceof AC || t3 instanceof RC))
          throw new ub(ab.INVALID_ARGUMENT, "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");
        return wC(n3 = Ob.fromString.apply(Ob, Zi([t3.path], r3)).child(Ob.fromString(e3))), new RC(t3.firestore, null, n3);
      }
      function FC(t3, e3) {
        for (var n3, r3 = [], i3 = 2; i3 < arguments.length; i3++)
          r3[i3 - 2] = arguments[i3];
        if (t3 = ts(t3), yC("doc", "path", e3 = 1 === arguments.length ? mb.u() : e3), t3 instanceof CC)
          return _C(n3 = Ob.fromString.apply(Ob, Zi([e3], r3))), new AC(t3, null, new $b(n3));
        if (!(t3 instanceof AC || t3 instanceof RC))
          throw new ub(ab.INVALID_ARGUMENT, "Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");
        return _C(n3 = t3._path.child(Ob.fromString.apply(Ob, Zi([e3], r3)))), new AC(t3.firestore, t3 instanceof RC ? t3.converter : null, new $b(n3));
      }
      function jC(t3, e3) {
        return t3 = ts(t3), e3 = ts(e3), (t3 instanceof AC || t3 instanceof RC) && (e3 instanceof AC || e3 instanceof RC) && t3.firestore === e3.firestore && t3.path === e3.path && t3.converter === e3.converter;
      }
      function UC(t3, e3) {
        return t3 = ts(t3), e3 = ts(e3), t3 instanceof NC && e3 instanceof NC && t3.firestore === e3.firestore && uw(t3._query, e3._query) && t3.converter === e3.converter;
      }
      var qC = (Object.defineProperty(VC.prototype, "isShuttingDown", { get: function() {
        return this._c;
      }, enumerable: false, configurable: true }), VC.prototype.enqueueAndForget = function(t3) {
        this.enqueue(t3);
      }, VC.prototype.enqueueAndForgetEvenWhileRestricted = function(t3) {
        this.Ac(), this.Rc(t3);
      }, VC.prototype.enterRestrictedMode = function(t3) {
        this._c || (this._c = true, this.Ec = t3 || false, (t3 = WS()) && "function" == typeof t3.removeEventListener && t3.removeEventListener("visibilitychange", this.Ic));
      }, VC.prototype.enqueue = function(t3) {
        var e3 = this;
        if (this.Ac(), this._c)
          return new Promise(function() {
          });
        var n3 = new DT();
        return this.Rc(function() {
          return e3._c && e3.Ec ? Promise.resolve() : (t3().then(n3.resolve, n3.reject), n3.promise);
        }).then(function() {
          return n3.promise;
        });
      }, VC.prototype.enqueueRetryable = function(t3) {
        var e3 = this;
        this.enqueueAndForget(function() {
          return e3.wc.push(t3), e3.bc();
        });
      }, VC.prototype.bc = function() {
        return Yi(this, void 0, void 0, function() {
          var e3, n3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if (0 === this.wc.length)
                  return [3, 5];
                t3.label = 1;
              case 1:
                return t3.trys.push([1, 3, , 4]), [4, this.wc[0]()];
              case 2:
                return t3.sent(), this.wc.shift(), this.Zi.reset(), [3, 4];
              case 3:
                if (!HT(e3 = t3.sent()))
                  throw e3;
                return fb("AsyncQueue", "Operation failed with retryable error: " + e3), [3, 4];
              case 4:
                0 < this.wc.length && this.Zi.ji(function() {
                  return n3.bc();
                }), t3.label = 5;
              case 5:
                return [2];
            }
          });
        });
      }, VC.prototype.Rc = function(t3) {
        var r3 = this, e3 = this.dc.then(function() {
          return r3.gc = true, t3().catch(function(t4) {
            throw r3.yc = t4, r3.gc = false, pb("INTERNAL UNHANDLED ERROR: ", (n3 = (e4 = t4).message || "", n3 = e4.stack ? e4.stack.includes(e4.message) ? e4.stack : e4.message + "\n" + e4.stack : n3)), t4;
            var e4, n3;
          }).then(function(t4) {
            return r3.gc = false, t4;
          });
        });
        return this.dc = e3;
      }, VC.prototype.enqueueAfterDelay = function(t3, e3, n3) {
        var r3 = this;
        this.Ac(), -1 < this.Tc.indexOf(t3) && (e3 = 0);
        n3 = k1.createAndSchedule(this, t3, e3, n3, function(t4) {
          return r3.vc(t4);
        });
        return this.mc.push(n3), n3;
      }, VC.prototype.Ac = function() {
        this.yc && vb();
      }, VC.prototype.verifyOperationInProgress = function() {
      }, VC.prototype.Pc = function() {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, e3 = this.dc];
              case 1:
                t3.sent(), t3.label = 2;
              case 2:
                if (e3 !== this.dc)
                  return [3, 0];
                t3.label = 3;
              case 3:
                return [2];
            }
          });
        });
      }, VC.prototype.Vc = function(t3) {
        for (var e3 = 0, n3 = this.mc; e3 < n3.length; e3++)
          if (n3[e3].timerId === t3)
            return true;
        return false;
      }, VC.prototype.Sc = function(r3) {
        var i3 = this;
        return this.Pc().then(function() {
          i3.mc.sort(function(t4, e4) {
            return t4.targetTimeMs - e4.targetTimeMs;
          });
          for (var t3 = 0, e3 = i3.mc; t3 < e3.length; t3++) {
            var n3 = e3[t3];
            if (n3.skipDelay(), "all" !== r3 && n3.timerId === r3)
              break;
          }
          return i3.Pc();
        });
      }, VC.prototype.Dc = function(t3) {
        this.Tc.push(t3);
      }, VC.prototype.vc = function(t3) {
        t3 = this.mc.indexOf(t3);
        this.mc.splice(t3, 1);
      }, VC);
      function VC() {
        var e3 = this;
        this.dc = Promise.resolve(), this.wc = [], this._c = false, this.mc = [], this.yc = null, this.gc = false, this.Ec = false, this.Tc = [], this.Zi = new XS(this, "async_queue_retry"), this.Ic = function() {
          var t4 = WS();
          t4 && fb("AsyncQueue", "Visibility state changed to " + t4.visibilityState), e3.Zi.Gi();
        };
        var t3 = WS();
        t3 && "function" == typeof t3.addEventListener && t3.addEventListener("visibilitychange", this.Ic);
      }
      function BC(i3) {
        return function() {
          if ("object" == typeof i3 && null !== i3)
            for (var t3 = i3, e3 = 0, n3 = ["next", "error", "complete"]; e3 < n3.length; e3++) {
              var r3 = n3[e3];
              if (r3 in t3 && "function" == typeof t3[r3])
                return 1;
            }
        }();
      }
      var KC, WC = (GC.prototype.onProgress = function(t3, e3, n3) {
        this._progressObserver = { next: t3, error: e3, complete: n3 };
      }, GC.prototype.catch = function(t3) {
        return this._taskCompletionResolver.promise.catch(t3);
      }, GC.prototype.then = function(t3, e3) {
        return this._taskCompletionResolver.promise.then(t3, e3);
      }, GC.prototype._completeWith = function(t3) {
        this._updateProgress(t3), this._progressObserver.complete && this._progressObserver.complete(), this._taskCompletionResolver.resolve(t3);
      }, GC.prototype._failWith = function(t3) {
        this._lastProgress.taskState = "Error", this._progressObserver.next && this._progressObserver.next(this._lastProgress), this._progressObserver.error && this._progressObserver.error(t3), this._taskCompletionResolver.reject(t3);
      }, GC.prototype._updateProgress = function(t3) {
        this._lastProgress = t3, this._progressObserver.next && this._progressObserver.next(t3);
      }, GC), HC = (Gi(zC, KC = CC), zC.prototype._terminate = function() {
        return this._firestoreClient || YC(this), this._firestoreClient.terminate();
      }, zC);
      function zC(t3, e3) {
        var n3 = this;
        return (n3 = KC.call(this, t3, e3) || this).type = "firestore", n3._queue = new qC(), n3._persistenceKey = "name" in t3 ? t3.name : "[DEFAULT]", n3;
      }
      function GC() {
        this._progressObserver = {}, this._taskCompletionResolver = new DT(), this._lastProgress = { taskState: "Running", totalBytes: 0, totalDocuments: 0, bytesLoaded: 0, documentsLoaded: 0 };
      }
      function QC(t3) {
        return t3._firestoreClient || YC(t3), t3._firestoreClient.verifyNotTerminated(), t3._firestoreClient;
      }
      function YC(t3) {
        var e3, n3, r3, i3 = t3._freezeSettings(), i3 = (e3 = t3._databaseId, n3 = (null === (r3 = t3._app) || void 0 === r3 ? void 0 : r3.options.appId) || "", r3 = t3._persistenceKey, new rC(e3, n3, r3, i3.host, i3.ssl, i3.experimentalForceLongPolling, i3.experimentalAutoDetectLongPolling, i3.useFetchStreams));
        t3._firestoreClient = new Uk(t3._credentials, t3._queue, i3);
      }
      function XC(n3, r3, i3) {
        var t3 = this, o3 = new DT();
        return n3.asyncQueue.enqueue(function() {
          return Yi(t3, void 0, void 0, function() {
            var e3;
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return t4.trys.push([0, 3, , 4]), [4, Hk(n3, i3)];
                case 1:
                  return t4.sent(), [4, zk(n3, r3)];
                case 2:
                  return t4.sent(), o3.resolve(), [3, 4];
                case 3:
                  if (!("FirebaseError" === (e3 = t4.sent()).name ? e3.code === ab.FAILED_PRECONDITION || e3.code === ab.UNIMPLEMENTED : !("undefined" != typeof DOMException && e3 instanceof DOMException) || 22 === e3.code || 20 === e3.code || 11 === e3.code))
                    throw e3;
                  return console.warn("Error enabling offline persistence. Falling back to persistence disabled: " + e3), o3.reject(e3), [3, 4];
                case 4:
                  return [2];
              }
            });
          });
        }).then(function() {
          return o3.promise;
        });
      }
      function $C(t3) {
        if (t3._initialized || t3._terminated)
          throw new ub(ab.FAILED_PRECONDITION, "Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");
      }
      var JC = (cA.prototype.isEqual = function(t3) {
        return this._internalPath.isEqual(t3._internalPath);
      }, cA), ZC = (uA.fromBase64String = function(t3) {
        try {
          return new uA(Mb.fromBase64String(t3));
        } catch (t4) {
          throw new ub(ab.INVALID_ARGUMENT, "Failed to construct data from Base64 string: " + t4);
        }
      }, uA.fromUint8Array = function(t3) {
        return new uA(Mb.fromUint8Array(t3));
      }, uA.prototype.toBase64 = function() {
        return this._byteString.toBase64();
      }, uA.prototype.toUint8Array = function() {
        return this._byteString.toUint8Array();
      }, uA.prototype.toString = function() {
        return "Bytes(base64: " + this.toBase64() + ")";
      }, uA.prototype.isEqual = function(t3) {
        return this._byteString.isEqual(t3._byteString);
      }, uA), tA = function(t3) {
        this._methodName = t3;
      }, eA = (Object.defineProperty(aA.prototype, "latitude", { get: function() {
        return this._lat;
      }, enumerable: false, configurable: true }), Object.defineProperty(aA.prototype, "longitude", { get: function() {
        return this._long;
      }, enumerable: false, configurable: true }), aA.prototype.isEqual = function(t3) {
        return this._lat === t3._lat && this._long === t3._long;
      }, aA.prototype.toJSON = function() {
        return { latitude: this._lat, longitude: this._long };
      }, aA.prototype._compareTo = function(t3) {
        return _b(this._lat, t3._lat) || _b(this._long, t3._long);
      }, aA), nA = /^__.*__$/, rA = (sA.prototype.toMutation = function(t3, e3) {
        return null !== this.fieldMask ? new Ww(t3, this.data, this.fieldMask, e3, this.fieldTransforms) : new Kw(t3, this.data, e3, this.fieldTransforms);
      }, sA), iA = (oA.prototype.toMutation = function(t3, e3) {
        return new Ww(t3, this.data, this.fieldMask, e3, this.fieldTransforms);
      }, oA);
      function oA(t3, e3, n3) {
        this.data = t3, this.fieldMask = e3, this.fieldTransforms = n3;
      }
      function sA(t3, e3, n3) {
        this.data = t3, this.fieldMask = e3, this.fieldTransforms = n3;
      }
      function aA(t3, e3) {
        if (!isFinite(t3) || t3 < -90 || 90 < t3)
          throw new ub(ab.INVALID_ARGUMENT, "Latitude must be a number between -90 and 90, but was: " + t3);
        if (!isFinite(e3) || e3 < -180 || 180 < e3)
          throw new ub(ab.INVALID_ARGUMENT, "Longitude must be a number between -180 and 180, but was: " + e3);
        this._lat = t3, this._long = e3;
      }
      function uA(t3) {
        this._byteString = t3;
      }
      function cA() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        for (var n3 = 0; n3 < t3.length; ++n3)
          if (0 === t3[n3].length)
            throw new ub(ab.INVALID_ARGUMENT, "Invalid field name at argument $(i + 1). Field names must not be empty.");
        this._internalPath = new xb(t3);
      }
      function hA(t3) {
        switch (t3) {
          case 0:
          case 2:
          case 1:
            return 1;
          case 3:
          case 4:
            return;
          default:
            throw vb();
        }
      }
      var lA = (Object.defineProperty(dA.prototype, "path", { get: function() {
        return this.settings.path;
      }, enumerable: false, configurable: true }), Object.defineProperty(dA.prototype, "Nc", { get: function() {
        return this.settings.Nc;
      }, enumerable: false, configurable: true }), dA.prototype.xc = function(t3) {
        return new dA(Object.assign(Object.assign({}, this.settings), t3), this.databaseId, this.R, this.ignoreUndefinedProperties, this.fieldTransforms, this.fieldMask);
      }, dA.prototype.kc = function(t3) {
        var e3 = null === (e3 = this.path) || void 0 === e3 ? void 0 : e3.child(t3), e3 = this.xc({ path: e3, Fc: false });
        return e3.$c(t3), e3;
      }, dA.prototype.Oc = function(t3) {
        var e3, t3 = null === (e3 = this.path) || void 0 === e3 ? void 0 : e3.child(t3), t3 = this.xc({ path: t3, Fc: false });
        return t3.Cc(), t3;
      }, dA.prototype.Mc = function(t3) {
        return this.xc({ path: void 0, Fc: true });
      }, dA.prototype.Lc = function(t3) {
        return KA(t3, this.settings.methodName, this.settings.Bc || false, this.path, this.settings.qc);
      }, dA.prototype.contains = function(e3) {
        return void 0 !== this.fieldMask.find(function(t3) {
          return e3.isPrefixOf(t3);
        }) || void 0 !== this.fieldTransforms.find(function(t3) {
          return e3.isPrefixOf(t3.field);
        });
      }, dA.prototype.Cc = function() {
        if (this.path)
          for (var t3 = 0; t3 < this.path.length; t3++)
            this.$c(this.path.get(t3));
      }, dA.prototype.$c = function(t3) {
        if (0 === t3.length)
          throw this.Lc("Document fields must not be empty");
        if (hA(this.Nc) && nA.test(t3))
          throw this.Lc('Document fields cannot begin and end with "__"');
      }, dA), fA = (pA.prototype.Uc = function(t3, e3, n3, r3) {
        return void 0 === r3 && (r3 = false), new lA({ Nc: t3, methodName: e3, qc: n3, path: xb.emptyPath(), Fc: false, Bc: r3 }, this.databaseId, this.R, this.ignoreUndefinedProperties);
      }, pA);
      function pA(t3, e3, n3) {
        this.databaseId = t3, this.ignoreUndefinedProperties = e3, this.R = n3 || HS(t3);
      }
      function dA(t3, e3, n3, r3, i3, o3) {
        this.settings = t3, this.databaseId = e3, this.R = n3, this.ignoreUndefinedProperties = r3, void 0 === i3 && this.Cc(), this.fieldTransforms = i3 || [], this.fieldMask = o3 || [];
      }
      function gA(t3) {
        var e3 = t3._freezeSettings(), n3 = HS(t3._databaseId);
        return new fA(t3._databaseId, !!e3.ignoreUndefinedProperties, n3);
      }
      function vA(t3, e3, n3, r3, i3, o3) {
        var s3 = t3.Uc((o3 = void 0 === o3 ? {} : o3).merge || o3.mergeFields ? 2 : 0, e3, n3, i3);
        UA("Data must be an object, but it was:", s3, r3);
        var a3, u3, r3 = FA(r3, s3);
        if (o3.merge)
          a3 = new Lb(s3.fieldMask), u3 = s3.fieldTransforms;
        else if (o3.mergeFields) {
          for (var c3 = [], h3 = 0, l3 = o3.mergeFields; h3 < l3.length; h3++) {
            var f3 = qA(e3, l3[h3], n3);
            if (!s3.contains(f3))
              throw new ub(ab.INVALID_ARGUMENT, "Field '" + f3 + "' is specified in your field mask but missing from your input data.");
            WA(c3, f3) || c3.push(f3);
          }
          a3 = new Lb(c3), u3 = s3.fieldTransforms.filter(function(t4) {
            return a3.covers(t4.field);
          });
        } else
          a3 = null, u3 = s3.fieldTransforms;
        return new rA(new f_(r3), a3, u3);
      }
      var yA, mA = (Gi(bA, yA = tA), bA.prototype._toFieldTransform = function(t3) {
        if (2 !== t3.Nc)
          throw 1 === t3.Nc ? t3.Lc(this._methodName + "() can only appear at the top level of your update data") : t3.Lc(this._methodName + "() cannot be used with set() unless you pass {merge:true}");
        return t3.fieldMask.push(t3.path), null;
      }, bA.prototype.isEqual = function(t3) {
        return t3 instanceof bA;
      }, bA);
      function bA() {
        return null !== yA && yA.apply(this, arguments) || this;
      }
      function _A(t3, e3, n3) {
        return new lA({ Nc: 3, qc: e3.settings.qc, methodName: t3._methodName, Fc: n3 }, e3.databaseId, e3.R, e3.ignoreUndefinedProperties);
      }
      var wA, TA, IA, EA, SA = (Gi(OA, EA = tA), OA.prototype._toFieldTransform = function(t3) {
        return new xw(t3.path, new bw());
      }, OA.prototype.isEqual = function(t3) {
        return t3 instanceof OA;
      }, OA), kA = (Gi(PA, IA = tA), PA.prototype._toFieldTransform = function(t3) {
        var e3 = _A(this, t3, true), n3 = this.Kc.map(function(t4) {
          return MA(t4, e3);
        }), n3 = new _w(n3);
        return new xw(t3.path, n3);
      }, PA.prototype.isEqual = function(t3) {
        return this === t3;
      }, PA), CA = (Gi(RA, TA = tA), RA.prototype._toFieldTransform = function(t3) {
        var e3 = _A(this, t3, true), n3 = this.Kc.map(function(t4) {
          return MA(t4, e3);
        }), n3 = new Sw(n3);
        return new xw(t3.path, n3);
      }, RA.prototype.isEqual = function(t3) {
        return this === t3;
      }, RA), AA = (Gi(NA, wA = tA), NA.prototype._toFieldTransform = function(t3) {
        var e3 = new Nw(t3.R, gw(t3.R, this.Qc));
        return new xw(t3.path, e3);
      }, NA.prototype.isEqual = function(t3) {
        return this === t3;
      }, NA);
      function NA(t3, e3) {
        var n3 = this;
        return (n3 = wA.call(this, t3) || this).Qc = e3, n3;
      }
      function RA(t3, e3) {
        var n3 = this;
        return (n3 = TA.call(this, t3) || this).Kc = e3, n3;
      }
      function PA(t3, e3) {
        var n3 = this;
        return (n3 = IA.call(this, t3) || this).Kc = e3, n3;
      }
      function OA() {
        return null !== EA && EA.apply(this, arguments) || this;
      }
      function DA(t3, r3, i3, e3) {
        var o3 = t3.Uc(1, r3, i3);
        UA("Data must be an object, but it was:", o3, e3);
        var s3 = [], a3 = f_.empty();
        Ab(e3, function(t4, e4) {
          var n3 = BA(r3, t4, i3);
          e4 = ts(e4);
          t4 = o3.Oc(n3);
          e4 instanceof mA ? s3.push(n3) : null != (t4 = MA(e4, t4)) && (s3.push(n3), a3.set(n3, t4));
        });
        e3 = new Lb(s3);
        return new iA(a3, e3, o3.fieldTransforms);
      }
      function xA(t3, e3, n3, r3, i3, o3) {
        var s3 = t3.Uc(1, e3, n3), a3 = [qA(e3, r3, n3)], u3 = [i3];
        if (o3.length % 2 != 0)
          throw new ub(ab.INVALID_ARGUMENT, "Function " + e3 + "() needs to be called with an even number of arguments that alternate between field names and values.");
        for (var c3 = 0; c3 < o3.length; c3 += 2)
          a3.push(qA(e3, o3[c3])), u3.push(o3[c3 + 1]);
        for (var h3, l3, f3, p3 = [], d3 = f_.empty(), g3 = a3.length - 1; 0 <= g3; --g3)
          WA(p3, a3[g3]) || (h3 = a3[g3], l3 = ts(l3 = u3[g3]), f3 = s3.Oc(h3), l3 instanceof mA ? p3.push(h3) : null != (f3 = MA(l3, f3)) && (p3.push(h3), d3.set(h3, f3)));
        i3 = new Lb(p3);
        return new iA(d3, i3, s3.fieldTransforms);
      }
      function LA(t3, e3, n3, r3) {
        return MA(n3, t3.Uc((r3 = void 0 === r3 ? false : r3) ? 4 : 3, e3));
      }
      function MA(s3, t3) {
        if (jA(s3 = ts(s3)))
          return UA("Unsupported field value:", t3, s3), FA(s3, t3);
        if (s3 instanceof tA)
          return function(t4, e3) {
            if (!hA(e3.Nc))
              throw e3.Lc(t4._methodName + "() can only be used with update() and set()");
            if (!e3.path)
              throw e3.Lc(t4._methodName + "() is not currently supported inside arrays");
            t4 = t4._toFieldTransform(e3);
            t4 && e3.fieldTransforms.push(t4);
          }(s3, t3), null;
        if (void 0 === s3 && t3.ignoreUndefinedProperties)
          return null;
        if (t3.path && t3.fieldMask.push(t3.path), s3 instanceof Array) {
          if (t3.settings.Fc && 4 !== t3.Nc)
            throw t3.Lc("Nested arrays are not supported");
          return function(t4) {
            for (var e3 = [], n3 = 0, r3 = 0, i3 = s3; r3 < i3.length; r3++) {
              var o3 = MA(i3[r3], t4.Mc(n3));
              null == o3 && (o3 = { nullValue: "NULL_VALUE" }), e3.push(o3), n3++;
            }
            return { arrayValue: { values: e3 } };
          }(t3);
        }
        return function(t4, e3) {
          if (null === (t4 = ts(s3)))
            return { nullValue: "NULL_VALUE" };
          if ("number" == typeof t4)
            return gw(e3.R, t4);
          if ("boolean" == typeof t4)
            return { booleanValue: t4 };
          if ("string" == typeof t4)
            return { stringValue: t4 };
          if (t4 instanceof Date) {
            var n3 = Ib.fromDate(t4);
            return { timestampValue: U0(e3.R, n3) };
          }
          if (t4 instanceof Ib)
            return n3 = new Ib(t4.seconds, 1e3 * Math.floor(t4.nanoseconds / 1e3)), { timestampValue: U0(e3.R, n3) };
          if (t4 instanceof eA)
            return { geoPointValue: { latitude: t4.latitude, longitude: t4.longitude } };
          if (t4 instanceof ZC)
            return { bytesValue: q0(e3.R, t4._byteString) };
          if (t4 instanceof AC) {
            var n3 = e3.databaseId, r3 = t4.firestore._databaseId;
            if (!r3.isEqual(n3))
              throw e3.Lc("Document reference is for database " + r3.projectId + "/" + r3.database + " but should be for database " + n3.projectId + "/" + n3.database);
            return { referenceValue: B0(t4.firestore._databaseId || e3.databaseId, t4._key.path) };
          }
          throw e3.Lc("Unsupported field value: " + TC(t4));
        }(0, t3);
      }
      function FA(t3, n3) {
        var r3 = {};
        return Nb(t3) ? n3.path && 0 < n3.path.length && n3.fieldMask.push(n3.path) : Ab(t3, function(t4, e3) {
          e3 = MA(e3, n3.kc(t4));
          null != e3 && (r3[t4] = e3);
        }), { mapValue: { fields: r3 } };
      }
      function jA(t3) {
        return !("object" != typeof t3 || null === t3 || t3 instanceof Array || t3 instanceof Date || t3 instanceof Ib || t3 instanceof eA || t3 instanceof ZC || t3 instanceof AC || t3 instanceof tA);
      }
      function UA(t3, e3, n3) {
        if (!jA(n3) || ("object" != typeof (r3 = n3) || null === r3 || Object.getPrototypeOf(r3) !== Object.prototype && null !== Object.getPrototypeOf(r3))) {
          n3 = TC(n3);
          throw "an object" === n3 ? e3.Lc(t3 + " a custom object") : e3.Lc(t3 + " " + n3);
        }
        var r3;
      }
      function qA(t3, e3, n3) {
        if ((e3 = ts(e3)) instanceof JC)
          return e3._internalPath;
        if ("string" == typeof e3)
          return BA(t3, e3);
        throw KA("Field path arguments must be of type string or FieldPath.", t3, false, void 0, n3);
      }
      var VA = new RegExp("[~\\*/\\[\\]]");
      function BA(e3, n3, r3) {
        if (0 <= n3.search(VA))
          throw KA("Invalid field path (" + n3 + "). Paths must not contain '~', '*', '/', '[', or ']'", e3, false, void 0, r3);
        try {
          return new (JC.bind.apply(JC, Zi([void 0], n3.split("."))))()._internalPath;
        } catch (t3) {
          throw KA("Invalid field path (" + n3 + "). Paths must not be empty, begin with '.', end with '.', or contain '..'", e3, false, void 0, r3);
        }
      }
      function KA(t3, e3, n3, r3, i3) {
        var o3 = r3 && !r3.isEmpty(), s3 = void 0 !== i3, e3 = "Function " + e3 + "() called with invalid data";
        n3 && (e3 += " (via `toFirestore()`)");
        n3 = "";
        return (o3 || s3) && (n3 += " (found", o3 && (n3 += " in field " + r3), s3 && (n3 += " in document " + i3), n3 += ")"), new ub(ab.INVALID_ARGUMENT, (e3 += ". ") + t3 + n3);
      }
      function WA(t3, e3) {
        return t3.some(function(t4) {
          return t4.isEqual(e3);
        });
      }
      var HA, zA = (Object.defineProperty(YA.prototype, "id", { get: function() {
        return this._key.path.lastSegment();
      }, enumerable: false, configurable: true }), Object.defineProperty(YA.prototype, "ref", { get: function() {
        return new AC(this._firestore, this._converter, this._key);
      }, enumerable: false, configurable: true }), YA.prototype.exists = function() {
        return null !== this._document;
      }, YA.prototype.data = function() {
        if (this._document) {
          if (this._converter) {
            var t3 = new GA(this._firestore, this._userDataWriter, this._key, this._document, null);
            return this._converter.fromFirestore(t3);
          }
          return this._userDataWriter.convertValue(this._document.data.value);
        }
      }, YA.prototype.get = function(t3) {
        if (this._document) {
          t3 = this._document.data.field(XA("DocumentSnapshot.get", t3));
          if (null !== t3)
            return this._userDataWriter.convertValue(t3);
        }
      }, YA), GA = (Gi(QA, HA = zA), QA.prototype.data = function() {
        return HA.prototype.data.call(this);
      }, QA);
      function QA() {
        return null !== HA && HA.apply(this, arguments) || this;
      }
      function YA(t3, e3, n3, r3, i3) {
        this._firestore = t3, this._userDataWriter = e3, this._key = n3, this._document = r3, this._converter = i3;
      }
      function XA(t3, e3) {
        return "string" == typeof e3 ? BA(t3, e3) : (e3 instanceof JC ? e3 : e3._delegate)._internalPath;
      }
      var $A, JA, ZA = (sN.prototype.isEqual = function(t3) {
        return this.hasPendingWrites === t3.hasPendingWrites && this.fromCache === t3.fromCache;
      }, sN), tN = (Gi(oN, JA = zA), oN.prototype.exists = function() {
        return JA.prototype.exists.call(this);
      }, oN.prototype.data = function(t3) {
        if (void 0 === t3 && (t3 = {}), this._document) {
          if (this._converter) {
            var e3 = new eN(this._firestore, this._userDataWriter, this._key, this._document, this.metadata, null);
            return this._converter.fromFirestore(e3, t3);
          }
          return this._userDataWriter.convertValue(this._document.data.value, t3.serverTimestamps);
        }
      }, oN.prototype.get = function(t3, e3) {
        if (void 0 === e3 && (e3 = {}), this._document) {
          t3 = this._document.data.field(XA("DocumentSnapshot.get", t3));
          if (null !== t3)
            return this._userDataWriter.convertValue(t3, e3.serverTimestamps);
        }
      }, oN), eN = (Gi(iN, $A = tN), iN.prototype.data = function(t3) {
        return $A.prototype.data.call(this, t3 = void 0 === t3 ? {} : t3);
      }, iN), nN = (Object.defineProperty(rN.prototype, "docs", { get: function() {
        var e3 = [];
        return this.forEach(function(t3) {
          return e3.push(t3);
        }), e3;
      }, enumerable: false, configurable: true }), Object.defineProperty(rN.prototype, "size", { get: function() {
        return this._snapshot.docs.size;
      }, enumerable: false, configurable: true }), Object.defineProperty(rN.prototype, "empty", { get: function() {
        return 0 === this.size;
      }, enumerable: false, configurable: true }), rN.prototype.forEach = function(e3, n3) {
        var r3 = this;
        this._snapshot.docs.forEach(function(t3) {
          e3.call(n3, new eN(r3._firestore, r3._userDataWriter, t3.key, t3, new ZA(r3._snapshot.mutatedKeys.has(t3.key), r3._snapshot.fromCache), r3.query.converter));
        });
      }, rN.prototype.docChanges = function(t3) {
        t3 = !!(t3 = void 0 === t3 ? {} : t3).includeMetadataChanges;
        if (t3 && this._snapshot.excludesMetadataChanges)
          throw new ub(ab.INVALID_ARGUMENT, "To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");
        return this._cachedChanges && this._cachedChangesIncludeMetadataChanges === t3 || (this._cachedChanges = function(i3, e3) {
          if (i3._snapshot.oldDocs.isEmpty()) {
            var n3 = 0;
            return i3._snapshot.docChanges.map(function(t4) {
              return { type: "added", doc: new eN(i3._firestore, i3._userDataWriter, t4.doc.key, t4.doc, new ZA(i3._snapshot.mutatedKeys.has(t4.doc.key), i3._snapshot.fromCache), i3.query.converter), oldIndex: -1, newIndex: n3++ };
            });
          }
          var o3 = i3._snapshot.oldDocs;
          return i3._snapshot.docChanges.filter(function(t4) {
            return e3 || 3 !== t4.type;
          }).map(function(t4) {
            var e4 = new eN(i3._firestore, i3._userDataWriter, t4.doc.key, t4.doc, new ZA(i3._snapshot.mutatedKeys.has(t4.doc.key), i3._snapshot.fromCache), i3.query.converter), n4 = -1, r3 = -1;
            return 0 !== t4.type && (n4 = o3.indexOf(t4.doc.key), o3 = o3.delete(t4.doc.key)), 1 !== t4.type && (r3 = (o3 = o3.add(t4.doc)).indexOf(t4.doc.key)), { type: function(t5) {
              switch (t5) {
                case 0:
                  return "added";
                case 2:
                case 3:
                  return "modified";
                case 1:
                  return "removed";
                default:
                  return vb();
              }
            }(t4.type), doc: e4, oldIndex: n4, newIndex: r3 };
          });
        }(this, t3), this._cachedChangesIncludeMetadataChanges = t3), this._cachedChanges;
      }, rN);
      function rN(t3, e3, n3, r3) {
        this._firestore = t3, this._userDataWriter = e3, this._snapshot = r3, this.metadata = new ZA(r3.hasPendingWrites, r3.fromCache), this.query = n3;
      }
      function iN() {
        return null !== $A && $A.apply(this, arguments) || this;
      }
      function oN(t3, e3, n3, r3, i3, o3) {
        var s3 = this;
        return (s3 = JA.call(this, t3, e3, n3, r3, o3) || this)._firestore = t3, s3._firestoreImpl = t3, s3.metadata = i3, s3;
      }
      function sN(t3, e3) {
        this.hasPendingWrites = t3, this.fromCache = e3;
      }
      function aN(t3, e3) {
        return t3 instanceof tN && e3 instanceof tN ? t3._firestore === e3._firestore && t3._key.isEqual(e3._key) && (null === t3._document ? null === e3._document : t3._document.isEqual(e3._document)) && t3._converter === e3._converter : t3 instanceof nN && e3 instanceof nN && t3._firestore === e3._firestore && UC(t3.query, e3.query) && t3.metadata.isEqual(e3.metadata) && t3._snapshot.isEqual(e3._snapshot);
      }
      function uN(t3) {
        if (ew(t3) && 0 === t3.explicitOrderBy.length)
          throw new ub(ab.UNIMPLEMENTED, "limitToLast() queries require specifying at least one orderBy() clause");
      }
      G = function() {
      };
      function cN(t3) {
        for (var e3 = [], n3 = 1; n3 < arguments.length; n3++)
          e3[n3 - 1] = arguments[n3];
        for (var r3 = 0, i3 = e3; r3 < i3.length; r3++)
          t3 = i3[r3]._apply(t3);
        return t3;
      }
      var hN, lN, fN, pN, dN, gN = (Gi(EN, dN = G), EN.prototype._apply = function(t3) {
        var e3 = gA(t3.firestore), e3 = function(t4, e4, n3, r3, i3, o3) {
          if (r3.isKeyField()) {
            if ("array-contains" === i3 || "array-contains-any" === i3)
              throw new ub(ab.INVALID_ARGUMENT, "Invalid Query. You can't perform '" + i3 + "' queries on FieldPath.documentId().");
            if ("in" === i3 || "not-in" === i3) {
              CN(o3, i3);
              for (var s3 = [], a3 = 0, u3 = o3; a3 < u3.length; a3++) {
                var c3 = u3[a3];
                s3.push(kN(n3, t4, c3));
              }
              h3 = { arrayValue: { values: s3 } };
            } else
              h3 = kN(n3, t4, o3);
          } else
            "in" !== i3 && "not-in" !== i3 && "array-contains-any" !== i3 || CN(o3, i3), h3 = LA(e4, "where", o3, "in" === i3 || "not-in" === i3);
          var h3 = T_.create(r3, i3, h3);
          return function(t5, e5) {
            if (e5.g()) {
              var n4 = rw(t5);
              if (null !== n4 && !n4.isEqual(e5.field))
                throw new ub(ab.INVALID_ARGUMENT, "Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '" + n4.toString() + "' and '" + e5.field.toString() + "'");
              n4 = nw(t5);
              null !== n4 && AN(0, e5.field, n4);
            }
            t5 = function(t6, e6) {
              for (var n5 = 0, r4 = t6.filters; n5 < r4.length; n5++) {
                var i4 = r4[n5];
                if (0 <= e6.indexOf(i4.op))
                  return i4.op;
              }
              return null;
            }(t5, function() {
              switch (e5.op) {
                case "!=":
                  return ["!=", "not-in"];
                case "array-contains":
                  return ["array-contains", "array-contains-any", "not-in"];
                case "in":
                  return ["array-contains-any", "in", "not-in"];
                case "array-contains-any":
                  return ["array-contains", "array-contains-any", "in", "not-in"];
                case "not-in":
                  return ["array-contains", "array-contains-any", "in", "not-in", "!="];
                default:
                  return [];
              }
            }());
            if (null !== t5)
              throw t5 === e5.op ? new ub(ab.INVALID_ARGUMENT, "Invalid query. You cannot use more than one '" + e5.op.toString() + "' filter.") : new ub(ab.INVALID_ARGUMENT, "Invalid query. You cannot use '" + e5.op.toString() + "' filters with '" + t5.toString() + "' filters.");
          }(t4, h3), h3;
        }(t3._query, e3, t3.firestore._databaseId, this.jc, this.Wc, this.Gc);
        return new NC(t3.firestore, t3.converter, (t3 = t3._query, e3 = t3.filters.concat([e3]), new $_(t3.path, t3.collectionGroup, t3.explicitOrderBy.slice(), e3, t3.limit, t3.limitType, t3.startAt, t3.endAt)));
      }, EN), vN = (Gi(IN, pN = G), IN.prototype._apply = function(t3) {
        var e3 = function(t4, e4, n3) {
          if (null !== t4.startAt)
            throw new ub(ab.INVALID_ARGUMENT, "Invalid query. You must not call startAt() or startAfter() before calling orderBy().");
          if (null !== t4.endAt)
            throw new ub(ab.INVALID_ARGUMENT, "Invalid query. You must not call endAt() or endBefore() before calling orderBy().");
          var r3 = new Q_(e4, n3);
          return e4 = r3, null !== nw(n3 = t4) || null !== (t4 = rw(n3)) && AN(0, t4, e4.field), r3;
        }(t3._query, this.jc, this.zc);
        return new NC(t3.firestore, t3.converter, (t3 = t3._query, e3 = t3.explicitOrderBy.concat([e3]), new $_(t3.path, t3.collectionGroup, e3, t3.filters.slice(), t3.limit, t3.limitType, t3.startAt, t3.endAt)));
      }, IN), yN = (Gi(TN, fN = G), TN.prototype._apply = function(t3) {
        return new NC(t3.firestore, t3.converter, aw(t3._query, this.Hc, this.Jc));
      }, TN), mN = (Gi(wN, lN = G), wN.prototype._apply = function(t3) {
        var e3 = SN(t3, this.type, this.Yc, this.Xc);
        return new NC(t3.firestore, t3.converter, (t3 = t3._query, e3 = e3, new $_(t3.path, t3.collectionGroup, t3.explicitOrderBy.slice(), t3.filters.slice(), t3.limit, t3.limitType, e3, t3.endAt)));
      }, wN), bN = (Gi(_N, hN = G), _N.prototype._apply = function(t3) {
        var e3 = SN(t3, this.type, this.Yc, this.Xc);
        return new NC(t3.firestore, t3.converter, (t3 = t3._query, e3 = e3, new $_(t3.path, t3.collectionGroup, t3.explicitOrderBy.slice(), t3.filters.slice(), t3.limit, t3.limitType, t3.startAt, e3)));
      }, _N);
      function _N(t3, e3, n3) {
        var r3 = this;
        return (r3 = hN.call(this) || this).type = t3, r3.Yc = e3, r3.Xc = n3, r3;
      }
      function wN(t3, e3, n3) {
        var r3 = this;
        return (r3 = lN.call(this) || this).type = t3, r3.Yc = e3, r3.Xc = n3, r3;
      }
      function TN(t3, e3, n3) {
        var r3 = this;
        return (r3 = fN.call(this) || this).type = t3, r3.Hc = e3, r3.Jc = n3, r3;
      }
      function IN(t3, e3) {
        var n3 = this;
        return (n3 = pN.call(this) || this).jc = t3, n3.zc = e3, n3.type = "orderBy", n3;
      }
      function EN(t3, e3, n3) {
        var r3 = this;
        return (r3 = dN.call(this) || this).jc = t3, r3.Wc = e3, r3.Gc = n3, r3.type = "where", r3;
      }
      function SN(t3, c3, e3, n3) {
        if (e3[0] = ts(e3[0]), e3[0] instanceof zA)
          return function(t4, e4, n4, r4) {
            if (!n4)
              throw new ub(ab.NOT_FOUND, "Can't use a DocumentSnapshot that doesn't exist for " + c3 + "().");
            for (var i3 = [], o3 = 0, s3 = ow(t4); o3 < s3.length; o3++) {
              var a3 = s3[o3];
              if (a3.field.isKeyField())
                i3.push(o_(e4, n4.key));
              else {
                var u3 = n4.data.field(a3.field);
                if (zb(u3))
                  throw new ub(ab.INVALID_ARGUMENT, 'Invalid query. You are trying to start or end a query using a document for which the field "' + a3.field + '" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');
                if (null === u3) {
                  a3 = a3.field.canonicalString();
                  throw new ub(ab.INVALID_ARGUMENT, "Invalid query. You are trying to start or end a query using a document for which the field '" + a3 + "' (used as the orderBy) does not exist.");
                }
                i3.push(u3);
              }
            }
            return new B_(i3, r4);
          }(t3._query, t3.firestore._databaseId, e3[0]._document, n3);
        var r3 = gA(t3.firestore);
        return function(t4, e4, n4, r4, i3, o3) {
          var s3 = t4.explicitOrderBy;
          if (i3.length > s3.length)
            throw new ub(ab.INVALID_ARGUMENT, "Too many arguments provided to " + r4 + "(). The number of arguments must be less than or equal to the number of orderBy() clauses");
          for (var a3 = [], u3 = 0; u3 < i3.length; u3++) {
            var c4 = i3[u3];
            if (s3[u3].field.isKeyField()) {
              if ("string" != typeof c4)
                throw new ub(ab.INVALID_ARGUMENT, "Invalid query. Expected a string for document ID in " + r4 + "(), but got a " + typeof c4);
              if (!iw(t4) && -1 !== c4.indexOf("/"))
                throw new ub(ab.INVALID_ARGUMENT, "Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to " + r4 + "() must be a plain document ID, but '" + c4 + "' contains a slash.");
              var h3 = t4.path.child(Ob.fromString(c4));
              if (!$b.isDocumentKey(h3))
                throw new ub(ab.INVALID_ARGUMENT, "Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to " + r4 + "() must result in a valid document path, but '" + h3 + "' is not because it contains an odd number of segments.");
              h3 = new $b(h3);
              a3.push(o_(e4, h3));
            } else {
              c4 = LA(n4, r4, c4);
              a3.push(c4);
            }
          }
          return new B_(a3, o3);
        }(t3._query, t3.firestore._databaseId, r3, c3, e3, n3);
      }
      function kN(t3, e3, n3) {
        if ("string" == typeof (n3 = ts(n3))) {
          if ("" === n3)
            throw new ub(ab.INVALID_ARGUMENT, "Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");
          if (!iw(e3) && -1 !== n3.indexOf("/"))
            throw new ub(ab.INVALID_ARGUMENT, "Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '" + n3 + "' contains a '/' character.");
          e3 = e3.path.child(Ob.fromString(n3));
          if (!$b.isDocumentKey(e3))
            throw new ub(ab.INVALID_ARGUMENT, "Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '" + e3 + "' is not because it has an odd number of segments (" + e3.length + ").");
          return o_(t3, new $b(e3));
        }
        if (n3 instanceof AC)
          return o_(t3, n3._key);
        throw new ub(ab.INVALID_ARGUMENT, "Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: " + TC(n3) + ".");
      }
      function CN(t3, e3) {
        if (!Array.isArray(t3) || 0 === t3.length)
          throw new ub(ab.INVALID_ARGUMENT, "Invalid Query. A non-empty array is required for '" + e3.toString() + "' filters.");
        if (10 < t3.length)
          throw new ub(ab.INVALID_ARGUMENT, "Invalid Query. '" + e3.toString() + "' filters support a maximum of 10 elements in the value array.");
      }
      function AN(t3, e3, n3) {
        if (!n3.isEqual(e3))
          throw new ub(ab.INVALID_ARGUMENT, "Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '" + e3.toString() + "' and so you must also use '" + e3.toString() + "' as your first argument to orderBy(), but your first orderBy() is on field '" + n3.toString() + "' instead.");
      }
      NN.prototype.convertValue = function(t3, e3) {
        switch (void 0 === e3 && (e3 = "none"), Zb(t3)) {
          case 0:
            return null;
          case 1:
            return t3.booleanValue;
          case 2:
            return Wb(t3.integerValue || t3.doubleValue);
          case 3:
            return this.convertTimestamp(t3.timestampValue);
          case 4:
            return this.convertServerTimestamp(t3, e3);
          case 5:
            return t3.stringValue;
          case 6:
            return this.convertBytes(Hb(t3.bytesValue));
          case 7:
            return this.convertReference(t3.referenceValue);
          case 8:
            return this.convertGeoPoint(t3.geoPointValue);
          case 9:
            return this.convertArray(t3.arrayValue, e3);
          case 10:
            return this.convertObject(t3.mapValue, e3);
          default:
            throw vb();
        }
      }, NN.prototype.convertObject = function(t3, n3) {
        var r3 = this, i3 = {};
        return Ab(t3.fields, function(t4, e3) {
          i3[t4] = r3.convertValue(e3, n3);
        }), i3;
      }, NN.prototype.convertGeoPoint = function(t3) {
        return new eA(Wb(t3.latitude), Wb(t3.longitude));
      }, NN.prototype.convertArray = function(t3, e3) {
        var n3 = this;
        return (t3.values || []).map(function(t4) {
          return n3.convertValue(t4, e3);
        });
      }, NN.prototype.convertServerTimestamp = function(t3, e3) {
        switch (e3) {
          case "previous":
            var n3 = function t4(e4) {
              e4 = e4.mapValue.fields.__previous_value__;
              return zb(e4) ? t4(e4) : e4;
            }(t3);
            return null == n3 ? null : this.convertValue(n3, e3);
          case "estimate":
            return this.convertTimestamp(Gb(t3));
          default:
            return null;
        }
      }, NN.prototype.convertTimestamp = function(t3) {
        t3 = Kb(t3);
        return new Ib(t3.seconds, t3.nanos);
      }, NN.prototype.convertDocumentKey = function(t3, e3) {
        var n3 = Ob.fromString(t3);
        yb(cT(n3));
        t3 = new iC(n3.get(1), n3.get(3)), n3 = new $b(n3.popFirst(5));
        return t3.isEqual(e3) || pb("Document " + n3 + " contains a document reference within a different database (" + t3.projectId + "/" + t3.database + ") which is not supported. It will be treated as a reference in the current database (" + e3.projectId + "/" + e3.database + ") instead."), n3;
      }, Q = NN;
      function NN() {
      }
      function RN(t3, e3, n3) {
        return t3 ? n3 && (n3.merge || n3.mergeFields) ? t3.toFirestore(e3, n3) : t3.toFirestore(e3) : e3;
      }
      var PN, ON = (Gi(LN, PN = Q), LN.prototype.convertBytes = function(t3) {
        return new ZC(t3);
      }, LN.prototype.convertReference = function(t3) {
        t3 = this.convertDocumentKey(t3, this.firestore._databaseId);
        return new AC(this.firestore, null, t3);
      }, LN), DN = (xN.prototype.set = function(t3, e3, n3) {
        this._verifyNotCommitted();
        t3 = MN(t3, this._firestore), e3 = RN(t3.converter, e3, n3), n3 = vA(this._dataReader, "WriteBatch.set", t3._key, e3, null !== t3.converter, n3);
        return this._mutations.push(n3.toMutation(t3._key, Lw.none())), this;
      }, xN.prototype.update = function(t3, e3, n3) {
        for (var r3 = [], i3 = 3; i3 < arguments.length; i3++)
          r3[i3 - 3] = arguments[i3];
        this._verifyNotCommitted();
        t3 = MN(t3, this._firestore), e3 = "string" == typeof (e3 = ts(e3)) || e3 instanceof JC ? xA(this._dataReader, "WriteBatch.update", t3._key, e3, n3, r3) : DA(this._dataReader, "WriteBatch.update", t3._key, e3);
        return this._mutations.push(e3.toMutation(t3._key, Lw.exists(true))), this;
      }, xN.prototype.delete = function(t3) {
        this._verifyNotCommitted();
        t3 = MN(t3, this._firestore);
        return this._mutations = this._mutations.concat(new t0(t3._key, Lw.none())), this;
      }, xN.prototype.commit = function() {
        return this._verifyNotCommitted(), this._committed = true, 0 < this._mutations.length ? this._commitHandler(this._mutations) : Promise.resolve();
      }, xN.prototype._verifyNotCommitted = function() {
        if (this._committed)
          throw new ub(ab.FAILED_PRECONDITION, "A write batch can no longer be used after commit() has been called.");
      }, xN);
      function xN(t3, e3) {
        this._firestore = t3, this._commitHandler = e3, this._mutations = [], this._committed = false, this._dataReader = gA(t3);
      }
      function LN(t3) {
        var e3 = this;
        return (e3 = PN.call(this) || this).firestore = t3, e3;
      }
      function MN(t3, e3) {
        if ((t3 = ts(t3)).firestore !== e3)
          throw new ub(ab.INVALID_ARGUMENT, "Provided document reference is from a different Firestore instance.");
        return t3;
      }
      var FN, jN = (Gi(UN, FN = Q), UN.prototype.convertBytes = function(t3) {
        return new ZC(t3);
      }, UN.prototype.convertReference = function(t3) {
        t3 = this.convertDocumentKey(t3, this.firestore._databaseId);
        return new AC(this.firestore, null, t3);
      }, UN);
      function UN(t3) {
        var e3 = this;
        return (e3 = FN.call(this) || this).firestore = t3, e3;
      }
      function qN(t3, e3, n3) {
        t3 = IC(t3, AC);
        var r3 = IC(t3.firestore, HC), e3 = RN(t3.converter, e3, n3);
        return KN(r3, [vA(gA(r3), "setDoc", t3._key, e3, null !== t3.converter, n3).toMutation(t3._key, Lw.none())]);
      }
      function VN(t3, e3, n3) {
        for (var r3 = [], i3 = 3; i3 < arguments.length; i3++)
          r3[i3 - 3] = arguments[i3];
        t3 = IC(t3, AC);
        var o3 = IC(t3.firestore, HC), s3 = gA(o3);
        return KN(o3, [("string" == typeof (e3 = ts(e3)) || e3 instanceof JC ? xA(s3, "updateDoc", t3._key, e3, n3, r3) : DA(s3, "updateDoc", t3._key, e3)).toMutation(t3._key, Lw.exists(true))]);
      }
      function BN(e3) {
        for (var n3 = [], t3 = 1; t3 < arguments.length; t3++)
          n3[t3 - 1] = arguments[t3];
        e3 = ts(e3);
        var r3 = { includeMetadataChanges: false }, i3 = 0;
        "object" != typeof n3[i3] || BC(n3[i3]) || (r3 = n3[i3], i3++);
        var o3, s3, a3, u3, c3, h3, l3 = { includeMetadataChanges: r3.includeMetadataChanges };
        return BC(n3[i3]) && (o3 = n3[i3], n3[i3] = null === (r3 = o3.next) || void 0 === r3 ? void 0 : r3.bind(o3), n3[i3 + 1] = null === (r3 = o3.error) || void 0 === r3 ? void 0 : r3.bind(o3), n3[i3 + 2] = null === (r3 = o3.complete) || void 0 === r3 ? void 0 : r3.bind(o3)), e3 instanceof AC ? (a3 = IC(e3.firestore, HC), u3 = Z_(e3._key.path), h3 = { next: function(t4) {
          n3[i3] && n3[i3](WN(a3, e3, t4));
        }, error: n3[i3 + 1], complete: n3[i3 + 2] }) : (s3 = IC(e3, NC), a3 = IC(s3.firestore, HC), u3 = s3._query, c3 = new jN(a3), h3 = { next: function(t4) {
          n3[i3] && n3[i3](new nN(a3, c3, s3, t4));
        }, error: n3[i3 + 1], complete: n3[i3 + 2] }, uN(e3._query)), function(n4, t4, e4) {
          var r4 = this, i4 = new Lk(h3), o4 = new q1(t4, i4, e4);
          return n4.asyncQueue.enqueueAndForget(function() {
            return Yi(r4, void 0, void 0, function() {
              var e5;
              return Xi(this, function(t5) {
                switch (t5.label) {
                  case 0:
                    return e5 = F1, [4, Zk(n4)];
                  case 1:
                    return [2, e5.apply(void 0, [t5.sent(), o4])];
                }
              });
            });
          }), function() {
            i4.Wo(), n4.asyncQueue.enqueueAndForget(function() {
              return Yi(r4, void 0, void 0, function() {
                var e5;
                return Xi(this, function(t5) {
                  switch (t5.label) {
                    case 0:
                      return e5 = j1, [4, Zk(n4)];
                    case 1:
                      return [2, e5.apply(void 0, [t5.sent(), o4])];
                  }
                });
              });
            });
          };
        }(QC(a3), u3, l3);
      }
      function KN(t3, e3) {
        return function(n3, r3) {
          var t4 = this, i3 = new DT();
          return n3.asyncQueue.enqueueAndForget(function() {
            return Yi(t4, void 0, void 0, function() {
              var e4;
              return Xi(this, function(t5) {
                switch (t5.label) {
                  case 0:
                    return e4 = ik, [4, Jk(n3)];
                  case 1:
                    return [2, e4.apply(void 0, [t5.sent(), r3, i3])];
                }
              });
            });
          }), i3.promise;
        }(QC(t3), e3);
      }
      function WN(t3, e3, n3) {
        var r3 = n3.docs.get(e3._key), i3 = new jN(t3);
        return new tN(t3, i3, e3._key, r3, new ZA(n3.hasPendingWrites, n3.fromCache), e3.converter);
      }
      var HN, zN = (QN.prototype.get = function(t3) {
        var e3 = this, n3 = MN(t3, this._firestore), r3 = new ON(this._firestore);
        return this._transaction.lookup([n3._key]).then(function(t4) {
          if (!t4 || 1 !== t4.length)
            return vb();
          t4 = t4[0];
          if (t4.isFoundDocument())
            return new zA(e3._firestore, r3, t4.key, t4, n3.converter);
          if (t4.isNoDocument())
            return new zA(e3._firestore, r3, n3._key, null, n3.converter);
          throw vb();
        });
      }, QN.prototype.set = function(t3, e3, n3) {
        t3 = MN(t3, this._firestore), e3 = RN(t3.converter, e3, n3), n3 = vA(this._dataReader, "Transaction.set", t3._key, e3, null !== t3.converter, n3);
        return this._transaction.set(t3._key, n3), this;
      }, QN.prototype.update = function(t3, e3, n3) {
        for (var r3 = [], i3 = 3; i3 < arguments.length; i3++)
          r3[i3 - 3] = arguments[i3];
        t3 = MN(t3, this._firestore), e3 = "string" == typeof (e3 = ts(e3)) || e3 instanceof JC ? xA(this._dataReader, "Transaction.update", t3._key, e3, n3, r3) : DA(this._dataReader, "Transaction.update", t3._key, e3);
        return this._transaction.update(t3._key, e3), this;
      }, QN.prototype.delete = function(t3) {
        t3 = MN(t3, this._firestore);
        return this._transaction.delete(t3._key), this;
      }, Gi(GN, HN = QN), GN.prototype.get = function(t3) {
        var e3 = this, n3 = MN(t3, this._firestore), r3 = new jN(this._firestore);
        return HN.prototype.get.call(this, t3).then(function(t4) {
          return new tN(e3._firestore, r3, n3._key, t4._document, new ZA(false, false), n3.converter);
        });
      }, GN);
      function GN(t3, e3) {
        var n3 = this;
        return (n3 = HN.call(this, t3, e3) || this)._firestore = t3, n3;
      }
      function QN(t3, e3) {
        this._firestore = t3, this._transaction = e3, this._dataReader = gA(t3);
      }
      function YN() {
        if ("undefined" == typeof Uint8Array)
          throw new ub(ab.UNIMPLEMENTED, "Uint8Arrays are not available in this environment.");
      }
      function XN() {
        if ("undefined" == typeof atob)
          throw new ub(ab.UNIMPLEMENTED, "Blobs are unavailable in Firestore in this environment.");
      }
      var $N, JN = (oR.fromBase64String = function(t3) {
        return XN(), new oR(ZC.fromBase64String(t3));
      }, oR.fromUint8Array = function(t3) {
        return YN(), new oR(ZC.fromUint8Array(t3));
      }, oR.prototype.toBase64 = function() {
        return XN(), this._delegate.toBase64();
      }, oR.prototype.toUint8Array = function() {
        return YN(), this._delegate.toUint8Array();
      }, oR.prototype.isEqual = function(t3) {
        return this._delegate.isEqual(t3._delegate);
      }, oR.prototype.toString = function() {
        return "Blob(base64: " + this.toBase64() + ")";
      }, oR), ZN = (iR.prototype.enableIndexedDbPersistence = function(t3, e3) {
        return function(t4, e4) {
          $C(t4 = IC(t4, HC));
          var n3 = QC(t4), r3 = t4._freezeSettings(), t4 = new Nk();
          return XC(n3, t4, new Ck(t4, r3.cacheSizeBytes, null == e4 ? void 0 : e4.forceOwnership));
        }(t3._delegate, { forceOwnership: e3 });
      }, iR.prototype.enableMultiTabIndexedDbPersistence = function(t3) {
        return function(t4) {
          $C(t4 = IC(t4, HC));
          var e3 = QC(t4), n3 = t4._freezeSettings(), t4 = new Nk();
          return XC(e3, t4, new Ak(t4, n3.cacheSizeBytes));
        }(t3._delegate);
      }, iR.prototype.clearIndexedDbPersistence = function(t3) {
        return function(n3) {
          var t4 = this;
          if (n3._initialized && !n3._terminated)
            throw new ub(ab.FAILED_PRECONDITION, "Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");
          var r3 = new DT();
          return n3._queue.enqueueAndForgetEvenWhileRestricted(function() {
            return Yi(t4, void 0, void 0, function() {
              var e3;
              return Xi(this, function(t5) {
                switch (t5.label) {
                  case 0:
                    return t5.trys.push([0, 2, , 3]), [4, function(n4) {
                      return Yi(this, void 0, void 0, function() {
                        var e4;
                        return Xi(this, function(t6) {
                          switch (t6.label) {
                            case 0:
                              return MT.yt() ? (e4 = n4 + "main", [4, MT.delete(e4)]) : [2, Promise.resolve()];
                            case 1:
                              return t6.sent(), [2];
                          }
                        });
                      });
                    }(IE(n3._databaseId, n3._persistenceKey))];
                  case 1:
                    return t5.sent(), r3.resolve(), [3, 3];
                  case 2:
                    return e3 = t5.sent(), r3.reject(e3), [3, 3];
                  case 3:
                    return [2];
                }
              });
            });
          }), r3.promise;
        }(t3._delegate);
      }, iR), tR = (Object.defineProperty(rR.prototype, "_databaseId", { get: function() {
        return this._delegate._databaseId;
      }, enumerable: false, configurable: true }), rR.prototype.settings = function(t3) {
        var e3 = this._delegate._getSettings();
        t3.merge || e3.host === t3.host || db("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."), t3.merge && delete (t3 = Object.assign(Object.assign({}, e3), t3)).merge, this._delegate._setSettings(t3);
      }, rR.prototype.useEmulator = function(t3, e3, n3) {
        (function(t4, e4, n4, r3) {
          void 0 === r3 && (r3 = {});
          var i3, o3 = (t4 = IC(t4, CC))._getSettings();
          if ("firestore.googleapis.com" !== o3.host && o3.host !== e4 && db("Host has been set in both settings() and useEmulator(), emulator host will be used"), t4._setSettings(Object.assign(Object.assign({}, o3), { host: e4 + ":" + n4, ssl: false })), r3.mockUserToken) {
            if ("string" == typeof r3.mockUserToken)
              s3 = r3.mockUserToken, i3 = rS.MOCK_USER;
            else {
              var s3 = fo(r3.mockUserToken, null === (n4 = t4._app) || void 0 === n4 ? void 0 : n4.options.projectId), r3 = r3.mockUserToken.sub || r3.mockUserToken.user_id;
              if (!r3)
                throw new ub(ab.INVALID_ARGUMENT, "mockUserToken must contain 'sub' or 'user_id' field!");
              i3 = new rS(r3);
            }
            t4._credentials = new aC(new nC(s3, i3));
          }
        })(this._delegate, t3, e3, n3 = void 0 === n3 ? {} : n3);
      }, rR.prototype.enableNetwork = function() {
        return function(i3) {
          var t3 = this;
          return i3.asyncQueue.enqueue(function() {
            return Yi(t3, void 0, void 0, function() {
              var n3, r3;
              return Xi(this, function(t4) {
                switch (t4.label) {
                  case 0:
                    return [4, Yk(i3)];
                  case 1:
                    return n3 = t4.sent(), [4, $k(i3)];
                  case 2:
                    return r3 = t4.sent(), [2, (n3.setNetworkEnabled(true), (e3 = r3).Or.delete(0), a1(e3))];
                }
                var e3;
              });
            });
          });
        }(QC(IC(this._delegate, HC)));
      }, rR.prototype.disableNetwork = function() {
        return function(r3) {
          var t3 = this;
          return r3.asyncQueue.enqueue(function() {
            return Yi(t3, void 0, void 0, function() {
              var e3, n3;
              return Xi(this, function(t4) {
                switch (t4.label) {
                  case 0:
                    return [4, Yk(r3)];
                  case 1:
                    return e3 = t4.sent(), [4, $k(r3)];
                  case 2:
                    return n3 = t4.sent(), [2, (e3.setNetworkEnabled(false), function(n4) {
                      return Yi(this, void 0, void 0, function() {
                        var e4;
                        return Xi(this, function(t5) {
                          switch (t5.label) {
                            case 0:
                              return (e4 = n4).Or.add(0), [4, u1(e4)];
                            case 1:
                              return t5.sent(), e4.Br.set("Offline"), [2];
                          }
                        });
                      });
                    }(n3))];
                }
              });
            });
          });
        }(QC(IC(this._delegate, HC)));
      }, rR.prototype.enablePersistence = function(t3) {
        var e3 = false, n3 = false;
        return t3 && bC("synchronizeTabs", e3 = !!t3.synchronizeTabs, "experimentalForceOwningTab", n3 = !!t3.experimentalForceOwningTab), e3 ? this.Zc.enableMultiTabIndexedDbPersistence(this) : this.Zc.enableIndexedDbPersistence(this, n3);
      }, rR.prototype.clearPersistence = function() {
        return this.Zc.clearIndexedDbPersistence(this);
      }, rR.prototype.terminate = function() {
        return this.tu && (this.tu._removeServiceInstance("firestore"), this.tu._removeServiceInstance("firestore-exp")), this._delegate._delete();
      }, rR.prototype.waitForPendingWrites = function() {
        return function(n3) {
          var t3 = this, r3 = new DT();
          return n3.asyncQueue.enqueueAndForget(function() {
            return Yi(t3, void 0, void 0, function() {
              var e3;
              return Xi(this, function(t4) {
                switch (t4.label) {
                  case 0:
                    return e3 = uk, [4, Jk(n3)];
                  case 1:
                    return [2, e3.apply(void 0, [t4.sent(), r3])];
                }
              });
            });
          }), r3.promise;
        }(QC(IC(this._delegate, HC)));
      }, rR.prototype.onSnapshotsInSync = function(t3) {
        return e3 = this._delegate, t3 = t3, function(n3, t4) {
          var e4 = this, r3 = new Lk(t4);
          return n3.asyncQueue.enqueueAndForget(function() {
            return Yi(e4, void 0, void 0, function() {
              var e5;
              return Xi(this, function(t5) {
                switch (t5.label) {
                  case 0:
                    return e5 = function(t6, e6) {
                      t6.Gr.add(e6), e6.next();
                    }, [4, Zk(n3)];
                  case 1:
                    return [2, e5.apply(void 0, [t5.sent(), r3])];
                }
              });
            });
          }), function() {
            r3.Wo(), n3.asyncQueue.enqueueAndForget(function() {
              return Yi(e4, void 0, void 0, function() {
                var e5;
                return Xi(this, function(t5) {
                  switch (t5.label) {
                    case 0:
                      return e5 = function(t6, e6) {
                        t6.Gr.delete(e6);
                      }, [4, Zk(n3)];
                    case 1:
                      return [2, e5.apply(void 0, [t5.sent(), r3])];
                  }
                });
              });
            });
          };
        }(QC(IC(e3, HC)), BC(t3) ? t3 : { next: t3 });
        var e3;
      }, Object.defineProperty(rR.prototype, "app", { get: function() {
        if (!this.tu)
          throw new ub(ab.FAILED_PRECONDITION, "Firestore was not initialized using the Firebase SDK. 'app' is not available");
        return this.tu;
      }, enumerable: false, configurable: true }), rR.prototype.collection = function(t3) {
        try {
          return new ER(this, MC(this._delegate, t3));
        } catch (t4) {
          throw dR(t4, "collection()", "Firestore.collection()");
        }
      }, rR.prototype.doc = function(t3) {
        try {
          return new fR(this, FC(this._delegate, t3));
        } catch (t4) {
          throw dR(t4, "doc()", "Firestore.doc()");
        }
      }, rR.prototype.collectionGroup = function(t3) {
        try {
          return new wR(this, function(t4, e3) {
            if (t4 = IC(t4, CC), yC("collectionGroup", "collection id", e3), 0 <= e3.indexOf("/"))
              throw new ub(ab.INVALID_ARGUMENT, "Invalid collection ID '" + e3 + "' passed to function collectionGroup(). Collection IDs must not contain '/'.");
            return new NC(t4, null, (e3 = e3, new $_(Ob.emptyPath(), e3)));
          }(this._delegate, t3));
        } catch (t4) {
          throw dR(t4, "collectionGroup()", "Firestore.collectionGroup()");
        }
      }, rR.prototype.runTransaction = function(e3) {
        var n3, r3 = this;
        return function(n4, r4) {
          var t3 = this, i3 = new DT();
          return n4.asyncQueue.enqueueAndForget(function() {
            return Yi(t3, void 0, void 0, function() {
              var e4;
              return Xi(this, function(t4) {
                switch (t4.label) {
                  case 0:
                    return [4, Qk(n4).then(function(t5) {
                      return t5.datastore;
                    })];
                  case 1:
                    return e4 = t4.sent(), new jk(n4.asyncQueue, e4, r4, i3).run(), [2];
                }
              });
            });
          }), i3.promise;
        }(QC(n3 = this._delegate), function(t3) {
          return t3 = new zN(n3, t3), e3(new sR(r3, t3));
        });
      }, rR.prototype.batch = function() {
        var e3 = this;
        return QC(this._delegate), new aR(new DN(this._delegate, function(t3) {
          return KN(e3._delegate, t3);
        }));
      }, rR.prototype.loadBundle = function(t3) {
        throw new ub(ab.FAILED_PRECONDITION, '"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?');
      }, rR.prototype.namedQuery = function(t3) {
        throw new ub(ab.FAILED_PRECONDITION, '"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?');
      }, rR), eR = (Gi(nR, $N = Q), nR.prototype.convertBytes = function(t3) {
        return new JN(new ZC(t3));
      }, nR.prototype.convertReference = function(t3) {
        t3 = this.convertDocumentKey(t3, this.firestore._databaseId);
        return fR.eu(t3, this.firestore, null);
      }, nR);
      function nR(t3) {
        var e3 = this;
        return (e3 = $N.call(this) || this).firestore = t3, e3;
      }
      function rR(t3, e3, n3) {
        var r3 = this;
        this._delegate = e3, this.Zc = n3, this.INTERNAL = { delete: function() {
          return r3.terminate();
        } }, t3 instanceof iC || (this.tu = t3);
      }
      function iR() {
      }
      function oR(t3) {
        this._delegate = t3;
      }
      var sR = (lR.prototype.get = function(t3) {
        var e3 = this, n3 = PR(t3);
        return this._delegate.get(n3).then(function(t4) {
          return new bR(e3._firestore, new tN(e3._firestore._delegate, e3._userDataWriter, t4._key, t4._document, t4.metadata, n3.converter));
        });
      }, lR.prototype.set = function(t3, e3, n3) {
        t3 = PR(t3);
        return n3 ? (mC("Transaction.set", n3), this._delegate.set(t3, e3, n3)) : this._delegate.set(t3, e3), this;
      }, lR.prototype.update = function(t3, e3, n3) {
        for (var r3 = [], i3 = 3; i3 < arguments.length; i3++)
          r3[i3 - 3] = arguments[i3];
        var o3 = PR(t3);
        return 2 === arguments.length ? this._delegate.update(o3, e3) : (t3 = this._delegate).update.apply(t3, Zi([o3, e3, n3], r3)), this;
      }, lR.prototype.delete = function(t3) {
        t3 = PR(t3);
        return this._delegate.delete(t3), this;
      }, lR), aR = (hR.prototype.set = function(t3, e3, n3) {
        t3 = PR(t3);
        return n3 ? (mC("WriteBatch.set", n3), this._delegate.set(t3, e3, n3)) : this._delegate.set(t3, e3), this;
      }, hR.prototype.update = function(t3, e3, n3) {
        for (var r3 = [], i3 = 3; i3 < arguments.length; i3++)
          r3[i3 - 3] = arguments[i3];
        var o3 = PR(t3);
        return 2 === arguments.length ? this._delegate.update(o3, e3) : (t3 = this._delegate).update.apply(t3, Zi([o3, e3, n3], r3)), this;
      }, hR.prototype.delete = function(t3) {
        t3 = PR(t3);
        return this._delegate.delete(t3), this;
      }, hR.prototype.commit = function() {
        return this._delegate.commit();
      }, hR), uR = (cR.prototype.fromFirestore = function(t3, e3) {
        t3 = new eN(this._firestore._delegate, this._userDataWriter, t3._key, t3._document, t3.metadata, null);
        return this._delegate.fromFirestore(new _R(this._firestore, t3), null != e3 ? e3 : {});
      }, cR.prototype.toFirestore = function(t3, e3) {
        return e3 ? this._delegate.toFirestore(t3, e3) : this._delegate.toFirestore(t3);
      }, cR.nu = function(t3, e3) {
        var n3 = cR.su, r3 = n3.get(t3);
        r3 || (r3 = /* @__PURE__ */ new WeakMap(), n3.set(t3, r3));
        n3 = r3.get(e3);
        return n3 || (n3 = new cR(t3, new eR(t3), e3), r3.set(e3, n3)), n3;
      }, cR);
      function cR(t3, e3, n3) {
        this._firestore = t3, this._userDataWriter = e3, this._delegate = n3;
      }
      function hR(t3) {
        this._delegate = t3;
      }
      function lR(t3, e3) {
        this._firestore = t3, this._delegate = e3, this._userDataWriter = new eR(t3);
      }
      uR.su = /* @__PURE__ */ new WeakMap();
      var fR = (pR.iu = function(t3, e3, n3) {
        if (t3.length % 2 != 0)
          throw new ub(ab.INVALID_ARGUMENT, "Invalid document reference. Document references must have an even number of segments, but " + t3.canonicalString() + " has " + t3.length);
        return new pR(e3, new AC(e3._delegate, n3, new $b(t3)));
      }, pR.eu = function(t3, e3, n3) {
        return new pR(e3, new AC(e3._delegate, n3, t3));
      }, Object.defineProperty(pR.prototype, "id", { get: function() {
        return this._delegate.id;
      }, enumerable: false, configurable: true }), Object.defineProperty(pR.prototype, "parent", { get: function() {
        return new ER(this.firestore, this._delegate.parent);
      }, enumerable: false, configurable: true }), Object.defineProperty(pR.prototype, "path", { get: function() {
        return this._delegate.path;
      }, enumerable: false, configurable: true }), pR.prototype.collection = function(t3) {
        try {
          return new ER(this.firestore, MC(this._delegate, t3));
        } catch (t4) {
          throw dR(t4, "collection()", "DocumentReference.collection()");
        }
      }, pR.prototype.isEqual = function(t3) {
        return (t3 = ts(t3)) instanceof AC && jC(this._delegate, t3);
      }, pR.prototype.set = function(t3, e3) {
        e3 = mC("DocumentReference.set", e3);
        try {
          return e3 ? qN(this._delegate, t3, e3) : qN(this._delegate, t3);
        } catch (t4) {
          throw dR(t4, "setDoc()", "DocumentReference.set()");
        }
      }, pR.prototype.update = function(t3, e3) {
        for (var n3 = [], r3 = 2; r3 < arguments.length; r3++)
          n3[r3 - 2] = arguments[r3];
        try {
          return 1 === arguments.length ? VN(this._delegate, t3) : VN.apply(void 0, Zi([this._delegate, t3, e3], n3));
        } catch (t4) {
          throw dR(t4, "updateDoc()", "DocumentReference.update()");
        }
      }, pR.prototype.delete = function() {
        return KN(IC((t3 = this._delegate).firestore, HC), [new t0(t3._key, Lw.none())]);
        var t3;
      }, pR.prototype.onSnapshot = function() {
        for (var e3 = this, t3 = [], n3 = 0; n3 < arguments.length; n3++)
          t3[n3] = arguments[n3];
        var r3 = gR(t3), i3 = vR(t3, function(t4) {
          return new bR(e3.firestore, new tN(e3.firestore._delegate, e3._userDataWriter, t4._key, t4._document, t4.metadata, e3._delegate.converter));
        });
        return BN(this._delegate, r3, i3);
      }, pR.prototype.get = function(t3) {
        var e3 = this;
        return ("cache" === (null == t3 ? void 0 : t3.source) ? function(e4) {
          e4 = IC(e4, AC);
          var n3 = IC(e4.firestore, HC), t4 = QC(n3), r3 = new jN(n3);
          return function(n4, r4) {
            var t5 = this, i3 = new DT();
            return n4.asyncQueue.enqueueAndForget(function() {
              return Yi(t5, void 0, void 0, function() {
                var e5;
                return Xi(this, function(t6) {
                  switch (t6.label) {
                    case 0:
                      return e5 = function(o3, s3, a3) {
                        return Yi(this, void 0, void 0, function() {
                          var r5, i4;
                          return Xi(this, function(t7) {
                            switch (t7.label) {
                              case 0:
                                return t7.trys.push([0, 2, , 3]), [4, (e6 = s3, (n5 = o3).persistence.runTransaction("read document", "readonly", function(t8) {
                                  return n5.Mn.mn(t8, e6);
                                }))];
                              case 1:
                                return (i4 = t7.sent()).isFoundDocument() ? a3.resolve(i4) : i4.isNoDocument() ? a3.resolve(null) : a3.reject(new ub(ab.UNAVAILABLE, "Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")), [3, 3];
                              case 2:
                                return r5 = t7.sent(), i4 = A1(r5, "Failed to get document '" + s3 + " from cache"), a3.reject(i4), [3, 3];
                              case 3:
                                return [2];
                            }
                            var e6, n5;
                          });
                        });
                      }, [4, Xk(n4)];
                    case 1:
                      return [2, e5.apply(void 0, [t6.sent(), r4, i3])];
                  }
                });
              });
            }), i3.promise;
          }(t4, e4._key).then(function(t5) {
            return new tN(n3, r3, e4._key, t5, new ZA(null !== t5 && t5.hasLocalMutations, true), e4.converter);
          });
        } : "server" === (null == t3 ? void 0 : t3.source) ? function(e4) {
          e4 = IC(e4, AC);
          var n3 = IC(e4.firestore, HC);
          return tC(QC(n3), e4._key, { source: "server" }).then(function(t4) {
            return WN(n3, e4, t4);
          });
        } : function(e4) {
          e4 = IC(e4, AC);
          var n3 = IC(e4.firestore, HC);
          return tC(QC(n3), e4._key).then(function(t4) {
            return WN(n3, e4, t4);
          });
        })(this._delegate).then(function(t4) {
          return new bR(e3.firestore, new tN(e3.firestore._delegate, e3._userDataWriter, t4._key, t4._document, t4.metadata, e3._delegate.converter));
        });
      }, pR.prototype.withConverter = function(t3) {
        return new pR(this.firestore, t3 ? this._delegate.withConverter(uR.nu(this.firestore, t3)) : this._delegate.withConverter(null));
      }, pR);
      function pR(t3, e3) {
        this.firestore = t3, this._delegate = e3, this._userDataWriter = new eR(t3);
      }
      function dR(t3, e3, n3) {
        return t3.message = t3.message.replace(e3, n3), t3;
      }
      function gR(t3) {
        for (var e3 = 0, n3 = t3; e3 < n3.length; e3++) {
          var r3 = n3[e3];
          if ("object" == typeof r3 && !BC(r3))
            return r3;
        }
        return {};
      }
      function vR(t3, e3) {
        var n3;
        return { next: function(t4) {
          n3.next && n3.next(e3(t4));
        }, error: null === (t3 = (n3 = BC(t3[0]) ? t3[0] : BC(t3[1]) ? t3[1] : "function" == typeof t3[0] ? { next: t3[0], error: t3[1], complete: t3[2] } : { next: t3[1], error: t3[2], complete: t3[3] }).error) || void 0 === t3 ? void 0 : t3.bind(n3), complete: null === (t3 = n3.complete) || void 0 === t3 ? void 0 : t3.bind(n3) };
      }
      var yR, mR, bR = (Object.defineProperty(RR.prototype, "ref", { get: function() {
        return new fR(this._firestore, this._delegate.ref);
      }, enumerable: false, configurable: true }), Object.defineProperty(RR.prototype, "id", { get: function() {
        return this._delegate.id;
      }, enumerable: false, configurable: true }), Object.defineProperty(RR.prototype, "metadata", { get: function() {
        return this._delegate.metadata;
      }, enumerable: false, configurable: true }), Object.defineProperty(RR.prototype, "exists", { get: function() {
        return this._delegate.exists();
      }, enumerable: false, configurable: true }), RR.prototype.data = function(t3) {
        return this._delegate.data(t3);
      }, RR.prototype.get = function(t3, e3) {
        return this._delegate.get(t3, e3);
      }, RR.prototype.isEqual = function(t3) {
        return aN(this._delegate, t3._delegate);
      }, RR), _R = (Gi(NR, mR = bR), NR.prototype.data = function(t3) {
        return this._delegate.data(t3);
      }, NR), wR = (AR.prototype.where = function(t3, e3, n3) {
        try {
          return new AR(this.firestore, cN(this._delegate, (r3 = n3, i3 = e3, o3 = XA("where", t3), new gN(o3, i3, r3))));
        } catch (t4) {
          throw dR(t4, /(orderBy|where)\(\)/, "Query.$1()");
        }
        var r3, i3, o3;
      }, AR.prototype.orderBy = function(t3, e3) {
        try {
          return new AR(this.firestore, cN(this._delegate, (n3 = void 0 === e3 ? "asc" : e3, r3 = XA("orderBy", t3), new vN(r3, n3))));
        } catch (t4) {
          throw dR(t4, /(orderBy|where)\(\)/, "Query.$1()");
        }
        var n3, r3;
      }, AR.prototype.limit = function(t3) {
        try {
          return new AR(this.firestore, cN(this._delegate, (EC("limit", e3 = t3), new yN("limit", e3, "F"))));
        } catch (t4) {
          throw dR(t4, "limit()", "Query.limit()");
        }
        var e3;
      }, AR.prototype.limitToLast = function(t3) {
        try {
          return new AR(this.firestore, cN(this._delegate, (EC("limitToLast", e3 = t3), new yN("limitToLast", e3, "L"))));
        } catch (t4) {
          throw dR(t4, "limitToLast()", "Query.limitToLast()");
        }
        var e3;
      }, AR.prototype.startAt = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        try {
          return new AR(this.firestore, cN(this._delegate, function() {
            for (var t4 = [], e4 = 0; e4 < arguments.length; e4++)
              t4[e4] = arguments[e4];
            return new mN("startAt", t4, true);
          }.apply(void 0, t3)));
        } catch (t4) {
          throw dR(t4, "startAt()", "Query.startAt()");
        }
      }, AR.prototype.startAfter = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        try {
          return new AR(this.firestore, cN(this._delegate, function() {
            for (var t4 = [], e4 = 0; e4 < arguments.length; e4++)
              t4[e4] = arguments[e4];
            return new mN("startAfter", t4, false);
          }.apply(void 0, t3)));
        } catch (t4) {
          throw dR(t4, "startAfter()", "Query.startAfter()");
        }
      }, AR.prototype.endBefore = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        try {
          return new AR(this.firestore, cN(this._delegate, function() {
            for (var t4 = [], e4 = 0; e4 < arguments.length; e4++)
              t4[e4] = arguments[e4];
            return new bN("endBefore", t4, true);
          }.apply(void 0, t3)));
        } catch (t4) {
          throw dR(t4, "endBefore()", "Query.endBefore()");
        }
      }, AR.prototype.endAt = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        try {
          return new AR(this.firestore, cN(this._delegate, function() {
            for (var t4 = [], e4 = 0; e4 < arguments.length; e4++)
              t4[e4] = arguments[e4];
            return new bN("endAt", t4, false);
          }.apply(void 0, t3)));
        } catch (t4) {
          throw dR(t4, "endAt()", "Query.endAt()");
        }
      }, AR.prototype.isEqual = function(t3) {
        return UC(this._delegate, t3._delegate);
      }, AR.prototype.get = function(t3) {
        var e3 = this;
        return ("cache" === (null == t3 ? void 0 : t3.source) ? function(e4) {
          e4 = IC(e4, NC);
          var n3 = IC(e4.firestore, HC), t4 = QC(n3), r3 = new jN(n3);
          return function(n4, r4) {
            var t5 = this, i3 = new DT();
            return n4.asyncQueue.enqueueAndForget(function() {
              return Yi(t5, void 0, void 0, function() {
                var e5;
                return Xi(this, function(t6) {
                  switch (t6.label) {
                    case 0:
                      return e5 = function(i4, o3, s3) {
                        return Yi(this, void 0, void 0, function() {
                          var e6, n5, r5;
                          return Xi(this, function(t7) {
                            switch (t7.label) {
                              case 0:
                                return t7.trys.push([0, 2, , 3]), [4, VE(i4, o3, true)];
                              case 1:
                                return r5 = t7.sent(), e6 = new $1(o3, r5.Bn), n5 = e6._o(r5.documents), n5 = e6.applyChanges(n5, false), s3.resolve(n5.snapshot), [3, 3];
                              case 2:
                                return n5 = t7.sent(), r5 = A1(n5, "Failed to execute query '" + o3 + " against cache"), s3.reject(r5), [3, 3];
                              case 3:
                                return [2];
                            }
                          });
                        });
                      }, [4, Xk(n4)];
                    case 1:
                      return [2, e5.apply(void 0, [t6.sent(), r4, i3])];
                  }
                });
              });
            }), i3.promise;
          }(t4, e4._query).then(function(t5) {
            return new nN(n3, r3, e4, t5);
          });
        } : "server" === (null == t3 ? void 0 : t3.source) ? function(e4) {
          e4 = IC(e4, NC);
          var n3 = IC(e4.firestore, HC), t4 = QC(n3), r3 = new jN(n3);
          return eC(t4, e4._query, { source: "server" }).then(function(t5) {
            return new nN(n3, r3, e4, t5);
          });
        } : function(e4) {
          e4 = IC(e4, NC);
          var n3 = IC(e4.firestore, HC), t4 = QC(n3), r3 = new jN(n3);
          return uN(e4._query), eC(t4, e4._query).then(function(t5) {
            return new nN(n3, r3, e4, t5);
          });
        })(this._delegate).then(function(t4) {
          return new IR(e3.firestore, new nN(e3.firestore._delegate, e3._userDataWriter, e3._delegate, t4._snapshot));
        });
      }, AR.prototype.onSnapshot = function() {
        for (var e3 = this, t3 = [], n3 = 0; n3 < arguments.length; n3++)
          t3[n3] = arguments[n3];
        var r3 = gR(t3), i3 = vR(t3, function(t4) {
          return new IR(e3.firestore, new nN(e3.firestore._delegate, e3._userDataWriter, e3._delegate, t4._snapshot));
        });
        return BN(this._delegate, r3, i3);
      }, AR.prototype.withConverter = function(t3) {
        return new AR(this.firestore, t3 ? this._delegate.withConverter(uR.nu(this.firestore, t3)) : this._delegate.withConverter(null));
      }, AR), TR = (Object.defineProperty(CR.prototype, "type", { get: function() {
        return this._delegate.type;
      }, enumerable: false, configurable: true }), Object.defineProperty(CR.prototype, "doc", { get: function() {
        return new _R(this._firestore, this._delegate.doc);
      }, enumerable: false, configurable: true }), Object.defineProperty(CR.prototype, "oldIndex", { get: function() {
        return this._delegate.oldIndex;
      }, enumerable: false, configurable: true }), Object.defineProperty(CR.prototype, "newIndex", { get: function() {
        return this._delegate.newIndex;
      }, enumerable: false, configurable: true }), CR), IR = (Object.defineProperty(kR.prototype, "query", { get: function() {
        return new wR(this._firestore, this._delegate.query);
      }, enumerable: false, configurable: true }), Object.defineProperty(kR.prototype, "metadata", { get: function() {
        return this._delegate.metadata;
      }, enumerable: false, configurable: true }), Object.defineProperty(kR.prototype, "size", { get: function() {
        return this._delegate.size;
      }, enumerable: false, configurable: true }), Object.defineProperty(kR.prototype, "empty", { get: function() {
        return this._delegate.empty;
      }, enumerable: false, configurable: true }), Object.defineProperty(kR.prototype, "docs", { get: function() {
        var e3 = this;
        return this._delegate.docs.map(function(t3) {
          return new _R(e3._firestore, t3);
        });
      }, enumerable: false, configurable: true }), kR.prototype.docChanges = function(t3) {
        var e3 = this;
        return this._delegate.docChanges(t3).map(function(t4) {
          return new TR(e3._firestore, t4);
        });
      }, kR.prototype.forEach = function(e3, n3) {
        var r3 = this;
        this._delegate.forEach(function(t3) {
          e3.call(n3, new _R(r3._firestore, t3));
        });
      }, kR.prototype.isEqual = function(t3) {
        return aN(this._delegate, t3._delegate);
      }, kR), ER = (Gi(SR, yR = wR), Object.defineProperty(SR.prototype, "id", { get: function() {
        return this._delegate.id;
      }, enumerable: false, configurable: true }), Object.defineProperty(SR.prototype, "path", { get: function() {
        return this._delegate.path;
      }, enumerable: false, configurable: true }), Object.defineProperty(SR.prototype, "parent", { get: function() {
        var t3 = this._delegate.parent;
        return t3 ? new fR(this.firestore, t3) : null;
      }, enumerable: false, configurable: true }), SR.prototype.doc = function(t3) {
        try {
          return new fR(this.firestore, void 0 === t3 ? FC(this._delegate) : FC(this._delegate, t3));
        } catch (t4) {
          throw dR(t4, "doc()", "CollectionReference.doc()");
        }
      }, SR.prototype.add = function(t3) {
        var e3, n3, r3, i3 = this;
        return e3 = this._delegate, n3 = t3, t3 = IC(e3.firestore, HC), r3 = FC(e3), n3 = RN(e3.converter, n3), KN(t3, [vA(gA(e3.firestore), "addDoc", r3._key, n3, null !== e3.converter, {}).toMutation(r3._key, Lw.exists(false))]).then(function() {
          return r3;
        }).then(function(t4) {
          return new fR(i3.firestore, t4);
        });
      }, SR.prototype.isEqual = function(t3) {
        return jC(this._delegate, t3._delegate);
      }, SR.prototype.withConverter = function(t3) {
        return new SR(this.firestore, t3 ? this._delegate.withConverter(uR.nu(this.firestore, t3)) : this._delegate.withConverter(null));
      }, SR);
      function SR(t3, e3) {
        var n3 = this;
        return (n3 = yR.call(this, t3, e3) || this).firestore = t3, n3._delegate = e3, n3;
      }
      function kR(t3, e3) {
        this._firestore = t3, this._delegate = e3;
      }
      function CR(t3, e3) {
        this._firestore = t3, this._delegate = e3;
      }
      function AR(t3, e3) {
        this.firestore = t3, this._delegate = e3, this._userDataWriter = new eR(t3);
      }
      function NR() {
        return null !== mR && mR.apply(this, arguments) || this;
      }
      function RR(t3, e3) {
        this._firestore = t3, this._delegate = e3;
      }
      function PR(t3) {
        return IC(t3, AC);
      }
      DR.documentId = function() {
        return new DR(xb.keyField().canonicalString());
      }, DR.prototype.isEqual = function(t3) {
        return (t3 = ts(t3)) instanceof JC && this._delegate._internalPath.isEqual(t3._internalPath);
      }, G = DR, OR.serverTimestamp = function() {
        var t3 = new SA("serverTimestamp");
        return t3._methodName = "FieldValue.serverTimestamp", new OR(t3);
      }, OR.delete = function() {
        var t3 = new mA("deleteField");
        return t3._methodName = "FieldValue.delete", new OR(t3);
      }, OR.arrayUnion = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        var n3 = function() {
          for (var t4 = [], e4 = 0; e4 < arguments.length; e4++)
            t4[e4] = arguments[e4];
          return new kA("arrayUnion", t4);
        }.apply(void 0, t3);
        return n3._methodName = "FieldValue.arrayUnion", new OR(n3);
      }, OR.arrayRemove = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        var n3 = function() {
          for (var t4 = [], e4 = 0; e4 < arguments.length; e4++)
            t4[e4] = arguments[e4];
          return new CA("arrayRemove", t4);
        }.apply(void 0, t3);
        return n3._methodName = "FieldValue.arrayRemove", new OR(n3);
      }, OR.increment = function(t3) {
        t3 = new AA("increment", t3);
        return t3._methodName = "FieldValue.increment", new OR(t3);
      }, OR.prototype.isEqual = function(t3) {
        return this._delegate.isEqual(t3._delegate);
      }, Q = OR;
      function OR(t3) {
        this._delegate = t3;
      }
      function DR() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        this._delegate = new (JC.bind.apply(JC, Zi([void 0], t3)))();
      }
      function xR(t3) {
        return e3 = this._delegate, s3 = t3, n3 = QC(e3 = IC(e3, HC)), t3 = new WC(), function(n4, t4, r3) {
          var e4, i3 = this, o3 = (e4 = s3, t4 = HS(t4), e4 = function(t5) {
            if (t5 instanceof Uint8Array)
              return xk(t5, void 0);
            if (t5 instanceof ArrayBuffer)
              return xk(new Uint8Array(t5), void 0);
            if (t5 instanceof ReadableStream)
              return t5.getReader();
            throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream");
          }("string" == typeof e4 ? new TextEncoder().encode(e4) : e4), new Mk(e4, t4));
          n4.asyncQueue.enqueueAndForget(function() {
            return Yi(i3, void 0, void 0, function() {
              var e5;
              return Xi(this, function(t5) {
                switch (t5.label) {
                  case 0:
                    return e5 = Ik, [4, Jk(n4)];
                  case 1:
                    return e5.apply(void 0, [t5.sent(), o3, r3]), [2];
                }
              });
            });
          });
        }(n3, e3._databaseId, t3), t3;
        var e3, s3, n3;
      }
      function LR(t3) {
        var e3 = this, n3 = this._delegate, t3 = t3;
        return function(n4, r3) {
          var t4 = this;
          return n4.asyncQueue.enqueue(function() {
            return Yi(t4, void 0, void 0, function() {
              var e4;
              return Xi(this, function(t5) {
                switch (t5.label) {
                  case 0:
                    return e4 = function(t6, e5) {
                      var n5 = t6;
                      return n5.persistence.runTransaction("Get named query", "readonly", function(t7) {
                        return n5.Ke.getNamedQuery(t7, e5);
                      });
                    }, [4, Xk(n4)];
                  case 1:
                    return [2, e4.apply(void 0, [t5.sent(), r3])];
                }
              });
            });
          });
        }(QC(n3 = IC(n3, HC)), t3).then(function(t4) {
          return t4 ? new NC(n3, null, t4.query) : null;
        }).then(function(t4) {
          return t4 ? new wR(e3, t4) : null;
        });
      }
      var MR, FR, jR = { Firestore: tR, GeoPoint: eA, Timestamp: Ib, Blob: JN, Transaction: sR, WriteBatch: aR, DocumentReference: fR, DocumentSnapshot: bR, Query: wR, QueryDocumentSnapshot: _R, QuerySnapshot: IR, CollectionReference: ER, FieldPath: G, FieldValue: Q, setLogLevel: function(t3) {
        cb.setLogLevel(t3);
      }, CACHE_SIZE_UNLIMITED: -1 };
      (MR = Jl).INTERNAL.registerComponent(new es("firestore", function(t3) {
        var e3 = t3.getProvider("app").getImmediate();
        return e3 = e3, t3 = t3.getProvider("auth-internal"), new tR(e3, new HC(e3, t3), new ZN());
      }, "PUBLIC").setServiceProps(Object.assign({}, jR))), MR.registerVersion("@firebase/firestore", "2.4.1"), (FR = tR).prototype.loadBundle = xR, FR.prototype.namedQuery = LR;
      var UR, qR = { OK: "ok", CANCELLED: "cancelled", UNKNOWN: "unknown", INVALID_ARGUMENT: "invalid-argument", DEADLINE_EXCEEDED: "deadline-exceeded", NOT_FOUND: "not-found", ALREADY_EXISTS: "already-exists", PERMISSION_DENIED: "permission-denied", UNAUTHENTICATED: "unauthenticated", RESOURCE_EXHAUSTED: "resource-exhausted", FAILED_PRECONDITION: "failed-precondition", ABORTED: "aborted", OUT_OF_RANGE: "out-of-range", UNIMPLEMENTED: "unimplemented", INTERNAL: "internal", UNAVAILABLE: "unavailable", DATA_LOSS: "data-loss" }, VR = (Gi(BR, UR = Error), BR);
      function BR(t3, e3, n3) {
        e3 = UR.call(this, e3) || this;
        return Object.setPrototypeOf(e3, BR.prototype), e3.code = t3, e3.details = n3, e3;
      }
      function KR(t3, e3, n3) {
        var r3 = function(t4) {
          if (200 <= t4 && t4 < 300)
            return "ok";
          switch (t4) {
            case 0:
              return "internal";
            case 400:
              return "invalid-argument";
            case 401:
              return "unauthenticated";
            case 403:
              return "permission-denied";
            case 404:
              return "not-found";
            case 409:
              return "aborted";
            case 429:
              return "resource-exhausted";
            case 499:
              return "cancelled";
            case 500:
              return "internal";
            case 501:
              return "unimplemented";
            case 503:
              return "unavailable";
            case 504:
              return "deadline-exceeded";
          }
          return "unknown";
        }(t3), i3 = r3, t3 = void 0;
        try {
          var o3 = e3 && e3.error;
          if (o3) {
            var s3 = o3.status;
            if ("string" == typeof s3) {
              if (!qR[s3])
                return new VR("internal", "internal");
              r3 = qR[s3], i3 = s3;
            }
            var a3 = o3.message;
            "string" == typeof a3 && (i3 = a3), void 0 !== (t3 = o3.details) && (t3 = n3.decode(t3));
          }
        } catch (t4) {
        }
        return "ok" === r3 ? null : new VR(r3, i3, t3);
      }
      var WR = (HR.prototype.getAuthToken = function() {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if (!this.auth)
                  return [2, void 0];
                t3.label = 1;
              case 1:
                return t3.trys.push([1, 3, , 4]), [4, this.auth.getToken()];
              case 2:
                return (e3 = t3.sent()) ? [2, e3.accessToken] : [2, void 0];
              case 3:
                return t3.sent(), [2, void 0];
              case 4:
                return [2];
            }
          });
        });
      }, HR.prototype.getInstanceIdToken = function() {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if (!(this.messaging && "Notification" in self && "granted" === Notification.permission))
                  return [2, void 0];
                t3.label = 1;
              case 1:
                return t3.trys.push([1, 3, , 4]), [4, this.messaging.getToken()];
              case 2:
                return [2, t3.sent()];
              case 3:
                return t3.sent(), [2, void 0];
              case 4:
                return [2];
            }
          });
        });
      }, HR.prototype.getContext = function() {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, this.getAuthToken()];
              case 1:
                return e3 = t3.sent(), [4, this.getInstanceIdToken()];
              case 2:
                return n3 = t3.sent(), [2, { authToken: e3, instanceIdToken: n3 }];
            }
          });
        });
      }, HR);
      function HR(t3, e3) {
        var n3 = this;
        this.auth = null, this.messaging = null, this.auth = t3.getImmediate({ optional: true }), this.messaging = e3.getImmediate({ optional: true }), this.auth || t3.get().then(function(t4) {
          return n3.auth = t4;
        }, function() {
        }), this.messaging || e3.get().then(function(t4) {
          return n3.messaging = t4;
        }, function() {
        });
      }
      function zR(t3, e3) {
        var n3, r3 = {};
        for (n3 in t3)
          t3.hasOwnProperty(n3) && (r3[n3] = e3(t3[n3]));
        return r3;
      }
      var GR = (QR.prototype.encode = function(t3) {
        var e3 = this;
        if (null == t3)
          return null;
        if ("number" == typeof (t3 = t3 instanceof Number ? t3.valueOf() : t3) && isFinite(t3))
          return t3;
        if (true === t3 || false === t3)
          return t3;
        if ("[object String]" === Object.prototype.toString.call(t3))
          return t3;
        if (t3 instanceof Date)
          return t3.toISOString();
        if (Array.isArray(t3))
          return t3.map(function(t4) {
            return e3.encode(t4);
          });
        if ("function" == typeof t3 || "object" == typeof t3)
          return zR(t3, function(t4) {
            return e3.encode(t4);
          });
        throw new Error("Data cannot be encoded in JSON: " + t3);
      }, QR.prototype.decode = function(t3) {
        var e3 = this;
        if (null == t3)
          return t3;
        if (t3["@type"])
          switch (t3["@type"]) {
            case "type.googleapis.com/google.protobuf.Int64Value":
            case "type.googleapis.com/google.protobuf.UInt64Value":
              var n3 = Number(t3.value);
              if (isNaN(n3))
                throw new Error("Data cannot be decoded from JSON: " + t3);
              return n3;
            default:
              throw new Error("Data cannot be decoded from JSON: " + t3);
          }
        return Array.isArray(t3) ? t3.map(function(t4) {
          return e3.decode(t4);
        }) : "function" == typeof t3 || "object" == typeof t3 ? zR(t3, function(t4) {
          return e3.decode(t4);
        }) : t3;
      }, QR);
      function QR() {
      }
      var YR = (Object.defineProperty(XR.prototype, "app", { get: function() {
        return this.app_;
      }, enumerable: false, configurable: true }), XR.prototype._url = function(t3) {
        var e3 = this.app_.options.projectId;
        return null === this.emulatorOrigin ? null !== this.customDomain ? this.customDomain + "/" + t3 : "https://" + this.region + "-" + e3 + ".cloudfunctions.net/" + t3 : this.emulatorOrigin + "/" + e3 + "/" + this.region + "/" + t3;
      }, XR.prototype.useEmulator = function(t3, e3) {
        this.emulatorOrigin = "http://" + t3 + ":" + e3;
      }, XR.prototype.useFunctionsEmulator = function(t3) {
        this.emulatorOrigin = t3;
      }, XR.prototype.httpsCallable = function(e3, n3) {
        var r3 = this;
        return function(t3) {
          return r3.call(e3, t3, n3 || {});
        };
      }, XR.prototype.postJSON = function(i3, o3, s3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return s3["Content-Type"] = "application/json", [4, this.getAppCheckToken()];
              case 1:
                null !== (e3 = t3.sent()) && (s3["X-Firebase-AppCheck"] = e3), t3.label = 2;
              case 2:
                return t3.trys.push([2, 4, , 5]), [4, this.fetchImpl(i3, { method: "POST", body: JSON.stringify(o3), headers: s3 })];
              case 3:
                return n3 = t3.sent(), [3, 5];
              case 4:
                return t3.sent(), [2, { status: 0, json: null }];
              case 5:
                r3 = null, t3.label = 6;
              case 6:
                return t3.trys.push([6, 8, , 9]), [4, n3.json()];
              case 7:
                return r3 = t3.sent(), [3, 9];
              case 8:
                return t3.sent(), [3, 9];
              case 9:
                return [2, { status: n3.status, json: r3 }];
            }
          });
        });
      }, XR.prototype.getAppCheckToken = function() {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return (e3 = this.appCheckProvider.getImmediate({ optional: true })) ? [4, e3.getToken()] : [3, 2];
              case 1:
                return [2, t3.sent().token];
              case 2:
                return [2, null];
            }
          });
        });
      }, XR.prototype.call = function(c3, h3, l3) {
        return Yi(this, void 0, void 0, function() {
          var i3, o3, s3, a3, u3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return i3 = this._url(c3), h3 = this.serializer.encode(h3), o3 = { data: h3 }, s3 = {}, [4, this.contextProvider.getContext()];
              case 1:
                return (a3 = t3.sent()).authToken && (s3.Authorization = "Bearer " + a3.authToken), a3.instanceIdToken && (s3["Firebase-Instance-ID-Token"] = a3.instanceIdToken), u3 = l3.timeout || 7e4, n3 = u3, e3 = new Promise(function(t4, e4) {
                  r3 = setTimeout(function() {
                    e4(new VR("deadline-exceeded", "deadline-exceeded"));
                  }, n3);
                }), u3 = (a3 = { timer: r3, promise: e3 }).timer, a3 = a3.promise, [4, Promise.race([$R(u3, this.postJSON(i3, o3, s3)), a3, $R(u3, this.cancelAllRequests)])];
              case 2:
                if (!(a3 = t3.sent()))
                  throw new VR("cancelled", "Firebase Functions instance was deleted.");
                if (u3 = KR(a3.status, a3.json, this.serializer))
                  throw u3;
                if (!a3.json)
                  throw new VR("internal", "Response is not valid JSON object.");
                if (void 0 === (u3 = void 0 === (u3 = a3.json.data) ? a3.json.result : u3))
                  throw new VR("internal", "Response is missing data field.");
                return [2, { data: this.serializer.decode(u3) }];
            }
            var n3, r3, e3;
          });
        });
      }, XR);
      function XR(t3, e3, n3, r3, i3, o3) {
        var s3 = this;
        void 0 === i3 && (i3 = "us-central1"), this.app_ = t3, this.appCheckProvider = r3, this.fetchImpl = o3, this.serializer = new GR(), this.emulatorOrigin = null, this.INTERNAL = { delete: function() {
          return Promise.resolve(s3.deleteService());
        } }, this.contextProvider = new WR(e3, n3), this.cancelAllRequests = new Promise(function(t4) {
          s3.deleteService = function() {
            return t4();
          };
        });
        try {
          var a3 = new URL(i3);
          this.customDomain = a3.origin, this.region = "us-central1";
        } catch (t4) {
          this.customDomain = null, this.region = i3;
        }
      }
      function $R(n3, r3) {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, r3];
              case 1:
                return e3 = t3.sent(), clearTimeout(n3), [2, e3];
            }
          });
        });
      }
      var JR, ZR, tP;
      function eP(n3) {
        return new Promise(function(t3, e3) {
          n3.onsuccess = function() {
            t3(n3.result);
          }, n3.onerror = function() {
            e3(n3.error);
          };
        });
      }
      function nP(n3, r3, i3) {
        var o3, t3 = new Promise(function(t4, e3) {
          eP(o3 = n3[r3].apply(n3, i3)).then(t4, e3);
        });
        return t3.request = o3, t3;
      }
      function rP(t3, n3, e3) {
        e3.forEach(function(e4) {
          Object.defineProperty(t3.prototype, e4, { get: function() {
            return this[n3][e4];
          }, set: function(t4) {
            this[n3][e4] = t4;
          } });
        });
      }
      function iP(e3, n3, r3, t3) {
        t3.forEach(function(t4) {
          t4 in r3.prototype && (e3.prototype[t4] = function() {
            return nP(this[n3], t4, arguments);
          });
        });
      }
      function oP(e3, n3, r3, t3) {
        t3.forEach(function(t4) {
          t4 in r3.prototype && (e3.prototype[t4] = function() {
            return this[n3][t4].apply(this[n3], arguments);
          });
        });
      }
      function sP(t3, r3, e3, n3) {
        n3.forEach(function(n4) {
          n4 in e3.prototype && (t3.prototype[n4] = function() {
            return t4 = this[r3], (e4 = nP(t4, n4, arguments)).then(function(t5) {
              if (t5)
                return new uP(t5, e4.request);
            });
            var t4, e4;
          });
        });
      }
      function aP(t3) {
        this._index = t3;
      }
      function uP(t3, e3) {
        this._cursor = t3, this._request = e3;
      }
      function cP(t3) {
        this._store = t3;
      }
      function hP(n3) {
        this._tx = n3, this.complete = new Promise(function(t3, e3) {
          n3.oncomplete = function() {
            t3();
          }, n3.onerror = function() {
            e3(n3.error);
          }, n3.onabort = function() {
            e3(n3.error);
          };
        });
      }
      function lP(t3, e3, n3) {
        this._db = t3, this.oldVersion = e3, this.transaction = new hP(n3);
      }
      function fP(t3) {
        this._db = t3;
      }
      function pP(t3, e3, n3) {
        var e3 = nP(indexedDB, "open", [t3, e3]), r3 = e3.request;
        return r3 && (r3.onupgradeneeded = function(t4) {
          n3 && n3(new lP(r3.result, t4.oldVersion, r3.transaction));
        }), e3.then(function(t4) {
          return new fP(t4);
        });
      }
      function dP(t3) {
        return nP(indexedDB, "deleteDatabase", [t3]);
      }
      JR = Jl, ZR = fetch.bind(self), tP = { Functions: YR }, JR.INTERNAL.registerComponent(new es("functions", function(t3, e3) {
        var n3 = e3.instanceIdentifier, r3 = t3.getProvider("app").getImmediate(), i3 = t3.getProvider("auth-internal"), e3 = t3.getProvider("app-check-internal"), t3 = t3.getProvider("messaging");
        return new YR(r3, i3, t3, e3, n3, ZR);
      }, "PUBLIC").setServiceProps(tP).setMultipleInstances(true)), Jl.registerVersion("@firebase/functions", "0.6.16"), rP(aP, "_index", ["name", "keyPath", "multiEntry", "unique"]), iP(aP, "_index", IDBIndex, ["get", "getKey", "getAll", "getAllKeys", "count"]), sP(aP, "_index", IDBIndex, ["openCursor", "openKeyCursor"]), rP(uP, "_cursor", ["direction", "key", "primaryKey", "value"]), iP(uP, "_cursor", IDBCursor, ["update", "delete"]), ["advance", "continue", "continuePrimaryKey"].forEach(function(n3) {
        n3 in IDBCursor.prototype && (uP.prototype[n3] = function() {
          var e3 = this, t3 = arguments;
          return Promise.resolve().then(function() {
            return e3._cursor[n3].apply(e3._cursor, t3), eP(e3._request).then(function(t4) {
              if (t4)
                return new uP(t4, e3._request);
            });
          });
        });
      }), cP.prototype.createIndex = function() {
        return new aP(this._store.createIndex.apply(this._store, arguments));
      }, cP.prototype.index = function() {
        return new aP(this._store.index.apply(this._store, arguments));
      }, rP(cP, "_store", ["name", "keyPath", "indexNames", "autoIncrement"]), iP(cP, "_store", IDBObjectStore, ["put", "add", "delete", "clear", "get", "getAll", "getKey", "getAllKeys", "count"]), sP(cP, "_store", IDBObjectStore, ["openCursor", "openKeyCursor"]), oP(cP, "_store", IDBObjectStore, ["deleteIndex"]), hP.prototype.objectStore = function() {
        return new cP(this._tx.objectStore.apply(this._tx, arguments));
      }, rP(hP, "_tx", ["objectStoreNames", "mode"]), oP(hP, "_tx", IDBTransaction, ["abort"]), lP.prototype.createObjectStore = function() {
        return new cP(this._db.createObjectStore.apply(this._db, arguments));
      }, rP(lP, "_db", ["name", "version", "objectStoreNames"]), oP(lP, "_db", IDBDatabase, ["deleteObjectStore", "close"]), fP.prototype.transaction = function() {
        return new hP(this._db.transaction.apply(this._db, arguments));
      }, rP(fP, "_db", ["name", "version", "objectStoreNames"]), oP(fP, "_db", IDBDatabase, ["close"]), ["openCursor", "openKeyCursor"].forEach(function(i3) {
        [cP, aP].forEach(function(t3) {
          i3 in t3.prototype && (t3.prototype[i3.replace("open", "iterate")] = function() {
            var t4 = (n3 = arguments, Array.prototype.slice.call(n3)), e3 = t4[t4.length - 1], n3 = this._store || this._index, r3 = n3[i3].apply(n3, t4.slice(0, -1));
            r3.onsuccess = function() {
              e3(r3.result);
            };
          });
        });
      }), [aP, cP].forEach(function(t3) {
        t3.prototype.getAll || (t3.prototype.getAll = function(t4, n3) {
          var r3 = this, i3 = [];
          return new Promise(function(e3) {
            r3.iterateCursor(t4, function(t5) {
              t5 ? (i3.push(t5.value), void 0 === n3 || i3.length != n3 ? t5.continue() : e3(i3)) : e3(i3);
            });
          });
        });
      });
      var gP = 1e4, vP = "w:0.4.32", yP = "FIS_v2", mP = "https://firebaseinstallations.googleapis.com/v1", bP = 36e5, Q = ((G = {})["missing-app-config-values"] = 'Missing App configuration value: "{$valueName}"', G["not-registered"] = "Firebase Installation is not registered.", G["installation-not-found"] = "Firebase Installation not found.", G["request-failed"] = '{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"', G["app-offline"] = "Could not process request. Application offline.", G["delete-pending-registration"] = "Can't delete installation while there is a pending registration request.", G), _P = new Co("installations", "Installations", Q);
      function wP(t3) {
        return t3 instanceof So && t3.code.includes("request-failed");
      }
      function TP(t3) {
        t3 = t3.projectId;
        return mP + "/projects/" + t3 + "/installations";
      }
      function IP(t3) {
        return { token: t3.token, requestStatus: 2, expiresIn: (t3 = t3.expiresIn, Number(t3.replace("s", "000"))), creationTime: Date.now() };
      }
      function EP(n3, r3) {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, r3.json()];
              case 1:
                return e3 = t3.sent(), e3 = e3.error, [2, _P.create("request-failed", { requestName: n3, serverCode: e3.code, serverMessage: e3.message, serverStatus: e3.status })];
            }
          });
        });
      }
      function SP(t3) {
        t3 = t3.apiKey;
        return new Headers({ "Content-Type": "application/json", Accept: "application/json", "x-goog-api-key": t3 });
      }
      function kP(t3, e3) {
        e3 = e3.refreshToken, t3 = SP(t3);
        return t3.append("Authorization", yP + " " + e3), t3;
      }
      function CP(n3) {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, n3()];
              case 1:
                return 500 <= (e3 = t3.sent()).status && e3.status < 600 ? [2, n3()] : [2, e3];
            }
          });
        });
      }
      function AP(e3) {
        return new Promise(function(t3) {
          setTimeout(t3, e3);
        });
      }
      var NP = /^[cdef][\w-]{21}$/, RP = "";
      function PP() {
        try {
          var t3 = new Uint8Array(17);
          (self.crypto || self.msCrypto).getRandomValues(t3), t3[0] = 112 + t3[0] % 16;
          var e3 = function(t4) {
            return btoa(String.fromCharCode.apply(String, Zi([], Ji(t4)))).replace(/\+/g, "-").replace(/\//g, "_");
          }(t3).substr(0, 22);
          return NP.test(e3) ? e3 : RP;
        } catch (t4) {
          return RP;
        }
      }
      function OP(t3) {
        return t3.appName + "!" + t3.appId;
      }
      var DP = /* @__PURE__ */ new Map();
      function xP(t3, e3) {
        t3 = OP(t3);
        LP(t3, e3), function(t4, e4) {
          var n3 = FP();
          n3 && n3.postMessage({ key: t4, fid: e4 });
          jP();
        }(t3, e3);
      }
      function LP(t3, e3) {
        var n3, r3, t3 = DP.get(t3);
        if (t3)
          try {
            for (var i3 = $i(t3), o3 = i3.next(); !o3.done; o3 = i3.next())
              (0, o3.value)(e3);
          } catch (t4) {
            n3 = { error: t4 };
          } finally {
            try {
              o3 && !o3.done && (r3 = i3.return) && r3.call(i3);
            } finally {
              if (n3)
                throw n3.error;
            }
          }
      }
      var MP = null;
      function FP() {
        return !MP && "BroadcastChannel" in self && ((MP = new BroadcastChannel("[Firebase] FID Change")).onmessage = function(t3) {
          LP(t3.data.key, t3.data.fid);
        }), MP;
      }
      function jP() {
        0 === DP.size && MP && (MP.close(), MP = null);
      }
      var UP, qP = "firebase-installations-database", VP = 1, BP = "firebase-installations-store", KP = null;
      function WP() {
        return KP = KP || pP(qP, VP, function(t3) {
          0 === t3.oldVersion && t3.createObjectStore(BP);
        });
      }
      function HP(o3, s3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3, i3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e3 = OP(o3), [4, WP()];
              case 1:
                return r3 = t3.sent(), n3 = r3.transaction(BP, "readwrite"), [4, (r3 = n3.objectStore(BP)).get(e3)];
              case 2:
                return i3 = t3.sent(), [4, r3.put(s3, e3)];
              case 3:
                return t3.sent(), [4, n3.complete];
              case 4:
                return t3.sent(), i3 && i3.fid === s3.fid || xP(o3, s3.fid), [2, s3];
            }
          });
        });
      }
      function zP(r3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e3 = OP(r3), [4, WP()];
              case 1:
                return n3 = t3.sent(), [4, (n3 = n3.transaction(BP, "readwrite")).objectStore(BP).delete(e3)];
              case 2:
                return t3.sent(), [4, n3.complete];
              case 3:
                return t3.sent(), [2];
            }
          });
        });
      }
      function GP(s3, a3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3, i3, o3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e3 = OP(s3), [4, WP()];
              case 1:
                return r3 = t3.sent(), n3 = r3.transaction(BP, "readwrite"), [4, (r3 = n3.objectStore(BP)).get(e3)];
              case 2:
                return i3 = t3.sent(), void 0 !== (o3 = a3(i3)) ? [3, 4] : [4, r3.delete(e3)];
              case 3:
                return t3.sent(), [3, 6];
              case 4:
                return [4, r3.put(o3, e3)];
              case 5:
                t3.sent(), t3.label = 6;
              case 6:
                return [4, n3.complete];
              case 7:
                return t3.sent(), !o3 || i3 && i3.fid === o3.fid || xP(s3, o3.fid), [2, o3];
            }
          });
        });
      }
      function QP(i3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, GP(i3, function(t4) {
                  t4 = XP(t4 || { fid: PP(), registrationStatus: 0 }), t4 = function(t5, e4) {
                    {
                      if (0 !== e4.registrationStatus)
                        return 1 === e4.registrationStatus ? { installationEntry: e4, registrationPromise: function(i4) {
                          return Yi(this, void 0, void 0, function() {
                            var e5, n5, r4;
                            return Xi(this, function(t6) {
                              switch (t6.label) {
                                case 0:
                                  return [4, YP(i4)];
                                case 1:
                                  e5 = t6.sent(), t6.label = 2;
                                case 2:
                                  return 1 !== e5.registrationStatus ? [3, 5] : [4, AP(100)];
                                case 3:
                                  return t6.sent(), [4, YP(i4)];
                                case 4:
                                  return e5 = t6.sent(), [3, 2];
                                case 5:
                                  return 0 !== e5.registrationStatus ? [3, 7] : [4, QP(i4)];
                                case 6:
                                  return r4 = t6.sent(), n5 = r4.installationEntry, (r4 = r4.registrationPromise) ? [2, r4] : [2, n5];
                                case 7:
                                  return [2, e5];
                              }
                            });
                          });
                        }(t5) } : { installationEntry: e4 };
                      if (!navigator.onLine) {
                        var n4 = Promise.reject(_P.create("app-offline"));
                        return { installationEntry: e4, registrationPromise: n4 };
                      }
                      e4 = { fid: e4.fid, registrationStatus: 1, registrationTime: Date.now() }, t5 = function(r4, i4) {
                        return Yi(this, void 0, void 0, function() {
                          var e5, n5;
                          return Xi(this, function(t6) {
                            switch (t6.label) {
                              case 0:
                                return t6.trys.push([0, 2, , 7]), [4, function(s3, t7) {
                                  var a3 = t7.fid;
                                  return Yi(this, void 0, void 0, function() {
                                    var e6, n6, r5, i5, o3;
                                    return Xi(this, function(t8) {
                                      switch (t8.label) {
                                        case 0:
                                          return e6 = TP(s3), n6 = SP(s3), o3 = { fid: a3, authVersion: yP, appId: s3.appId, sdkVersion: vP }, r5 = { method: "POST", headers: n6, body: JSON.stringify(o3) }, [4, CP(function() {
                                            return fetch(e6, r5);
                                          })];
                                        case 1:
                                          return (i5 = t8.sent()).ok ? [4, i5.json()] : [3, 3];
                                        case 2:
                                          return o3 = t8.sent(), [2, { fid: o3.fid || a3, registrationStatus: 2, refreshToken: o3.refreshToken, authToken: IP(o3.authToken) }];
                                        case 3:
                                          return [4, EP("Create Installation", i5)];
                                        case 4:
                                          throw t8.sent();
                                      }
                                    });
                                  });
                                }(r4, i4)];
                              case 1:
                                return e5 = t6.sent(), [2, HP(r4, e5)];
                              case 2:
                                return wP(n5 = t6.sent()) && 409 === n5.customData.serverCode ? [4, zP(r4)] : [3, 4];
                              case 3:
                                return t6.sent(), [3, 6];
                              case 4:
                                return [4, HP(r4, { fid: i4.fid, registrationStatus: 0 })];
                              case 5:
                                t6.sent(), t6.label = 6;
                              case 6:
                                throw n5;
                              case 7:
                                return [2];
                            }
                          });
                        });
                      }(t5, e4);
                      return { installationEntry: e4, registrationPromise: t5 };
                    }
                  }(i3, t4);
                  return e3 = t4.registrationPromise, t4.installationEntry;
                })];
              case 1:
                return (n3 = t3.sent()).fid !== RP ? [3, 3] : (r3 = {}, [4, e3]);
              case 2:
                return [2, (r3.installationEntry = t3.sent(), r3)];
              case 3:
                return [2, { installationEntry: n3, registrationPromise: e3 }];
            }
          });
        });
      }
      function YP(t3) {
        return GP(t3, function(t4) {
          if (!t4)
            throw _P.create("installation-not-found");
          return XP(t4);
        });
      }
      function XP(t3) {
        return 1 === (e3 = t3).registrationStatus && e3.registrationTime + gP < Date.now() ? { fid: t3.fid, registrationStatus: 0 } : t3;
        var e3;
      }
      function $P(t3, s3) {
        var a3 = t3.appConfig, u3 = t3.platformLoggerProvider;
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3, i3, o3;
          return Xi(this, function(t4) {
            switch (t4.label) {
              case 0:
                return e3 = function(t5, e4) {
                  e4 = e4.fid;
                  return TP(t5) + "/" + e4 + "/authTokens:generate";
                }(a3, s3), n3 = kP(a3, s3), (o3 = u3.getImmediate({ optional: true })) && n3.append("x-firebase-client", o3.getPlatformInfoString()), o3 = { installation: { sdkVersion: vP } }, r3 = { method: "POST", headers: n3, body: JSON.stringify(o3) }, [4, CP(function() {
                  return fetch(e3, r3);
                })];
              case 1:
                return (i3 = t4.sent()).ok ? [4, i3.json()] : [3, 3];
              case 2:
                return o3 = t4.sent(), [2, IP(o3)];
              case 3:
                return [4, EP("Generate Auth Token", i3)];
              case 4:
                throw t4.sent();
            }
          });
        });
      }
      function JP(i3, o3) {
        return void 0 === o3 && (o3 = false), Yi(this, void 0, void 0, function() {
          var r3, e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, GP(i3.appConfig, function(t4) {
                  if (!tO(t4))
                    throw _P.create("not-registered");
                  var e4, n4 = t4.authToken;
                  if (o3 || 2 !== (e4 = n4).requestStatus || function(t5) {
                    var e5 = Date.now();
                    return e5 < t5.creationTime || t5.creationTime + t5.expiresIn < e5 + bP;
                  }(e4)) {
                    if (1 === n4.requestStatus)
                      return r3 = function(n5, r4) {
                        return Yi(this, void 0, void 0, function() {
                          var e5;
                          return Xi(this, function(t5) {
                            switch (t5.label) {
                              case 0:
                                return [4, ZP(n5.appConfig)];
                              case 1:
                                e5 = t5.sent(), t5.label = 2;
                              case 2:
                                return 1 !== e5.authToken.requestStatus ? [3, 5] : [4, AP(100)];
                              case 3:
                                return t5.sent(), [4, ZP(n5.appConfig)];
                              case 4:
                                return e5 = t5.sent(), [3, 2];
                              case 5:
                                return 0 === (e5 = e5.authToken).requestStatus ? [2, JP(n5, r4)] : [2, e5];
                            }
                          });
                        });
                      }(i3, o3), t4;
                    if (!navigator.onLine)
                      throw _P.create("app-offline");
                    n4 = (e4 = t4, n4 = { requestStatus: 1, requestTime: Date.now() }, Qi(Qi({}, e4), { authToken: n4 }));
                    return r3 = function(i4, o4) {
                      return Yi(this, void 0, void 0, function() {
                        var e5, n5, r4;
                        return Xi(this, function(t5) {
                          switch (t5.label) {
                            case 0:
                              return t5.trys.push([0, 3, , 8]), [4, $P(i4, o4)];
                            case 1:
                              return e5 = t5.sent(), r4 = Qi(Qi({}, o4), { authToken: e5 }), [4, HP(i4.appConfig, r4)];
                            case 2:
                              return t5.sent(), [2, e5];
                            case 3:
                              return !wP(n5 = t5.sent()) || 401 !== n5.customData.serverCode && 404 !== n5.customData.serverCode ? [3, 5] : [4, zP(i4.appConfig)];
                            case 4:
                              return t5.sent(), [3, 7];
                            case 5:
                              return r4 = Qi(Qi({}, o4), { authToken: { requestStatus: 0 } }), [4, HP(i4.appConfig, r4)];
                            case 6:
                              t5.sent(), t5.label = 7;
                            case 7:
                              throw n5;
                            case 8:
                              return [2];
                          }
                        });
                      });
                    }(i3, n4), n4;
                  }
                  return t4;
                })];
              case 1:
                return e3 = t3.sent(), r3 ? [4, r3] : [3, 3];
              case 2:
                return n3 = t3.sent(), [3, 4];
              case 3:
                n3 = e3.authToken, t3.label = 4;
              case 4:
                return [2, n3];
            }
          });
        });
      }
      function ZP(t3) {
        return GP(t3, function(t4) {
          if (!tO(t4))
            throw _P.create("not-registered");
          var e3 = t4.authToken;
          return 1 === (e3 = e3).requestStatus && e3.requestTime + gP < Date.now() ? Qi(Qi({}, t4), { authToken: { requestStatus: 0 } }) : t4;
        });
      }
      function tO(t3) {
        return void 0 !== t3 && 2 === t3.registrationStatus;
      }
      function eO(e3, n3) {
        return void 0 === n3 && (n3 = false), Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, function(n4) {
                  return Yi(this, void 0, void 0, function() {
                    var e4;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return [4, QP(n4)];
                        case 1:
                          return (e4 = t4.sent().registrationPromise) ? [4, e4] : [3, 3];
                        case 2:
                          t4.sent(), t4.label = 3;
                        case 3:
                          return [2];
                      }
                    });
                  });
                }(e3.appConfig)];
              case 1:
                return t3.sent(), [4, JP(e3, n3)];
              case 2:
                return [2, t3.sent().token];
            }
          });
        });
      }
      function nO(i3, o3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e3 = function(t4, e4) {
                  e4 = e4.fid;
                  return TP(t4) + "/" + e4;
                }(i3, o3), r3 = kP(i3, o3), n3 = { method: "DELETE", headers: r3 }, [4, CP(function() {
                  return fetch(e3, n3);
                })];
              case 1:
                return (r3 = t3.sent()).ok ? [3, 3] : [4, EP("Delete Installation", r3)];
              case 2:
                throw t3.sent();
              case 3:
                return [2];
            }
          });
        });
      }
      function rO(t3, r3) {
        var i3 = t3.appConfig;
        return function(t4, e3) {
          FP();
          var n3 = OP(t4);
          (t4 = DP.get(n3)) || (t4 = /* @__PURE__ */ new Set(), DP.set(n3, t4)), t4.add(e3);
        }(i3, r3), function() {
          var t4, e3, n3;
          e3 = r3, n3 = OP(t4 = i3), (t4 = DP.get(n3)) && (t4.delete(e3), 0 === t4.size && DP.delete(n3), jP());
        };
      }
      function iO(t3) {
        return _P.create("missing-app-config-values", { valueName: t3 });
      }
      (UP = Jl).INTERNAL.registerComponent(new es("installations", function(t3) {
        var e3 = t3.getProvider("app").getImmediate(), n3 = { appConfig: function(t4) {
          var e4, n4;
          if (!t4 || !t4.options)
            throw iO("App Configuration");
          if (!t4.name)
            throw iO("App Name");
          try {
            for (var r3 = $i(["projectId", "apiKey", "appId"]), i3 = r3.next(); !i3.done; i3 = r3.next()) {
              var o3 = i3.value;
              if (!t4.options[o3])
                throw iO(o3);
            }
          } catch (t5) {
            e4 = { error: t5 };
          } finally {
            try {
              i3 && !i3.done && (n4 = r3.return) && n4.call(r3);
            } finally {
              if (e4)
                throw e4.error;
            }
          }
          return { appName: t4.name, projectId: t4.options.projectId, apiKey: t4.options.apiKey, appId: t4.options.appId };
        }(e3), platformLoggerProvider: t3.getProvider("platform-logger") };
        return { app: e3, getId: function() {
          return function(r3) {
            return Yi(this, void 0, void 0, function() {
              var e4, n4;
              return Xi(this, function(t4) {
                switch (t4.label) {
                  case 0:
                    return [4, QP(r3.appConfig)];
                  case 1:
                    return e4 = t4.sent(), n4 = e4.installationEntry, (e4.registrationPromise || JP(r3)).catch(console.error), [2, n4.fid];
                }
              });
            });
          }(n3);
        }, getToken: function(t4) {
          return eO(n3, t4);
        }, delete: function() {
          return function(r3) {
            return Yi(this, void 0, void 0, function() {
              var e4, n4;
              return Xi(this, function(t4) {
                switch (t4.label) {
                  case 0:
                    return [4, GP(e4 = r3.appConfig, function(t5) {
                      if (!t5 || 0 !== t5.registrationStatus)
                        return t5;
                    })];
                  case 1:
                    if (!(n4 = t4.sent()))
                      return [3, 6];
                    if (1 !== n4.registrationStatus)
                      return [3, 2];
                    throw _P.create("delete-pending-registration");
                  case 2:
                    if (2 !== n4.registrationStatus)
                      return [3, 6];
                    if (navigator.onLine)
                      return [3, 3];
                    throw _P.create("app-offline");
                  case 3:
                    return [4, nO(e4, n4)];
                  case 4:
                    return t4.sent(), [4, zP(e4)];
                  case 5:
                    t4.sent(), t4.label = 6;
                  case 6:
                    return [2];
                }
              });
            });
          }(n3);
        }, onIdChange: function(t4) {
          return rO(n3, t4);
        } };
      }, "PUBLIC")), UP.registerVersion("@firebase/installations", "0.4.32");
      var oO, Q = ((G = {})["missing-app-config-values"] = 'Missing App configuration value: "{$valueName}"', G["only-available-in-window"] = "This method is available in a Window context.", G["only-available-in-sw"] = "This method is available in a service worker context.", G["permission-default"] = "The notification permission was not granted and dismissed instead.", G["permission-blocked"] = "The notification permission was not granted and blocked instead.", G["unsupported-browser"] = "This browser doesn't support the API's required to use the firebase SDK.", G["failed-service-worker-registration"] = "We are unable to register the default service worker. {$browserErrorMessage}", G["token-subscribe-failed"] = "A problem occurred while subscribing the user to FCM: {$errorInfo}", G["token-subscribe-no-token"] = "FCM returned no token when subscribing the user to push.", G["token-unsubscribe-failed"] = "A problem occurred while unsubscribing the user from FCM: {$errorInfo}", G["token-update-failed"] = "A problem occurred while updating the user from FCM: {$errorInfo}", G["token-update-no-token"] = "FCM returned no token when updating the user to push.", G["use-sw-after-get-token"] = "The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.", G["invalid-sw-registration"] = "The input to useServiceWorker() must be a ServiceWorkerRegistration.", G["invalid-bg-handler"] = "The input to setBackgroundMessageHandler() must be a function.", G["invalid-vapid-key"] = "The public VAPID key must be a string.", G["use-vapid-key-after-get-token"] = "The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.", G), sO = new Co("messaging", "Messaging", Q), aO = "BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4", uO = "https://fcmregistrations.googleapis.com/v1", cO = "FCM_MSG", hO = "google.c.a.c_id";
      function lO(t3) {
        t3 = new Uint8Array(t3);
        return btoa(String.fromCharCode.apply(String, Zi([], Ji(t3)))).replace(/=/g, "").replace(/\+/g, "-").replace(/\//g, "_");
      }
      (G = oO = oO || {}).PUSH_RECEIVED = "push-received", G.NOTIFICATION_CLICKED = "notification-clicked";
      var fO = "fcm_token_details_db", pO = 5, dO = "fcm_token_object_Store";
      function gO(s3) {
        return Yi(this, void 0, void 0, function() {
          var e3, o3, n3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return "databases" in indexedDB ? [4, indexedDB.databases()] : [3, 2];
              case 1:
                if (e3 = t3.sent(), !e3.map(function(t4) {
                  return t4.name;
                }).includes(fO))
                  return [2, null];
                t3.label = 2;
              case 2:
                return o3 = null, [4, pP(fO, pO, function(i3) {
                  return Yi(n3, void 0, void 0, function() {
                    var e4, n4, r3;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return i3.oldVersion < 2 ? [2] : i3.objectStoreNames.contains(dO) ? [4, (r3 = i3.transaction.objectStore(dO)).index("fcmSenderId").get(s3)] : [2];
                        case 1:
                          return e4 = t4.sent(), [4, r3.clear()];
                        case 2:
                          if (t4.sent(), !e4)
                            return [2];
                          if (2 === i3.oldVersion) {
                            if (!(n4 = e4).auth || !n4.p256dh || !n4.endpoint)
                              return [2];
                            o3 = { token: n4.fcmToken, createTime: null !== (r3 = n4.createTime) && void 0 !== r3 ? r3 : Date.now(), subscriptionOptions: { auth: n4.auth, p256dh: n4.p256dh, endpoint: n4.endpoint, swScope: n4.swScope, vapidKey: "string" == typeof n4.vapidKey ? n4.vapidKey : lO(n4.vapidKey) } };
                          } else
                            (3 === i3.oldVersion || 4 === i3.oldVersion) && (o3 = { token: (n4 = e4).fcmToken, createTime: n4.createTime, subscriptionOptions: { auth: lO(n4.auth), p256dh: lO(n4.p256dh), endpoint: n4.endpoint, swScope: n4.swScope, vapidKey: lO(n4.vapidKey) } });
                          return [2];
                      }
                    });
                  });
                })];
              case 3:
                return t3.sent().close(), [4, dP(fO)];
              case 4:
                return t3.sent(), [4, dP("fcm_vapid_details_db")];
              case 5:
                return t3.sent(), [4, dP("undefined")];
              case 6:
                return t3.sent(), [2, function(t4) {
                  if (!t4 || !t4.subscriptionOptions)
                    return false;
                  var e4 = t4.subscriptionOptions;
                  return "number" == typeof t4.createTime && 0 < t4.createTime && "string" == typeof t4.token && 0 < t4.token.length && "string" == typeof e4.auth && 0 < e4.auth.length && "string" == typeof e4.p256dh && 0 < e4.p256dh.length && "string" == typeof e4.endpoint && 0 < e4.endpoint.length && "string" == typeof e4.swScope && 0 < e4.swScope.length && "string" == typeof e4.vapidKey && 0 < e4.vapidKey.length;
                }(o3) ? o3 : null];
            }
          });
        });
      }
      var vO = "firebase-messaging-database", yO = 1, mO = "firebase-messaging-store", bO = null;
      function _O() {
        return bO = bO || pP(vO, yO, function(t3) {
          0 === t3.oldVersion && t3.createObjectStore(mO);
        });
      }
      function wO(r3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e3 = IO(r3), [4, _O()];
              case 1:
                return [4, t3.sent().transaction(mO).objectStore(mO).get(e3)];
              case 2:
                return (e3 = t3.sent()) ? [2, e3] : [3, 3];
              case 3:
                return [4, gO(r3.appConfig.senderId)];
              case 4:
                return (n3 = t3.sent()) ? [4, TO(r3, n3)] : [3, 6];
              case 5:
                return t3.sent(), [2, n3];
              case 6:
                return [2];
            }
          });
        });
      }
      function TO(r3, i3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e3 = IO(r3), [4, _O()];
              case 1:
                return n3 = t3.sent(), [4, (n3 = n3.transaction(mO, "readwrite")).objectStore(mO).put(i3, e3)];
              case 2:
                return t3.sent(), [4, n3.complete];
              case 3:
                return t3.sent(), [2, i3];
            }
          });
        });
      }
      function IO(t3) {
        return t3.appConfig.appId;
      }
      function EO(r3, i3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, kO(r3)];
              case 1:
                e3 = t3.sent(), e3 = { method: "DELETE", headers: e3 }, t3.label = 2;
              case 2:
                return t3.trys.push([2, 5, , 6]), [4, fetch(SO(r3.appConfig) + "/" + i3, e3)];
              case 3:
                return [4, t3.sent().json()];
              case 4:
                if ((e3 = t3.sent()).error)
                  throw n3 = e3.error.message, sO.create("token-unsubscribe-failed", { errorInfo: n3 });
                return [3, 6];
              case 5:
                throw n3 = t3.sent(), sO.create("token-unsubscribe-failed", { errorInfo: n3 });
              case 6:
                return [2];
            }
          });
        });
      }
      function SO(t3) {
        t3 = t3.projectId;
        return uO + "/projects/" + t3 + "/registrations";
      }
      function kO(t3) {
        var n3 = t3.appConfig, r3 = t3.installations;
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t4) {
            switch (t4.label) {
              case 0:
                return [4, r3.getToken()];
              case 1:
                return e3 = t4.sent(), [2, new Headers({ "Content-Type": "application/json", Accept: "application/json", "x-goog-api-key": n3.apiKey, "x-goog-firebase-installations-auth": "FIS " + e3 })];
            }
          });
        });
      }
      function CO(t3) {
        var e3 = t3.p256dh, n3 = t3.auth, r3 = t3.endpoint, t3 = t3.vapidKey, e3 = { web: { endpoint: r3, auth: n3, p256dh: e3 } };
        return t3 !== aO && (e3.web.applicationPubKey = t3), e3;
      }
      function AO(u3, c3, h3) {
        return Yi(this, void 0, void 0, function() {
          var o3, s3, a3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if ("granted" !== Notification.permission)
                  throw sO.create("permission-blocked");
                return [4, function(n4, r4) {
                  return Yi(this, void 0, void 0, function() {
                    var e4;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return [4, n4.pushManager.getSubscription()];
                        case 1:
                          return (e4 = t4.sent()) ? [2, e4] : [2, n4.pushManager.subscribe({ userVisibleOnly: true, applicationServerKey: function(t5) {
                            for (var t5 = (t5 + "=".repeat((4 - t5.length % 4) % 4)).replace(/\-/g, "+").replace(/_/g, "/"), e5 = atob(t5), n5 = new Uint8Array(e5.length), r5 = 0; r5 < e5.length; ++r5)
                              n5[r5] = e5.charCodeAt(r5);
                            return n5;
                          }(r4) })];
                      }
                    });
                  });
                }(c3, h3)];
              case 1:
                return a3 = t3.sent(), [4, wO(u3)];
              case 2:
                return o3 = t3.sent(), s3 = { vapidKey: h3, swScope: c3.scope, endpoint: a3.endpoint, auth: lO(a3.getKey("auth")), p256dh: lO(a3.getKey("p256dh")) }, o3 ? [3, 3] : [2, RO(u3, s3)];
              case 3:
                if (e3 = o3.subscriptionOptions, n3 = s3.vapidKey === e3.vapidKey, r3 = s3.endpoint === e3.endpoint, i3 = s3.auth === e3.auth, e3 = s3.p256dh === e3.p256dh, n3 && r3 && i3 && e3)
                  return [3, 8];
                t3.label = 4;
              case 4:
                return t3.trys.push([4, 6, , 7]), [4, EO(u3, o3.token)];
              case 5:
                return t3.sent(), [3, 7];
              case 6:
                return a3 = t3.sent(), console.warn(a3), [3, 7];
              case 7:
                return [2, RO(u3, s3)];
              case 8:
                return Date.now() >= o3.createTime + 6048e5 ? [2, function(i4, o4, s4) {
                  return Yi(this, void 0, void 0, function() {
                    var e4, n4, r4;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return t4.trys.push([0, 3, , 5]), [4, function(o5, s5) {
                            return Yi(this, void 0, void 0, function() {
                              var e5, n5, r5, i5;
                              return Xi(this, function(t5) {
                                switch (t5.label) {
                                  case 0:
                                    return [4, kO(o5)];
                                  case 1:
                                    e5 = t5.sent(), n5 = CO(s5.subscriptionOptions), n5 = { method: "PATCH", headers: e5, body: JSON.stringify(n5) }, t5.label = 2;
                                  case 2:
                                    return t5.trys.push([2, 5, , 6]), [4, fetch(SO(o5.appConfig) + "/" + s5.token, n5)];
                                  case 3:
                                    return [4, t5.sent().json()];
                                  case 4:
                                    return r5 = t5.sent(), [3, 6];
                                  case 5:
                                    throw i5 = t5.sent(), sO.create("token-update-failed", { errorInfo: i5 });
                                  case 6:
                                    if (r5.error)
                                      throw i5 = r5.error.message, sO.create("token-update-failed", { errorInfo: i5 });
                                    if (!r5.token)
                                      throw sO.create("token-update-no-token");
                                    return [2, r5.token];
                                }
                              });
                            });
                          }(o4, i4)];
                        case 1:
                          return e4 = t4.sent(), n4 = Qi(Qi({}, i4), { token: e4, createTime: Date.now() }), [4, TO(o4, n4)];
                        case 2:
                          return t4.sent(), [2, e4];
                        case 3:
                          return r4 = t4.sent(), [4, NO(o4, s4)];
                        case 4:
                          throw t4.sent(), r4;
                        case 5:
                          return [2];
                      }
                    });
                  });
                }({ token: o3.token, createTime: Date.now(), subscriptionOptions: s3 }, u3, c3)] : [2, o3.token];
              case 9:
                return [2];
            }
            var e3, n3, r3, i3;
          });
        });
      }
      function NO(n3, r3) {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, wO(n3)];
              case 1:
                return (e3 = t3.sent()) ? [4, EO(n3, e3.token)] : [3, 4];
              case 2:
                return t3.sent(), [4, function(r4) {
                  return Yi(this, void 0, void 0, function() {
                    var e4, n4;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return e4 = IO(r4), [4, _O()];
                        case 1:
                          return n4 = t4.sent(), [4, (n4 = n4.transaction(mO, "readwrite")).objectStore(mO).delete(e4)];
                        case 2:
                          return t4.sent(), [4, n4.complete];
                        case 3:
                          return t4.sent(), [2];
                      }
                    });
                  });
                }(n3)];
              case 3:
                t3.sent(), t3.label = 4;
              case 4:
                return [4, r3.pushManager.getSubscription()];
              case 5:
                return (e3 = t3.sent()) ? [2, e3.unsubscribe()] : [2, true];
            }
          });
        });
      }
      function RO(n3, r3) {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, function(o3, s3) {
                  return Yi(this, void 0, void 0, function() {
                    var e4, n4, r4, i3;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return [4, kO(o3)];
                        case 1:
                          e4 = t4.sent(), n4 = CO(s3), n4 = { method: "POST", headers: e4, body: JSON.stringify(n4) }, t4.label = 2;
                        case 2:
                          return t4.trys.push([2, 5, , 6]), [4, fetch(SO(o3.appConfig), n4)];
                        case 3:
                          return [4, t4.sent().json()];
                        case 4:
                          return r4 = t4.sent(), [3, 6];
                        case 5:
                          throw i3 = t4.sent(), sO.create("token-subscribe-failed", { errorInfo: i3 });
                        case 6:
                          if (r4.error)
                            throw i3 = r4.error.message, sO.create("token-subscribe-failed", { errorInfo: i3 });
                          if (!r4.token)
                            throw sO.create("token-subscribe-no-token");
                          return [2, r4.token];
                      }
                    });
                  });
                }(n3, r3)];
              case 1:
                return e3 = t3.sent(), e3 = { token: e3, createTime: Date.now(), subscriptionOptions: r3 }, [4, TO(n3, e3)];
              case 2:
                return t3.sent(), [2, e3.token];
            }
          });
        });
      }
      function PO(t3) {
        return "object" == typeof t3 && t3 && hO in t3;
      }
      function OO(e3) {
        return new Promise(function(t3) {
          setTimeout(t3, e3);
        });
      }
      var DO = (Object.defineProperty(xO.prototype, "app", { get: function() {
        return this.firebaseDependencies.app;
      }, enumerable: false, configurable: true }), xO.prototype.setBackgroundMessageHandler = function(t3) {
        if (this.isOnBackgroundMessageUsed = false, !t3 || "function" != typeof t3)
          throw sO.create("invalid-bg-handler");
        this.bgMessageHandler = t3;
      }, xO.prototype.onBackgroundMessage = function(t3) {
        var e3 = this;
        return this.isOnBackgroundMessageUsed = true, this.bgMessageHandler = t3, function() {
          e3.bgMessageHandler = null;
        };
      }, xO.prototype.getToken = function() {
        var n3;
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return this.vapidKey ? [3, 2] : [4, wO(this.firebaseDependencies)];
              case 1:
                e3 = t3.sent(), this.vapidKey = null !== (n3 = null === (n3 = null == e3 ? void 0 : e3.subscriptionOptions) || void 0 === n3 ? void 0 : n3.vapidKey) && void 0 !== n3 ? n3 : aO, t3.label = 2;
              case 2:
                return [2, AO(this.firebaseDependencies, self.registration, this.vapidKey)];
            }
          });
        });
      }, xO.prototype.deleteToken = function() {
        return NO(this.firebaseDependencies, self.registration);
      }, xO.prototype.requestPermission = function() {
        throw sO.create("only-available-in-window");
      }, xO.prototype.usePublicVapidKey = function(t3) {
        if (null !== this.vapidKey)
          throw sO.create("use-vapid-key-after-get-token");
        if ("string" != typeof t3 || 0 === t3.length)
          throw sO.create("invalid-vapid-key");
        this.vapidKey = t3;
      }, xO.prototype.useServiceWorker = function() {
        throw sO.create("only-available-in-window");
      }, xO.prototype.onMessage = function() {
        throw sO.create("only-available-in-window");
      }, xO.prototype.onTokenRefresh = function() {
        throw sO.create("only-available-in-window");
      }, xO.prototype.onPush = function(c3) {
        return Yi(this, void 0, void 0, function() {
          var s3, a3, u3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return (u3 = function(t4) {
                  t4 = t4.data;
                  if (!t4)
                    return null;
                  try {
                    return t4.json();
                  } catch (t5) {
                    return null;
                  }
                }(c3)) ? [4, LO()] : (console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."), [2]);
              case 1:
                return (s3 = t3.sent()).some(function(t4) {
                  return "visible" === t4.visibilityState && !t4.url.startsWith("chrome-extension://");
                }) ? [2, function(t4, e4) {
                  var n4, r4;
                  e4.isFirebaseMessaging = true, e4.messageType = oO.PUSH_RECEIVED;
                  try {
                    for (var i4 = $i(t4), o4 = i4.next(); !o4.done; o4 = i4.next())
                      o4.value.postMessage(e4);
                  } catch (t5) {
                    n4 = { error: t5 };
                  } finally {
                    try {
                      o4 && !o4.done && (r4 = i4.return) && r4.call(i4);
                    } finally {
                      if (n4)
                        throw n4.error;
                    }
                  }
                }(s3, u3)] : (a3 = false, u3.notification ? [4, function(t4) {
                  var e4 = t4.actions, n4 = Notification.maxActions;
                  e4 && n4 && e4.length > n4 && console.warn("This browser only supports " + n4 + " actions. The remaining actions will not be displayed.");
                  return self.registration.showNotification(null !== (n4 = t4.title) && void 0 !== n4 ? n4 : "", t4);
                }(((o3 = Qi({}, (r3 = u3).notification)).data = ((i3 = {})[cO] = r3, i3), o3))] : [3, 3]);
              case 2:
                t3.sent(), a3 = true, t3.label = 3;
              case 3:
                return true === a3 && false === this.isOnBackgroundMessageUsed ? [2] : (this.bgMessageHandler && (n3 = { from: (e3 = u3).from, collapseKey: e3.collapse_key, messageId: e3.fcm_message_id }, r3 = n3, (i3 = e3).notification && (r3.notification = {}, (o3 = i3.notification.title) && (r3.notification.title = o3), (o3 = i3.notification.body) && (r3.notification.body = o3), (i3 = i3.notification.image) && (r3.notification.image = i3)), r3 = n3, (i3 = e3).data && (r3.data = i3.data), r3 = n3, (i3 = e3).fcmOptions && (r3.fcmOptions = {}, (e3 = i3.fcmOptions.link) && (r3.fcmOptions.link = e3), (i3 = i3.fcmOptions.analytics_label) && (r3.fcmOptions.analyticsLabel = i3)), u3 = n3, "function" == typeof this.bgMessageHandler ? this.bgMessageHandler(u3) : this.bgMessageHandler.next(u3)), [4, OO(1e3)]);
              case 4:
                return t3.sent(), [2];
            }
            var e3, n3, r3, i3, o3;
          });
        });
      }, xO.prototype.onSubChange = function(n3) {
        var r3;
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return n3.newSubscription ? [3, 2] : [4, NO(this.firebaseDependencies, self.registration)];
              case 1:
                return t3.sent(), [2];
              case 2:
                return [4, wO(this.firebaseDependencies)];
              case 3:
                return e3 = t3.sent(), [4, NO(this.firebaseDependencies, self.registration)];
              case 4:
                return t3.sent(), [4, AO(this.firebaseDependencies, self.registration, null !== (r3 = null === (r3 = null == e3 ? void 0 : e3.subscriptionOptions) || void 0 === r3 ? void 0 : r3.vapidKey) && void 0 !== r3 ? r3 : aO)];
              case 5:
                return t3.sent(), [2];
            }
          });
        });
      }, xO.prototype.onNotificationClick = function(s3) {
        var a3;
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3, i3, o3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return (e3 = null === (a3 = null === (a3 = s3.notification) || void 0 === a3 ? void 0 : a3.data) || void 0 === a3 ? void 0 : a3[cO]) ? s3.action ? [2] : (s3.stopImmediatePropagation(), s3.notification.close(), (n3 = function(t4) {
                  var e4, n4 = null !== (e4 = null === (e4 = t4.fcmOptions) || void 0 === e4 ? void 0 : e4.link) && void 0 !== e4 ? e4 : null === (n4 = t4.notification) || void 0 === n4 ? void 0 : n4.click_action;
                  if (n4)
                    return n4;
                  return PO(t4.data) ? self.location.origin : null;
                }(e3)) ? (r3 = new URL(n3, self.location.href), i3 = new URL(self.location.origin), r3.host !== i3.host ? [2] : [4, function(u3) {
                  return Yi(this, void 0, void 0, function() {
                    var e4, n4, r4, i4, o4, s4, a4;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return [4, LO()];
                        case 1:
                          e4 = t4.sent();
                          try {
                            for (n4 = $i(e4), r4 = n4.next(); !r4.done; r4 = n4.next())
                              if (i4 = r4.value, o4 = new URL(i4.url, self.location.href), u3.host === o4.host)
                                return [2, i4];
                          } catch (t5) {
                            s4 = { error: t5 };
                          } finally {
                            try {
                              r4 && !r4.done && (a4 = n4.return) && a4.call(n4);
                            } finally {
                              if (s4)
                                throw s4.error;
                            }
                          }
                          return [2, null];
                      }
                    });
                  });
                }(r3)]) : [2]) : [2];
              case 1:
                return (o3 = t3.sent()) ? [3, 4] : [4, self.clients.openWindow(n3)];
              case 2:
                return o3 = t3.sent(), [4, OO(3e3)];
              case 3:
                return t3.sent(), [3, 6];
              case 4:
                return [4, o3.focus()];
              case 5:
                o3 = t3.sent(), t3.label = 6;
              case 6:
                return o3 ? (e3.messageType = oO.NOTIFICATION_CLICKED, e3.isFirebaseMessaging = true, [2, o3.postMessage(e3)]) : [2];
            }
          });
        });
      }, xO);
      function xO(t3) {
        var e3 = this;
        this.firebaseDependencies = t3, this.isOnBackgroundMessageUsed = null, this.vapidKey = null, this.bgMessageHandler = null, self.addEventListener("push", function(t4) {
          t4.waitUntil(e3.onPush(t4));
        }), self.addEventListener("pushsubscriptionchange", function(t4) {
          t4.waitUntil(e3.onSubChange(t4));
        }), self.addEventListener("notificationclick", function(t4) {
          t4.waitUntil(e3.onNotificationClick(t4));
        });
      }
      function LO() {
        return self.clients.matchAll({ type: "window", includeUncontrolled: true });
      }
      var MO = (Object.defineProperty(FO.prototype, "app", { get: function() {
        return this.firebaseDependencies.app;
      }, enumerable: false, configurable: true }), FO.prototype.messageEventListener = function(i3) {
        return Yi(this, void 0, void 0, function() {
          var n3, r3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return (n3 = i3.data).isFirebaseMessaging ? (this.onMessageCallback && n3.messageType === oO.PUSH_RECEIVED && ("function" == typeof this.onMessageCallback ? this.onMessageCallback((delete (e3 = Object.assign({}, n3)).messageType, delete e3.isFirebaseMessaging, e3)) : this.onMessageCallback.next(Object.assign({}, n3))), PO(r3 = n3.data) && "1" === r3["google.c.a.e"] ? [4, this.logEvent(n3.messageType, r3)] : [3, 2]) : [2];
              case 1:
                t3.sent(), t3.label = 2;
              case 2:
                return [2];
            }
            var e3;
          });
        });
      }, FO.prototype.getVapidKey = function() {
        return this.vapidKey;
      }, FO.prototype.getSwReg = function() {
        return this.swRegistration;
      }, FO.prototype.getToken = function(e3) {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return "default" !== Notification.permission ? [3, 2] : [4, Notification.requestPermission()];
              case 1:
                t3.sent(), t3.label = 2;
              case 2:
                if ("granted" !== Notification.permission)
                  throw sO.create("permission-blocked");
                return [4, this.updateVapidKey(null == e3 ? void 0 : e3.vapidKey)];
              case 3:
                return t3.sent(), [4, this.updateSwReg(null == e3 ? void 0 : e3.serviceWorkerRegistration)];
              case 4:
                return t3.sent(), [2, AO(this.firebaseDependencies, this.swRegistration, this.vapidKey)];
            }
          });
        });
      }, FO.prototype.updateVapidKey = function(e3) {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            return e3 ? this.vapidKey = e3 : this.vapidKey || (this.vapidKey = aO), [2];
          });
        });
      }, FO.prototype.updateSwReg = function(e3) {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e3 || this.swRegistration ? [3, 2] : [4, this.registerDefaultSw()];
              case 1:
                t3.sent(), t3.label = 2;
              case 2:
                if (!e3 && this.swRegistration)
                  return [2];
                if (!(e3 instanceof ServiceWorkerRegistration))
                  throw sO.create("invalid-sw-registration");
                return this.swRegistration = e3, [2];
            }
          });
        });
      }, FO.prototype.registerDefaultSw = function() {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return t3.trys.push([0, 2, , 3]), e3 = this, [4, navigator.serviceWorker.register("/firebase-messaging-sw.js", { scope: "/firebase-cloud-messaging-push-scope" })];
              case 1:
                return e3.swRegistration = t3.sent(), this.swRegistration.update().catch(function() {
                }), [3, 3];
              case 2:
                throw e3 = t3.sent(), sO.create("failed-service-worker-registration", { browserErrorMessage: e3.message });
              case 3:
                return [2];
            }
          });
        });
      }, FO.prototype.deleteToken = function() {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return this.swRegistration ? [3, 2] : [4, this.registerDefaultSw()];
              case 1:
                t3.sent(), t3.label = 2;
              case 2:
                return [2, NO(this.firebaseDependencies, this.swRegistration)];
            }
          });
        });
      }, FO.prototype.requestPermission = function() {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return "granted" === Notification.permission ? [2] : [4, Notification.requestPermission()];
              case 1:
                if ("granted" === (e3 = t3.sent()))
                  return [2];
                throw "denied" === e3 ? sO.create("permission-blocked") : sO.create("permission-default");
            }
          });
        });
      }, FO.prototype.usePublicVapidKey = function(t3) {
        if (null !== this.vapidKey)
          throw sO.create("use-vapid-key-after-get-token");
        if ("string" != typeof t3 || 0 === t3.length)
          throw sO.create("invalid-vapid-key");
        this.vapidKey = t3;
      }, FO.prototype.useServiceWorker = function(t3) {
        if (!(t3 instanceof ServiceWorkerRegistration))
          throw sO.create("invalid-sw-registration");
        if (this.swRegistration)
          throw sO.create("use-sw-after-get-token");
        this.swRegistration = t3;
      }, FO.prototype.onMessage = function(t3) {
        var e3 = this;
        return this.onMessageCallback = t3, function() {
          e3.onMessageCallback = null;
        };
      }, FO.prototype.setBackgroundMessageHandler = function() {
        throw sO.create("only-available-in-sw");
      }, FO.prototype.onBackgroundMessage = function() {
        throw sO.create("only-available-in-sw");
      }, FO.prototype.onTokenRefresh = function() {
        return function() {
        };
      }, FO.prototype.logEvent = function(n3, r3) {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e3 = function(t4) {
                  switch (t4) {
                    case oO.NOTIFICATION_CLICKED:
                      return "notification_open";
                    case oO.PUSH_RECEIVED:
                      return "notification_foreground";
                    default:
                      throw new Error();
                  }
                }(n3), [4, this.firebaseDependencies.analyticsProvider.get()];
              case 1:
                return t3.sent().logEvent(e3, { message_id: r3[hO], message_name: r3["google.c.a.c_l"], message_time: r3["google.c.a.ts"], message_device_time: Math.floor(Date.now() / 1e3) }), [2];
            }
          });
        });
      }, FO);
      function FO(t3) {
        var e3 = this;
        this.firebaseDependencies = t3, this.vapidKey = null, this.onMessageCallback = null, navigator.serviceWorker.addEventListener("message", function(t4) {
          return e3.messageEventListener(t4);
        });
      }
      function jO(t3) {
        return sO.create("missing-app-config-values", { valueName: t3 });
      }
      Q = { isSupported: UO };
      function UO() {
        return self && "ServiceWorkerGlobalScope" in self ? "indexedDB" in self && null !== indexedDB && "PushManager" in self && "Notification" in self && ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification") && PushSubscription.prototype.hasOwnProperty("getKey") : "indexedDB" in window && null !== indexedDB && navigator.cookieEnabled && "serviceWorker" in navigator && "PushManager" in window && "Notification" in window && "fetch" in window && ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification") && PushSubscription.prototype.hasOwnProperty("getKey");
      }
      Jl.INTERNAL.registerComponent(new es("messaging", function(t3) {
        var e3 = t3.getProvider("app").getImmediate(), t3 = { app: e3, appConfig: function(t4) {
          var e4, n3;
          if (!t4 || !t4.options)
            throw jO("App Configuration Object");
          if (!t4.name)
            throw jO("App Name");
          var r3 = t4.options;
          try {
            for (var i3 = $i(["projectId", "apiKey", "appId", "messagingSenderId"]), o3 = i3.next(); !o3.done; o3 = i3.next()) {
              var s3 = o3.value;
              if (!r3[s3])
                throw jO(s3);
            }
          } catch (t5) {
            e4 = { error: t5 };
          } finally {
            try {
              o3 && !o3.done && (n3 = i3.return) && n3.call(i3);
            } finally {
              if (e4)
                throw e4.error;
            }
          }
          return { appName: t4.name, projectId: r3.projectId, apiKey: r3.apiKey, appId: r3.appId, senderId: r3.messagingSenderId };
        }(e3), installations: t3.getProvider("installations").getImmediate(), analyticsProvider: t3.getProvider("analytics-internal") };
        if (!UO())
          throw sO.create("unsupported-browser");
        return new (self && "ServiceWorkerGlobalScope" in self ? DO : MO)(t3);
      }, "PUBLIC").setServiceProps(Q));
      var qO, VO = "firebasestorage.googleapis.com", BO = "storageBucket", KO = (Gi(WO, qO = So), WO.prototype._codeEquals = function(t3) {
        return HO(t3) === this.code;
      }, Object.defineProperty(WO.prototype, "serverResponse", { get: function() {
        return this.customData.serverResponse;
      }, set: function(t3) {
        this.customData.serverResponse = t3, this.customData.serverResponse ? this.message = this._baseMessage + "\n" + this.customData.serverResponse : this.message = this._baseMessage;
      }, enumerable: false, configurable: true }), WO);
      function WO(t3, e3) {
        t3 = qO.call(this, HO(t3), "Firebase Storage: " + e3 + " (" + HO(t3) + ")") || this;
        return t3.customData = { serverResponse: null }, t3._baseMessage = t3.message, Object.setPrototypeOf(t3, WO.prototype), t3;
      }
      function HO(t3) {
        return "storage/" + t3;
      }
      function zO() {
        return new KO("unknown", "An unknown error occurred, please check the error payload for server response.");
      }
      function GO() {
        return new KO("canceled", "User canceled the upload/download.");
      }
      function QO() {
        return new KO("cannot-slice-blob", "Cannot slice blob for upload. Please retry the upload.");
      }
      function YO(t3) {
        return new KO("invalid-argument", t3);
      }
      function XO() {
        return new KO("app-deleted", "The Firebase app was deleted.");
      }
      function $O(t3) {
        return new KO("invalid-root-operation", "The operation '" + t3 + "' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').");
      }
      function JO(t3, e3) {
        return new KO("invalid-format", "String does not match format '" + t3 + "': " + e3);
      }
      function ZO(t3) {
        throw new KO("internal-error", "Internal error: " + t3);
      }
      var tD = { RAW: "raw", BASE64: "base64", BASE64URL: "base64url", DATA_URL: "data_url" }, eD = function(t3, e3) {
        this.data = t3, this.contentType = e3 || null;
      };
      function nD(t3, e3) {
        switch (t3) {
          case tD.RAW:
            return new eD(rD(e3));
          case tD.BASE64:
          case tD.BASE64URL:
            return new eD(iD(t3, e3));
          case tD.DATA_URL:
            return new eD(function(t4) {
              t4 = new oD(t4);
              return t4.base64 ? iD(tD.BASE64, t4.rest) : function(t5) {
                var e4;
                try {
                  e4 = decodeURIComponent(t5);
                } catch (t6) {
                  throw JO(tD.DATA_URL, "Malformed data URL.");
                }
                return rD(e4);
              }(t4.rest);
            }(e3), new oD(e3).contentType);
        }
        throw zO();
      }
      function rD(t3) {
        for (var e3 = [], n3 = 0; n3 < t3.length; n3++) {
          var r3, i3, o3 = t3.charCodeAt(n3);
          o3 <= 127 ? e3.push(o3) : o3 <= 2047 ? e3.push(192 | o3 >> 6, 128 | 63 & o3) : 55296 == (64512 & o3) ? n3 < t3.length - 1 && 56320 == (64512 & t3.charCodeAt(n3 + 1)) ? (r3 = o3, i3 = t3.charCodeAt(++n3), e3.push(240 | (o3 = 65536 | (1023 & r3) << 10 | 1023 & i3) >> 18, 128 | o3 >> 12 & 63, 128 | o3 >> 6 & 63, 128 | 63 & o3)) : e3.push(239, 191, 189) : 56320 == (64512 & o3) ? e3.push(239, 191, 189) : e3.push(224 | o3 >> 12, 128 | o3 >> 6 & 63, 128 | 63 & o3);
        }
        return new Uint8Array(e3);
      }
      function iD(e3, t3) {
        switch (e3) {
          case tD.BASE64:
            var n3 = -1 !== t3.indexOf("-"), r3 = -1 !== t3.indexOf("_");
            if (n3 || r3)
              throw JO(e3, "Invalid character '" + (n3 ? "-" : "_") + "' found: is it base64url encoded?");
            break;
          case tD.BASE64URL:
            r3 = -1 !== t3.indexOf("+"), n3 = -1 !== t3.indexOf("/");
            if (r3 || n3)
              throw JO(e3, "Invalid character '" + (r3 ? "+" : "/") + "' found: is it base64 encoded?");
            t3 = t3.replace(/-/g, "+").replace(/_/g, "/");
        }
        var i3;
        try {
          i3 = atob(t3);
        } catch (t4) {
          throw JO(e3, "Invalid character found");
        }
        for (var o3 = new Uint8Array(i3.length), s3 = 0; s3 < i3.length; s3++)
          o3[s3] = i3.charCodeAt(s3);
        return o3;
      }
      var oD = function(t3) {
        var e3;
        if (this.base64 = false, (this.contentType = null) === (e3 = t3.match(/^data:([^,]+)?,/)))
          throw JO(tD.DATA_URL, "Must be formatted 'data:[<mediatype>][;base64],<data>");
        var n3, r3 = e3[1] || null;
        null != r3 && (this.base64 = (n3 = ";base64", (e3 = r3).length >= n3.length && e3.substring(e3.length - n3.length) === n3), this.contentType = this.base64 ? r3.substring(0, r3.length - ";base64".length) : r3), this.rest = t3.substring(t3.indexOf(",") + 1);
      };
      var sD, aD = { STATE_CHANGED: "state_changed" }, uD = { RUNNING: "running", PAUSED: "paused", SUCCESS: "success", CANCELED: "canceled", ERROR: "error" };
      function cD(t3) {
        switch (t3) {
          case "running":
          case "pausing":
          case "canceling":
            return uD.RUNNING;
          case "paused":
            return uD.PAUSED;
          case "success":
            return uD.SUCCESS;
          case "canceled":
            return uD.CANCELED;
          case "error":
          default:
            return uD.ERROR;
        }
      }
      (G = sD = sD || {})[G.NO_ERROR = 0] = "NO_ERROR", G[G.NETWORK_ERROR = 1] = "NETWORK_ERROR", G[G.ABORT = 2] = "ABORT";
      var hD = (lD.prototype.send = function(t3, e3, n3, r3) {
        if (this.sent_)
          throw ZO("cannot .send() more than once");
        if (this.sent_ = true, this.xhr_.open(e3, t3, true), void 0 !== r3)
          for (var i3 in r3)
            r3.hasOwnProperty(i3) && this.xhr_.setRequestHeader(i3, r3[i3].toString());
        return void 0 !== n3 ? this.xhr_.send(n3) : this.xhr_.send(), this.sendPromise_;
      }, lD.prototype.getErrorCode = function() {
        if (!this.sent_)
          throw ZO("cannot .getErrorCode() before sending");
        return this.errorCode_;
      }, lD.prototype.getStatus = function() {
        if (!this.sent_)
          throw ZO("cannot .getStatus() before sending");
        try {
          return this.xhr_.status;
        } catch (t3) {
          return -1;
        }
      }, lD.prototype.getResponseText = function() {
        if (!this.sent_)
          throw ZO("cannot .getResponseText() before sending");
        return this.xhr_.responseText;
      }, lD.prototype.abort = function() {
        this.xhr_.abort();
      }, lD.prototype.getResponseHeader = function(t3) {
        return this.xhr_.getResponseHeader(t3);
      }, lD.prototype.addUploadProgressListener = function(t3) {
        null != this.xhr_.upload && this.xhr_.upload.addEventListener("progress", t3);
      }, lD.prototype.removeUploadProgressListener = function(t3) {
        null != this.xhr_.upload && this.xhr_.upload.removeEventListener("progress", t3);
      }, lD);
      function lD() {
        var e3 = this;
        this.sent_ = false, this.xhr_ = new XMLHttpRequest(), this.errorCode_ = sD.NO_ERROR, this.sendPromise_ = new Promise(function(t3) {
          e3.xhr_.addEventListener("abort", function() {
            e3.errorCode_ = sD.ABORT, t3();
          }), e3.xhr_.addEventListener("error", function() {
            e3.errorCode_ = sD.NETWORK_ERROR, t3();
          }), e3.xhr_.addEventListener("load", function() {
            t3();
          });
        });
      }
      var fD = (pD.prototype.createConnection = function() {
        return new hD();
      }, pD);
      function pD() {
      }
      var dD = (Object.defineProperty(gD.prototype, "path", { get: function() {
        return this.path_;
      }, enumerable: false, configurable: true }), Object.defineProperty(gD.prototype, "isRoot", { get: function() {
        return 0 === this.path.length;
      }, enumerable: false, configurable: true }), gD.prototype.fullServerUrl = function() {
        var t3 = encodeURIComponent;
        return "/b/" + t3(this.bucket) + "/o/" + t3(this.path);
      }, gD.prototype.bucketOnlyServerUrl = function() {
        return "/b/" + encodeURIComponent(this.bucket) + "/o";
      }, gD.makeFromBucketSpec = function(e3, t3) {
        var n3;
        try {
          n3 = gD.makeFromUrl(e3, t3);
        } catch (t4) {
          return new gD(e3, "");
        }
        if ("" === n3.path)
          return n3;
        throw new KO("invalid-default-bucket", "Invalid default bucket '" + e3 + "'.");
      }, gD.makeFromUrl = function(t3, e3) {
        var n3 = null, r3 = "([A-Za-z0-9.\\-_]+)";
        var i3 = new RegExp("^gs://" + r3 + "(/(.*))?$", "i");
        function o3(t4) {
          t4.path_ = decodeURIComponent(t4.path);
        }
        for (var s3 = e3.replace(/[.]/g, "\\."), a3 = [{ regex: i3, indices: { bucket: 1, path: 3 }, postModify: function(t4) {
          "/" === t4.path.charAt(t4.path.length - 1) && (t4.path_ = t4.path_.slice(0, -1));
        } }, { regex: new RegExp("^https?://" + s3 + "/v[A-Za-z0-9_]+/b/" + r3 + "/o(/([^?#]*).*)?$", "i"), indices: { bucket: 1, path: 3 }, postModify: o3 }, { regex: new RegExp("^https?://" + (e3 === VO ? "(?:storage.googleapis.com|storage.cloud.google.com)" : e3) + "/" + r3 + "/([^?#]*)", "i"), indices: { bucket: 1, path: 2 }, postModify: o3 }], u3 = 0; u3 < a3.length; u3++) {
          var c3 = a3[u3], h3 = c3.regex.exec(t3);
          if (h3) {
            n3 = new gD(h3[c3.indices.bucket], h3[c3.indices.path] || "");
            c3.postModify(n3);
            break;
          }
        }
        if (null == n3)
          throw new KO("invalid-url", "Invalid URL '" + t3 + "'.");
        return n3;
      }, gD);
      function gD(t3, e3) {
        this.bucket = t3, this.path_ = e3;
      }
      var vD = (yD.prototype.getPromise = function() {
        return this.promise_;
      }, yD.prototype.cancel = function(t3) {
      }, yD);
      function yD(t3) {
        this.promise_ = Promise.reject(t3);
      }
      function mD(t3) {
        return "string" == typeof t3 || t3 instanceof String;
      }
      function bD(t3) {
        return _D() && t3 instanceof Blob;
      }
      function _D() {
        return "undefined" != typeof Blob;
      }
      function wD(t3, e3, n3, r3) {
        if (r3 < e3)
          throw YO("Invalid value for '" + t3 + "'. Expected " + e3 + " or greater.");
        if (n3 < r3)
          throw YO("Invalid value for '" + t3 + "'. Expected " + n3 + " or less.");
      }
      function TD(t3, e3) {
        var n3 = e3.match(/^(\w+):\/\/.+/);
        return (null == (null == n3 ? void 0 : n3[1]) ? "https://" + e3 : e3) + "/v0" + t3;
      }
      function ID(t3) {
        var e3, n3 = encodeURIComponent, r3 = "?";
        for (e3 in t3)
          t3.hasOwnProperty(e3) && (r3 = r3 + (n3(e3) + "=" + n3(t3[e3])) + "&");
        return r3 = r3.slice(0, -1);
      }
      var ED = (SD.prototype.start_ = function() {
        var e3, n3, t3, r3, i3, o3, s3, a3, u3, c3 = this;
        function h3(t4, e4) {
          var n4, r4 = c3.resolve_, i4 = c3.reject_, o4 = e4.connection;
          if (e4.wasSuccessCode)
            try {
              var s4 = c3.callback_(o4, o4.getResponseText());
              void 0 !== s4 ? r4(s4) : r4();
            } catch (t5) {
              i4(t5);
            }
          else
            null !== o4 ? ((n4 = zO()).serverResponse = o4.getResponseText(), c3.errorCallback_ ? i4(c3.errorCallback_(o4, n4)) : i4(n4)) : e4.canceled ? i4(n4 = (c3.appDelete_ ? XO : GO)()) : i4(n4 = new KO("retry-limit-exceeded", "Max retry time for operation exceeded, please try again."));
        }
        function l3() {
          return 2 === s3;
        }
        function f3() {
          for (var t4 = [], e4 = 0; e4 < arguments.length; e4++)
            t4[e4] = arguments[e4];
          a3 || (a3 = true, n3.apply(null, t4));
        }
        function p3(t4) {
          i3 = setTimeout(function() {
            i3 = null, e3(d3, l3());
          }, t4);
        }
        function d3(t4) {
          for (var e4 = [], n4 = 1; n4 < arguments.length; n4++)
            e4[n4 - 1] = arguments[n4];
          a3 || (t4 || l3() || o3 ? f3.call.apply(f3, Zi([null, t4], e4)) : (r3 < 64 && (r3 *= 2), p3(1 === s3 ? (s3 = 2, 0) : 1e3 * (r3 + Math.random()))));
        }
        function g3(t4) {
          u3 || (u3 = true, a3 || (null !== i3 ? (t4 || (s3 = 2), clearTimeout(i3), p3(0)) : t4 || (s3 = 1)));
        }
        this.canceled_ ? h3(0, new kD(false, null, true)) : this.backoffId_ = (e3 = function(r4, t4) {
          var i4;
          function o4(t5) {
            var e4 = t5.loaded, t5 = t5.lengthComputable ? t5.total : -1;
            null !== c3.progressCallback_ && c3.progressCallback_(e4, t5);
          }
          t4 ? r4(false, new kD(false, null, true)) : (i4 = c3.pool_.createConnection(), c3.pendingConnection_ = i4, null !== c3.progressCallback_ && i4.addUploadProgressListener(o4), i4.send(c3.url_, c3.method_, c3.body_, c3.headers_).then(function() {
            null !== c3.progressCallback_ && i4.removeUploadProgressListener(o4), c3.pendingConnection_ = null;
            var t5, e4 = i4.getErrorCode() === sD.NO_ERROR, n4 = i4.getStatus();
            e4 && !c3.isRetryStatusCode_(n4) ? (t5 = -1 !== c3.successCodes_.indexOf(n4), r4(true, new kD(t5, i4))) : (t5 = i4.getErrorCode() === sD.ABORT, r4(false, new kD(false, null, t5)));
          }));
        }, n3 = h3, t3 = this.timeout_, i3 = null, u3 = a3 = o3 = !(r3 = 1), p3(s3 = 0), setTimeout(function() {
          o3 = true, g3(true);
        }, t3), g3);
      }, SD.prototype.getPromise = function() {
        return this.promise_;
      }, SD.prototype.cancel = function(t3) {
        this.canceled_ = true, this.appDelete_ = t3 || false, null !== this.backoffId_ && (0, this.backoffId_)(false), null !== this.pendingConnection_ && this.pendingConnection_.abort();
      }, SD.prototype.isRetryStatusCode_ = function(t3) {
        var e3 = 500 <= t3 && t3 < 600, n3 = -1 !== [408, 429].indexOf(t3), t3 = -1 !== this.additionalRetryCodes_.indexOf(t3);
        return e3 || n3 || t3;
      }, SD);
      function SD(t3, e3, n3, r3, i3, o3, s3, a3, u3, c3, h3) {
        var l3 = this;
        this.pendingConnection_ = null, this.backoffId_ = null, this.canceled_ = false, this.appDelete_ = false, this.url_ = t3, this.method_ = e3, this.headers_ = n3, this.body_ = r3, this.successCodes_ = i3.slice(), this.additionalRetryCodes_ = o3.slice(), this.callback_ = s3, this.errorCallback_ = a3, this.progressCallback_ = c3, this.timeout_ = u3, this.pool_ = h3, this.promise_ = new Promise(function(t4, e4) {
          l3.resolve_ = t4, l3.reject_ = e4, l3.start_();
        });
      }
      var kD = function(t3, e3, n3) {
        this.wasSuccessCode = t3, this.connection = e3, this.canceled = !!n3;
      };
      function CD() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        var n3 = "undefined" != typeof BlobBuilder ? BlobBuilder : "undefined" != typeof WebKitBlobBuilder ? WebKitBlobBuilder : void 0;
        if (void 0 !== n3) {
          for (var r3 = new n3(), i3 = 0; i3 < t3.length; i3++)
            r3.append(t3[i3]);
          return r3.getBlob();
        }
        if (_D())
          return new Blob(t3);
        throw new KO("unsupported-environment", "This browser doesn't seem to support creating Blobs");
      }
      var AD = (ND.prototype.size = function() {
        return this.size_;
      }, ND.prototype.type = function() {
        return this.type_;
      }, ND.prototype.slice = function(t3, e3) {
        if (bD(this.data_)) {
          var n3 = this.data_, r3 = (i3 = t3, r3 = e3, (n3 = n3).webkitSlice ? n3.webkitSlice(i3, r3) : n3.mozSlice ? n3.mozSlice(i3, r3) : n3.slice ? n3.slice(i3, r3) : null);
          return null === r3 ? null : new ND(r3);
        }
        var i3, r3;
        return new ND(new Uint8Array(this.data_.buffer, t3, e3 - t3), true);
      }, ND.getBlob = function() {
        for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
          t3[e3] = arguments[e3];
        if (_D()) {
          var n3 = t3.map(function(t4) {
            return t4 instanceof ND ? t4.data_ : t4;
          });
          return new ND(CD.apply(null, n3));
        }
        var n3 = t3.map(function(t4) {
          return mD(t4) ? nD(tD.RAW, t4).data : t4.data_;
        }), r3 = 0;
        n3.forEach(function(t4) {
          r3 += t4.byteLength;
        });
        var i3 = new Uint8Array(r3), o3 = 0;
        return n3.forEach(function(t4) {
          for (var e4 = 0; e4 < t4.length; e4++)
            i3[o3++] = t4[e4];
        }), new ND(i3, true);
      }, ND.prototype.uploadData = function() {
        return this.data_;
      }, ND);
      function ND(t3, e3) {
        var n3 = 0, r3 = "";
        bD(t3) ? (n3 = (this.data_ = t3).size, r3 = t3.type) : t3 instanceof ArrayBuffer ? (e3 ? this.data_ = new Uint8Array(t3) : (this.data_ = new Uint8Array(t3.byteLength), this.data_.set(new Uint8Array(t3))), n3 = this.data_.length) : t3 instanceof Uint8Array && (e3 ? this.data_ = t3 : (this.data_ = new Uint8Array(t3.length), this.data_.set(t3)), n3 = t3.length), this.size_ = n3, this.type_ = r3;
      }
      function RD(t3) {
        var e3;
        try {
          e3 = JSON.parse(t3);
        } catch (t4) {
          return null;
        }
        return "object" != typeof (t3 = e3) || Array.isArray(t3) ? null : e3;
      }
      function PD(t3) {
        var e3 = t3.lastIndexOf("/", t3.length - 2);
        return -1 === e3 ? t3 : t3.slice(e3 + 1);
      }
      function OD(t3, e3) {
        return e3;
      }
      var DD = function(t3, e3, n3, r3) {
        this.server = t3, this.local = e3 || t3, this.writable = !!n3, this.xform = r3 || OD;
      }, xD = null;
      function LD() {
        if (xD)
          return xD;
        var t3 = [];
        t3.push(new DD("bucket")), t3.push(new DD("generation")), t3.push(new DD("metageneration")), t3.push(new DD("name", "fullPath", true));
        var e3 = new DD("name");
        e3.xform = function(t4, e4) {
          return !mD(e4 = e4) || e4.length < 2 ? e4 : PD(e4);
        }, t3.push(e3);
        e3 = new DD("size");
        return e3.xform = function(t4, e4) {
          return void 0 !== e4 ? Number(e4) : e4;
        }, t3.push(e3), t3.push(new DD("timeCreated")), t3.push(new DD("updated")), t3.push(new DD("md5Hash", null, true)), t3.push(new DD("cacheControl", null, true)), t3.push(new DD("contentDisposition", null, true)), t3.push(new DD("contentEncoding", null, true)), t3.push(new DD("contentLanguage", null, true)), t3.push(new DD("contentType", null, true)), t3.push(new DD("metadata", "customMetadata", true)), xD = t3;
      }
      function MD(n3, r3) {
        Object.defineProperty(n3, "ref", { get: function() {
          var t3 = n3.bucket, e3 = n3.fullPath, e3 = new dD(t3, e3);
          return r3._makeStorageReference(e3);
        } });
      }
      function FD(t3, e3, n3) {
        e3 = RD(e3);
        return null === e3 ? null : function(t4, e4, n4) {
          for (var r3 = { type: "file" }, i3 = n4.length, o3 = 0; o3 < i3; o3++) {
            var s3 = n4[o3];
            r3[s3.local] = s3.xform(r3, e4[s3.server]);
          }
          return MD(r3, t4), r3;
        }(t3, e3, n3);
      }
      function jD(t3, e3) {
        for (var n3 = {}, r3 = e3.length, i3 = 0; i3 < r3; i3++) {
          var o3 = e3[i3];
          o3.writable && (n3[o3.server] = t3[o3.local]);
        }
        return JSON.stringify(n3);
      }
      var UD = "prefixes", qD = "items";
      function VD(t3, e3, n3) {
        n3 = RD(n3);
        return null === n3 ? null : function(t4, e4, n4) {
          var r3 = { prefixes: [], items: [], nextPageToken: n4.nextPageToken };
          if (n4[UD])
            for (var i3 = 0, o3 = n4[UD]; i3 < o3.length; i3++) {
              var s3 = o3[i3].replace(/\/$/, ""), a3 = t4._makeStorageReference(new dD(e4, s3));
              r3.prefixes.push(a3);
            }
          if (n4[qD])
            for (var u3 = 0, c3 = n4[qD]; u3 < c3.length; u3++) {
              var h3 = c3[u3], a3 = t4._makeStorageReference(new dD(e4, h3.name));
              r3.items.push(a3);
            }
          return r3;
        }(t3, e3, n3);
      }
      var BD = function(t3, e3, n3, r3) {
        this.url = t3, this.method = e3, this.handler = n3, this.timeout = r3, this.urlParams = {}, this.headers = {}, this.body = null, this.errorHandler = null, this.progressCallback = null, this.successCodes = [200], this.additionalRetryCodes = [];
      };
      function KD(t3) {
        if (!t3)
          throw zO();
      }
      function WD(n3, r3) {
        return function(t3, e3) {
          return KD(null !== (e3 = FD(n3, e3, r3))), e3;
        };
      }
      function HD(n3, r3) {
        return function(t3, e3) {
          return KD(null !== (e3 = VD(n3, r3, e3))), e3;
        };
      }
      function zD(r3, i3) {
        return function(t3, e3) {
          var n3 = FD(r3, e3, i3);
          return KD(null !== n3), function(r4, t4, i4) {
            if (null === (t4 = RD(t4)))
              return null;
            if (!mD(t4.downloadTokens))
              return null;
            if (0 === (t4 = t4.downloadTokens).length)
              return null;
            var o3 = encodeURIComponent;
            return t4.split(",").map(function(t5) {
              var e4 = r4.bucket, n4 = r4.fullPath;
              return TD("/b/" + o3(e4) + "/o/" + o3(n4), i4) + ID({ alt: "media", token: t5 });
            })[0];
          }(n3, e3, r3.host);
        };
      }
      function GD(i3) {
        return function(t3, e3) {
          var n3, r3 = 401 === t3.getStatus() ? t3.getResponseText().includes("Firebase App Check token is invalid") ? new KO("unauthorized-app", "This app does not have permission to access Firebase Storage on this project.") : new KO("unauthenticated", "User is not authenticated, please authenticate using Firebase Authentication and try again.") : 402 === t3.getStatus() ? (n3 = i3.bucket, new KO("quota-exceeded", "Quota for bucket '" + n3 + "' exceeded, please view quota on https://firebase.google.com/pricing/.")) : 403 === t3.getStatus() ? (r3 = i3.path, new KO("unauthorized", "User does not have permission to access '" + r3 + "'.")) : e3;
          return r3.serverResponse = e3.serverResponse, r3;
        };
      }
      function QD(r3) {
        var i3 = GD(r3);
        return function(t3, e3) {
          var n3 = i3(t3, e3);
          return 404 === t3.getStatus() && (t3 = r3.path, n3 = new KO("object-not-found", "Object '" + t3 + "' does not exist.")), n3.serverResponse = e3.serverResponse, n3;
        };
      }
      function YD(t3, e3, n3) {
        var r3 = TD(e3.fullServerUrl(), t3.host), i3 = t3.maxOperationRetryTime, i3 = new BD(r3, "GET", WD(t3, n3), i3);
        return i3.errorHandler = QD(e3), i3;
      }
      function XD(t3, e3, n3) {
        n3 = Object.assign({}, n3);
        return n3.fullPath = t3.path, n3.size = e3.size(), n3.contentType || (n3.contentType = (t3 = e3, (e3 = null) && e3.contentType || t3 && t3.type() || "application/octet-stream")), n3;
      }
      function $D(t3, e3, n3, r3, i3) {
        var o3 = e3.bucketOnlyServerUrl(), s3 = { "X-Goog-Upload-Protocol": "multipart" };
        var a3 = function() {
          for (var t4 = "", e4 = 0; e4 < 2; e4++)
            t4 += Math.random().toString().slice(2);
          return t4;
        }();
        s3["Content-Type"] = "multipart/related; boundary=" + a3;
        var u3 = XD(e3, r3, i3), i3 = "--" + a3 + "\r\nContent-Type: application/json; charset=utf-8\r\n\r\n" + jD(u3, n3) + "\r\n--" + a3 + "\r\nContent-Type: " + u3.contentType + "\r\n\r\n", r3 = AD.getBlob(i3, r3, "\r\n--" + a3 + "--");
        if (null === r3)
          throw QO();
        a3 = { name: u3.fullPath }, u3 = TD(o3, t3.host), o3 = t3.maxUploadRetryTime, o3 = new BD(u3, "POST", WD(t3, n3), o3);
        return o3.urlParams = a3, o3.headers = s3, o3.body = r3.uploadData(), o3.errorHandler = GD(e3), o3;
      }
      var JD = function(t3, e3, n3, r3) {
        this.current = t3, this.total = e3, this.finalized = !!n3, this.metadata = r3 || null;
      };
      function ZD(t3, e3) {
        var n3 = null;
        try {
          n3 = t3.getResponseHeader("X-Goog-Upload-Status");
        } catch (t4) {
          KD(false);
        }
        return KD(!!n3 && -1 !== (e3 || ["active"]).indexOf(n3)), n3;
      }
      function tx(t3, e3, n3, r3, i3) {
        var o3 = e3.bucketOnlyServerUrl(), s3 = XD(e3, r3, i3), i3 = { name: s3.fullPath }, o3 = TD(o3, t3.host), r3 = { "X-Goog-Upload-Protocol": "resumable", "X-Goog-Upload-Command": "start", "X-Goog-Upload-Header-Content-Length": "" + r3.size(), "X-Goog-Upload-Header-Content-Type": s3.contentType, "Content-Type": "application/json; charset=utf-8" }, n3 = jD(s3, n3), t3 = t3.maxUploadRetryTime;
        t3 = new BD(o3, "POST", function(t4) {
          var e4;
          ZD(t4);
          try {
            e4 = t4.getResponseHeader("X-Goog-Upload-URL");
          } catch (t5) {
            KD(false);
          }
          return KD(mD(e4)), e4;
        }, t3);
        return t3.urlParams = i3, t3.headers = r3, t3.body = n3, t3.errorHandler = GD(e3), t3;
      }
      function ex(t3, e3, n3, r3) {
        t3 = t3.maxUploadRetryTime, t3 = new BD(n3, "POST", function(t4) {
          var e4 = ZD(t4, ["active", "final"]), n4 = null;
          try {
            n4 = t4.getResponseHeader("X-Goog-Upload-Size-Received");
          } catch (t5) {
            KD(false);
          }
          return n4 || KD(false), n4 = Number(n4), KD(!isNaN(n4)), new JD(n4, r3.size(), "final" === e4);
        }, t3);
        return t3.headers = { "X-Goog-Upload-Command": "query" }, t3.errorHandler = GD(e3), t3;
      }
      function nx(t3, o3, e3, s3, n3, a3, r3, i3) {
        var u3 = new JD(0, 0);
        if (r3 ? (u3.current = r3.current, u3.total = r3.total) : (u3.current = 0, u3.total = s3.size()), s3.size() !== u3.total)
          throw new KO("server-file-wrong-size", "Server recorded incorrect upload file size, please retry the upload.");
        var c3 = u3.total - u3.current, h3 = c3;
        0 < n3 && (h3 = Math.min(h3, n3));
        r3 = u3.current, n3 = { "X-Goog-Upload-Command": h3 === c3 ? "upload, finalize" : "upload", "X-Goog-Upload-Offset": "" + u3.current }, c3 = s3.slice(r3, r3 + h3);
        if (null === c3)
          throw QO();
        r3 = o3.maxUploadRetryTime, r3 = new BD(e3, "POST", function(t4, e4) {
          var n4 = ZD(t4, ["active", "final"]), r4 = u3.current + h3, i4 = s3.size(), e4 = "final" === n4 ? WD(o3, a3)(t4, e4) : null;
          return new JD(r4, i4, "final" === n4, e4);
        }, r3);
        return r3.headers = n3, r3.body = c3.uploadData(), r3.progressCallback = i3 || null, r3.errorHandler = GD(t3), r3;
      }
      var rx = function(t3, e3, n3) {
        "function" == typeof t3 || null != e3 || null != n3 ? (this.next = t3, this.error = e3, this.complete = n3) : (this.next = (t3 = t3).next, this.error = t3.error, this.complete = t3.complete);
      };
      function ix(n3) {
        return function() {
          for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
            t3[e3] = arguments[e3];
          Promise.resolve().then(function() {
            return n3.apply(void 0, t3);
          });
        };
      }
      var ox = (sx.prototype._makeProgressCallback = function() {
        var e3 = this, n3 = this._transferred;
        return function(t3) {
          return e3._updateProgress(n3 + t3);
        };
      }, sx.prototype._shouldDoResumable = function(t3) {
        return 262144 < t3.size();
      }, sx.prototype._start = function() {
        "running" === this._state && void 0 === this._request && (this._resumable ? void 0 === this._uploadUrl ? this._createResumable() : this._needToFetchStatus ? this._fetchStatus() : this._needToFetchMetadata ? this._fetchMetadata() : this._continueUpload() : this._oneShotUpload());
      }, sx.prototype._resolveToken = function(r3) {
        var i3 = this;
        Promise.all([this._ref.storage._getAuthToken(), this._ref.storage._getAppCheckToken()]).then(function(t3) {
          var e3 = t3[0], n3 = t3[1];
          switch (i3._state) {
            case "running":
              r3(e3, n3);
              break;
            case "canceling":
              i3._transition("canceled");
              break;
            case "pausing":
              i3._transition("paused");
          }
        });
      }, sx.prototype._createResumable = function() {
        var r3 = this;
        this._resolveToken(function(t3, e3) {
          var n3 = tx(r3._ref.storage, r3._ref._location, r3._mappings, r3._blob, r3._metadata), e3 = r3._ref.storage._makeRequest(n3, t3, e3);
          (r3._request = e3).getPromise().then(function(t4) {
            r3._request = void 0, r3._uploadUrl = t4, r3._needToFetchStatus = false, r3.completeTransitions_();
          }, r3._errorHandler);
        });
      }, sx.prototype._fetchStatus = function() {
        var r3 = this, i3 = this._uploadUrl;
        this._resolveToken(function(t3, e3) {
          var n3 = ex(r3._ref.storage, r3._ref._location, i3, r3._blob), e3 = r3._ref.storage._makeRequest(n3, t3, e3);
          (r3._request = e3).getPromise().then(function(t4) {
            r3._request = void 0, r3._updateProgress(t4.current), r3._needToFetchStatus = false, t4.finalized && (r3._needToFetchMetadata = true), r3.completeTransitions_();
          }, r3._errorHandler);
        });
      }, sx.prototype._continueUpload = function() {
        var r3 = this, i3 = 262144 * this._chunkMultiplier, o3 = new JD(this._transferred, this._blob.size()), s3 = this._uploadUrl;
        this._resolveToken(function(t3, e3) {
          var n3;
          try {
            n3 = nx(r3._ref._location, r3._ref.storage, s3, r3._blob, i3, r3._mappings, o3, r3._makeProgressCallback());
          } catch (t4) {
            return r3._error = t4, void r3._transition("error");
          }
          e3 = r3._ref.storage._makeRequest(n3, t3, e3);
          (r3._request = e3).getPromise().then(function(t4) {
            r3._increaseMultiplier(), r3._request = void 0, r3._updateProgress(t4.current), t4.finalized ? (r3._metadata = t4.metadata, r3._transition("success")) : r3.completeTransitions_();
          }, r3._errorHandler);
        });
      }, sx.prototype._increaseMultiplier = function() {
        262144 * this._chunkMultiplier < 33554432 && (this._chunkMultiplier *= 2);
      }, sx.prototype._fetchMetadata = function() {
        var r3 = this;
        this._resolveToken(function(t3, e3) {
          var n3 = YD(r3._ref.storage, r3._ref._location, r3._mappings), e3 = r3._ref.storage._makeRequest(n3, t3, e3);
          (r3._request = e3).getPromise().then(function(t4) {
            r3._request = void 0, r3._metadata = t4, r3._transition("success");
          }, r3._metadataErrorHandler);
        });
      }, sx.prototype._oneShotUpload = function() {
        var r3 = this;
        this._resolveToken(function(t3, e3) {
          var n3 = $D(r3._ref.storage, r3._ref._location, r3._mappings, r3._blob, r3._metadata), e3 = r3._ref.storage._makeRequest(n3, t3, e3);
          (r3._request = e3).getPromise().then(function(t4) {
            r3._request = void 0, r3._metadata = t4, r3._updateProgress(r3._blob.size()), r3._transition("success");
          }, r3._errorHandler);
        });
      }, sx.prototype._updateProgress = function(t3) {
        var e3 = this._transferred;
        this._transferred = t3, this._transferred !== e3 && this._notifyObservers();
      }, sx.prototype._transition = function(t3) {
        if (this._state !== t3)
          switch (t3) {
            case "canceling":
            case "pausing":
              this._state = t3, void 0 !== this._request && this._request.cancel();
              break;
            case "running":
              var e3 = "paused" === this._state;
              this._state = t3, e3 && (this._notifyObservers(), this._start());
              break;
            case "paused":
              this._state = t3, this._notifyObservers();
              break;
            case "canceled":
              this._error = GO(), this._state = t3, this._notifyObservers();
              break;
            case "error":
            case "success":
              this._state = t3, this._notifyObservers();
          }
      }, sx.prototype.completeTransitions_ = function() {
        switch (this._state) {
          case "pausing":
            this._transition("paused");
            break;
          case "canceling":
            this._transition("canceled");
            break;
          case "running":
            this._start();
        }
      }, Object.defineProperty(sx.prototype, "snapshot", { get: function() {
        var t3 = cD(this._state);
        return { bytesTransferred: this._transferred, totalBytes: this._blob.size(), state: t3, metadata: this._metadata, task: this, ref: this._ref };
      }, enumerable: false, configurable: true }), sx.prototype.on = function(t3, e3, n3, r3) {
        var i3 = this, o3 = new rx(e3, n3, r3);
        return this._addObserver(o3), function() {
          i3._removeObserver(o3);
        };
      }, sx.prototype.then = function(t3, e3) {
        return this._promise.then(t3, e3);
      }, sx.prototype.catch = function(t3) {
        return this.then(null, t3);
      }, sx.prototype._addObserver = function(t3) {
        this._observers.push(t3), this._notifyObserver(t3);
      }, sx.prototype._removeObserver = function(t3) {
        t3 = this._observers.indexOf(t3);
        -1 !== t3 && this._observers.splice(t3, 1);
      }, sx.prototype._notifyObservers = function() {
        var e3 = this;
        this._finishPromise(), this._observers.slice().forEach(function(t3) {
          e3._notifyObserver(t3);
        });
      }, sx.prototype._finishPromise = function() {
        if (void 0 !== this._resolve) {
          var t3 = true;
          switch (cD(this._state)) {
            case uD.SUCCESS:
              ix(this._resolve.bind(null, this.snapshot))();
              break;
            case uD.CANCELED:
            case uD.ERROR:
              ix(this._reject.bind(null, this._error))();
              break;
            default:
              t3 = false;
          }
          t3 && (this._resolve = void 0, this._reject = void 0);
        }
      }, sx.prototype._notifyObserver = function(t3) {
        switch (cD(this._state)) {
          case uD.RUNNING:
          case uD.PAUSED:
            t3.next && ix(t3.next.bind(t3, this.snapshot))();
            break;
          case uD.SUCCESS:
            t3.complete && ix(t3.complete.bind(t3))();
            break;
          case uD.CANCELED:
          case uD.ERROR:
            t3.error && ix(t3.error.bind(t3, this._error))();
            break;
          default:
            t3.error && ix(t3.error.bind(t3, this._error))();
        }
      }, sx.prototype.resume = function() {
        var t3 = "paused" === this._state || "pausing" === this._state;
        return t3 && this._transition("running"), t3;
      }, sx.prototype.pause = function() {
        var t3 = "running" === this._state;
        return t3 && this._transition("pausing"), t3;
      }, sx.prototype.cancel = function() {
        var t3 = "running" === this._state || "pausing" === this._state;
        return t3 && this._transition("canceling"), t3;
      }, sx);
      function sx(t3, e3, n3) {
        var r3 = this;
        void 0 === n3 && (n3 = null), this._transferred = 0, this._needToFetchStatus = false, this._needToFetchMetadata = false, this._observers = [], this._error = void 0, this._uploadUrl = void 0, this._request = void 0, this._chunkMultiplier = 1, this._resolve = void 0, this._reject = void 0, this._ref = t3, this._blob = e3, this._metadata = n3, this._mappings = LD(), this._resumable = this._shouldDoResumable(this._blob), this._state = "running", this._errorHandler = function(t4) {
          r3._request = void 0, r3._chunkMultiplier = 1, t4._codeEquals("canceled") ? (r3._needToFetchStatus = true, r3.completeTransitions_()) : (r3._error = t4, r3._transition("error"));
        }, this._metadataErrorHandler = function(t4) {
          r3._request = void 0, t4._codeEquals("canceled") ? r3.completeTransitions_() : (r3._error = t4, r3._transition("error"));
        }, this._promise = new Promise(function(t4, e4) {
          r3._resolve = t4, r3._reject = e4, r3._start();
        }), this._promise.then(null, function() {
        });
      }
      var ax = (ux.prototype.toString = function() {
        return "gs://" + this._location.bucket + "/" + this._location.path;
      }, ux.prototype._newRef = function(t3, e3) {
        return new ux(t3, e3);
      }, Object.defineProperty(ux.prototype, "root", { get: function() {
        var t3 = new dD(this._location.bucket, "");
        return this._newRef(this._service, t3);
      }, enumerable: false, configurable: true }), Object.defineProperty(ux.prototype, "bucket", { get: function() {
        return this._location.bucket;
      }, enumerable: false, configurable: true }), Object.defineProperty(ux.prototype, "fullPath", { get: function() {
        return this._location.path;
      }, enumerable: false, configurable: true }), Object.defineProperty(ux.prototype, "name", { get: function() {
        return PD(this._location.path);
      }, enumerable: false, configurable: true }), Object.defineProperty(ux.prototype, "storage", { get: function() {
        return this._service;
      }, enumerable: false, configurable: true }), Object.defineProperty(ux.prototype, "parent", { get: function() {
        var t3 = function(t4) {
          if (0 === t4.length)
            return null;
          var e3 = t4.lastIndexOf("/");
          return -1 === e3 ? "" : t4.slice(0, e3);
        }(this._location.path);
        if (null === t3)
          return null;
        t3 = new dD(this._location.bucket, t3);
        return new ux(this._service, t3);
      }, enumerable: false, configurable: true }), ux.prototype._throwIfRoot = function(t3) {
        if ("" === this._location.path)
          throw $O(t3);
      }, ux);
      function ux(t3, e3) {
        this._service = t3, this._location = e3 instanceof dD ? e3 : dD.makeFromUrl(e3, t3.host);
      }
      function cx(t3) {
        var e3 = { prefixes: [], items: [] };
        return function r3(i3, o3, s3) {
          return Yi(this, void 0, void 0, function() {
            var e4, n3;
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return [4, hx(i3, { pageToken: s3 })];
                case 1:
                  return e4 = t4.sent(), (n3 = o3.prefixes).push.apply(n3, e4.prefixes), (n3 = o3.items).push.apply(n3, e4.items), null == e4.nextPageToken ? [3, 3] : [4, r3(i3, o3, e4.nextPageToken)];
                case 2:
                  t4.sent(), t4.label = 3;
                case 3:
                  return [2];
              }
            });
          });
        }(t3, e3).then(function() {
          return e3;
        });
      }
      function hx(u3, c3) {
        return Yi(this, void 0, void 0, function() {
          var a3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return null != c3 && "number" == typeof c3.maxResults && wD("options.maxResults", 1, 1e3, c3.maxResults), a3 = c3 || {}, e3 = u3.storage, n3 = u3._location, r3 = "/", i3 = a3.pageToken, o3 = a3.maxResults, s3 = {}, n3.isRoot ? s3.prefix = "" : s3.prefix = n3.path + "/", r3 && 0 < r3.length && (s3.delimiter = r3), i3 && (s3.pageToken = i3), o3 && (s3.maxResults = o3), i3 = TD(n3.bucketOnlyServerUrl(), e3.host), o3 = e3.maxOperationRetryTime, (o3 = new BD(i3, "GET", HD(e3, n3.bucket), o3)).urlParams = s3, o3.errorHandler = GD(n3), [4, u3.storage.makeRequestWithTokens(o3)];
              case 1:
                return [2, t3.sent().getPromise()];
            }
            var e3, n3, r3, i3, o3, s3;
          });
        });
      }
      function lx(a3, u3) {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return a3._throwIfRoot("updateMetadata"), e3 = a3.storage, n3 = a3._location, r3 = u3, i3 = LD(), o3 = TD(n3.fullServerUrl(), e3.host), s3 = jD(r3, i3), r3 = e3.maxOperationRetryTime, (r3 = new BD(o3, "PATCH", WD(e3, i3), r3)).headers = { "Content-Type": "application/json; charset=utf-8" }, r3.body = s3, r3.errorHandler = QD(n3), [4, a3.storage.makeRequestWithTokens(r3)];
              case 1:
                return [2, t3.sent().getPromise()];
            }
            var e3, n3, r3, i3, o3, s3;
          });
        });
      }
      function fx(s3) {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return s3._throwIfRoot("getDownloadURL"), e3 = s3.storage, n3 = s3._location, r3 = LD(), i3 = TD(n3.fullServerUrl(), e3.host), o3 = e3.maxOperationRetryTime, (o3 = new BD(i3, "GET", zD(e3, r3), o3)).errorHandler = QD(n3), [4, s3.storage.makeRequestWithTokens(o3)];
              case 1:
                return [2, t3.sent().getPromise().then(function(t4) {
                  if (null === t4)
                    throw new KO("no-download-url", "The given file does not have any download URLs.");
                  return t4;
                })];
            }
            var e3, n3, r3, i3, o3;
          });
        });
      }
      function px(i3) {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return i3._throwIfRoot("deleteObject"), e3 = i3.storage, n3 = i3._location, r3 = TD(n3.fullServerUrl(), e3.host), e3 = e3.maxOperationRetryTime, (e3 = new BD(r3, "DELETE", function(t4, e4) {
                }, e3)).successCodes = [200, 204], e3.errorHandler = QD(n3), [4, i3.storage.makeRequestWithTokens(e3)];
              case 1:
                return [2, t3.sent().getPromise()];
            }
            var e3, n3, r3;
          });
        });
      }
      function dx(t3, e3) {
        var n3, e3 = (n3 = t3._location.path, e3 = (e3 = e3).split("/").filter(function(t4) {
          return 0 < t4.length;
        }).join("/"), 0 === n3.length ? e3 : n3 + "/" + e3), e3 = new dD(t3._location.bucket, e3);
        return new ax(t3.storage, e3);
      }
      function gx(t3) {
        return /^[A-Za-z]+:\/\//.test(t3);
      }
      function vx(t3, e3) {
        if (t3 instanceof bx) {
          var n3 = t3;
          if (null == n3._bucket)
            throw new KO("no-default-bucket", "No default bucket found. Did you set the '" + BO + "' property when initializing the app?");
          n3 = new ax(n3, n3._bucket);
          return null != e3 ? vx(n3, e3) : n3;
        }
        return void 0 !== e3 ? dx(t3, e3) : t3;
      }
      function yx(t3, e3) {
        if (e3 && gx(e3)) {
          if (t3 instanceof bx)
            return new ax(t3, e3);
          throw YO("To use ref(service, url), the first argument must be a Storage instance.");
        }
        return vx(t3, e3);
      }
      function mx(t3, e3) {
        e3 = null == e3 ? void 0 : e3[BO];
        return null == e3 ? null : dD.makeFromBucketSpec(e3, t3);
      }
      var bx = (Object.defineProperty(_x.prototype, "host", { get: function() {
        return this._host;
      }, set: function(t3) {
        this._host = t3, null != this._url ? this._bucket = dD.makeFromBucketSpec(this._url, t3) : this._bucket = mx(t3, this.app.options);
      }, enumerable: false, configurable: true }), Object.defineProperty(_x.prototype, "maxUploadRetryTime", { get: function() {
        return this._maxUploadRetryTime;
      }, set: function(t3) {
        wD("time", 0, Number.POSITIVE_INFINITY, t3), this._maxUploadRetryTime = t3;
      }, enumerable: false, configurable: true }), Object.defineProperty(_x.prototype, "maxOperationRetryTime", { get: function() {
        return this._maxOperationRetryTime;
      }, set: function(t3) {
        wD("time", 0, Number.POSITIVE_INFINITY, t3), this._maxOperationRetryTime = t3;
      }, enumerable: false, configurable: true }), _x.prototype._getAuthToken = function() {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return this._overrideAuthToken ? [2, this._overrideAuthToken] : (e3 = this._authProvider.getImmediate({ optional: true })) ? [4, e3.getToken()] : [3, 2];
              case 1:
                if (null !== (e3 = t3.sent()))
                  return [2, e3.accessToken];
                t3.label = 2;
              case 2:
                return [2, null];
            }
          });
        });
      }, _x.prototype._getAppCheckToken = function() {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return (e3 = this._appCheckProvider.getImmediate({ optional: true })) ? [4, e3.getToken()] : [3, 2];
              case 1:
                return [2, t3.sent().token];
              case 2:
                return [2, null];
            }
          });
        });
      }, _x.prototype._delete = function() {
        return this._deleted || (this._deleted = true, this._requests.forEach(function(t3) {
          return t3.cancel();
        }), this._requests.clear()), Promise.resolve();
      }, _x.prototype._makeStorageReference = function(t3) {
        return new ax(this, t3);
      }, _x.prototype._makeRequest = function(t3, e3, n3) {
        var r3 = this;
        if (this._deleted)
          return new vD(XO());
        var i3, o3, s3, a3, u3, c3, h3 = (i3 = t3, o3 = this._appId, s3 = e3, a3 = n3, u3 = this._pool, c3 = this._firebaseVersion, t3 = ID(i3.urlParams), e3 = i3.url + t3, n3 = Object.assign({}, i3.headers), t3 = n3, (o3 = o3) && (t3["X-Firebase-GMPID"] = o3), o3 = n3, null !== (s3 = s3) && 0 < s3.length && (o3.Authorization = "Firebase " + s3), c3 = c3, n3["X-Firebase-Storage-Version"] = "webjs/" + (null != c3 ? c3 : "AppManager"), c3 = n3, null !== (a3 = a3) && (c3["X-Firebase-AppCheck"] = a3), new ED(e3, i3.method, n3, i3.body, i3.successCodes, i3.additionalRetryCodes, i3.handler, i3.errorHandler, i3.timeout, i3.progressCallback, u3));
        return this._requests.add(h3), h3.getPromise().then(function() {
          return r3._requests.delete(h3);
        }, function() {
          return r3._requests.delete(h3);
        }), h3;
      }, _x.prototype.makeRequestWithTokens = function(r3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, Promise.all([this._getAuthToken(), this._getAppCheckToken()])];
              case 1:
                return n3 = t3.sent(), e3 = n3[0], n3 = n3[1], [2, this._makeRequest(r3, e3, n3)];
            }
          });
        });
      }, _x);
      function _x(t3, e3, n3, r3, i3, o3) {
        this.app = t3, this._authProvider = e3, this._appCheckProvider = n3, this._pool = r3, this._url = i3, this._firebaseVersion = o3, this._bucket = null, this._host = VO, this._appId = null, this._deleted = false, this._maxOperationRetryTime = 12e4, this._maxUploadRetryTime = 6e5, this._requests = /* @__PURE__ */ new Set(), this._bucket = null != i3 ? dD.makeFromBucketSpec(i3, this._host) : mx(this._host, this.app.options);
      }
      function wx(t3, e3, n3) {
        return t3 = ts(t3), e3 = e3, n3 = n3, (t3 = t3)._throwIfRoot("uploadBytesResumable"), new ox(t3, new AD(e3), n3);
      }
      function Tx(t3) {
        return function(n3) {
          return Yi(this, void 0, void 0, function() {
            var e3;
            return Xi(this, function(t4) {
              switch (t4.label) {
                case 0:
                  return n3._throwIfRoot("getMetadata"), e3 = YD(n3.storage, n3._location, LD()), [4, n3.storage.makeRequestWithTokens(e3)];
                case 1:
                  return [2, t4.sent().getPromise()];
              }
            });
          });
        }(t3 = ts(t3));
      }
      function Ix(t3, e3) {
        return yx(t3 = ts(t3), e3);
      }
      function Ex(t3, e3, n3, r3) {
        void 0 === (r3 = r3 = void 0 === r3 ? {} : r3) && (r3 = {}), (t3 = t3).host = "http://" + e3 + ":" + n3, (r3 = r3.mockUserToken) && (t3._overrideAuthToken = "string" == typeof r3 ? r3 : fo(r3, t3.app.options.projectId));
      }
      var Sx = (Object.defineProperty(kx.prototype, "bytesTransferred", { get: function() {
        return this._delegate.bytesTransferred;
      }, enumerable: false, configurable: true }), Object.defineProperty(kx.prototype, "metadata", { get: function() {
        return this._delegate.metadata;
      }, enumerable: false, configurable: true }), Object.defineProperty(kx.prototype, "state", { get: function() {
        return this._delegate.state;
      }, enumerable: false, configurable: true }), Object.defineProperty(kx.prototype, "totalBytes", { get: function() {
        return this._delegate.totalBytes;
      }, enumerable: false, configurable: true }), kx);
      function kx(t3, e3, n3) {
        this._delegate = t3, this.task = e3, this.ref = n3;
      }
      var Cx = (Object.defineProperty(Ax.prototype, "snapshot", { get: function() {
        return new Sx(this._delegate.snapshot, this, this._ref);
      }, enumerable: false, configurable: true }), Ax.prototype.then = function(e3, t3) {
        var n3 = this;
        return this._delegate.then(function(t4) {
          if (e3)
            return e3(new Sx(t4, n3, n3._ref));
        }, t3);
      }, Ax.prototype.on = function(t3, e3, n3, r3) {
        var i3 = this, o3 = void 0;
        return e3 && (o3 = "function" == typeof e3 ? function(t4) {
          return e3(new Sx(t4, i3, i3._ref));
        } : { next: e3.next ? function(t4) {
          return e3.next(new Sx(t4, i3, i3._ref));
        } : void 0, complete: e3.complete || void 0, error: e3.error || void 0 }), this._delegate.on(t3, o3, n3 || void 0, r3 || void 0);
      }, Ax);
      function Ax(t3, e3) {
        this._delegate = t3, this._ref = e3, this.cancel = this._delegate.cancel.bind(this._delegate), this.catch = this._delegate.catch.bind(this._delegate), this.pause = this._delegate.pause.bind(this._delegate), this.resume = this._delegate.resume.bind(this._delegate);
      }
      var Nx = (Object.defineProperty(Rx.prototype, "prefixes", { get: function() {
        var e3 = this;
        return this._delegate.prefixes.map(function(t3) {
          return new Px(t3, e3._service);
        });
      }, enumerable: false, configurable: true }), Object.defineProperty(Rx.prototype, "items", { get: function() {
        var e3 = this;
        return this._delegate.items.map(function(t3) {
          return new Px(t3, e3._service);
        });
      }, enumerable: false, configurable: true }), Object.defineProperty(Rx.prototype, "nextPageToken", { get: function() {
        return this._delegate.nextPageToken || null;
      }, enumerable: false, configurable: true }), Rx);
      function Rx(t3, e3) {
        this._delegate = t3, this._service = e3;
      }
      var Px = (Object.defineProperty(Ox.prototype, "name", { get: function() {
        return this._delegate.name;
      }, enumerable: false, configurable: true }), Object.defineProperty(Ox.prototype, "bucket", { get: function() {
        return this._delegate.bucket;
      }, enumerable: false, configurable: true }), Object.defineProperty(Ox.prototype, "fullPath", { get: function() {
        return this._delegate.fullPath;
      }, enumerable: false, configurable: true }), Ox.prototype.toString = function() {
        return this._delegate.toString();
      }, Ox.prototype.child = function(t3) {
        return new Ox(dx(this._delegate, t3), this.storage);
      }, Object.defineProperty(Ox.prototype, "root", { get: function() {
        return new Ox(this._delegate.root, this.storage);
      }, enumerable: false, configurable: true }), Object.defineProperty(Ox.prototype, "parent", { get: function() {
        var t3 = this._delegate.parent;
        return null == t3 ? null : new Ox(t3, this.storage);
      }, enumerable: false, configurable: true }), Ox.prototype.put = function(t3, e3) {
        return this._throwIfRoot("put"), new Cx(wx(this._delegate, t3, e3), this);
      }, Ox.prototype.putString = function(t3, e3, n3) {
        void 0 === e3 && (e3 = tD.RAW), this._throwIfRoot("putString");
        t3 = nD(e3, t3), n3 = Qi({}, n3);
        return null == n3.contentType && null != t3.contentType && (n3.contentType = t3.contentType), new Cx(new ox(this._delegate, new AD(t3.data, true), n3), this);
      }, Ox.prototype.listAll = function() {
        var e3 = this;
        return cx(ts(this._delegate)).then(function(t3) {
          return new Nx(t3, e3.storage);
        });
      }, Ox.prototype.list = function(t3) {
        var e3, n3 = this;
        return e3 = this._delegate, t3 = t3 || void 0, hx(e3 = ts(e3), t3).then(function(t4) {
          return new Nx(t4, n3.storage);
        });
      }, Ox.prototype.getMetadata = function() {
        return Tx(this._delegate);
      }, Ox.prototype.updateMetadata = function(t3) {
        return lx(ts(this._delegate), t3);
      }, Ox.prototype.getDownloadURL = function() {
        return fx(ts(this._delegate));
      }, Ox.prototype.delete = function() {
        return this._throwIfRoot("delete"), px(ts(this._delegate));
      }, Ox.prototype._throwIfRoot = function(t3) {
        if ("" === this._delegate._location.path)
          throw $O(t3);
      }, Ox);
      function Ox(t3, e3) {
        this._delegate = t3, this.storage = e3;
      }
      var Dx = (Object.defineProperty(xx.prototype, "maxOperationRetryTime", { get: function() {
        return this._delegate.maxOperationRetryTime;
      }, enumerable: false, configurable: true }), Object.defineProperty(xx.prototype, "maxUploadRetryTime", { get: function() {
        return this._delegate.maxUploadRetryTime;
      }, enumerable: false, configurable: true }), xx.prototype.ref = function(t3) {
        if (gx(t3))
          throw YO("ref() expected a child path but got a URL, use refFromURL instead.");
        return new Px(Ix(this._delegate, t3), this);
      }, xx.prototype.refFromURL = function(t3) {
        if (!gx(t3))
          throw YO("refFromURL() expected a full URL but got a child path, use ref() instead.");
        try {
          dD.makeFromUrl(t3, this._delegate.host);
        } catch (t4) {
          throw YO("refFromUrl() expected a valid full URL but got an invalid one.");
        }
        return new Px(Ix(this._delegate, t3), this);
      }, xx.prototype.setMaxUploadRetryTime = function(t3) {
        this._delegate.maxUploadRetryTime = t3;
      }, xx.prototype.setMaxOperationRetryTime = function(t3) {
        this._delegate.maxOperationRetryTime = t3;
      }, xx.prototype.useEmulator = function(t3, e3, n3) {
        Ex(this._delegate, t3, e3, n3 = void 0 === n3 ? {} : n3);
      }, xx);
      function xx(t3, e3) {
        this.app = t3, this._delegate = e3;
      }
      var Lx, Mx;
      function Fx(t3, e3) {
        var n3 = e3.instanceIdentifier, r3 = t3.getProvider("app").getImmediate(), e3 = t3.getProvider("auth-internal"), t3 = t3.getProvider("app-check-internal");
        return new Dx(r3, new bx(r3, e3, t3, new fD(), n3, Jl.SDK_VERSION));
      }
      Mx = { TaskState: uD, TaskEvent: aD, StringFormat: tD, Storage: bx, Reference: Px }, (Lx = Jl).INTERNAL.registerComponent(new es("storage", Fx, "PUBLIC").setServiceProps(Mx).setMultipleInstances(true)), Lx.registerVersion("@firebase/storage", "0.7.1");
      var jx, Ux, qx = "0.4.18", Vx = "FB-PERF-TRACE-MEASURE", Bx = "@firebase/performance/config", Kx = "@firebase/performance/configexpire", Q = "Performance", G = ((G = {})["trace started"] = "Trace {$traceName} was started before.", G["trace stopped"] = "Trace {$traceName} is not running.", G["nonpositive trace startTime"] = "Trace {$traceName} startTime should be positive.", G["nonpositive trace duration"] = "Trace {$traceName} duration should be positive.", G["no window"] = "Window is not available.", G["no app id"] = "App id is not available.", G["no project id"] = "Project id is not available.", G["no api key"] = "Api key is not available.", G["invalid cc log"] = "Attempted to queue invalid cc event", G["FB not default"] = "Performance can only start when Firebase app instance is the default one.", G["RC response not ok"] = "RC response is not ok", G["invalid attribute name"] = "Attribute name {$attributeName} is invalid.", G["invalid attribute value"] = "Attribute value {$attributeValue} is invalid.", G["invalid custom metric name"] = "Custom metric name {$customMetricName} is invalid", G["invalid String merger input"] = "Input for String merger is invalid, contact support team to resolve.", G), Wx = new Co("performance", Q, G), Hx = new ds(Q);
      Hx.logLevel = us.INFO;
      var zx, Gx = (Qx.prototype.getUrl = function() {
        return this.windowLocation.href.split("?")[0];
      }, Qx.prototype.mark = function(t3) {
        this.performance && this.performance.mark && this.performance.mark(t3);
      }, Qx.prototype.measure = function(t3, e3, n3) {
        this.performance && this.performance.measure && this.performance.measure(t3, e3, n3);
      }, Qx.prototype.getEntriesByType = function(t3) {
        return this.performance && this.performance.getEntriesByType ? this.performance.getEntriesByType(t3) : [];
      }, Qx.prototype.getEntriesByName = function(t3) {
        return this.performance && this.performance.getEntriesByName ? this.performance.getEntriesByName(t3) : [];
      }, Qx.prototype.getTimeOrigin = function() {
        return this.performance && (this.performance.timeOrigin || this.performance.timing.navigationStart);
      }, Qx.prototype.requiredApisAvailable = function() {
        return fetch && Promise && this.navigator && this.navigator.cookieEnabled ? !!_o() || (Hx.info("IndexedDB is not supported by current browswer"), false) : (Hx.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."), false);
      }, Qx.prototype.setupObserver = function(t3, i3) {
        this.PerformanceObserver && new this.PerformanceObserver(function(t4) {
          for (var e3 = 0, n3 = t4.getEntries(); e3 < n3.length; e3++) {
            var r3 = n3[e3];
            i3(r3);
          }
        }).observe({ entryTypes: [t3] });
      }, Qx.getInstance = function() {
        return jx = void 0 === jx ? new Qx(Ux) : jx;
      }, Qx);
      function Qx(t3) {
        if (!(this.window = t3))
          throw Wx.create("no window");
        this.performance = t3.performance, this.PerformanceObserver = t3.PerformanceObserver, this.windowLocation = t3.location, this.navigator = t3.navigator, this.document = t3.document, this.navigator && this.navigator.cookieEnabled && (this.localStorage = t3.localStorage), t3.perfMetrics && t3.perfMetrics.onFirstInputDelay && (this.onFirstInputDelay = t3.perfMetrics.onFirstInputDelay);
      }
      function Yx(t3, e3) {
        var n3 = t3.length - e3.length;
        if (n3 < 0 || 1 < n3)
          throw Wx.create("invalid String merger input");
        for (var r3 = [], i3 = 0; i3 < t3.length; i3++)
          r3.push(t3.charAt(i3)), e3.length > i3 && r3.push(e3.charAt(i3));
        return r3.join("");
      }
      var Xx, $x, Jx = (Zx.prototype.getAppId = function() {
        var t3 = this.firebaseAppInstance && this.firebaseAppInstance.options && this.firebaseAppInstance.options.appId;
        if (!t3)
          throw Wx.create("no app id");
        return t3;
      }, Zx.prototype.getProjectId = function() {
        var t3 = this.firebaseAppInstance && this.firebaseAppInstance.options && this.firebaseAppInstance.options.projectId;
        if (!t3)
          throw Wx.create("no project id");
        return t3;
      }, Zx.prototype.getApiKey = function() {
        var t3 = this.firebaseAppInstance && this.firebaseAppInstance.options && this.firebaseAppInstance.options.apiKey;
        if (!t3)
          throw Wx.create("no api key");
        return t3;
      }, Zx.prototype.getFlTransportFullUrl = function() {
        return this.flTransportEndpointUrl.concat("?key=", this.transportKey);
      }, Zx.getInstance = function() {
        return zx = void 0 === zx ? new Zx() : zx;
      }, Zx);
      function Zx() {
        this.instrumentationEnabled = true, this.dataCollectionEnabled = true, this.loggingEnabled = false, this.tracesSamplingRate = 1, this.networkRequestsSamplingRate = 1, this.logEndPointUrl = "https://firebaselogging.googleapis.com/v0cc/log?format=json_proto", this.flTransportEndpointUrl = Yx("hts/frbslgigp.ogepscmv/ieo/eaylg", "tp:/ieaeogn-agolai.o/1frlglgc/o"), this.transportKey = Yx("AzSC8r6ReiGqFMyfvgow", "Iayx0u-XT3vksVM-pIV"), this.logSource = 462, this.logTraceAfterSampling = false, this.logNetworkAfterSampling = false, this.configTimeToLive = 12;
      }
      (Q = $x = $x || {})[Q.UNKNOWN = 0] = "UNKNOWN", Q[Q.VISIBLE = 1] = "VISIBLE", Q[Q.HIDDEN = 2] = "HIDDEN";
      var tL = ["firebase_", "google_", "ga_"], eL = new RegExp("^[a-zA-Z]\\w*$");
      function nL() {
        switch (Gx.getInstance().document.visibilityState) {
          case "visible":
            return $x.VISIBLE;
          case "hidden":
            return $x.HIDDEN;
          default:
            return $x.UNKNOWN;
        }
      }
      var rL = "0.0.1", iL = { loggingEnabled: true }, oL = "FIREBASE_INSTALLATIONS_AUTH";
      function sL(t3) {
        var n3, e3 = function() {
          var t4 = Gx.getInstance().localStorage;
          if (t4) {
            var e4 = t4.getItem(Kx);
            if (e4 && function(t5) {
              return Number(t5) > Date.now();
            }(e4)) {
              t4 = t4.getItem(Bx);
              if (t4)
                try {
                  return JSON.parse(t4);
                } catch (t5) {
                  return;
                }
            }
          }
        }();
        return e3 ? (uL(e3), Promise.resolve()) : (n3 = t3, function() {
          var t4 = Jx.getInstance().installationsService.getToken();
          return t4.then(function(t5) {
          }), t4;
        }().then(function(t4) {
          var e4 = "https://firebaseremoteconfig.googleapis.com/v1/projects/" + Jx.getInstance().getProjectId() + "/namespaces/fireperf:fetch?key=" + Jx.getInstance().getApiKey(), t4 = new Request(e4, { method: "POST", headers: { Authorization: oL + " " + t4 }, body: JSON.stringify({ app_instance_id: n3, app_instance_id_token: t4, app_id: Jx.getInstance().getAppId(), app_version: qx, sdk_version: rL }) });
          return fetch(t4).then(function(t5) {
            if (t5.ok)
              return t5.json();
            throw Wx.create("RC response not ok");
          });
        }).catch(function() {
          Hx.info(aL);
        }).then(uL).then(function(t4) {
          var e4;
          e4 = t4, t4 = Gx.getInstance().localStorage, e4 && t4 && (t4.setItem(Bx, JSON.stringify(e4)), t4.setItem(Kx, String(Date.now() + 60 * Jx.getInstance().configTimeToLive * 60 * 1e3)));
        }, function() {
        }));
      }
      var aL = "Could not fetch config, will use default configs";
      function uL(t3) {
        if (!t3)
          return t3;
        var e3 = Jx.getInstance(), n3 = t3.entries || {};
        return void 0 !== n3.fpr_enabled ? e3.loggingEnabled = "true" === String(n3.fpr_enabled) : e3.loggingEnabled = iL.loggingEnabled, n3.fpr_log_source && (e3.logSource = Number(n3.fpr_log_source)), n3.fpr_log_endpoint_url && (e3.logEndPointUrl = n3.fpr_log_endpoint_url), n3.fpr_log_transport_key && (e3.transportKey = n3.fpr_log_transport_key), void 0 !== n3.fpr_vc_network_request_sampling_rate && (e3.networkRequestsSamplingRate = Number(n3.fpr_vc_network_request_sampling_rate)), void 0 !== n3.fpr_vc_trace_sampling_rate && (e3.tracesSamplingRate = Number(n3.fpr_vc_trace_sampling_rate)), e3.logTraceAfterSampling = cL(e3.tracesSamplingRate), e3.logNetworkAfterSampling = cL(e3.networkRequestsSamplingRate), t3;
      }
      function cL(t3) {
        return Math.random() <= t3;
      }
      var hL, lL = 1;
      function fL() {
        return lL = 2, hL = hL || function() {
          var n3 = Gx.getInstance().document;
          return new Promise(function(t3) {
            var e3;
            n3 && "complete" !== n3.readyState ? (e3 = function() {
              "complete" === n3.readyState && (n3.removeEventListener("readystatechange", e3), t3());
            }, n3.addEventListener("readystatechange", e3)) : t3();
          });
        }().then(function() {
          return (t3 = Jx.getInstance().installationsService.getId()).then(function(t4) {
            Xx = t4;
          }), t3;
          var t3;
        }).then(sL).then(pL, pL);
      }
      function pL() {
        lL = 3;
      }
      var dL, gL = 1e4, vL = 5500, yL = 3, mL = 1e3, bL = yL, _L = [], wL = false;
      function TL(t3) {
        setTimeout(function() {
          var t4, e3;
          if (0 !== bL)
            return _L.length ? (t4 = _L.splice(0, mL), e3 = t4.map(function(t5) {
              return { source_extension_json_proto3: t5.message, event_time_ms: String(t5.eventTime) };
            }), void function(t5, r3) {
              return function(t6) {
                var e4 = Jx.getInstance().getFlTransportFullUrl();
                return fetch(e4, { method: "POST", body: JSON.stringify(t6) });
              }(t5).then(function(t6) {
                return t6.ok || Hx.info("Call to Firebase backend failed."), t6.json();
              }).then(function(t6) {
                var e4 = Number(t6.nextRequestWaitMillis), n3 = gL;
                isNaN(e4) || (n3 = Math.max(e4, n3));
                t6 = t6.logResponseDetails;
                Array.isArray(t6) && 0 < t6.length && "RETRY_REQUEST_LATER" === t6[0].responseAction && (_L = Zi(Zi([], r3), _L), Hx.info("Retry transport request later.")), bL = yL, TL(n3);
              });
            }({ request_time_ms: String(Date.now()), client_info: { client_type: 1, js_client_info: {} }, log_source: Jx.getInstance().logSource, log_event: e3 }, t4).catch(function() {
              _L = Zi(Zi([], t4), _L), bL--, Hx.info("Tries left: " + bL + "."), TL(gL);
            })) : TL(gL);
        }, t3);
      }
      function IL(n3) {
        return function() {
          for (var t3 = [], e3 = 0; e3 < arguments.length; e3++)
            t3[e3] = arguments[e3];
          !function(t4) {
            if (!t4.eventTime || !t4.message)
              throw Wx.create("invalid cc log");
            _L = Zi(Zi([], _L), [t4]);
          }({ message: n3.apply(void 0, t3), eventTime: Date.now() });
        };
      }
      function EL(t3, e3) {
        (dL = dL || IL(CL))(t3, e3);
      }
      function SL(t3) {
        var e3 = Jx.getInstance();
        !e3.instrumentationEnabled && t3.isAuto || (e3.dataCollectionEnabled || t3.isAuto) && Gx.getInstance().requiredApisAvailable() && (t3.isAuto && nL() !== $x.VISIBLE || (3 === lL ? kL(t3) : fL().then(function() {
          return kL(t3);
        }, function() {
          return kL(t3);
        })));
      }
      function kL(t3) {
        var e3;
        !Xx || (e3 = Jx.getInstance()).loggingEnabled && e3.logTraceAfterSampling && setTimeout(function() {
          return EL(t3, 1);
        }, 0);
      }
      function CL(t3, e3) {
        return (0 === e3 ? function(t4) {
          t4 = { url: t4.url, http_method: t4.httpMethod || 0, http_response_code: 200, response_payload_bytes: t4.responsePayloadBytes, client_start_time_us: t4.startTimeUs, time_to_response_initiated_us: t4.timeToResponseInitiatedUs, time_to_response_completed_us: t4.timeToResponseCompletedUs }, t4 = { application_info: AL(), network_request_metric: t4 };
          return JSON.stringify(t4);
        } : function(t4) {
          var e4 = { name: t4.name, is_auto: t4.isAuto, client_start_time_us: t4.startTimeUs, duration_us: t4.durationUs };
          0 !== Object.keys(t4.counters).length && (e4.counters = t4.counters);
          t4 = t4.getAttributes();
          0 !== Object.keys(t4).length && (e4.custom_attributes = t4);
          e4 = { application_info: AL(), trace_metric: e4 };
          return JSON.stringify(e4);
        })(t3);
      }
      function AL() {
        return { google_app_id: Jx.getInstance().getAppId(), app_instance_id: Xx, web_app_info: { sdk_version: qx, page_url: Gx.getInstance().getUrl(), service_worker_status: "serviceWorker" in (t3 = Gx.getInstance().navigator) ? t3.serviceWorker.controller ? 2 : 3 : 1, visibility_state: nL(), effective_connection_type: function() {
          var t4 = Gx.getInstance().navigator.connection;
          switch (t4 && t4.effectiveType) {
            case "slow-2g":
              return 1;
            case "2g":
              return 2;
            case "3g":
              return 3;
            case "4g":
              return 4;
            default:
              return 0;
          }
        }() }, application_process_state: 0 };
        var t3;
      }
      var NL = ["_fp", "_fcp", "_fid"];
      var RL = (PL.prototype.start = function() {
        if (1 !== this.state)
          throw Wx.create("trace started", { traceName: this.name });
        this.api.mark(this.traceStartMark), this.state = 2;
      }, PL.prototype.stop = function() {
        if (2 !== this.state)
          throw Wx.create("trace stopped", { traceName: this.name });
        this.state = 3, this.api.mark(this.traceStopMark), this.api.measure(this.traceMeasure, this.traceStartMark, this.traceStopMark), this.calculateTraceMetrics(), SL(this);
      }, PL.prototype.record = function(t3, e3, n3) {
        if (t3 <= 0)
          throw Wx.create("nonpositive trace startTime", { traceName: this.name });
        if (e3 <= 0)
          throw Wx.create("nonpositive trace duration", { traceName: this.name });
        if (this.durationUs = Math.floor(1e3 * e3), this.startTimeUs = Math.floor(1e3 * t3), n3 && n3.attributes && (this.customAttributes = Qi({}, n3.attributes)), n3 && n3.metrics)
          for (var r3 = 0, i3 = Object.keys(n3.metrics); r3 < i3.length; r3++) {
            var o3 = i3[r3];
            isNaN(Number(n3.metrics[o3])) || (this.counters[o3] = Number(Math.floor(n3.metrics[o3])));
          }
        SL(this);
      }, PL.prototype.incrementMetric = function(t3, e3) {
        void 0 === e3 && (e3 = 1), void 0 === this.counters[t3] ? this.putMetric(t3, e3) : this.putMetric(t3, this.counters[t3] + e3);
      }, PL.prototype.putMetric = function(t3, e3) {
        if (n3 = t3, r3 = this.name, 0 === n3.length || 100 < n3.length || !(r3 && r3.startsWith("_wt_") && -1 < NL.indexOf(n3)) && n3.startsWith("_"))
          throw Wx.create("invalid custom metric name", { customMetricName: t3 });
        var n3, r3;
        this.counters[t3] = (t3 = e3, (e3 = Math.floor(t3)) < t3 && Hx.info("Metric value should be an Integer, setting the value as : " + e3 + "."), e3);
      }, PL.prototype.getMetric = function(t3) {
        return this.counters[t3] || 0;
      }, PL.prototype.putAttribute = function(t3, e3) {
        var n3, r3, i3 = !(0 === (n3 = t3).length || 40 < n3.length) && (!tL.some(function(t4) {
          return n3.startsWith(t4);
        }) && !!n3.match(eL)), r3 = 0 !== (r3 = e3).length && r3.length <= 100;
        if (i3 && r3)
          this.customAttributes[t3] = e3;
        else {
          if (!i3)
            throw Wx.create("invalid attribute name", { attributeName: t3 });
          if (!r3)
            throw Wx.create("invalid attribute value", { attributeValue: e3 });
        }
      }, PL.prototype.getAttribute = function(t3) {
        return this.customAttributes[t3];
      }, PL.prototype.removeAttribute = function(t3) {
        void 0 !== this.customAttributes[t3] && delete this.customAttributes[t3];
      }, PL.prototype.getAttributes = function() {
        return Qi({}, this.customAttributes);
      }, PL.prototype.setStartTime = function(t3) {
        this.startTimeUs = t3;
      }, PL.prototype.setDuration = function(t3) {
        this.durationUs = t3;
      }, PL.prototype.calculateTraceMetrics = function() {
        var t3 = this.api.getEntriesByName(this.traceMeasure), t3 = t3 && t3[0];
        t3 && (this.durationUs = Math.floor(1e3 * t3.duration), this.startTimeUs = Math.floor(1e3 * (t3.startTime + this.api.getTimeOrigin())));
      }, PL.createOobTrace = function(t3, e3, n3) {
        var r3, i3 = Gx.getInstance().getUrl();
        i3 && (r3 = new PL("_wt_" + i3, true), i3 = Math.floor(1e3 * Gx.getInstance().getTimeOrigin()), r3.setStartTime(i3), t3 && t3[0] && (r3.setDuration(Math.floor(1e3 * t3[0].duration)), r3.putMetric("domInteractive", Math.floor(1e3 * t3[0].domInteractive)), r3.putMetric("domContentLoadedEventEnd", Math.floor(1e3 * t3[0].domContentLoadedEventEnd)), r3.putMetric("loadEventEnd", Math.floor(1e3 * t3[0].loadEventEnd))), e3 && ((t3 = e3.find(function(t4) {
          return "first-paint" === t4.name;
        })) && t3.startTime && r3.putMetric("_fp", Math.floor(1e3 * t3.startTime)), (e3 = e3.find(function(t4) {
          return "first-contentful-paint" === t4.name;
        })) && e3.startTime && r3.putMetric("_fcp", Math.floor(1e3 * e3.startTime)), n3 && r3.putMetric("_fid", Math.floor(1e3 * n3))), SL(r3));
      }, PL.createUserTimingTrace = function(t3) {
        SL(new PL(t3, false, t3));
      }, PL);
      function PL(t3, e3, n3) {
        void 0 === e3 && (e3 = false), this.name = t3, this.isAuto = e3, this.state = 1, this.customAttributes = {}, this.counters = {}, this.api = Gx.getInstance(), this.randomId = Math.floor(1e6 * Math.random()), this.isAuto || (this.traceStartMark = "FB-PERF-TRACE-START-" + this.randomId + "-" + this.name, this.traceStopMark = "FB-PERF-TRACE-STOP-" + this.randomId + "-" + this.name, this.traceMeasure = n3 || Vx + "-" + this.randomId + "-" + this.name, n3 && this.calculateTraceMetrics());
      }
      function OL(t3) {
        var e3, n3, r3, i3 = t3;
        i3 && void 0 !== i3.responseStart && (n3 = Gx.getInstance().getTimeOrigin(), r3 = Math.floor(1e3 * (i3.startTime + n3)), t3 = i3.responseStart ? Math.floor(1e3 * (i3.responseStart - i3.startTime)) : void 0, n3 = Math.floor(1e3 * (i3.responseEnd - i3.startTime)), i3 = { url: i3.name && i3.name.split("?")[0], responsePayloadBytes: i3.transferSize, startTimeUs: r3, timeToResponseInitiatedUs: t3, timeToResponseCompletedUs: n3 }, e3 = i3, (r3 = Jx.getInstance()).instrumentationEnabled && (t3 = e3.url, n3 = r3.logEndPointUrl.split("?")[0], i3 = r3.flTransportEndpointUrl.split("?")[0], t3 !== n3 && t3 !== i3 && r3.loggingEnabled && r3.logNetworkAfterSampling && setTimeout(function() {
          return EL(e3, 0);
        }, 0)));
      }
      var DL = 5e3;
      function xL() {
        Xx && (setTimeout(function() {
          var t3 = Gx.getInstance(), e3 = t3.getEntriesByType("navigation"), n3 = t3.getEntriesByType("paint");
          {
            var r3;
            t3.onFirstInputDelay ? (r3 = setTimeout(function() {
              RL.createOobTrace(e3, n3), r3 = void 0;
            }, DL), t3.onFirstInputDelay(function(t4) {
              r3 && (clearTimeout(r3), RL.createOobTrace(e3, n3, t4));
            })) : RL.createOobTrace(e3, n3);
          }
        }, 0), setTimeout(function() {
          for (var t3 = Gx.getInstance(), e3 = t3.getEntriesByType("resource"), n3 = 0, r3 = e3; n3 < r3.length; n3++)
            OL(r3[n3]);
          t3.setupObserver("resource", OL);
        }, 0), setTimeout(function() {
          for (var t3 = Gx.getInstance(), e3 = t3.getEntriesByType("measure"), n3 = 0, r3 = e3; n3 < r3.length; n3++)
            LL(r3[n3]);
          t3.setupObserver("measure", LL);
        }, 0));
      }
      function LL(t3) {
        t3 = t3.name;
        t3.substring(0, Vx.length) !== Vx && RL.createUserTimingTrace(t3);
      }
      var ML = (FL.prototype.trace = function(t3) {
        return new RL(t3);
      }, Object.defineProperty(FL.prototype, "instrumentationEnabled", { get: function() {
        return Jx.getInstance().instrumentationEnabled;
      }, set: function(t3) {
        Jx.getInstance().instrumentationEnabled = t3;
      }, enumerable: false, configurable: true }), Object.defineProperty(FL.prototype, "dataCollectionEnabled", { get: function() {
        return Jx.getInstance().dataCollectionEnabled;
      }, set: function(t3) {
        Jx.getInstance().dataCollectionEnabled = t3;
      }, enumerable: false, configurable: true }), FL);
      function FL(t3) {
        this.app = t3, Gx.getInstance().requiredApisAvailable() && wo().then(function(t4) {
          t4 && (wL || (TL(vL), wL = true), fL().then(xL, xL));
        }).catch(function(t4) {
          Hx.info("Environment doesn't support IndexedDB: " + t4);
        });
      }
      var jL;
      function UL(t3, e3) {
        if ("[DEFAULT]" !== t3.name)
          throw Wx.create("FB not default");
        if ("undefined" == typeof window)
          throw Wx.create("no window");
        return Ux = window, Jx.getInstance().firebaseAppInstance = t3, Jx.getInstance().installationsService = e3, new ML(t3);
      }
      (jL = Jl).INTERNAL.registerComponent(new es("performance", function(t3) {
        var e3 = t3.getProvider("app").getImmediate(), t3 = t3.getProvider("installations").getImmediate();
        return UL(e3, t3);
      }, "PUBLIC")), jL.registerVersion("@firebase/performance", "0.4.18");
      var qL, VL, BL = "firebase_id", KL = "origin", WL = 6e4, HL = "https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig", zL = "https://www.googletagmanager.com/gtag/js";
      (Q = qL = qL || {}).EVENT = "event", Q.SET = "set", Q.CONFIG = "config", (Q = VL = VL || {}).ADD_SHIPPING_INFO = "add_shipping_info", Q.ADD_PAYMENT_INFO = "add_payment_info", Q.ADD_TO_CART = "add_to_cart", Q.ADD_TO_WISHLIST = "add_to_wishlist", Q.BEGIN_CHECKOUT = "begin_checkout", Q.CHECKOUT_PROGRESS = "checkout_progress", Q.EXCEPTION = "exception", Q.GENERATE_LEAD = "generate_lead", Q.LOGIN = "login", Q.PAGE_VIEW = "page_view", Q.PURCHASE = "purchase", Q.REFUND = "refund", Q.REMOVE_FROM_CART = "remove_from_cart", Q.SCREEN_VIEW = "screen_view", Q.SEARCH = "search", Q.SELECT_CONTENT = "select_content", Q.SELECT_ITEM = "select_item", Q.SELECT_PROMOTION = "select_promotion", Q.SET_CHECKOUT_OPTION = "set_checkout_option", Q.SHARE = "share", Q.SIGN_UP = "sign_up", Q.TIMING_COMPLETE = "timing_complete", Q.VIEW_CART = "view_cart", Q.VIEW_ITEM = "view_item", Q.VIEW_ITEM_LIST = "view_item_list", Q.VIEW_PROMOTION = "view_promotion", Q.VIEW_SEARCH_RESULTS = "view_search_results";
      var GL = new ds("@firebase/analytics");
      function QL(o3, s3, a3, u3) {
        return function(n3, r3, i3) {
          return Yi(this, void 0, void 0, function() {
            var e3;
            return Xi(this, function(t3) {
              switch (t3.label) {
                case 0:
                  return t3.trys.push([0, 6, , 7]), n3 !== qL.EVENT ? [3, 2] : [4, function(u4, c3, h3, l3, f3) {
                    return Yi(this, void 0, void 0, function() {
                      var n4, r4, e4, i4, o4, s4, a4;
                      return Xi(this, function(t4) {
                        switch (t4.label) {
                          case 0:
                            return (t4.trys.push([0, 4, , 5]), n4 = [], f3 && f3.send_to) ? (a4 = f3.send_to, Array.isArray(a4) || (a4 = [a4]), [4, Promise.all(h3)]) : [3, 2];
                          case 1:
                            for (r4 = t4.sent(), e4 = function(e5) {
                              var t5 = r4.find(function(t6) {
                                return t6.measurementId === e5;
                              }), t5 = t5 && c3[t5.appId];
                              if (!t5)
                                return n4 = [], "break";
                              n4.push(t5);
                            }, i4 = 0, o4 = a4; i4 < o4.length && (s4 = o4[i4], "break" !== e4(s4)); i4++)
                              ;
                            t4.label = 2;
                          case 2:
                            return 0 === n4.length && (n4 = Object.values(c3)), [4, Promise.all(n4)];
                          case 3:
                            return t4.sent(), u4(qL.EVENT, l3, f3 || {}), [3, 5];
                          case 4:
                            return a4 = t4.sent(), GL.error(a4), [3, 5];
                          case 5:
                            return [2];
                        }
                      });
                    });
                  }(o3, s3, a3, r3, i3)];
                case 1:
                  return t3.sent(), [3, 5];
                case 2:
                  return n3 !== qL.CONFIG ? [3, 4] : [4, function(r4, i4, o4, s4, a4, u4) {
                    return Yi(this, void 0, void 0, function() {
                      var e4, n4;
                      return Xi(this, function(t4) {
                        switch (t4.label) {
                          case 0:
                            e4 = s4[a4], t4.label = 1;
                          case 1:
                            return t4.trys.push([1, 7, , 8]), e4 ? [4, i4[e4]] : [3, 3];
                          case 2:
                            return t4.sent(), [3, 6];
                          case 3:
                            return [4, Promise.all(o4)];
                          case 4:
                            return n4 = t4.sent(), (n4 = n4.find(function(t5) {
                              return t5.measurementId === a4;
                            })) ? [4, i4[n4.appId]] : [3, 6];
                          case 5:
                            t4.sent(), t4.label = 6;
                          case 6:
                            return [3, 8];
                          case 7:
                            return n4 = t4.sent(), GL.error(n4), [3, 8];
                          case 8:
                            return r4(qL.CONFIG, a4, u4), [2];
                        }
                      });
                    });
                  }(o3, s3, a3, u3, r3, i3)];
                case 3:
                  return t3.sent(), [3, 5];
                case 4:
                  o3(qL.SET, r3), t3.label = 5;
                case 5:
                  return [3, 7];
                case 6:
                  return e3 = t3.sent(), GL.error(e3), [3, 7];
                case 7:
                  return [2];
              }
            });
          });
        };
      }
      var Q = ((Q = {})["already-exists"] = "A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.", Q["already-initialized"] = "Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.", Q["interop-component-reg-failed"] = "Firebase Analytics Interop Component failed to instantiate: {$reason}", Q["invalid-analytics-context"] = "Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}", Q["indexeddb-unavailable"] = "IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}", Q["fetch-throttle"] = "The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.", Q["config-fetch-failed"] = "Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}", Q["no-api-key"] = 'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.', Q["no-app-id"] = 'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.', Q), YL = new Co("analytics", "Analytics", Q), XL = 30;
      function $L(t3, e3) {
        void 0 === e3 && (e3 = 1e3), this.throttleMetadata = t3 = void 0 === t3 ? {} : t3, this.intervalMillis = e3;
      }
      var JL = new ($L.prototype.getThrottleMetadata = function(t3) {
        return this.throttleMetadata[t3];
      }, $L.prototype.setThrottleMetadata = function(t3, e3) {
        this.throttleMetadata[t3] = e3;
      }, $L.prototype.deleteThrottleMetadata = function(t3) {
        delete this.throttleMetadata[t3];
      }, $L)();
      function ZL(o3) {
        var s3;
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3, i3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e3 = o3.appId, i3 = o3.apiKey, i3 = { method: "GET", headers: new Headers({ Accept: "application/json", "x-goog-api-key": i3 }) }, e3 = HL.replace("{app-id}", e3), [4, fetch(e3, i3)];
              case 1:
                if (200 === (n3 = t3.sent()).status || 304 === n3.status)
                  return [3, 6];
                r3 = "", t3.label = 2;
              case 2:
                return t3.trys.push([2, 4, , 5]), [4, n3.json()];
              case 3:
                return i3 = t3.sent(), null !== (s3 = i3.error) && void 0 !== s3 && s3.message && (r3 = i3.error.message), [3, 5];
              case 4:
                return t3.sent(), [3, 5];
              case 5:
                throw YL.create("config-fetch-failed", { httpStatus: n3.status, responseMessage: r3 });
              case 6:
                return [2, n3.json()];
            }
          });
        });
      }
      function tM(a3, u3, c3) {
        return void 0 === u3 && (u3 = JL), Yi(this, void 0, void 0, function() {
          var e3, n3, r3, i3, o3, s3 = this;
          return Xi(this, function(t3) {
            if (i3 = a3.options, e3 = i3.appId, n3 = i3.apiKey, r3 = i3.measurementId, !e3)
              throw YL.create("no-app-id");
            if (n3)
              return i3 = u3.getThrottleMetadata(e3) || { backoffCount: 0, throttleEndTimeMillis: Date.now() }, o3 = new rM(), setTimeout(function() {
                return Yi(s3, void 0, void 0, function() {
                  return Xi(this, function(t4) {
                    return o3.abort(), [2];
                  });
                });
              }, void 0 !== c3 ? c3 : WL), [2, function s4(a4, t4, u4, c4) {
                var h3 = t4.throttleEndTimeMillis, l3 = t4.backoffCount;
                void 0 === c4 && (c4 = JL);
                return Yi(this, void 0, void 0, function() {
                  var e4, n4, r4, i4, o4;
                  return Xi(this, function(t5) {
                    switch (t5.label) {
                      case 0:
                        e4 = a4.appId, n4 = a4.measurementId, t5.label = 1;
                      case 1:
                        return t5.trys.push([1, 3, , 4]), [4, eM(u4, h3)];
                      case 2:
                        return t5.sent(), [3, 4];
                      case 3:
                        if (i4 = t5.sent(), n4)
                          return GL.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID " + n4 + ' provided in the "measurementId" field in the local Firebase config. [' + i4.message + "]"), [2, { appId: e4, measurementId: n4 }];
                        throw i4;
                      case 4:
                        return t5.trys.push([4, 6, , 7]), [4, ZL(a4)];
                      case 5:
                        return o4 = t5.sent(), c4.deleteThrottleMetadata(e4), [2, o4];
                      case 6:
                        if (nM(r4 = t5.sent()))
                          return i4 = 503 === Number(r4.customData.httpStatus) ? Zo(l3, c4.intervalMillis, XL) : Zo(l3, c4.intervalMillis), o4 = { throttleEndTimeMillis: Date.now() + i4, backoffCount: l3 + 1 }, c4.setThrottleMetadata(e4, o4), GL.debug("Calling attemptFetch again in " + i4 + " millis"), [2, s4(a4, o4, u4, c4)];
                        if (c4.deleteThrottleMetadata(e4), n4)
                          return GL.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID " + n4 + ' provided in the "measurementId" field in the local Firebase config. [' + r4.message + "]"), [2, { appId: e4, measurementId: n4 }];
                        throw r4;
                      case 7:
                        return [2];
                    }
                  });
                });
              }({ appId: e3, apiKey: n3, measurementId: r3 }, i3, o3, u3)];
            if (r3)
              return [2, { measurementId: r3, appId: e3 }];
            throw YL.create("no-api-key");
          });
        });
      }
      function eM(i3, o3) {
        return new Promise(function(t3, e3) {
          var n3 = Math.max(o3 - Date.now(), 0), r3 = setTimeout(t3, n3);
          i3.addEventListener(function() {
            clearTimeout(r3), e3(YL.create("fetch-throttle", { throttleEndTimeMillis: o3 }));
          });
        });
      }
      function nM(t3) {
        if (t3 instanceof So && t3.customData) {
          t3 = Number(t3.customData.httpStatus);
          return 429 === t3 || 500 === t3 || 503 === t3 || 504 === t3;
        }
      }
      var rM = (iM.prototype.addEventListener = function(t3) {
        this.listeners.push(t3);
      }, iM.prototype.abort = function() {
        this.listeners.forEach(function(t3) {
          return t3();
        });
      }, iM);
      function iM() {
        this.listeners = [];
      }
      function oM(a3, u3, c3, h3, l3, f3) {
        return Yi(this, void 0, void 0, function() {
          var i3, o3, s3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return (i3 = tM(a3)).then(function(t4) {
                  c3[t4.measurementId] = t4.appId, a3.options.measurementId && t4.measurementId !== a3.options.measurementId && GL.warn("The measurement ID in the local Firebase config (" + a3.options.measurementId + ") does not match the measurement ID fetched from the server (" + t4.measurementId + "). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.");
                }).catch(function(t4) {
                  return GL.error(t4);
                }), u3.push(i3), o3 = function() {
                  return Yi(this, void 0, void 0, function() {
                    var e4;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return _o() ? [3, 1] : (GL.warn(YL.create("indexeddb-unavailable", { errorInfo: "IndexedDB is not available in this environment." }).message), [2, false]);
                        case 1:
                          return t4.trys.push([1, 3, , 4]), [4, wo()];
                        case 2:
                          return t4.sent(), [3, 4];
                        case 3:
                          return e4 = t4.sent(), GL.warn(YL.create("indexeddb-unavailable", { errorInfo: e4 }).message), [2, false];
                        case 4:
                          return [2, true];
                      }
                    });
                  });
                }().then(function(t4) {
                  if (t4)
                    return h3.getId();
                }), [4, Promise.all([i3, o3])];
              case 1:
                return s3 = t3.sent(), i3 = s3[0], o3 = s3[1], function() {
                  for (var t4 = window.document.getElementsByTagName("script"), e4 = 0, n4 = Object.values(t4); e4 < n4.length; e4++) {
                    var r4 = n4[e4];
                    if (r4.src && r4.src.includes(zL))
                      return r4;
                  }
                }() || (e3 = f3, n3 = i3.measurementId, (r3 = document.createElement("script")).src = zL + "?l=" + e3 + "&id=" + n3, r3.async = true, document.head.appendChild(r3)), l3("js", new Date()), (s3 = {})[KL] = "firebase", s3.update = true, s3 = s3, null != o3 && (s3[BL] = o3), l3(qL.CONFIG, i3.measurementId, s3), [2, i3.measurementId];
            }
            var e3, n3, r3;
          });
        });
      }
      var sM, aM, uM = {}, cM = [], hM = {}, lM = "dataLayer", fM = "gtag", pM = false;
      function dM(t3) {
        if (pM)
          throw YL.create("already-initialized");
        t3.dataLayerName && (lM = t3.dataLayerName), t3.gtagName && (fM = t3.gtagName);
      }
      function gM(t3, e3) {
        i3 = [], yo() && i3.push("This is a browser extension environment."), To() || i3.push("Cookies are not available."), 0 < i3.length && (i3 = i3.map(function(t4, e4) {
          return "(" + (e4 + 1) + ") " + t4;
        }).join(" "), i3 = YL.create("invalid-analytics-context", { errorInfo: i3 }), GL.warn(i3.message));
        var n3, r3, i3, o3 = t3.options.appId;
        if (!o3)
          throw YL.create("no-app-id");
        if (!t3.options.apiKey) {
          if (!t3.options.measurementId)
            throw YL.create("no-api-key");
          GL.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ' + t3.options.measurementId + ' provided in the "measurementId" field in the local Firebase config.');
        }
        if (null != uM[o3])
          throw YL.create("already-exists", { id: o3 });
        return pM || (r3 = lM, i3 = [], Array.isArray(window[r3]) ? i3 = window[r3] : window[r3] = i3, n3 = lM, r3 = fM, i3 = function() {
          for (var t4 = [], e4 = 0; e4 < arguments.length; e4++)
            t4[e4] = arguments[e4];
          window[n3].push(arguments);
        }, window[r3] && "function" == typeof window[r3] && (i3 = window[r3]), window[r3] = QL(i3, uM, cM, hM), r3 = { gtagCore: i3, wrappedGtag: window[r3] }, aM = r3.wrappedGtag, sM = r3.gtagCore, pM = true), uM[o3] = oM(t3, cM, hM, e3, sM, lM), { app: t3, logEvent: function(t4, e4, n4) {
          !function(n5, r4, i4, o4, s3) {
            return Yi(this, void 0, void 0, function() {
              var e5;
              return Xi(this, function(t5) {
                switch (t5.label) {
                  case 0:
                    return s3 && s3.global ? (n5(qL.EVENT, i4, o4), [2]) : [3, 1];
                  case 1:
                    return [4, r4];
                  case 2:
                    e5 = t5.sent(), e5 = Qi(Qi({}, o4), { send_to: e5 }), n5(qL.EVENT, i4, e5), t5.label = 3;
                  case 3:
                    return [2];
                }
              });
            });
          }(aM, uM[o3], t4, e4, n4).catch(function(t5) {
            return GL.error(t5);
          });
        }, setCurrentScreen: function(t4, e4) {
          !function(n4, r4, i4, o4) {
            return Yi(this, void 0, void 0, function() {
              var e5;
              return Xi(this, function(t5) {
                switch (t5.label) {
                  case 0:
                    return o4 && o4.global ? (n4(qL.SET, { screen_name: i4 }), [2, Promise.resolve()]) : [3, 1];
                  case 1:
                    return [4, r4];
                  case 2:
                    e5 = t5.sent(), n4(qL.CONFIG, e5, { update: true, screen_name: i4 }), t5.label = 3;
                  case 3:
                    return [2];
                }
              });
            });
          }(aM, uM[o3], t4, e4).catch(function(t5) {
            return GL.error(t5);
          });
        }, setUserId: function(t4, e4) {
          !function(n4, r4, i4, o4) {
            return Yi(this, void 0, void 0, function() {
              var e5;
              return Xi(this, function(t5) {
                switch (t5.label) {
                  case 0:
                    return o4 && o4.global ? (n4(qL.SET, { user_id: i4 }), [2, Promise.resolve()]) : [3, 1];
                  case 1:
                    return [4, r4];
                  case 2:
                    e5 = t5.sent(), n4(qL.CONFIG, e5, { update: true, user_id: i4 }), t5.label = 3;
                  case 3:
                    return [2];
                }
              });
            });
          }(aM, uM[o3], t4, e4).catch(function(t5) {
            return GL.error(t5);
          });
        }, setUserProperties: function(t4, e4) {
          !function(s3, a3, u3, c3) {
            return Yi(this, void 0, void 0, function() {
              var e5, n4, r4, i4, o4;
              return Xi(this, function(t5) {
                switch (t5.label) {
                  case 0:
                    if (!c3 || !c3.global)
                      return [3, 1];
                    for (e5 = {}, n4 = 0, r4 = Object.keys(u3); n4 < r4.length; n4++)
                      i4 = r4[n4], e5["user_properties." + i4] = u3[i4];
                    return s3(qL.SET, e5), [2, Promise.resolve()];
                  case 1:
                    return [4, a3];
                  case 2:
                    o4 = t5.sent(), s3(qL.CONFIG, o4, { update: true, user_properties: u3 }), t5.label = 3;
                  case 3:
                    return [2];
                }
              });
            });
          }(aM, uM[o3], t4, e4).catch(function(t5) {
            return GL.error(t5);
          });
        }, setAnalyticsCollectionEnabled: function(t4) {
          !function(n4, r4) {
            return Yi(this, void 0, void 0, function() {
              var e4;
              return Xi(this, function(t5) {
                switch (t5.label) {
                  case 0:
                    return [4, n4];
                  case 1:
                    return e4 = t5.sent(), window["ga-disable-" + e4] = !r4, [2];
                }
              });
            });
          }(uM[o3], t4).catch(function(t5) {
            return GL.error(t5);
          });
        }, INTERNAL: { delete: function() {
          return delete uM[o3], Promise.resolve();
        } } };
      }
      var vM, yM = "analytics";
      function mM() {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if (yo())
                  return [2, false];
                if (!To())
                  return [2, false];
                if (!_o())
                  return [2, false];
                t3.label = 1;
              case 1:
                return t3.trys.push([1, 3, , 4]), [4, wo()];
              case 2:
                return [2, t3.sent()];
              case 3:
                return t3.sent(), [2, false];
              case 4:
                return [2];
            }
          });
        });
      }
      (vM = Jl).INTERNAL.registerComponent(new es(yM, function(t3) {
        return gM(t3.getProvider("app").getImmediate(), t3.getProvider("installations").getImmediate());
      }, "PUBLIC").setServiceProps({ settings: dM, EventName: VL, isSupported: mM })), vM.INTERNAL.registerComponent(new es("analytics-internal", function(t3) {
        try {
          return { logEvent: t3.getProvider(yM).getImmediate().logEvent };
        } catch (t4) {
          throw YL.create("interop-component-reg-failed", { reason: t4 });
        }
      }, "PRIVATE")), vM.registerVersion("@firebase/analytics", "0.6.18");
      var bM = (_M.prototype.isCachedDataFresh = function(t3, e3) {
        if (!e3)
          return this.logger.debug("Config fetch cache check. Cache unpopulated."), false;
        var n3 = Date.now() - e3, e3 = n3 <= t3;
        return this.logger.debug("Config fetch cache check. Cache age millis: " + n3 + ". Cache max age millis (minimumFetchIntervalMillis setting): " + t3 + ". Is cache hit: " + e3 + "."), e3;
      }, _M.prototype.fetch = function(i3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(), this.storage.getLastSuccessfulFetchResponse()])];
              case 1:
                return (r3 = t3.sent(), e3 = r3[0], (r3 = r3[1]) && this.isCachedDataFresh(i3.cacheMaxAgeMillis, e3)) ? [2, r3] : (i3.eTag = r3 && r3.eTag, [4, this.client.fetch(i3)]);
              case 2:
                return n3 = t3.sent(), r3 = [this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())], 200 === n3.status && r3.push(this.storage.setLastSuccessfulFetchResponse(n3)), [4, Promise.all(r3)];
              case 3:
                return t3.sent(), [2, n3];
            }
          });
        });
      }, _M);
      function _M(t3, e3, n3, r3) {
        this.client = t3, this.storage = e3, this.storageCache = n3, this.logger = r3;
      }
      var Q = ((Q = {})["registration-window"] = "Undefined window object. This SDK only supports usage in a browser environment.", Q["registration-project-id"] = "Undefined project identifier. Check Firebase app initialization.", Q["registration-api-key"] = "Undefined API key. Check Firebase app initialization.", Q["registration-app-id"] = "Undefined app identifier. Check Firebase app initialization.", Q["storage-open"] = "Error thrown when opening storage. Original error: {$originalErrorMessage}.", Q["storage-get"] = "Error thrown when reading from storage. Original error: {$originalErrorMessage}.", Q["storage-set"] = "Error thrown when writing to storage. Original error: {$originalErrorMessage}.", Q["storage-delete"] = "Error thrown when deleting from storage. Original error: {$originalErrorMessage}.", Q["fetch-client-network"] = "Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.", Q["fetch-timeout"] = 'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.', Q["fetch-throttle"] = 'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.', Q["fetch-client-parse"] = "Fetch client could not parse response. Original error: {$originalErrorMessage}.", Q["fetch-status"] = "Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.", Q), wM = new Co("remoteconfig", "Remote Config", Q);
      var TM = (IM.prototype.fetch = function(f3) {
        return Yi(this, void 0, void 0, function() {
          var n3, r3, i3, o3, s3, a3, u3, c3, h3, l3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, Promise.all([this.firebaseInstallations.getId(), this.firebaseInstallations.getToken()])];
              case 1:
                o3 = t3.sent(), n3 = o3[0], i3 = o3[1], r3 = window.FIREBASE_REMOTE_CONFIG_URL_BASE || "https://firebaseremoteconfig.googleapis.com", o3 = r3 + "/v1/projects/" + this.projectId + "/namespaces/" + this.namespace + ":fetch?key=" + this.apiKey, r3 = { "Content-Type": "application/json", "Content-Encoding": "gzip", "If-None-Match": f3.eTag || "*" }, i3 = { sdk_version: this.sdkVersion, app_instance_id: n3, app_instance_id_token: i3, app_id: this.appId, language_code: (e3 = void 0 === e3 ? navigator : e3).languages && e3.languages[0] || e3.language }, i3 = { method: "POST", headers: r3, body: JSON.stringify(i3) }, o3 = fetch(o3, i3), i3 = new Promise(function(t4, e4) {
                  f3.signal.addEventListener(function() {
                    var t5 = new Error("The operation was aborted.");
                    t5.name = "AbortError", e4(t5);
                  });
                }), t3.label = 2;
              case 2:
                return t3.trys.push([2, 5, , 6]), [4, Promise.race([o3, i3])];
              case 3:
                return t3.sent(), [4, o3];
              case 4:
                return l3 = t3.sent(), [3, 6];
              case 5:
                throw i3 = t3.sent(), o3 = "fetch-client-network", "AbortError" === i3.name && (o3 = "fetch-timeout"), wM.create(o3, { originalErrorMessage: i3.message });
              case 6:
                if (s3 = l3.status, a3 = l3.headers.get("ETag") || void 0, 200 !== l3.status)
                  return [3, 11];
                h3 = void 0, t3.label = 7;
              case 7:
                return t3.trys.push([7, 9, , 10]), [4, l3.json()];
              case 8:
                return h3 = t3.sent(), [3, 10];
              case 9:
                throw l3 = t3.sent(), wM.create("fetch-client-parse", { originalErrorMessage: l3.message });
              case 10:
                u3 = h3.entries, c3 = h3.state, t3.label = 11;
              case 11:
                if ("INSTANCE_STATE_UNSPECIFIED" === c3 ? s3 = 500 : "NO_CHANGE" === c3 ? s3 = 304 : "NO_TEMPLATE" !== c3 && "EMPTY_CONFIG" !== c3 || (u3 = {}), 304 !== s3 && 200 !== s3)
                  throw wM.create("fetch-status", { httpStatus: s3 });
                return [2, { status: s3, eTag: a3, config: u3 }];
            }
            var e3;
          });
        });
      }, IM);
      function IM(t3, e3, n3, r3, i3, o3) {
        this.firebaseInstallations = t3, this.sdkVersion = e3, this.namespace = n3, this.projectId = r3, this.apiKey = i3, this.appId = o3;
      }
      var EM = (SM.prototype.addEventListener = function(t3) {
        this.listeners.push(t3);
      }, SM.prototype.abort = function() {
        this.listeners.forEach(function(t3) {
          return t3();
        });
      }, SM);
      function SM() {
        this.listeners = [];
      }
      var kM = ["1", "true", "t", "yes", "y", "on"], CM = (AM.prototype.asString = function() {
        return this._value;
      }, AM.prototype.asBoolean = function() {
        return "static" !== this._source && 0 <= kM.indexOf(this._value.toLowerCase());
      }, AM.prototype.asNumber = function() {
        if ("static" === this._source)
          return 0;
        var t3 = Number(this._value);
        return t3 = isNaN(t3) ? 0 : t3;
      }, AM.prototype.getSource = function() {
        return this._source;
      }, AM);
      function AM(t3, e3) {
        void 0 === e3 && (e3 = ""), this._source = t3, this._value = e3;
      }
      var NM = (RM.prototype.setLogLevel = function(t3) {
        switch (t3) {
          case "debug":
            this._logger.logLevel = us.DEBUG;
            break;
          case "silent":
            this._logger.logLevel = us.SILENT;
            break;
          default:
            this._logger.logLevel = us.ERROR;
        }
      }, Object.defineProperty(RM.prototype, "fetchTimeMillis", { get: function() {
        return this._storageCache.getLastSuccessfulFetchTimestampMillis() || -1;
      }, enumerable: false, configurable: true }), Object.defineProperty(RM.prototype, "lastFetchStatus", { get: function() {
        return this._storageCache.getLastFetchStatus() || "no-fetch-yet";
      }, enumerable: false, configurable: true }), RM.prototype.activate = function() {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, Promise.all([this._storage.getLastSuccessfulFetchResponse(), this._storage.getActiveConfigEtag()])];
              case 1:
                return n3 = t3.sent(), e3 = n3[0], n3 = n3[1], e3 && e3.config && e3.eTag && e3.eTag !== n3 ? [4, Promise.all([this._storageCache.setActiveConfig(e3.config), this._storage.setActiveConfigEtag(e3.eTag)])] : [2, false];
              case 2:
                return t3.sent(), [2, true];
            }
          });
        });
      }, RM.prototype.ensureInitialized = function() {
        var t3 = this;
        return this._initializePromise || (this._initializePromise = this._storageCache.loadFromStorage().then(function() {
          t3._isInitializationComplete = true;
        })), this._initializePromise;
      }, RM.prototype.fetch = function() {
        return Yi(this, void 0, void 0, function() {
          var r3, i3, o3, s3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                r3 = new EM(), setTimeout(function() {
                  return Yi(s3, void 0, void 0, function() {
                    return Xi(this, function(t4) {
                      return r3.abort(), [2];
                    });
                  });
                }, this.settings.fetchTimeoutMillis), t3.label = 1;
              case 1:
                return t3.trys.push([1, 4, , 6]), [4, this._client.fetch({ cacheMaxAgeMillis: this.settings.minimumFetchIntervalMillis, signal: r3 })];
              case 2:
                return t3.sent(), [4, this._storageCache.setLastFetchStatus("success")];
              case 3:
                return t3.sent(), [3, 6];
              case 4:
                return i3 = t3.sent(), n3 = "fetch-throttle", o3 = (e3 = i3) instanceof So && -1 !== e3.code.indexOf(n3) ? "throttle" : "failure", [4, this._storageCache.setLastFetchStatus(o3)];
              case 5:
                throw t3.sent(), i3;
              case 6:
                return [2];
            }
            var e3, n3;
          });
        });
      }, RM.prototype.fetchAndActivate = function() {
        return Yi(this, void 0, void 0, function() {
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, this.fetch()];
              case 1:
                return t3.sent(), [2, this.activate()];
            }
          });
        });
      }, RM.prototype.getAll = function() {
        var n3 = this;
        return function(t3, e3) {
          void 0 === t3 && (t3 = {});
          void 0 === e3 && (e3 = {});
          return Object.keys(Qi(Qi({}, t3), e3));
        }(this._storageCache.getActiveConfig(), this.defaultConfig).reduce(function(t3, e3) {
          return t3[e3] = n3.getValue(e3), t3;
        }, {});
      }, RM.prototype.getBoolean = function(t3) {
        return this.getValue(t3).asBoolean();
      }, RM.prototype.getNumber = function(t3) {
        return this.getValue(t3).asNumber();
      }, RM.prototype.getString = function(t3) {
        return this.getValue(t3).asString();
      }, RM.prototype.getValue = function(t3) {
        this._isInitializationComplete || this._logger.debug('A value was requested for key "' + t3 + '" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');
        var e3 = this._storageCache.getActiveConfig();
        return e3 && void 0 !== e3[t3] ? new CM("remote", e3[t3]) : this.defaultConfig && void 0 !== this.defaultConfig[t3] ? new CM("default", String(this.defaultConfig[t3])) : (this._logger.debug('Returning static value for key "' + t3 + '". Define a default or remote value if this is unintentional.'), new CM("static"));
      }, RM);
      function RM(t3, e3, n3, r3, i3) {
        this.app = t3, this._client = e3, this._storageCache = n3, this._storage = r3, this._logger = i3, this._isInitializationComplete = false, this.settings = { fetchTimeoutMillis: 6e4, minimumFetchIntervalMillis: 432e5 }, this.defaultConfig = {};
      }
      function PM(t3, e3) {
        t3 = t3.target.error || void 0;
        return wM.create(e3, { originalErrorMessage: t3 && t3.message });
      }
      var OM = "app_namespace_store", DM = "firebase_remote_config", xM = 1;
      var LM = (MM.prototype.getLastFetchStatus = function() {
        return this.get("last_fetch_status");
      }, MM.prototype.setLastFetchStatus = function(t3) {
        return this.set("last_fetch_status", t3);
      }, MM.prototype.getLastSuccessfulFetchTimestampMillis = function() {
        return this.get("last_successful_fetch_timestamp_millis");
      }, MM.prototype.setLastSuccessfulFetchTimestampMillis = function(t3) {
        return this.set("last_successful_fetch_timestamp_millis", t3);
      }, MM.prototype.getLastSuccessfulFetchResponse = function() {
        return this.get("last_successful_fetch_response");
      }, MM.prototype.setLastSuccessfulFetchResponse = function(t3) {
        return this.set("last_successful_fetch_response", t3);
      }, MM.prototype.getActiveConfig = function() {
        return this.get("active_config");
      }, MM.prototype.setActiveConfig = function(t3) {
        return this.set("active_config", t3);
      }, MM.prototype.getActiveConfigEtag = function() {
        return this.get("active_config_etag");
      }, MM.prototype.setActiveConfigEtag = function(t3) {
        return this.set("active_config_etag", t3);
      }, MM.prototype.getThrottleMetadata = function() {
        return this.get("throttle_metadata");
      }, MM.prototype.setThrottleMetadata = function(t3) {
        return this.set("throttle_metadata", t3);
      }, MM.prototype.deleteThrottleMetadata = function() {
        return this.delete("throttle_metadata");
      }, MM.prototype.get = function(a3) {
        return Yi(this, void 0, void 0, function() {
          var o3, s3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, this.openDbPromise];
              case 1:
                return o3 = t3.sent(), [2, new Promise(function(e3, n3) {
                  var t4 = o3.transaction([OM], "readonly").objectStore(OM), r3 = s3.createCompositeKey(a3);
                  try {
                    var i3 = t4.get(r3);
                    i3.onerror = function(t5) {
                      n3(PM(t5, "storage-get"));
                    }, i3.onsuccess = function(t5) {
                      t5 = t5.target.result;
                      e3(t5 ? t5.value : void 0);
                    };
                  } catch (t5) {
                    n3(wM.create("storage-get", { originalErrorMessage: t5 && t5.message }));
                  }
                })];
            }
          });
        });
      }, MM.prototype.set = function(a3, u3) {
        return Yi(this, void 0, void 0, function() {
          var o3, s3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, this.openDbPromise];
              case 1:
                return o3 = t3.sent(), [2, new Promise(function(t4, e3) {
                  var n3 = o3.transaction([OM], "readwrite").objectStore(OM), r3 = s3.createCompositeKey(a3);
                  try {
                    var i3 = n3.put({ compositeKey: r3, value: u3 });
                    i3.onerror = function(t5) {
                      e3(PM(t5, "storage-set"));
                    }, i3.onsuccess = function() {
                      t4();
                    };
                  } catch (t5) {
                    e3(wM.create("storage-set", { originalErrorMessage: t5 && t5.message }));
                  }
                })];
            }
          });
        });
      }, MM.prototype.delete = function(a3) {
        return Yi(this, void 0, void 0, function() {
          var o3, s3 = this;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, this.openDbPromise];
              case 1:
                return o3 = t3.sent(), [2, new Promise(function(t4, e3) {
                  var n3 = o3.transaction([OM], "readwrite").objectStore(OM), r3 = s3.createCompositeKey(a3);
                  try {
                    var i3 = n3.delete(r3);
                    i3.onerror = function(t5) {
                      e3(PM(t5, "storage-delete"));
                    }, i3.onsuccess = function() {
                      t4();
                    };
                  } catch (t5) {
                    e3(wM.create("storage-delete", { originalErrorMessage: t5 && t5.message }));
                  }
                })];
            }
          });
        });
      }, MM.prototype.createCompositeKey = function(t3) {
        return [this.appId, this.appName, this.namespace, t3].join();
      }, MM);
      function MM(t3, e3, n3, r3) {
        void 0 === r3 && (r3 = new Promise(function(e4, n4) {
          var t4 = indexedDB.open(DM, xM);
          t4.onerror = function(t5) {
            n4(PM(t5, "storage-open"));
          }, t4.onsuccess = function(t5) {
            e4(t5.target.result);
          }, t4.onupgradeneeded = function(t5) {
            var e5 = t5.target.result;
            0 === t5.oldVersion && e5.createObjectStore(OM, { keyPath: "compositeKey" });
          };
        })), this.appId = t3, this.appName = e3, this.namespace = n3, this.openDbPromise = r3;
      }
      var FM = (jM.prototype.getLastFetchStatus = function() {
        return this.lastFetchStatus;
      }, jM.prototype.getLastSuccessfulFetchTimestampMillis = function() {
        return this.lastSuccessfulFetchTimestampMillis;
      }, jM.prototype.getActiveConfig = function() {
        return this.activeConfig;
      }, jM.prototype.loadFromStorage = function() {
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e3 = this.storage.getLastFetchStatus(), n3 = this.storage.getLastSuccessfulFetchTimestampMillis(), r3 = this.storage.getActiveConfig(), [4, e3];
              case 1:
                return (e3 = t3.sent()) && (this.lastFetchStatus = e3), [4, n3];
              case 2:
                return (n3 = t3.sent()) && (this.lastSuccessfulFetchTimestampMillis = n3), [4, r3];
              case 3:
                return (r3 = t3.sent()) && (this.activeConfig = r3), [2];
            }
          });
        });
      }, jM.prototype.setLastFetchStatus = function(t3) {
        return this.lastFetchStatus = t3, this.storage.setLastFetchStatus(t3);
      }, jM.prototype.setLastSuccessfulFetchTimestampMillis = function(t3) {
        return this.lastSuccessfulFetchTimestampMillis = t3, this.storage.setLastSuccessfulFetchTimestampMillis(t3);
      }, jM.prototype.setActiveConfig = function(t3) {
        return this.activeConfig = t3, this.storage.setActiveConfig(t3);
      }, jM);
      function jM(t3) {
        this.storage = t3;
      }
      var UM = (qM.prototype.fetch = function(n3) {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, this.storage.getThrottleMetadata()];
              case 1:
                return e3 = t3.sent() || { backoffCount: 0, throttleEndTimeMillis: Date.now() }, [2, this.attemptFetch(n3, e3)];
            }
          });
        });
      }, qM.prototype.attemptFetch = function(r3, t3) {
        var s3 = t3.throttleEndTimeMillis, a3 = t3.backoffCount;
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t4) {
            switch (t4.label) {
              case 0:
                return [4, (i3 = r3.signal, o3 = s3, new Promise(function(t5, e4) {
                  var n4 = Math.max(o3 - Date.now(), 0), r4 = setTimeout(t5, n4);
                  i3.addEventListener(function() {
                    clearTimeout(r4), e4(wM.create("fetch-throttle", { throttleEndTimeMillis: o3 }));
                  });
                }))];
              case 1:
                t4.sent(), t4.label = 2;
              case 2:
                return t4.trys.push([2, 5, , 7]), [4, this.client.fetch(r3)];
              case 3:
                return e3 = t4.sent(), [4, this.storage.deleteThrottleMetadata()];
              case 4:
                return t4.sent(), [2, e3];
              case 5:
                if (!function(t5) {
                  if (t5 instanceof So && t5.customData) {
                    t5 = Number(t5.customData.httpStatus);
                    return 429 === t5 || 500 === t5 || 503 === t5 || 504 === t5;
                  }
                }(n3 = t4.sent()))
                  throw n3;
                return n3 = { throttleEndTimeMillis: Date.now() + Zo(a3), backoffCount: a3 + 1 }, [4, this.storage.setThrottleMetadata(n3)];
              case 6:
                return t4.sent(), [2, this.attemptFetch(r3, n3)];
              case 7:
                return [2];
            }
            var i3, o3;
          });
        });
      }, qM);
      function qM(t3, e3) {
        this.client = t3, this.storage = e3;
      }
      var VM, BM = "@firebase/remote-config";
      (VM = Jl).INTERNAL.registerComponent(new es("remoteConfig", function(t3, e3) {
        var n3 = e3.instanceIdentifier, r3 = t3.getProvider("app").getImmediate(), i3 = t3.getProvider("installations").getImmediate();
        if ("undefined" == typeof window)
          throw wM.create("registration-window");
        var o3 = r3.options, s3 = o3.projectId, a3 = o3.apiKey, u3 = o3.appId;
        if (!s3)
          throw wM.create("registration-project-id");
        if (!a3)
          throw wM.create("registration-api-key");
        if (!u3)
          throw wM.create("registration-app-id");
        n3 = n3 || "firebase";
        e3 = new LM(u3, r3.name, n3), t3 = new FM(e3), o3 = new ds(BM);
        o3.logLevel = us.ERROR;
        u3 = new TM(i3, VM.SDK_VERSION, n3, s3, a3, u3), u3 = new UM(u3, e3), u3 = new bM(u3, e3, t3, o3), o3 = new NM(r3, u3, t3, e3, o3);
        return o3.ensureInitialized(), o3;
      }, "PUBLIC").setMultipleInstances(true)), VM.registerVersion(BM, "0.1.43");
      var Q = ((Q = {})["already-activated"] = "You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.", Q["use-before-activation"] = "AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.", Q["fetch-network-error"] = "Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.", Q["fetch-parse-error"] = "Fetch client could not parse response. Original error: {$originalErrorMessage}.", Q["fetch-status-error"] = "Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.", Q["storage-open"] = "Error thrown when opening storage. Original error: {$originalErrorMessage}.", Q["storage-get"] = "Error thrown when reading from storage. Original error: {$originalErrorMessage}.", Q["storage-set"] = "Error thrown when writing to storage. Original error: {$originalErrorMessage}.", Q["recaptcha-error"] = "ReCAPTCHA error.", Q), KM = new Co("appCheck", "AppCheck", Q), WM = /* @__PURE__ */ new Map(), HM = { activated: false, tokenObservers: [] }, zM = { enabled: false };
      function GM(t3) {
        return WM.get(t3) || HM;
      }
      function QM(t3, e3) {
        WM.set(t3, e3);
      }
      var YM = "https://content-firebaseappcheck.googleapis.com/v1beta", XM = "exchangeDebugToken", $M = { OFFSET_DURATION: 3e5, RETRIAL_MIN_WAIT: 3e4, RETRIAL_MAX_WAIT: 96e4 }, JM = (ZM.prototype.start = function() {
        this.nextErrorWaitInterval = this.lowerBound, this.process(true).catch(function() {
        });
      }, ZM.prototype.stop = function() {
        this.pending && (this.pending.reject("cancelled"), this.pending = null);
      }, ZM.prototype.isRunning = function() {
        return !!this.pending;
      }, ZM.prototype.process = function(r3) {
        return Yi(this, void 0, void 0, function() {
          var n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                this.stop(), t3.label = 1;
              case 1:
                return t3.trys.push([1, 6, , 7]), this.pending = new ho(), [4, (e3 = this.getNextRun(r3), new Promise(function(t4) {
                  setTimeout(t4, e3);
                }))];
              case 2:
                return t3.sent(), this.pending.resolve(), [4, this.pending.promise];
              case 3:
                return t3.sent(), this.pending = new ho(), [4, this.operation()];
              case 4:
                return t3.sent(), this.pending.resolve(), [4, this.pending.promise];
              case 5:
                return t3.sent(), this.process(true).catch(function() {
                }), [3, 7];
              case 6:
                return n3 = t3.sent(), this.retryPolicy(n3) ? this.process(false).catch(function() {
                }) : this.stop(), [3, 7];
              case 7:
                return [2];
            }
            var e3;
          });
        });
      }, ZM.prototype.getNextRun = function(t3) {
        if (t3)
          return this.nextErrorWaitInterval = this.lowerBound, this.getWaitDuration();
        t3 = this.nextErrorWaitInterval;
        return this.nextErrorWaitInterval *= 2, this.nextErrorWaitInterval > this.upperBound && (this.nextErrorWaitInterval = this.upperBound), t3;
      }, ZM);
      function ZM(t3, e3, n3, r3, i3) {
        if (this.operation = t3, this.retryPolicy = e3, this.getWaitDuration = n3, this.lowerBound = r3, this.upperBound = i3, this.pending = null, i3 < (this.nextErrorWaitInterval = r3))
          throw new Error("Proactive refresh lower bound greater than upper bound!");
      }
      function t2() {
        return self.grecaptcha;
      }
      function e2(t3) {
        if (!GM(t3).activated)
          throw KM.create("use-before-activation", { appName: t3.name });
      }
      function n2(t3, s3) {
        var a3 = t3.url, u3 = t3.body;
        return Yi(this, void 0, void 0, function() {
          var e3, n3, r3, i3, o3;
          return Xi(this, function(t4) {
            switch (t4.label) {
              case 0:
                n3 = { "Content-Type": "application/json" }, (e3 = s3.getImmediate({ optional: true })) && (n3["X-Firebase-Client"] = e3.getPlatformInfoString()), n3 = { method: "POST", body: JSON.stringify(u3), headers: n3 }, t4.label = 1;
              case 1:
                return t4.trys.push([1, 3, , 4]), [4, fetch(a3, n3)];
              case 2:
                return o3 = t4.sent(), [3, 4];
              case 3:
                throw n3 = t4.sent(), KM.create("fetch-network-error", { originalErrorMessage: n3.message });
              case 4:
                if (200 !== o3.status)
                  throw KM.create("fetch-status-error", { httpStatus: o3.status });
                t4.label = 5;
              case 5:
                return t4.trys.push([5, 7, , 8]), [4, o3.json()];
              case 6:
                return r3 = t4.sent(), [3, 8];
              case 7:
                throw i3 = t4.sent(), KM.create("fetch-parse-error", { originalErrorMessage: i3.message });
              case 8:
                if (!(o3 = r3.ttl.match(/^([\d.]+)(s)$/)) || !o3[2] || isNaN(Number(o3[1])))
                  throw KM.create("fetch-parse-error", { originalErrorMessage: "ttl field (timeToLive) is not in standard Protobuf Duration format: " + r3.ttl });
                return i3 = 1e3 * Number(o3[1]), o3 = Date.now(), [2, { token: r3.attestationToken, expireTimeMillis: o3 + i3, issuedAtTimeMillis: o3 }];
            }
          });
        });
      }
      function r2(t3, e3) {
        var n3 = t3.options, r3 = n3.projectId, t3 = n3.appId, n3 = n3.apiKey;
        return { url: YM + "/projects/" + r3 + "/apps/" + t3 + ":" + XM + "?key=" + n3, body: { debug_token: e3 } };
      }
      var i2 = "firebase-app-check-database", o2 = 1, s2 = "firebase-app-check-store", a2 = "debug-token", u2 = null;
      function c2() {
        return u2 = u2 || new Promise(function(e3, n3) {
          try {
            var t3 = indexedDB.open(i2, o2);
            t3.onsuccess = function(t4) {
              e3(t4.target.result);
            }, t3.onerror = function(t4) {
              n3(KM.create("storage-open", { originalErrorMessage: null === (t4 = t4.target.error) || void 0 === t4 ? void 0 : t4.message }));
            }, t3.onupgradeneeded = function(t4) {
              var e4 = t4.target.result;
              0 === t4.oldVersion && e4.createObjectStore(s2, { keyPath: "compositeKey" });
            };
          } catch (t4) {
            n3(KM.create("storage-open", { originalErrorMessage: t4.message }));
          }
        });
      }
      function h2(n3, o3) {
        return Yi(this, void 0, void 0, function() {
          var r3, e3, i3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, c2()];
              case 1:
                return e3 = t3.sent(), r3 = e3.transaction(s2, "readwrite"), e3 = r3.objectStore(s2), i3 = e3.put({ compositeKey: n3, value: o3 }), [2, new Promise(function(e4, n4) {
                  i3.onsuccess = function(t4) {
                    e4();
                  }, r3.onerror = function(t4) {
                    n4(KM.create("storage-set", { originalErrorMessage: null === (t4 = t4.target.error) || void 0 === t4 ? void 0 : t4.message }));
                  };
                })];
            }
          });
        });
      }
      function l2(n3) {
        return Yi(this, void 0, void 0, function() {
          var r3, e3, i3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return [4, c2()];
              case 1:
                return e3 = t3.sent(), r3 = e3.transaction(s2, "readonly"), e3 = r3.objectStore(s2), i3 = e3.get(n3), [2, new Promise(function(e4, n4) {
                  i3.onsuccess = function(t4) {
                    t4 = t4.target.result;
                    e4(t4 ? t4.value : void 0);
                  }, r3.onerror = function(t4) {
                    n4(KM.create("storage-get", { originalErrorMessage: null === (t4 = t4.target.error) || void 0 === t4 ? void 0 : t4.message }));
                  };
                })];
            }
          });
        });
      }
      function f2(t3) {
        return t3.options.appId + "-" + t3.name;
      }
      var p2 = new ds("@firebase/app-check");
      function d2(r3) {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if (!_o())
                  return [3, 5];
                e3 = void 0, t3.label = 1;
              case 1:
                return t3.trys.push([1, 3, , 4]), [4, l2(f2(r3))];
              case 2:
                return e3 = t3.sent(), [3, 4];
              case 3:
                return n3 = t3.sent(), p2.warn("Failed to read token from indexeddb. Error: " + n3), [3, 4];
              case 4:
                return [2, e3];
              case 5:
                return [2, void 0];
            }
          });
        });
      }
      function g2(t3, e3) {
        return _o() ? h2(f2(t3), e3).catch(function(t4) {
          p2.warn("Failed to write token to indexeddb. Error: " + t4);
        }) : Promise.resolve();
      }
      function v2() {
        return Yi(this, void 0, void 0, function() {
          var e3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                e3 = void 0, t3.label = 1;
              case 1:
                return t3.trys.push([1, 3, , 4]), [4, l2(a2)];
              case 2:
                return e3 = t3.sent(), [3, 4];
              case 3:
                return t3.sent(), [3, 4];
              case 4:
                return e3 ? [2, e3] : (e3 = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(t4) {
                  var e4 = 16 * Math.random() | 0;
                  return ("x" === t4 ? e4 : 3 & e4 | 8).toString(16);
                }), h2(a2, e3).catch(function(t4) {
                  return p2.warn("Failed to persist debug token to indexeddb. Error: " + t4);
                }), console.log("AppCheck debug token: " + e3 + ". You will need to whitelist it in the Firebase console for it to work"), [2, e3]);
            }
          });
        });
      }
      var y2 = { error: "UNKNOWN_ERROR" };
      function m2(l3, f3, p3) {
        return void 0 === p3 && (p3 = false), Yi(this, void 0, void 0, function() {
          var n3, r3, i3, o3, s3, a3, u3, c3, h3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                return e2(l3), n3 = GM(l3), r3 = n3.token, i3 = void 0, r3 ? [3, 2] : [4, n3.cachedTokenPromise];
              case 1:
                (o3 = t3.sent()) && T2(o3) && (r3 = o3, QM(l3, Qi(Qi({}, n3), { token: r3 })), w2(l3, { token: r3.token })), t3.label = 2;
              case 2:
                return !p3 && r3 && T2(r3) ? [2, { token: r3.token }] : zM.enabled ? (s3 = n2, a3 = r2, u3 = [l3], [4, function() {
                  return Yi(this, void 0, void 0, function() {
                    var e4;
                    return Xi(this, function(t4) {
                      if ((e4 = zM).enabled && e4.token)
                        return [2, e4.token.promise];
                      throw Error("\n            Can't get debug token in production mode.\n        ");
                    });
                  });
                }()]) : [3, 6];
              case 3:
                return [4, s3.apply(void 0, [a3.apply(void 0, u3.concat([t3.sent()])), f3])];
              case 4:
                return c3 = t3.sent(), [4, g2(l3, c3)];
              case 5:
                return t3.sent(), QM(l3, Qi(Qi({}, n3), { token: c3 })), [2, { token: c3.token }];
              case 6:
                return t3.trys.push([6, 8, , 9]), [4, n3.provider.getToken()];
              case 7:
                return r3 = t3.sent(), [3, 9];
              case 8:
                return c3 = t3.sent(), p2.error(c3), i3 = c3, [3, 9];
              case 9:
                return r3 ? [3, 10] : (e3 = i3, h3 = { token: function(t4) {
                  return so.encodeString(JSON.stringify(t4), false);
                }(y2), error: e3 }, [3, 12]);
              case 10:
                return h3 = { token: r3.token }, QM(l3, Qi(Qi({}, n3), { token: r3 })), [4, g2(l3, r3)];
              case 11:
                t3.sent(), t3.label = 12;
              case 12:
                return w2(l3, h3), [2, h3];
            }
            var e3;
          });
        });
      }
      function b2(t3, e3, n3, r3, i3) {
        var o3, s3 = GM(t3), n3 = { next: r3, error: i3, type: n3 }, n3 = Qi(Qi({}, s3), { tokenObservers: Zi(Zi([], s3.tokenObservers), [n3]) });
        n3.tokenRefresher || (e3 = function(n4, r4) {
          var t4 = this;
          return new JM(function() {
            return Yi(t4, void 0, void 0, function() {
              var e4;
              return Xi(this, function(t5) {
                switch (t5.label) {
                  case 0:
                    return GM(n4).token ? [3, 2] : [4, m2(n4, r4)];
                  case 1:
                    return e4 = t5.sent(), [3, 4];
                  case 2:
                    return [4, m2(n4, r4, true)];
                  case 3:
                    e4 = t5.sent(), t5.label = 4;
                  case 4:
                    if (e4.error)
                      throw e4.error;
                    return [2];
                }
              });
            });
          }, function() {
            return true;
          }, function() {
            var t5 = GM(n4);
            if (t5.token) {
              var e4 = t5.token.issuedAtTimeMillis + 0.5 * (t5.token.expireTimeMillis - t5.token.issuedAtTimeMillis) + 3e5, t5 = t5.token.expireTimeMillis - 3e5, e4 = Math.min(e4, t5);
              return Math.max(0, e4 - Date.now());
            }
            return 0;
          }, $M.RETRIAL_MIN_WAIT, $M.RETRIAL_MAX_WAIT);
        }(t3, e3), n3.tokenRefresher = e3), !n3.tokenRefresher.isRunning() && s3.isTokenAutoRefreshEnabled && n3.tokenRefresher.start(), s3.token && T2(s3.token) ? (o3 = s3.token, Promise.resolve().then(function() {
          return r3({ token: o3.token });
        }).catch(function() {
        })) : null == s3.token && s3.cachedTokenPromise.then(function(t4) {
          t4 && T2(t4) && r3({ token: t4.token });
        }).catch(function() {
        }), QM(t3, n3);
      }
      function _2(t3, e3) {
        var n3 = GM(t3), r3 = n3.tokenObservers.filter(function(t4) {
          return t4.next !== e3;
        });
        0 === r3.length && n3.tokenRefresher && n3.tokenRefresher.isRunning() && n3.tokenRefresher.stop(), QM(t3, Qi(Qi({}, n3), { tokenObservers: r3 }));
      }
      function w2(t3, e3) {
        for (var n3 = 0, r3 = GM(t3).tokenObservers; n3 < r3.length; n3++) {
          var i3 = r3[n3];
          try {
            "EXTERNAL" === i3.type && null != e3.error ? i3.error(e3.error) : i3.next(e3);
          } catch (t4) {
          }
        }
      }
      function T2(t3) {
        return 0 < t3.expireTimeMillis - Date.now();
      }
      var I2 = "https://www.google.com/recaptcha/api.js";
      function E2(e3, n3) {
        var t3 = GM(e3), r3 = new ho();
        QM(e3, Qi(Qi({}, t3), { reCAPTCHAState: { initialized: r3 } }));
        var i3 = "fire_app_check_" + e3.name, o3 = document.createElement("div");
        o3.id = i3, o3.style.display = "none", document.body.appendChild(o3);
        var s3 = t2();
        return s3 ? s3.ready(function() {
          S2(e3, n3, s3, i3), r3.resolve(s3);
        }) : (t3 = function() {
          var t4 = t2();
          if (!t4)
            throw new Error("no recaptcha");
          t4.ready(function() {
            S2(e3, n3, t4, i3), r3.resolve(t4);
          });
        }, (o3 = document.createElement("script")).src = "" + I2, o3.onload = t3, document.head.appendChild(o3)), r3.promise;
      }
      function S2(t3, e3, n3, r3) {
        r3 = n3.render(r3, { sitekey: e3, size: "invisible" }), e3 = GM(t3);
        QM(t3, Qi(Qi({}, e3), { reCAPTCHAState: Qi(Qi({}, e3.reCAPTCHAState), { widgetId: r3 }) }));
      }
      var k2 = (C2.prototype.getToken = function() {
        return Yi(this, void 0, void 0, function() {
          var i3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if (!this._app || !this._platformLoggerProvider)
                  throw KM.create("use-before-activation", { appName: "" });
                t3.label = 1;
              case 1:
                return t3.trys.push([1, 3, , 4]), [4, function(i4) {
                  return Yi(this, void 0, void 0, function() {
                    var r4;
                    return Xi(this, function(t4) {
                      switch (t4.label) {
                        case 0:
                          return e2(i4), [4, GM(i4).reCAPTCHAState.initialized.promise];
                        case 1:
                          return r4 = t4.sent(), [2, new Promise(function(t5, e4) {
                            var n4 = GM(i4).reCAPTCHAState;
                            r4.ready(function() {
                              t5(r4.execute(n4.widgetId, { action: "fire_app_check" }));
                            });
                          })];
                      }
                    });
                  });
                }(this._app)];
              case 2:
                return i3 = t3.sent(), [3, 4];
              case 3:
                throw t3.sent(), KM.create("recaptcha-error");
              case 4:
                return [2, n2((e3 = this._app, n3 = (r3 = e3.options).projectId, e3 = r3.appId, r3 = r3.apiKey, { url: YM + "/projects/" + n3 + "/apps/" + e3 + ":exchangeRecaptchaToken?key=" + r3, body: { recaptcha_token: i3 } }), this._platformLoggerProvider)];
            }
            var e3, n3, r3;
          });
        });
      }, C2.prototype.initialize = function(t3, e3) {
        this._app = t3, this._platformLoggerProvider = e3, E2(t3, this._siteKey).catch(function() {
        });
      }, C2);
      function C2(t3) {
        this._siteKey = t3;
      }
      var A2 = (N2.prototype.getToken = function() {
        return Yi(this, void 0, void 0, function() {
          var e3, n3;
          return Xi(this, function(t3) {
            switch (t3.label) {
              case 0:
                if (!this._app)
                  throw KM.create("use-before-activation", { appName: "" });
                return [4, this._customProviderOptions.getToken()];
              case 1:
                return e3 = t3.sent(), n3 = function(t4) {
                  t4 = Oo(t4).claims;
                  return "object" == typeof t4 && t4.hasOwnProperty("iat") ? t4.iat : null;
                }(e3.token), n3 = null !== n3 && n3 < Date.now() && 0 < n3 ? 1e3 * n3 : Date.now(), [2, Qi(Qi({}, e3), { issuedAtTimeMillis: n3 })];
            }
          });
        });
      }, N2.prototype.initialize = function(t3) {
        this._app = t3;
      }, N2);
      function N2(t3) {
        this._customProviderOptions = t3;
      }
      function R2(a3, u3) {
        return { app: a3, activate: function(t3, e3) {
          return function(e4, t4, n3, r3) {
            var i3 = GM(e4);
            if (i3.activated)
              throw KM.create("already-activated", { appName: e4.name });
            (i3 = Qi(Qi({}, i3), { activated: true })).cachedTokenPromise = d2(e4).then(function(t5) {
              return t5 && T2(t5) && QM(e4, Qi(Qi({}, GM(e4)), { token: t5 })), t5;
            }), i3.provider = "string" == typeof t4 ? new k2(t4) : t4 instanceof k2 || t4 instanceof A2 ? t4 : new A2({ getToken: t4.getToken }), i3.isTokenAutoRefreshEnabled = void 0 === r3 ? e4.automaticDataCollectionEnabled : r3, QM(e4, i3), i3.provider.initialize(e4, n3);
          }(a3, t3, u3, e3);
        }, setTokenAutoRefreshEnabled: function(t3) {
          return n3 = t3, (t3 = GM(e3 = a3)).tokenRefresher && (true === n3 ? t3.tokenRefresher.start() : t3.tokenRefresher.stop()), void QM(e3, Qi(Qi({}, t3), { isTokenAutoRefreshEnabled: n3 }));
          var e3, n3;
        }, getToken: function(t3) {
          return function(n3, r3, i3) {
            return Yi(this, void 0, void 0, function() {
              var e3;
              return Xi(this, function(t4) {
                switch (t4.label) {
                  case 0:
                    return [4, m2(n3, r3, i3)];
                  case 1:
                    if ((e3 = t4.sent()).error)
                      throw e3.error;
                    return [2, { token: e3.token }];
                }
              });
            });
          }(a3, u3, t3);
        }, onTokenChanged: function(t3, e3, n3) {
          return r3 = a3, i3 = u3, o3 = e3, s3 = function() {
          }, e3 = function() {
          }, s3 = null != (t3 = t3).next ? t3.next.bind(t3) : t3, null != t3.error ? e3 = t3.error.bind(t3) : o3 && (e3 = o3), b2(r3, i3, "EXTERNAL", s3, e3), function() {
            return _2(r3, s3);
          };
          var r3, i3, o3, s3;
        }, INTERNAL: { delete: function() {
          for (var t3 = 0, e3 = GM(a3).tokenObservers; t3 < e3.length; t3++) {
            var n3 = e3[t3];
            _2(a3, n3.next);
          }
          return Promise.resolve();
        } } };
      }
      var P2, O2, D2, x2, L2 = "app-check-internal";
      return (P2 = Jl).INTERNAL.registerComponent(new es("appCheck", function(t3) {
        return R2(t3.getProvider("app").getImmediate(), t3.getProvider("platform-logger"));
      }, "PUBLIC").setServiceProps({ ReCaptchaV3Provider: k2, CustomProvider: A2 }).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(function(t3, e3, n3) {
        t3.getProvider(L2).initialize();
      })), P2.INTERNAL.registerComponent(new es(L2, function(t3) {
        var e3, n3, r3 = t3.getProvider("app").getImmediate(), t3 = t3.getProvider("platform-logger");
        return e3 = r3, n3 = t3, { getToken: function(t4) {
          return m2(e3, n3, t4);
        }, addTokenListener: function(t4) {
          return b2(e3, n3, "INTERNAL", t4);
        }, removeTokenListener: function(t4) {
          return _2(e3, t4);
        } };
      }, "PUBLIC").setInstantiationMode("EXPLICIT")), P2.registerVersion("@firebase/app-check", "0.3.2"), "string" != typeof (x2 = function() {
        if ("undefined" != typeof self)
          return self;
        if ("undefined" != typeof window)
          return window;
        if ("undefined" != typeof global)
          return global;
        throw new Error("Unable to locate global object.");
      }()).FIREBASE_APPCHECK_DEBUG_TOKEN && true !== x2.FIREBASE_APPCHECK_DEBUG_TOKEN || ((O2 = zM).enabled = true, D2 = new ho(), O2.token = D2, "string" == typeof x2.FIREBASE_APPCHECK_DEBUG_TOKEN ? D2.resolve(x2.FIREBASE_APPCHECK_DEBUG_TOKEN) : D2.resolve(v2())), console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the CDN builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nhttps://www.gstatic.com/firebasejs/5.0.0/firebase-<PACKAGE>.js\n"), Jl.registerVersion("firebase", "8.10.1", "cdn"), Jl;
    });
  }
});

// dep:firebase_firebase
var firebase_firebase_default = require_firebase();
export {
  firebase_firebase_default as default
};
//# sourceMappingURL=firebase_firebase.js.map
